var jpe=Object.defineProperty;var r7=e=>{throw TypeError(e)};var Npe=(e,t,r)=>t in e?jpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Aa=(e,t,r)=>Npe(e,typeof t!="symbol"?t+"":t,r),jP=(e,t,r)=>t.has(e)||r7("Cannot "+r);var it=(e,t,r)=>(jP(e,t,"read from private field"),r?r.call(e):t.get(e)),qr=(e,t,r)=>t.has(e)?r7("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),wr=(e,t,r,a)=>(jP(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Nn=(e,t,r)=>(jP(e,t,"access private method"),r);var YN=(e,t,r,a)=>({set _(s){wr(e,t,s,r)},get _(){return it(e,t,a)}});function Cpe(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var JN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zY={exports:{}},kE={},VY={exports:{}},kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=Symbol.for("react.element"),Spe=Symbol.for("react.portal"),_pe=Symbol.for("react.fragment"),Epe=Symbol.for("react.strict_mode"),Bpe=Symbol.for("react.profiler"),Fpe=Symbol.for("react.provider"),Ppe=Symbol.for("react.context"),kpe=Symbol.for("react.forward_ref"),Tpe=Symbol.for("react.suspense"),Ipe=Symbol.for("react.memo"),Ope=Symbol.for("react.lazy"),n7=Symbol.iterator;function Dpe(e){return e===null||typeof e!="object"?null:(e=n7&&e[n7]||e["@@iterator"],typeof e=="function"?e:null)}var KY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qY=Object.assign,WY={};function by(e,t,r){this.props=e,this.context=t,this.refs=WY,this.updater=r||KY}by.prototype.isReactComponent={};by.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};by.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GY(){}GY.prototype=by.prototype;function nL(e,t,r){this.props=e,this.context=t,this.refs=WY,this.updater=r||KY}var aL=nL.prototype=new GY;aL.constructor=nL;qY(aL,by.prototype);aL.isPureReactComponent=!0;var a7=Array.isArray,XY=Object.prototype.hasOwnProperty,sL={current:null},YY={key:!0,ref:!0,__self:!0,__source:!0};function JY(e,t,r){var a,s={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)XY.call(t,a)&&!YY.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)s[a]===void 0&&(s[a]=l[a]);return{$$typeof:R2,type:e,key:i,ref:o,props:s,_owner:sL.current}}function Lpe(e,t){return{$$typeof:R2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iL(e){return typeof e=="object"&&e!==null&&e.$$typeof===R2}function Rpe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var s7=/\/+/g;function NP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rpe(""+e.key):t.toString(36)}function R4(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case R2:case Spe:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+NP(o,0):a,a7(s)?(r="",e!=null&&(r=e.replace(s7,"$&/")+"/"),R4(s,t,r,"",function(d){return d})):s!=null&&(iL(s)&&(s=Lpe(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(s7,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",a7(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+NP(i,l);o+=R4(i,t,r,c,s)}else if(c=Dpe(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+NP(i,l++),o+=R4(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ZN(e,t,r){if(e==null)return e;var a=[],s=0;return R4(e,a,"","",function(i){return t.call(r,i,s++)}),a}function Mpe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ml={current:null},M4={transition:null},Upe={ReactCurrentDispatcher:ml,ReactCurrentBatchConfig:M4,ReactCurrentOwner:sL};function ZY(){throw Error("act(...) is not supported in production builds of React.")}kn.Children={map:ZN,forEach:function(e,t,r){ZN(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ZN(e,function(){t++}),t},toArray:function(e){return ZN(e,function(t){return t})||[]},only:function(e){if(!iL(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kn.Component=by;kn.Fragment=_pe;kn.Profiler=Bpe;kn.PureComponent=nL;kn.StrictMode=Epe;kn.Suspense=Tpe;kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Upe;kn.act=ZY;kn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=qY({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sL.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)XY.call(t,c)&&!YY.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:R2,type:e.type,key:s,ref:i,props:a,_owner:o}};kn.createContext=function(e){return e={$$typeof:Ppe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fpe,_context:e},e.Consumer=e};kn.createElement=JY;kn.createFactory=function(e){var t=JY.bind(null,e);return t.type=e,t};kn.createRef=function(){return{current:null}};kn.forwardRef=function(e){return{$$typeof:kpe,render:e}};kn.isValidElement=iL;kn.lazy=function(e){return{$$typeof:Ope,_payload:{_status:-1,_result:e},_init:Mpe}};kn.memo=function(e,t){return{$$typeof:Ipe,type:e,compare:t===void 0?null:t}};kn.startTransition=function(e){var t=M4.transition;M4.transition={};try{e()}finally{M4.transition=t}};kn.unstable_act=ZY;kn.useCallback=function(e,t){return ml.current.useCallback(e,t)};kn.useContext=function(e){return ml.current.useContext(e)};kn.useDebugValue=function(){};kn.useDeferredValue=function(e){return ml.current.useDeferredValue(e)};kn.useEffect=function(e,t){return ml.current.useEffect(e,t)};kn.useId=function(){return ml.current.useId()};kn.useImperativeHandle=function(e,t,r){return ml.current.useImperativeHandle(e,t,r)};kn.useInsertionEffect=function(e,t){return ml.current.useInsertionEffect(e,t)};kn.useLayoutEffect=function(e,t){return ml.current.useLayoutEffect(e,t)};kn.useMemo=function(e,t){return ml.current.useMemo(e,t)};kn.useReducer=function(e,t,r){return ml.current.useReducer(e,t,r)};kn.useRef=function(e){return ml.current.useRef(e)};kn.useState=function(e){return ml.current.useState(e)};kn.useSyncExternalStore=function(e,t,r){return ml.current.useSyncExternalStore(e,t,r)};kn.useTransition=function(){return ml.current.useTransition()};kn.version="18.3.1";VY.exports=kn;var B=VY.exports;const Se=ua(B),eJ=Cpe({__proto__:null,default:Se},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qpe=B,$pe=Symbol.for("react.element"),Hpe=Symbol.for("react.fragment"),zpe=Object.prototype.hasOwnProperty,Vpe=Qpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kpe={key:!0,ref:!0,__self:!0,__source:!0};function tJ(e,t,r){var a,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)zpe.call(t,a)&&!Kpe.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:$pe,type:e,key:i,ref:o,props:s,_owner:Vpe.current}}kE.Fragment=Hpe;kE.jsx=tJ;kE.jsxs=tJ;zY.exports=kE;var n=zY.exports,rJ={exports:{}},_c={},nJ={exports:{}},aJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,D){var Y=V.length;V.push(D);e:for(;0<Y;){var ne=Y-1>>>1,S=V[ne];if(0<s(S,D))V[ne]=D,V[Y]=S,Y=ne;else break e}}function r(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var D=V[0],Y=V.pop();if(Y!==D){V[0]=Y;e:for(var ne=0,S=V.length,z=S>>>1;ne<z;){var Q=2*(ne+1)-1,W=V[Q],U=Q+1,re=V[U];if(0>s(W,Y))U<S&&0>s(re,W)?(V[ne]=re,V[U]=Y,ne=U):(V[ne]=W,V[Q]=Y,ne=Q);else if(U<S&&0>s(re,Y))V[ne]=re,V[U]=Y,ne=U;else break e}}return D}function s(V,D){var Y=V.sortIndex-D.sortIndex;return Y!==0?Y:V.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,A=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var D=r(d);D!==null;){if(D.callback===null)a(d);else if(D.startTime<=V)a(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function j(V){if(m=!1,y(V),!p)if(r(c)!==null)p=!0,P(b);else{var D=r(d);D!==null&&R(j,D.startTime-V)}}function b(V,D){p=!1,m&&(m=!1,g(F),F=-1),A=!0;var Y=f;try{for(y(D),h=r(c);h!==null&&(!(h.expirationTime>D)||V&&!N());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var S=ne(h.expirationTime<=D);D=e.unstable_now(),typeof S=="function"?h.callback=S:h===r(c)&&a(c),y(D)}else a(c);h=r(c)}if(h!==null)var z=!0;else{var Q=r(d);Q!==null&&R(j,Q.startTime-D),z=!1}return z}finally{h=null,f=Y,A=!1}}var w=!1,C=null,F=-1,E=5,L=-1;function N(){return!(e.unstable_now()-L<E)}function I(){if(C!==null){var V=e.unstable_now();L=V;var D=!0;try{D=C(!0,V)}finally{D?M():(w=!1,C=null)}}else w=!1}var M;if(typeof v=="function")M=function(){v(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,k=O.port2;O.port1.onmessage=I,M=function(){k.postMessage(null)}}else M=function(){x(I,0)};function P(V){C=V,w||(w=!0,M())}function R(V,D){F=x(function(){V(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||A||(p=!0,P(b))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var Y=f;f=D;try{return V()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,D){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=f;f=V;try{return D()}finally{f=Y}},e.unstable_scheduleCallback=function(V,D,Y){var ne=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ne+Y:ne):Y=ne,V){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=Y+S,V={id:u++,callback:D,priorityLevel:V,startTime:Y,expirationTime:S,sortIndex:-1},Y>ne?(V.sortIndex=Y,t(d,V),r(c)===null&&V===r(d)&&(m?(g(F),F=-1):m=!0,R(j,Y-ne))):(V.sortIndex=S,t(c,V),p||A||(p=!0,P(b))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var D=f;return function(){var Y=f;f=D;try{return V.apply(this,arguments)}finally{f=Y}}}})(aJ);nJ.exports=aJ;var qpe=nJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wpe=B,Nc=qpe;function nr(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sJ=new Set,Db={};function X0(e,t){yv(e,t),yv(e+"Capture",t)}function yv(e,t){for(Db[e]=t,e=0;e<t.length;e++)sJ.add(t[e])}var _f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pT=Object.prototype.hasOwnProperty,Gpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i7={},o7={};function Xpe(e){return pT.call(o7,e)?!0:pT.call(i7,e)?!1:Gpe.test(e)?o7[e]=!0:(i7[e]=!0,!1)}function Ype(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jpe(e,t,r,a){if(t===null||typeof t>"u"||Ype(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pl(e,t,r,a,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var oo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oo[e]=new pl(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oo[t]=new pl(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oo[e]=new pl(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oo[e]=new pl(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oo[e]=new pl(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oo[e]=new pl(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oo[e]=new pl(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oo[e]=new pl(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oo[e]=new pl(e,5,!1,e.toLowerCase(),null,!1,!1)});var oL=/[\-:]([a-z])/g;function lL(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oL,lL);oo[t]=new pl(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oL,lL);oo[t]=new pl(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oL,lL);oo[t]=new pl(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oo[e]=new pl(e,1,!1,e.toLowerCase(),null,!1,!1)});oo.xlinkHref=new pl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oo[e]=new pl(e,1,!1,e.toLowerCase(),null,!0,!0)});function cL(e,t,r,a){var s=oo.hasOwnProperty(t)?oo[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jpe(t,r,s,a)&&(r=null),a||s===null?Xpe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var $f=Wpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eC=Symbol.for("react.element"),sg=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),dL=Symbol.for("react.strict_mode"),xT=Symbol.for("react.profiler"),iJ=Symbol.for("react.provider"),oJ=Symbol.for("react.context"),uL=Symbol.for("react.forward_ref"),gT=Symbol.for("react.suspense"),vT=Symbol.for("react.suspense_list"),hL=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),lJ=Symbol.for("react.offscreen"),l7=Symbol.iterator;function T1(e){return e===null||typeof e!="object"?null:(e=l7&&e[l7]||e["@@iterator"],typeof e=="function"?e:null)}var xs=Object.assign,CP;function fw(e){if(CP===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);CP=t&&t[1]||""}return`
`+CP+e}var SP=!1;function _P(e,t){if(!e||SP)return"";SP=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{SP=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fw(e):""}function Zpe(e){switch(e.tag){case 5:return fw(e.type);case 16:return fw("Lazy");case 13:return fw("Suspense");case 19:return fw("SuspenseList");case 0:case 2:case 15:return e=_P(e.type,!1),e;case 11:return e=_P(e.type.render,!1),e;case 1:return e=_P(e.type,!0),e;default:return""}}function yT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ig:return"Fragment";case sg:return"Portal";case xT:return"Profiler";case dL:return"StrictMode";case gT:return"Suspense";case vT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oJ:return(e.displayName||"Context")+".Consumer";case iJ:return(e._context.displayName||"Context")+".Provider";case uL:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hL:return t=e.displayName||null,t!==null?t:yT(e.type)||"Memo";case jA:t=e._payload,e=e._init;try{return yT(e(t))}catch{}}return null}function e0e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yT(t);case 8:return t===dL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bm(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cJ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t0e(e){var t=cJ(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tC(e){e._valueTracker||(e._valueTracker=t0e(e))}function dJ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=cJ(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function NS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wT(e,t){var r=t.checked;return xs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function c7(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=bm(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uJ(e,t){t=t.checked,t!=null&&cL(e,"checked",t,!1)}function bT(e,t){uJ(e,t);var r=bm(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jT(e,t.type,r):t.hasOwnProperty("defaultValue")&&jT(e,t.type,bm(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function d7(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jT(e,t,r){(t!=="number"||NS(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Aw=Array.isArray;function Fg(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+bm(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function NT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nr(91));return xs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u7(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(nr(92));if(Aw(r)){if(1<r.length)throw Error(nr(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bm(r)}}function hJ(e,t){var r=bm(t.value),a=bm(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function h7(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fJ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function CT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fJ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rC,AJ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rC=rC||document.createElement("div"),rC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lb(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r0e=["Webkit","ms","Moz","O"];Object.keys(Hw).forEach(function(e){r0e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hw[t]=Hw[e]})});function mJ(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hw.hasOwnProperty(e)&&Hw[e]?(""+t).trim():t+"px"}function pJ(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=mJ(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var n0e=xs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ST(e,t){if(t){if(n0e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nr(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nr(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nr(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nr(62))}}function _T(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ET=null;function fL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var BT=null,Pg=null,kg=null;function f7(e){if(e=Q2(e)){if(typeof BT!="function")throw Error(nr(280));var t=e.stateNode;t&&(t=LE(t),BT(e.stateNode,e.type,t))}}function xJ(e){Pg?kg?kg.push(e):kg=[e]:Pg=e}function gJ(){if(Pg){var e=Pg,t=kg;if(kg=Pg=null,f7(e),t)for(e=0;e<t.length;e++)f7(t[e])}}function vJ(e,t){return e(t)}function yJ(){}var EP=!1;function wJ(e,t,r){if(EP)return e(t,r);EP=!0;try{return vJ(e,t,r)}finally{EP=!1,(Pg!==null||kg!==null)&&(yJ(),gJ())}}function Rb(e,t){var r=e.stateNode;if(r===null)return null;var a=LE(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(nr(231,t,typeof r));return r}var FT=!1;if(_f)try{var I1={};Object.defineProperty(I1,"passive",{get:function(){FT=!0}}),window.addEventListener("test",I1,I1),window.removeEventListener("test",I1,I1)}catch{FT=!1}function a0e(e,t,r,a,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var zw=!1,CS=null,SS=!1,PT=null,s0e={onError:function(e){zw=!0,CS=e}};function i0e(e,t,r,a,s,i,o,l,c){zw=!1,CS=null,a0e.apply(s0e,arguments)}function o0e(e,t,r,a,s,i,o,l,c){if(i0e.apply(this,arguments),zw){if(zw){var d=CS;zw=!1,CS=null}else throw Error(nr(198));SS||(SS=!0,PT=d)}}function Y0(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bJ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A7(e){if(Y0(e)!==e)throw Error(nr(188))}function l0e(e){var t=e.alternate;if(!t){if(t=Y0(e),t===null)throw Error(nr(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return A7(s),e;if(i===a)return A7(s),t;i=i.sibling}throw Error(nr(188))}if(r.return!==a.return)r=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,a=i;break}if(l===a){o=!0,a=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=s;break}if(l===a){o=!0,a=i,r=s;break}l=l.sibling}if(!o)throw Error(nr(189))}}if(r.alternate!==a)throw Error(nr(190))}if(r.tag!==3)throw Error(nr(188));return r.stateNode.current===r?e:t}function jJ(e){return e=l0e(e),e!==null?NJ(e):null}function NJ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NJ(e);if(t!==null)return t;e=e.sibling}return null}var CJ=Nc.unstable_scheduleCallback,m7=Nc.unstable_cancelCallback,c0e=Nc.unstable_shouldYield,d0e=Nc.unstable_requestPaint,$s=Nc.unstable_now,u0e=Nc.unstable_getCurrentPriorityLevel,AL=Nc.unstable_ImmediatePriority,SJ=Nc.unstable_UserBlockingPriority,_S=Nc.unstable_NormalPriority,h0e=Nc.unstable_LowPriority,_J=Nc.unstable_IdlePriority,TE=null,nh=null;function f0e(e){if(nh&&typeof nh.onCommitFiberRoot=="function")try{nh.onCommitFiberRoot(TE,e,void 0,(e.current.flags&128)===128)}catch{}}var Zd=Math.clz32?Math.clz32:p0e,A0e=Math.log,m0e=Math.LN2;function p0e(e){return e>>>=0,e===0?32:31-(A0e(e)/m0e|0)|0}var nC=64,aC=4194304;function mw(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ES(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?a=mw(l):(i&=o,i!==0&&(a=mw(i)))}else o=r&~s,o!==0?a=mw(o):i!==0&&(a=mw(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Zd(t),s=1<<r,a|=e[r],t&=~s;return a}function x0e(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0e(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zd(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&a)&&(s[o]=x0e(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function kT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EJ(){var e=nC;return nC<<=1,!(nC&4194240)&&(nC=64),e}function BP(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function M2(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zd(t),e[t]=r}function v0e(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zd(r),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~i}}function mL(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Zd(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var ba=0;function BJ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FJ,pL,PJ,kJ,TJ,TT=!1,sC=[],sm=null,im=null,om=null,Mb=new Map,Ub=new Map,FA=[],y0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p7(e,t){switch(e){case"focusin":case"focusout":sm=null;break;case"dragenter":case"dragleave":im=null;break;case"mouseover":case"mouseout":om=null;break;case"pointerover":case"pointerout":Mb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ub.delete(t.pointerId)}}function O1(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Q2(t),t!==null&&pL(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function w0e(e,t,r,a,s){switch(t){case"focusin":return sm=O1(sm,e,t,r,a,s),!0;case"dragenter":return im=O1(im,e,t,r,a,s),!0;case"mouseover":return om=O1(om,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return Mb.set(i,O1(Mb.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Ub.set(i,O1(Ub.get(i)||null,e,t,r,a,s)),!0}return!1}function IJ(e){var t=Op(e.target);if(t!==null){var r=Y0(t);if(r!==null){if(t=r.tag,t===13){if(t=bJ(r),t!==null){e.blockedOn=t,TJ(e.priority,function(){PJ(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function U4(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=IT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);ET=a,r.target.dispatchEvent(a),ET=null}else return t=Q2(r),t!==null&&pL(t),e.blockedOn=r,!1;t.shift()}return!0}function x7(e,t,r){U4(e)&&r.delete(t)}function b0e(){TT=!1,sm!==null&&U4(sm)&&(sm=null),im!==null&&U4(im)&&(im=null),om!==null&&U4(om)&&(om=null),Mb.forEach(x7),Ub.forEach(x7)}function D1(e,t){e.blockedOn===t&&(e.blockedOn=null,TT||(TT=!0,Nc.unstable_scheduleCallback(Nc.unstable_NormalPriority,b0e)))}function Qb(e){function t(s){return D1(s,e)}if(0<sC.length){D1(sC[0],e);for(var r=1;r<sC.length;r++){var a=sC[r];a.blockedOn===e&&(a.blockedOn=null)}}for(sm!==null&&D1(sm,e),im!==null&&D1(im,e),om!==null&&D1(om,e),Mb.forEach(t),Ub.forEach(t),r=0;r<FA.length;r++)a=FA[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<FA.length&&(r=FA[0],r.blockedOn===null);)IJ(r),r.blockedOn===null&&FA.shift()}var Tg=$f.ReactCurrentBatchConfig,BS=!0;function j0e(e,t,r,a){var s=ba,i=Tg.transition;Tg.transition=null;try{ba=1,xL(e,t,r,a)}finally{ba=s,Tg.transition=i}}function N0e(e,t,r,a){var s=ba,i=Tg.transition;Tg.transition=null;try{ba=4,xL(e,t,r,a)}finally{ba=s,Tg.transition=i}}function xL(e,t,r,a){if(BS){var s=IT(e,t,r,a);if(s===null)MP(e,t,a,FS,r),p7(e,a);else if(w0e(s,e,t,r,a))a.stopPropagation();else if(p7(e,a),t&4&&-1<y0e.indexOf(e)){for(;s!==null;){var i=Q2(s);if(i!==null&&FJ(i),i=IT(e,t,r,a),i===null&&MP(e,t,a,FS,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else MP(e,t,a,null,r)}}var FS=null;function IT(e,t,r,a){if(FS=null,e=fL(a),e=Op(e),e!==null)if(t=Y0(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bJ(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return FS=e,null}function OJ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u0e()){case AL:return 1;case SJ:return 4;case _S:case h0e:return 16;case _J:return 536870912;default:return 16}default:return 16}}var KA=null,gL=null,Q4=null;function DJ(){if(Q4)return Q4;var e,t=gL,r=t.length,a,s="value"in KA?KA.value:KA.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[i-a];a++);return Q4=s.slice(e,1<a?1-a:void 0)}function $4(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function iC(){return!0}function g7(){return!1}function Ec(e){function t(r,a,s,i,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?iC:g7,this.isPropagationStopped=g7,this}return xs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=iC)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=iC)},persist:function(){},isPersistent:iC}),t}var jy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vL=Ec(jy),U2=xs({},jy,{view:0,detail:0}),C0e=Ec(U2),FP,PP,L1,IE=xs({},U2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==L1&&(L1&&e.type==="mousemove"?(FP=e.screenX-L1.screenX,PP=e.screenY-L1.screenY):PP=FP=0,L1=e),FP)},movementY:function(e){return"movementY"in e?e.movementY:PP}}),v7=Ec(IE),S0e=xs({},IE,{dataTransfer:0}),_0e=Ec(S0e),E0e=xs({},U2,{relatedTarget:0}),kP=Ec(E0e),B0e=xs({},jy,{animationName:0,elapsedTime:0,pseudoElement:0}),F0e=Ec(B0e),P0e=xs({},jy,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k0e=Ec(P0e),T0e=xs({},jy,{data:0}),y7=Ec(T0e),I0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0e(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D0e[e])?!!t[e]:!1}function yL(){return L0e}var R0e=xs({},U2,{key:function(e){if(e.key){var t=I0e[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$4(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?O0e[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yL,charCode:function(e){return e.type==="keypress"?$4(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$4(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0e=Ec(R0e),U0e=xs({},IE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w7=Ec(U0e),Q0e=xs({},U2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yL}),$0e=Ec(Q0e),H0e=xs({},jy,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0e=Ec(H0e),V0e=xs({},IE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K0e=Ec(V0e),q0e=[9,13,27,32],wL=_f&&"CompositionEvent"in window,Vw=null;_f&&"documentMode"in document&&(Vw=document.documentMode);var W0e=_f&&"TextEvent"in window&&!Vw,LJ=_f&&(!wL||Vw&&8<Vw&&11>=Vw),b7=" ",j7=!1;function RJ(e,t){switch(e){case"keyup":return q0e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MJ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var og=!1;function G0e(e,t){switch(e){case"compositionend":return MJ(t);case"keypress":return t.which!==32?null:(j7=!0,b7);case"textInput":return e=t.data,e===b7&&j7?null:e;default:return null}}function X0e(e,t){if(og)return e==="compositionend"||!wL&&RJ(e,t)?(e=DJ(),Q4=gL=KA=null,og=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LJ&&t.locale!=="ko"?null:t.data;default:return null}}var Y0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N7(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y0e[e.type]:t==="textarea"}function UJ(e,t,r,a){xJ(a),t=PS(t,"onChange"),0<t.length&&(r=new vL("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var Kw=null,$b=null;function J0e(e){YJ(e,0)}function OE(e){var t=dg(e);if(dJ(t))return e}function Z0e(e,t){if(e==="change")return t}var QJ=!1;if(_f){var TP;if(_f){var IP="oninput"in document;if(!IP){var C7=document.createElement("div");C7.setAttribute("oninput","return;"),IP=typeof C7.oninput=="function"}TP=IP}else TP=!1;QJ=TP&&(!document.documentMode||9<document.documentMode)}function S7(){Kw&&(Kw.detachEvent("onpropertychange",$J),$b=Kw=null)}function $J(e){if(e.propertyName==="value"&&OE($b)){var t=[];UJ(t,$b,e,fL(e)),wJ(J0e,t)}}function exe(e,t,r){e==="focusin"?(S7(),Kw=t,$b=r,Kw.attachEvent("onpropertychange",$J)):e==="focusout"&&S7()}function txe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return OE($b)}function rxe(e,t){if(e==="click")return OE(t)}function nxe(e,t){if(e==="input"||e==="change")return OE(t)}function axe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ou=typeof Object.is=="function"?Object.is:axe;function Hb(e,t){if(ou(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!pT.call(t,s)||!ou(e[s],t[s]))return!1}return!0}function _7(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E7(e,t){var r=_7(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_7(r)}}function HJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zJ(){for(var e=window,t=NS();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=NS(e.document)}return t}function bL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sxe(e){var t=zJ(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&HJ(r.ownerDocument.documentElement,r)){if(a!==null&&bL(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=E7(r,i);var o=E7(r,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ixe=_f&&"documentMode"in document&&11>=document.documentMode,lg=null,OT=null,qw=null,DT=!1;function B7(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;DT||lg==null||lg!==NS(a)||(a=lg,"selectionStart"in a&&bL(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qw&&Hb(qw,a)||(qw=a,a=PS(OT,"onSelect"),0<a.length&&(t=new vL("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=lg)))}function oC(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cg={animationend:oC("Animation","AnimationEnd"),animationiteration:oC("Animation","AnimationIteration"),animationstart:oC("Animation","AnimationStart"),transitionend:oC("Transition","TransitionEnd")},OP={},VJ={};_f&&(VJ=document.createElement("div").style,"AnimationEvent"in window||(delete cg.animationend.animation,delete cg.animationiteration.animation,delete cg.animationstart.animation),"TransitionEvent"in window||delete cg.transitionend.transition);function DE(e){if(OP[e])return OP[e];if(!cg[e])return e;var t=cg[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in VJ)return OP[e]=t[r];return e}var KJ=DE("animationend"),qJ=DE("animationiteration"),WJ=DE("animationstart"),GJ=DE("transitionend"),XJ=new Map,F7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hm(e,t){XJ.set(e,t),X0(t,[e])}for(var DP=0;DP<F7.length;DP++){var LP=F7[DP],oxe=LP.toLowerCase(),lxe=LP[0].toUpperCase()+LP.slice(1);Hm(oxe,"on"+lxe)}Hm(KJ,"onAnimationEnd");Hm(qJ,"onAnimationIteration");Hm(WJ,"onAnimationStart");Hm("dblclick","onDoubleClick");Hm("focusin","onFocus");Hm("focusout","onBlur");Hm(GJ,"onTransitionEnd");yv("onMouseEnter",["mouseout","mouseover"]);yv("onMouseLeave",["mouseout","mouseover"]);yv("onPointerEnter",["pointerout","pointerover"]);yv("onPointerLeave",["pointerout","pointerover"]);X0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));X0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));X0("onBeforeInput",["compositionend","keypress","textInput","paste"]);X0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));X0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));X0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cxe=new Set("cancel close invalid load scroll toggle".split(" ").concat(pw));function P7(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,o0e(a,t,void 0,e),e.currentTarget=null}function YJ(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;P7(s,l,d),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;P7(s,l,d),i=c}}}if(SS)throw e=PT,SS=!1,PT=null,e}function Ka(e,t){var r=t[QT];r===void 0&&(r=t[QT]=new Set);var a=e+"__bubble";r.has(a)||(JJ(t,e,2,!1),r.add(a))}function RP(e,t,r){var a=0;t&&(a|=4),JJ(r,e,a,t)}var lC="_reactListening"+Math.random().toString(36).slice(2);function zb(e){if(!e[lC]){e[lC]=!0,sJ.forEach(function(r){r!=="selectionchange"&&(cxe.has(r)||RP(r,!1,e),RP(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lC]||(t[lC]=!0,RP("selectionchange",!1,t))}}function JJ(e,t,r,a){switch(OJ(t)){case 1:var s=j0e;break;case 4:s=N0e;break;default:s=xL}r=s.bind(null,t,r,e),s=void 0,!FT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function MP(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Op(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}wJ(function(){var d=i,u=fL(r),h=[];e:{var f=XJ.get(e);if(f!==void 0){var A=vL,p=e;switch(e){case"keypress":if($4(r)===0)break e;case"keydown":case"keyup":A=M0e;break;case"focusin":p="focus",A=kP;break;case"focusout":p="blur",A=kP;break;case"beforeblur":case"afterblur":A=kP;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=v7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=_0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=$0e;break;case KJ:case qJ:case WJ:A=F0e;break;case GJ:A=z0e;break;case"scroll":A=C0e;break;case"wheel":A=K0e;break;case"copy":case"cut":case"paste":A=k0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=w7}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=d,y;v!==null;){y=v;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,g!==null&&(j=Rb(v,g),j!=null&&m.push(Vb(v,j,y)))),x)break;v=v.return}0<m.length&&(f=new A(f,p,null,r,u),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",f&&r!==ET&&(p=r.relatedTarget||r.fromElement)&&(Op(p)||p[Ef]))break e;if((A||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,A?(p=r.relatedTarget||r.toElement,A=d,p=p?Op(p):null,p!==null&&(x=Y0(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(A=null,p=d),A!==p)){if(m=v7,j="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=w7,j="onPointerLeave",g="onPointerEnter",v="pointer"),x=A==null?f:dg(A),y=p==null?f:dg(p),f=new m(j,v+"leave",A,r,u),f.target=x,f.relatedTarget=y,j=null,Op(u)===d&&(m=new m(g,v+"enter",p,r,u),m.target=y,m.relatedTarget=x,j=m),x=j,A&&p)t:{for(m=A,g=p,v=0,y=m;y;y=Ex(y))v++;for(y=0,j=g;j;j=Ex(j))y++;for(;0<v-y;)m=Ex(m),v--;for(;0<y-v;)g=Ex(g),y--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Ex(m),g=Ex(g)}m=null}else m=null;A!==null&&k7(h,f,A,m,!1),p!==null&&x!==null&&k7(h,x,p,m,!0)}}e:{if(f=d?dg(d):window,A=f.nodeName&&f.nodeName.toLowerCase(),A==="select"||A==="input"&&f.type==="file")var b=Z0e;else if(N7(f))if(QJ)b=nxe;else{b=txe;var w=exe}else(A=f.nodeName)&&A.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=rxe);if(b&&(b=b(e,d))){UJ(h,b,r,u);break e}w&&w(e,f,d),e==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&jT(f,"number",f.value)}switch(w=d?dg(d):window,e){case"focusin":(N7(w)||w.contentEditable==="true")&&(lg=w,OT=d,qw=null);break;case"focusout":qw=OT=lg=null;break;case"mousedown":DT=!0;break;case"contextmenu":case"mouseup":case"dragend":DT=!1,B7(h,r,u);break;case"selectionchange":if(ixe)break;case"keydown":case"keyup":B7(h,r,u)}var C;if(wL)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else og?RJ(e,r)&&(F="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(LJ&&r.locale!=="ko"&&(og||F!=="onCompositionStart"?F==="onCompositionEnd"&&og&&(C=DJ()):(KA=u,gL="value"in KA?KA.value:KA.textContent,og=!0)),w=PS(d,F),0<w.length&&(F=new y7(F,e,null,r,u),h.push({event:F,listeners:w}),C?F.data=C:(C=MJ(r),C!==null&&(F.data=C)))),(C=W0e?G0e(e,r):X0e(e,r))&&(d=PS(d,"onBeforeInput"),0<d.length&&(u=new y7("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}YJ(h,t)})}function Vb(e,t,r){return{instance:e,listener:t,currentTarget:r}}function PS(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rb(e,r),i!=null&&a.unshift(Vb(e,i,s)),i=Rb(e,t),i!=null&&a.push(Vb(e,i,s))),e=e.return}return a}function Ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function k7(e,t,r,a,s){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,s?(c=Rb(r,i),c!=null&&o.unshift(Vb(r,c,l))):s||(c=Rb(r,i),c!=null&&o.push(Vb(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dxe=/\r\n?/g,uxe=/\u0000|\uFFFD/g;function T7(e){return(typeof e=="string"?e:""+e).replace(dxe,`
`).replace(uxe,"")}function cC(e,t,r){if(t=T7(t),T7(e)!==t&&r)throw Error(nr(425))}function kS(){}var LT=null,RT=null;function MT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var UT=typeof setTimeout=="function"?setTimeout:void 0,hxe=typeof clearTimeout=="function"?clearTimeout:void 0,I7=typeof Promise=="function"?Promise:void 0,fxe=typeof queueMicrotask=="function"?queueMicrotask:typeof I7<"u"?function(e){return I7.resolve(null).then(e).catch(Axe)}:UT;function Axe(e){setTimeout(function(){throw e})}function UP(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),Qb(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);Qb(t)}function lm(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O7(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ny=Math.random().toString(36).slice(2),Vu="__reactFiber$"+Ny,Kb="__reactProps$"+Ny,Ef="__reactContainer$"+Ny,QT="__reactEvents$"+Ny,mxe="__reactListeners$"+Ny,pxe="__reactHandles$"+Ny;function Op(e){var t=e[Vu];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ef]||r[Vu]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=O7(e);e!==null;){if(r=e[Vu])return r;e=O7(e)}return t}e=r,r=e.parentNode}return null}function Q2(e){return e=e[Vu]||e[Ef],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nr(33))}function LE(e){return e[Kb]||null}var $T=[],ug=-1;function zm(e){return{current:e}}function Ja(e){0>ug||(e.current=$T[ug],$T[ug]=null,ug--)}function Qa(e,t){ug++,$T[ug]=e.current,e.current=t}var jm={},Po=zm(jm),kl=zm(!1),x0=jm;function wv(e,t){var r=e.type.contextTypes;if(!r)return jm;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Tl(e){return e=e.childContextTypes,e!=null}function TS(){Ja(kl),Ja(Po)}function D7(e,t,r){if(Po.current!==jm)throw Error(nr(168));Qa(Po,t),Qa(kl,r)}function ZJ(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(nr(108,e0e(e)||"Unknown",s));return xs({},r,a)}function IS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jm,x0=Po.current,Qa(Po,e),Qa(kl,kl.current),!0}function L7(e,t,r){var a=e.stateNode;if(!a)throw Error(nr(169));r?(e=ZJ(e,t,x0),a.__reactInternalMemoizedMergedChildContext=e,Ja(kl),Ja(Po),Qa(Po,e)):Ja(kl),Qa(kl,r)}var nf=null,RE=!1,QP=!1;function eZ(e){nf===null?nf=[e]:nf.push(e)}function xxe(e){RE=!0,eZ(e)}function Vm(){if(!QP&&nf!==null){QP=!0;var e=0,t=ba;try{var r=nf;for(ba=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}nf=null,RE=!1}catch(s){throw nf!==null&&(nf=nf.slice(e+1)),CJ(AL,Vm),s}finally{ba=t,QP=!1}}return null}var hg=[],fg=0,OS=null,DS=0,qc=[],Wc=0,g0=null,hf=1,ff="";function jp(e,t){hg[fg++]=DS,hg[fg++]=OS,OS=e,DS=t}function tZ(e,t,r){qc[Wc++]=hf,qc[Wc++]=ff,qc[Wc++]=g0,g0=e;var a=hf;e=ff;var s=32-Zd(a)-1;a&=~(1<<s),r+=1;var i=32-Zd(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,hf=1<<32-Zd(t)+s|r<<s|a,ff=i+e}else hf=1<<i|r<<s|a,ff=e}function jL(e){e.return!==null&&(jp(e,1),tZ(e,1,0))}function NL(e){for(;e===OS;)OS=hg[--fg],hg[fg]=null,DS=hg[--fg],hg[fg]=null;for(;e===g0;)g0=qc[--Wc],qc[Wc]=null,ff=qc[--Wc],qc[Wc]=null,hf=qc[--Wc],qc[Wc]=null}var yc=null,pc=null,ns=!1,$d=null;function rZ(e,t){var r=ed(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R7(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yc=e,pc=lm(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yc=e,pc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=g0!==null?{id:hf,overflow:ff}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ed(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yc=e,pc=null,!0):!1;default:return!1}}function HT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zT(e){if(ns){var t=pc;if(t){var r=t;if(!R7(e,t)){if(HT(e))throw Error(nr(418));t=lm(r.nextSibling);var a=yc;t&&R7(e,t)?rZ(a,r):(e.flags=e.flags&-4097|2,ns=!1,yc=e)}}else{if(HT(e))throw Error(nr(418));e.flags=e.flags&-4097|2,ns=!1,yc=e}}}function M7(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yc=e}function dC(e){if(e!==yc)return!1;if(!ns)return M7(e),ns=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!MT(e.type,e.memoizedProps)),t&&(t=pc)){if(HT(e))throw nZ(),Error(nr(418));for(;t;)rZ(e,t),t=lm(t.nextSibling)}if(M7(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nr(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pc=lm(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pc=null}}else pc=yc?lm(e.stateNode.nextSibling):null;return!0}function nZ(){for(var e=pc;e;)e=lm(e.nextSibling)}function bv(){pc=yc=null,ns=!1}function CL(e){$d===null?$d=[e]:$d.push(e)}var gxe=$f.ReactCurrentBatchConfig;function R1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(nr(309));var a=r.stateNode}if(!a)throw Error(nr(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(nr(284));if(!r._owner)throw Error(nr(290,e))}return e}function uC(e,t){throw e=Object.prototype.toString.call(t),Error(nr(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U7(e){var t=e._init;return t(e._payload)}function aZ(e){function t(g,v){if(e){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function a(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=hm(g,v),g.index=0,g.sibling=null,g}function i(g,v,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,y,j){return v===null||v.tag!==6?(v=WP(y,g.mode,j),v.return=g,v):(v=s(v,y),v.return=g,v)}function c(g,v,y,j){var b=y.type;return b===ig?u(g,v,y.props.children,j,y.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jA&&U7(b)===v.type)?(j=s(v,y.props),j.ref=R1(g,v,y),j.return=g,j):(j=G4(y.type,y.key,y.props,null,g.mode,j),j.ref=R1(g,v,y),j.return=g,j)}function d(g,v,y,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=GP(y,g.mode,j),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function u(g,v,y,j,b){return v===null||v.tag!==7?(v=i0(y,g.mode,j,b),v.return=g,v):(v=s(v,y),v.return=g,v)}function h(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=WP(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eC:return y=G4(v.type,v.key,v.props,null,g.mode,y),y.ref=R1(g,null,v),y.return=g,y;case sg:return v=GP(v,g.mode,y),v.return=g,v;case jA:var j=v._init;return h(g,j(v._payload),y)}if(Aw(v)||T1(v))return v=i0(v,g.mode,y,null),v.return=g,v;uC(g,v)}return null}function f(g,v,y,j){var b=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(g,v,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case eC:return y.key===b?c(g,v,y,j):null;case sg:return y.key===b?d(g,v,y,j):null;case jA:return b=y._init,f(g,v,b(y._payload),j)}if(Aw(y)||T1(y))return b!==null?null:u(g,v,y,j,null);uC(g,y)}return null}function A(g,v,y,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(y)||null,l(v,g,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case eC:return g=g.get(j.key===null?y:j.key)||null,c(v,g,j,b);case sg:return g=g.get(j.key===null?y:j.key)||null,d(v,g,j,b);case jA:var w=j._init;return A(g,v,y,w(j._payload),b)}if(Aw(j)||T1(j))return g=g.get(y)||null,u(v,g,j,b,null);uC(v,j)}return null}function p(g,v,y,j){for(var b=null,w=null,C=v,F=v=0,E=null;C!==null&&F<y.length;F++){C.index>F?(E=C,C=null):E=C.sibling;var L=f(g,C,y[F],j);if(L===null){C===null&&(C=E);break}e&&C&&L.alternate===null&&t(g,C),v=i(L,v,F),w===null?b=L:w.sibling=L,w=L,C=E}if(F===y.length)return r(g,C),ns&&jp(g,F),b;if(C===null){for(;F<y.length;F++)C=h(g,y[F],j),C!==null&&(v=i(C,v,F),w===null?b=C:w.sibling=C,w=C);return ns&&jp(g,F),b}for(C=a(g,C);F<y.length;F++)E=A(C,g,F,y[F],j),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?F:E.key),v=i(E,v,F),w===null?b=E:w.sibling=E,w=E);return e&&C.forEach(function(N){return t(g,N)}),ns&&jp(g,F),b}function m(g,v,y,j){var b=T1(y);if(typeof b!="function")throw Error(nr(150));if(y=b.call(y),y==null)throw Error(nr(151));for(var w=b=null,C=v,F=v=0,E=null,L=y.next();C!==null&&!L.done;F++,L=y.next()){C.index>F?(E=C,C=null):E=C.sibling;var N=f(g,C,L.value,j);if(N===null){C===null&&(C=E);break}e&&C&&N.alternate===null&&t(g,C),v=i(N,v,F),w===null?b=N:w.sibling=N,w=N,C=E}if(L.done)return r(g,C),ns&&jp(g,F),b;if(C===null){for(;!L.done;F++,L=y.next())L=h(g,L.value,j),L!==null&&(v=i(L,v,F),w===null?b=L:w.sibling=L,w=L);return ns&&jp(g,F),b}for(C=a(g,C);!L.done;F++,L=y.next())L=A(C,g,F,L.value,j),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?F:L.key),v=i(L,v,F),w===null?b=L:w.sibling=L,w=L);return e&&C.forEach(function(I){return t(g,I)}),ns&&jp(g,F),b}function x(g,v,y,j){if(typeof y=="object"&&y!==null&&y.type===ig&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case eC:e:{for(var b=y.key,w=v;w!==null;){if(w.key===b){if(b=y.type,b===ig){if(w.tag===7){r(g,w.sibling),v=s(w,y.props.children),v.return=g,g=v;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jA&&U7(b)===w.type){r(g,w.sibling),v=s(w,y.props),v.ref=R1(g,w,y),v.return=g,g=v;break e}r(g,w);break}else t(g,w);w=w.sibling}y.type===ig?(v=i0(y.props.children,g.mode,j,y.key),v.return=g,g=v):(j=G4(y.type,y.key,y.props,null,g.mode,j),j.ref=R1(g,v,y),j.return=g,g=j)}return o(g);case sg:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=GP(y,g.mode,j),v.return=g,g=v}return o(g);case jA:return w=y._init,x(g,v,w(y._payload),j)}if(Aw(y))return p(g,v,y,j);if(T1(y))return m(g,v,y,j);uC(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,y),v.return=g,g=v):(r(g,v),v=WP(y,g.mode,j),v.return=g,g=v),o(g)):r(g,v)}return x}var jv=aZ(!0),sZ=aZ(!1),LS=zm(null),RS=null,Ag=null,SL=null;function _L(){SL=Ag=RS=null}function EL(e){var t=LS.current;Ja(LS),e._currentValue=t}function VT(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ig(e,t){RS=e,SL=Ag=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(El=!0),e.firstContext=null)}function ud(e){var t=e._currentValue;if(SL!==e)if(e={context:e,memoizedValue:t,next:null},Ag===null){if(RS===null)throw Error(nr(308));Ag=e,RS.dependencies={lanes:0,firstContext:e}}else Ag=Ag.next=e;return t}var Dp=null;function BL(e){Dp===null?Dp=[e]:Dp.push(e)}function iZ(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,BL(t)):(r.next=s.next,s.next=r),t.interleaved=r,Bf(e,a)}function Bf(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var NA=!1;function FL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oZ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vf(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cm(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Gn&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Bf(e,r)}return s=a.interleaved,s===null?(t.next=t,BL(a)):(t.next=s.next,s.next=t),a.interleaved=t,Bf(e,r)}function H4(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,mL(e,r)}}function Q7(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function MS(e,t,r,a){var s=e.updateQueue;NA=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,A=l.eventTime;if((a&f)===f){u!==null&&(u=u.next={eventTime:A,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,m=l;switch(f=t,A=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(A,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(A,h,f):p,f==null)break e;h=xs({},h,f);break e;case 2:NA=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else A={eventTime:A,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=A,c=h):u=u.next=A,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);y0|=o,e.lanes=o,e.memoizedState=h}}function $7(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(nr(191,s));s.call(a)}}}var $2={},ah=zm($2),qb=zm($2),Wb=zm($2);function Lp(e){if(e===$2)throw Error(nr(174));return e}function PL(e,t){switch(Qa(Wb,t),Qa(qb,e),Qa(ah,$2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:CT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=CT(t,e)}Ja(ah),Qa(ah,t)}function Nv(){Ja(ah),Ja(qb),Ja(Wb)}function lZ(e){Lp(Wb.current);var t=Lp(ah.current),r=CT(t,e.type);t!==r&&(Qa(qb,e),Qa(ah,r))}function kL(e){qb.current===e&&(Ja(ah),Ja(qb))}var ds=zm(0);function US(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $P=[];function TL(){for(var e=0;e<$P.length;e++)$P[e]._workInProgressVersionPrimary=null;$P.length=0}var z4=$f.ReactCurrentDispatcher,HP=$f.ReactCurrentBatchConfig,v0=0,ms=null,mi=null,Bi=null,QS=!1,Ww=!1,Gb=0,vxe=0;function uo(){throw Error(nr(321))}function IL(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ou(e[r],t[r]))return!1;return!0}function OL(e,t,r,a,s,i){if(v0=i,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z4.current=e===null||e.memoizedState===null?jxe:Nxe,e=r(a,s),Ww){i=0;do{if(Ww=!1,Gb=0,25<=i)throw Error(nr(301));i+=1,Bi=mi=null,t.updateQueue=null,z4.current=Cxe,e=r(a,s)}while(Ww)}if(z4.current=$S,t=mi!==null&&mi.next!==null,v0=0,Bi=mi=ms=null,QS=!1,t)throw Error(nr(300));return e}function DL(){var e=Gb!==0;return Gb=0,e}function Uu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?ms.memoizedState=Bi=e:Bi=Bi.next=e,Bi}function hd(){if(mi===null){var e=ms.alternate;e=e!==null?e.memoizedState:null}else e=mi.next;var t=Bi===null?ms.memoizedState:Bi.next;if(t!==null)Bi=t,mi=e;else{if(e===null)throw Error(nr(310));mi=e,e={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Bi===null?ms.memoizedState=Bi=e:Bi=Bi.next=e}return Bi}function Xb(e,t){return typeof t=="function"?t(e):t}function zP(e){var t=hd(),r=t.queue;if(r===null)throw Error(nr(311));r.lastRenderedReducer=e;var a=mi,s=a.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((v0&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=a):c=c.next=h,ms.lanes|=u,y0|=u}d=d.next}while(d!==null&&d!==i);c===null?o=a:c.next=l,ou(a,t.memoizedState)||(El=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ms.lanes|=i,y0|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function VP(e){var t=hd(),r=t.queue;if(r===null)throw Error(nr(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ou(i,t.memoizedState)||(El=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function cZ(){}function dZ(e,t){var r=ms,a=hd(),s=t(),i=!ou(a.memoizedState,s);if(i&&(a.memoizedState=s,El=!0),a=a.queue,LL(fZ.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||Bi!==null&&Bi.memoizedState.tag&1){if(r.flags|=2048,Yb(9,hZ.bind(null,r,a,s,t),void 0,null),Di===null)throw Error(nr(349));v0&30||uZ(r,t,s)}return s}function uZ(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ms.updateQueue,t===null?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hZ(e,t,r,a){t.value=r,t.getSnapshot=a,AZ(t)&&mZ(e)}function fZ(e,t,r){return r(function(){AZ(t)&&mZ(e)})}function AZ(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ou(e,r)}catch{return!0}}function mZ(e){var t=Bf(e,1);t!==null&&eu(t,e,1,-1)}function H7(e){var t=Uu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:e},t.queue=e,e=e.dispatch=bxe.bind(null,ms,e),[t.memoizedState,e]}function Yb(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=ms.updateQueue,t===null?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function pZ(){return hd().memoizedState}function V4(e,t,r,a){var s=Uu();ms.flags|=e,s.memoizedState=Yb(1|t,r,void 0,a===void 0?null:a)}function ME(e,t,r,a){var s=hd();a=a===void 0?null:a;var i=void 0;if(mi!==null){var o=mi.memoizedState;if(i=o.destroy,a!==null&&IL(a,o.deps)){s.memoizedState=Yb(t,r,i,a);return}}ms.flags|=e,s.memoizedState=Yb(1|t,r,i,a)}function z7(e,t){return V4(8390656,8,e,t)}function LL(e,t){return ME(2048,8,e,t)}function xZ(e,t){return ME(4,2,e,t)}function gZ(e,t){return ME(4,4,e,t)}function vZ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yZ(e,t,r){return r=r!=null?r.concat([e]):null,ME(4,4,vZ.bind(null,t,e),r)}function RL(){}function wZ(e,t){var r=hd();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&IL(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function bZ(e,t){var r=hd();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&IL(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function jZ(e,t,r){return v0&21?(ou(r,t)||(r=EJ(),ms.lanes|=r,y0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,El=!0),e.memoizedState=r)}function yxe(e,t){var r=ba;ba=r!==0&&4>r?r:4,e(!0);var a=HP.transition;HP.transition={};try{e(!1),t()}finally{ba=r,HP.transition=a}}function NZ(){return hd().memoizedState}function wxe(e,t,r){var a=um(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},CZ(e))SZ(t,r);else if(r=iZ(e,t,r,a),r!==null){var s=ol();eu(r,e,a,s),_Z(r,t,a)}}function bxe(e,t,r){var a=um(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(CZ(e))SZ(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ou(l,o)){var c=t.interleaved;c===null?(s.next=s,BL(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=iZ(e,t,s,a),r!==null&&(s=ol(),eu(r,e,a,s),_Z(r,t,a))}}function CZ(e){var t=e.alternate;return e===ms||t!==null&&t===ms}function SZ(e,t){Ww=QS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _Z(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,mL(e,r)}}var $S={readContext:ud,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useInsertionEffect:uo,useLayoutEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useMutableSource:uo,useSyncExternalStore:uo,useId:uo,unstable_isNewReconciler:!1},jxe={readContext:ud,useCallback:function(e,t){return Uu().memoizedState=[e,t===void 0?null:t],e},useContext:ud,useEffect:z7,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,V4(4194308,4,vZ.bind(null,t,e),r)},useLayoutEffect:function(e,t){return V4(4194308,4,e,t)},useInsertionEffect:function(e,t){return V4(4,2,e,t)},useMemo:function(e,t){var r=Uu();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Uu();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=wxe.bind(null,ms,e),[a.memoizedState,e]},useRef:function(e){var t=Uu();return e={current:e},t.memoizedState=e},useState:H7,useDebugValue:RL,useDeferredValue:function(e){return Uu().memoizedState=e},useTransition:function(){var e=H7(!1),t=e[0];return e=yxe.bind(null,e[1]),Uu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ms,s=Uu();if(ns){if(r===void 0)throw Error(nr(407));r=r()}else{if(r=t(),Di===null)throw Error(nr(349));v0&30||uZ(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,z7(fZ.bind(null,a,i,e),[e]),a.flags|=2048,Yb(9,hZ.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=Uu(),t=Di.identifierPrefix;if(ns){var r=ff,a=hf;r=(a&~(1<<32-Zd(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gb++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vxe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nxe={readContext:ud,useCallback:wZ,useContext:ud,useEffect:LL,useImperativeHandle:yZ,useInsertionEffect:xZ,useLayoutEffect:gZ,useMemo:bZ,useReducer:zP,useRef:pZ,useState:function(){return zP(Xb)},useDebugValue:RL,useDeferredValue:function(e){var t=hd();return jZ(t,mi.memoizedState,e)},useTransition:function(){var e=zP(Xb)[0],t=hd().memoizedState;return[e,t]},useMutableSource:cZ,useSyncExternalStore:dZ,useId:NZ,unstable_isNewReconciler:!1},Cxe={readContext:ud,useCallback:wZ,useContext:ud,useEffect:LL,useImperativeHandle:yZ,useInsertionEffect:xZ,useLayoutEffect:gZ,useMemo:bZ,useReducer:VP,useRef:pZ,useState:function(){return VP(Xb)},useDebugValue:RL,useDeferredValue:function(e){var t=hd();return mi===null?t.memoizedState=e:jZ(t,mi.memoizedState,e)},useTransition:function(){var e=VP(Xb)[0],t=hd().memoizedState;return[e,t]},useMutableSource:cZ,useSyncExternalStore:dZ,useId:NZ,unstable_isNewReconciler:!1};function Ld(e,t){if(e&&e.defaultProps){t=xs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function KT(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:xs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var UE={isMounted:function(e){return(e=e._reactInternals)?Y0(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=ol(),s=um(e),i=vf(a,s);i.payload=t,r!=null&&(i.callback=r),t=cm(e,i,s),t!==null&&(eu(t,e,s,a),H4(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=ol(),s=um(e),i=vf(a,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cm(e,i,s),t!==null&&(eu(t,e,s,a),H4(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ol(),a=um(e),s=vf(r,a);s.tag=2,t!=null&&(s.callback=t),t=cm(e,s,a),t!==null&&(eu(t,e,a,r),H4(t,e,a))}};function V7(e,t,r,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hb(r,a)||!Hb(s,i):!0}function EZ(e,t,r){var a=!1,s=jm,i=t.contextType;return typeof i=="object"&&i!==null?i=ud(i):(s=Tl(t)?x0:Po.current,a=t.contextTypes,i=(a=a!=null)?wv(e,s):jm),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=UE,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function K7(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&UE.enqueueReplaceState(t,t.state,null)}function qT(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},FL(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ud(i):(i=Tl(t)?x0:Po.current,s.context=wv(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(KT(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&UE.enqueueReplaceState(s,s.state,null),MS(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cv(e,t){try{var r="",a=t;do r+=Zpe(a),a=a.return;while(a);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function KP(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function WT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Sxe=typeof WeakMap=="function"?WeakMap:Map;function BZ(e,t,r){r=vf(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){zS||(zS=!0,a6=a),WT(e,t)},r}function FZ(e,t,r){r=vf(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){WT(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){WT(e,t),typeof a!="function"&&(dm===null?dm=new Set([this]):dm.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function q7(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new Sxe;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=Uxe.bind(null,e,t,r),t.then(e,e))}function W7(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G7(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vf(-1,1),t.tag=2,cm(r,t,1))),r.lanes|=1),e)}var _xe=$f.ReactCurrentOwner,El=!1;function Ko(e,t,r,a){t.child=e===null?sZ(t,null,r,a):jv(t,e.child,r,a)}function X7(e,t,r,a,s){r=r.render;var i=t.ref;return Ig(t,s),a=OL(e,t,r,a,i,s),r=DL(),e!==null&&!El?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ff(e,t,s)):(ns&&r&&jL(t),t.flags|=1,Ko(e,t,a,s),t.child)}function Y7(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!KL(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,PZ(e,t,i,a,s)):(e=G4(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hb,r(o,a)&&e.ref===t.ref)return Ff(e,t,s)}return t.flags|=1,e=hm(i,a),e.ref=t.ref,e.return=t,t.child=e}function PZ(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(Hb(i,a)&&e.ref===t.ref)if(El=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(El=!0);else return t.lanes=e.lanes,Ff(e,t,s)}return GT(e,t,r,a,s)}function kZ(e,t,r){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qa(pg,sc),sc|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qa(pg,sc),sc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,Qa(pg,sc),sc|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,Qa(pg,sc),sc|=a;return Ko(e,t,s,r),t.child}function TZ(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function GT(e,t,r,a,s){var i=Tl(r)?x0:Po.current;return i=wv(t,i),Ig(t,s),r=OL(e,t,r,a,i,s),a=DL(),e!==null&&!El?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ff(e,t,s)):(ns&&a&&jL(t),t.flags|=1,Ko(e,t,r,s),t.child)}function J7(e,t,r,a,s){if(Tl(r)){var i=!0;IS(t)}else i=!1;if(Ig(t,s),t.stateNode===null)K4(e,t),EZ(t,r,a),qT(t,r,a,s),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ud(d):(d=Tl(r)?x0:Po.current,d=wv(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&K7(t,o,a,d),NA=!1;var f=t.memoizedState;o.state=f,MS(t,a,o,s),c=t.memoizedState,l!==a||f!==c||kl.current||NA?(typeof u=="function"&&(KT(t,r,u,a),c=t.memoizedState),(l=NA||V7(t,r,l,a,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,oZ(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ld(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ud(c):(c=Tl(r)?x0:Po.current,c=wv(t,c));var A=r.getDerivedStateFromProps;(u=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&K7(t,o,a,c),NA=!1,f=t.memoizedState,o.state=f,MS(t,a,o,s);var p=t.memoizedState;l!==h||f!==p||kl.current||NA?(typeof A=="function"&&(KT(t,r,A,a),p=t.memoizedState),(d=NA||V7(t,r,d,a,f,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),o.props=a,o.state=p,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return XT(e,t,r,a,i,s)}function XT(e,t,r,a,s,i){TZ(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&L7(t,r,!1),Ff(e,t,i);a=t.stateNode,_xe.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=jv(t,e.child,null,i),t.child=jv(t,null,l,i)):Ko(e,t,l,i),t.memoizedState=a.state,s&&L7(t,r,!0),t.child}function IZ(e){var t=e.stateNode;t.pendingContext?D7(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D7(e,t.context,!1),PL(e,t.containerInfo)}function Z7(e,t,r,a,s){return bv(),CL(s),t.flags|=256,Ko(e,t,r,a),t.child}var YT={dehydrated:null,treeContext:null,retryLane:0};function JT(e){return{baseLanes:e,cachePool:null,transitions:null}}function OZ(e,t,r){var a=t.pendingProps,s=ds.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qa(ds,s&1),e===null)return zT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=HE(o,a,0,null),e=i0(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=JT(r),t.memoizedState=YT,e):ML(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Exe(e,t,o,a,l,s,r);if(i){i=a.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=hm(s,c),a.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hm(l,i):(i=i0(i,o,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?JT(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=YT,a}return i=e.child,e=i.sibling,a=hm(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function ML(e,t){return t=HE({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hC(e,t,r,a){return a!==null&&CL(a),jv(t,e.child,null,r),e=ML(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Exe(e,t,r,a,s,i,o){if(r)return t.flags&256?(t.flags&=-257,a=KP(Error(nr(422))),hC(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=HE({mode:"visible",children:a.children},s,0,null),i=i0(i,s,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&jv(t,e.child,null,o),t.child.memoizedState=JT(o),t.memoizedState=YT,i);if(!(t.mode&1))return hC(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(nr(419)),a=KP(i,a,void 0),hC(e,t,o,a)}if(l=(o&e.childLanes)!==0,El||l){if(a=Di,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bf(e,s),eu(a,e,s,-1))}return VL(),a=KP(Error(nr(421))),hC(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Qxe.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pc=lm(s.nextSibling),yc=t,ns=!0,$d=null,e!==null&&(qc[Wc++]=hf,qc[Wc++]=ff,qc[Wc++]=g0,hf=e.id,ff=e.overflow,g0=t),t=ML(t,a.children),t.flags|=4096,t)}function e$(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),VT(e.return,t,r)}function qP(e,t,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=s)}function DZ(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(Ko(e,t,a.children,r),a=ds.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e$(e,r,t);else if(e.tag===19)e$(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Qa(ds,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&US(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qP(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&US(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qP(t,!0,r,null,i);break;case"together":qP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function K4(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ff(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),y0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(nr(153));if(t.child!==null){for(e=t.child,r=hm(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hm(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bxe(e,t,r){switch(t.tag){case 3:IZ(t),bv();break;case 5:lZ(t);break;case 1:Tl(t.type)&&IS(t);break;case 4:PL(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Qa(LS,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Qa(ds,ds.current&1),t.flags|=128,null):r&t.child.childLanes?OZ(e,t,r):(Qa(ds,ds.current&1),e=Ff(e,t,r),e!==null?e.sibling:null);Qa(ds,ds.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return DZ(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qa(ds,ds.current),a)break;return null;case 22:case 23:return t.lanes=0,kZ(e,t,r)}return Ff(e,t,r)}var LZ,ZT,RZ,MZ;LZ=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ZT=function(){};RZ=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,Lp(ah.current);var i=null;switch(r){case"input":s=wT(e,s),a=wT(e,a),i=[];break;case"select":s=xs({},s,{value:void 0}),a=xs({},a,{value:void 0}),i=[];break;case"textarea":s=NT(e,s),a=NT(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=kS)}ST(r,a);var o;r=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Db.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Db.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ka("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};MZ=function(e,t,r,a){r!==a&&(t.flags|=4)};function M1(e,t){if(!ns)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ho(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Fxe(e,t,r){var a=t.pendingProps;switch(NL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(t),null;case 1:return Tl(t.type)&&TS(),ho(t),null;case 3:return a=t.stateNode,Nv(),Ja(kl),Ja(Po),TL(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(dC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$d!==null&&(o6($d),$d=null))),ZT(e,t),ho(t),null;case 5:kL(t);var s=Lp(Wb.current);if(r=t.type,e!==null&&t.stateNode!=null)RZ(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(nr(166));return ho(t),null}if(e=Lp(ah.current),dC(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[Vu]=t,a[Kb]=i,e=(t.mode&1)!==0,r){case"dialog":Ka("cancel",a),Ka("close",a);break;case"iframe":case"object":case"embed":Ka("load",a);break;case"video":case"audio":for(s=0;s<pw.length;s++)Ka(pw[s],a);break;case"source":Ka("error",a);break;case"img":case"image":case"link":Ka("error",a),Ka("load",a);break;case"details":Ka("toggle",a);break;case"input":c7(a,i),Ka("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ka("invalid",a);break;case"textarea":u7(a,i),Ka("invalid",a)}ST(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&cC(a.textContent,l,e),s=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cC(a.textContent,l,e),s=["children",""+l]):Db.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ka("scroll",a)}switch(r){case"input":tC(a),d7(a,i,!0);break;case"textarea":tC(a),h7(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=kS)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fJ(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Vu]=t,e[Kb]=a,LZ(e,t,!1,!1),t.stateNode=e;e:{switch(o=_T(r,a),r){case"dialog":Ka("cancel",e),Ka("close",e),s=a;break;case"iframe":case"object":case"embed":Ka("load",e),s=a;break;case"video":case"audio":for(s=0;s<pw.length;s++)Ka(pw[s],e);s=a;break;case"source":Ka("error",e),s=a;break;case"img":case"image":case"link":Ka("error",e),Ka("load",e),s=a;break;case"details":Ka("toggle",e),s=a;break;case"input":c7(e,a),s=wT(e,a),Ka("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=xs({},a,{value:void 0}),Ka("invalid",e);break;case"textarea":u7(e,a),s=NT(e,a),Ka("invalid",e);break;default:s=a}ST(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pJ(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AJ(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lb(e,c):typeof c=="number"&&Lb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Db.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ka("scroll",e):c!=null&&cL(e,i,c,o))}switch(r){case"input":tC(e),d7(e,a,!1);break;case"textarea":tC(e),h7(e);break;case"option":a.value!=null&&e.setAttribute("value",""+bm(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Fg(e,!!a.multiple,i,!1):a.defaultValue!=null&&Fg(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=kS)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ho(t),null;case 6:if(e&&t.stateNode!=null)MZ(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(nr(166));if(r=Lp(Wb.current),Lp(ah.current),dC(t)){if(a=t.stateNode,r=t.memoizedProps,a[Vu]=t,(i=a.nodeValue!==r)&&(e=yc,e!==null))switch(e.tag){case 3:cC(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cC(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Vu]=t,t.stateNode=a}return ho(t),null;case 13:if(Ja(ds),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ns&&pc!==null&&t.mode&1&&!(t.flags&128))nZ(),bv(),t.flags|=98560,i=!1;else if(i=dC(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(nr(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(nr(317));i[Vu]=t}else bv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ho(t),i=!1}else $d!==null&&(o6($d),$d=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||ds.current&1?vi===0&&(vi=3):VL())),t.updateQueue!==null&&(t.flags|=4),ho(t),null);case 4:return Nv(),ZT(e,t),e===null&&zb(t.stateNode.containerInfo),ho(t),null;case 10:return EL(t.type._context),ho(t),null;case 17:return Tl(t.type)&&TS(),ho(t),null;case 19:if(Ja(ds),i=t.memoizedState,i===null)return ho(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)M1(i,!1);else{if(vi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=US(e),o!==null){for(t.flags|=128,M1(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qa(ds,ds.current&1|2),t.child}e=e.sibling}i.tail!==null&&$s()>Sv&&(t.flags|=128,a=!0,M1(i,!1),t.lanes=4194304)}else{if(!a)if(e=US(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),M1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ns)return ho(t),null}else 2*$s()-i.renderingStartTime>Sv&&r!==1073741824&&(t.flags|=128,a=!0,M1(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$s(),t.sibling=null,r=ds.current,Qa(ds,a?r&1|2:r&1),t):(ho(t),null);case 22:case 23:return zL(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?sc&1073741824&&(ho(t),t.subtreeFlags&6&&(t.flags|=8192)):ho(t),null;case 24:return null;case 25:return null}throw Error(nr(156,t.tag))}function Pxe(e,t){switch(NL(t),t.tag){case 1:return Tl(t.type)&&TS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nv(),Ja(kl),Ja(Po),TL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kL(t),null;case 13:if(Ja(ds),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nr(340));bv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ja(ds),null;case 4:return Nv(),null;case 10:return EL(t.type._context),null;case 22:case 23:return zL(),null;case 24:return null;default:return null}}var fC=!1,No=!1,kxe=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function mg(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Cs(e,t,a)}else r.current=null}function e6(e,t,r){try{r()}catch(a){Cs(e,t,a)}}var t$=!1;function Txe(e,t){if(LT=BS,e=zJ(),bL(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var A;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||a!==0&&h.nodeType!==3||(c=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(A=h.firstChild)!==null;)f=h,h=A;for(;;){if(h===e)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===a&&(c=o),(A=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=A}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(RT={focusedElem:e,selectionRange:r},BS=!1,Cr=t;Cr!==null;)if(t=Cr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Cr=e;else for(;Cr!==null;){t=Cr;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ld(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nr(163))}}catch(j){Cs(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Cr=e;break}Cr=t.return}return p=t$,t$=!1,p}function Gw(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&e6(t,r,i)}s=s.next}while(s!==a)}}function QE(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function t6(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function UZ(e){var t=e.alternate;t!==null&&(e.alternate=null,UZ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vu],delete t[Kb],delete t[QT],delete t[mxe],delete t[pxe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QZ(e){return e.tag===5||e.tag===3||e.tag===4}function r$(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QZ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r6(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=kS));else if(a!==4&&(e=e.child,e!==null))for(r6(e,t,r),e=e.sibling;e!==null;)r6(e,t,r),e=e.sibling}function n6(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(n6(e,t,r),e=e.sibling;e!==null;)n6(e,t,r),e=e.sibling}var Gi=null,Md=!1;function dA(e,t,r){for(r=r.child;r!==null;)$Z(e,t,r),r=r.sibling}function $Z(e,t,r){if(nh&&typeof nh.onCommitFiberUnmount=="function")try{nh.onCommitFiberUnmount(TE,r)}catch{}switch(r.tag){case 5:No||mg(r,t);case 6:var a=Gi,s=Md;Gi=null,dA(e,t,r),Gi=a,Md=s,Gi!==null&&(Md?(e=Gi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gi.removeChild(r.stateNode));break;case 18:Gi!==null&&(Md?(e=Gi,r=r.stateNode,e.nodeType===8?UP(e.parentNode,r):e.nodeType===1&&UP(e,r),Qb(e)):UP(Gi,r.stateNode));break;case 4:a=Gi,s=Md,Gi=r.stateNode.containerInfo,Md=!0,dA(e,t,r),Gi=a,Md=s;break;case 0:case 11:case 14:case 15:if(!No&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&e6(r,t,o),s=s.next}while(s!==a)}dA(e,t,r);break;case 1:if(!No&&(mg(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Cs(r,t,l)}dA(e,t,r);break;case 21:dA(e,t,r);break;case 22:r.mode&1?(No=(a=No)||r.memoizedState!==null,dA(e,t,r),No=a):dA(e,t,r);break;default:dA(e,t,r)}}function n$(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kxe),t.forEach(function(a){var s=$xe.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Fd(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gi=l.stateNode,Md=!1;break e;case 3:Gi=l.stateNode.containerInfo,Md=!0;break e;case 4:Gi=l.stateNode.containerInfo,Md=!0;break e}l=l.return}if(Gi===null)throw Error(nr(160));$Z(i,o,s),Gi=null,Md=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Cs(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HZ(t,e),t=t.sibling}function HZ(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fd(t,e),Fu(e),a&4){try{Gw(3,e,e.return),QE(3,e)}catch(m){Cs(e,e.return,m)}try{Gw(5,e,e.return)}catch(m){Cs(e,e.return,m)}}break;case 1:Fd(t,e),Fu(e),a&512&&r!==null&&mg(r,r.return);break;case 5:if(Fd(t,e),Fu(e),a&512&&r!==null&&mg(r,r.return),e.flags&32){var s=e.stateNode;try{Lb(s,"")}catch(m){Cs(e,e.return,m)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uJ(s,i),_T(l,o);var d=_T(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?pJ(s,h):u==="dangerouslySetInnerHTML"?AJ(s,h):u==="children"?Lb(s,h):cL(s,u,h,d)}switch(l){case"input":bT(s,i);break;case"textarea":hJ(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var A=i.value;A!=null?Fg(s,!!i.multiple,A,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fg(s,!!i.multiple,i.defaultValue,!0):Fg(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kb]=i}catch(m){Cs(e,e.return,m)}}break;case 6:if(Fd(t,e),Fu(e),a&4){if(e.stateNode===null)throw Error(nr(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Cs(e,e.return,m)}}break;case 3:if(Fd(t,e),Fu(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Qb(t.containerInfo)}catch(m){Cs(e,e.return,m)}break;case 4:Fd(t,e),Fu(e);break;case 13:Fd(t,e),Fu(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($L=$s())),a&4&&n$(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(No=(d=No)||u,Fd(t,e),No=d):Fd(t,e),Fu(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Cr=e,u=e.child;u!==null;){for(h=Cr=u;Cr!==null;){switch(f=Cr,A=f.child,f.tag){case 0:case 11:case 14:case 15:Gw(4,f,f.return);break;case 1:mg(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){a=f,r=f.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Cs(a,r,m)}}break;case 5:mg(f,f.return);break;case 22:if(f.memoizedState!==null){s$(h);continue}}A!==null?(A.return=f,Cr=A):s$(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mJ("display",o))}catch(m){Cs(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Cs(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fd(t,e),Fu(e),a&4&&n$(e);break;case 21:break;default:Fd(t,e),Fu(e)}}function Fu(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(QZ(r)){var a=r;break e}r=r.return}throw Error(nr(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Lb(s,""),a.flags&=-33);var i=r$(e);n6(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,l=r$(e);r6(e,l,o);break;default:throw Error(nr(161))}}catch(c){Cs(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ixe(e,t,r){Cr=e,zZ(e)}function zZ(e,t,r){for(var a=(e.mode&1)!==0;Cr!==null;){var s=Cr,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||fC;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||No;l=fC;var d=No;if(fC=o,(No=c)&&!d)for(Cr=s;Cr!==null;)o=Cr,c=o.child,o.tag===22&&o.memoizedState!==null?i$(s):c!==null?(c.return=o,Cr=c):i$(s);for(;i!==null;)Cr=i,zZ(i),i=i.sibling;Cr=s,fC=l,No=d}a$(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Cr=i):a$(e)}}function a$(e){for(;Cr!==null;){var t=Cr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:No||QE(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!No)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ld(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$7(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$7(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Qb(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nr(163))}No||t.flags&512&&t6(t)}catch(f){Cs(t,t.return,f)}}if(t===e){Cr=null;break}if(r=t.sibling,r!==null){r.return=t.return,Cr=r;break}Cr=t.return}}function s$(e){for(;Cr!==null;){var t=Cr;if(t===e){Cr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Cr=r;break}Cr=t.return}}function i$(e){for(;Cr!==null;){var t=Cr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{QE(4,t)}catch(c){Cs(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){Cs(t,s,c)}}var i=t.return;try{t6(t)}catch(c){Cs(t,i,c)}break;case 5:var o=t.return;try{t6(t)}catch(c){Cs(t,o,c)}}}catch(c){Cs(t,t.return,c)}if(t===e){Cr=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Cr=l;break}Cr=t.return}}var Oxe=Math.ceil,HS=$f.ReactCurrentDispatcher,UL=$f.ReactCurrentOwner,od=$f.ReactCurrentBatchConfig,Gn=0,Di=null,ni=null,so=0,sc=0,pg=zm(0),vi=0,Jb=null,y0=0,$E=0,QL=0,Xw=null,Sl=null,$L=0,Sv=1/0,tf=null,zS=!1,a6=null,dm=null,AC=!1,qA=null,VS=0,Yw=0,s6=null,q4=-1,W4=0;function ol(){return Gn&6?$s():q4!==-1?q4:q4=$s()}function um(e){return e.mode&1?Gn&2&&so!==0?so&-so:gxe.transition!==null?(W4===0&&(W4=EJ()),W4):(e=ba,e!==0||(e=window.event,e=e===void 0?16:OJ(e.type)),e):1}function eu(e,t,r,a){if(50<Yw)throw Yw=0,s6=null,Error(nr(185));M2(e,r,a),(!(Gn&2)||e!==Di)&&(e===Di&&(!(Gn&2)&&($E|=r),vi===4&&PA(e,so)),Il(e,a),r===1&&Gn===0&&!(t.mode&1)&&(Sv=$s()+500,RE&&Vm()))}function Il(e,t){var r=e.callbackNode;g0e(e,t);var a=ES(e,e===Di?so:0);if(a===0)r!==null&&m7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&m7(r),t===1)e.tag===0?xxe(o$.bind(null,e)):eZ(o$.bind(null,e)),fxe(function(){!(Gn&6)&&Vm()}),r=null;else{switch(BJ(a)){case 1:r=AL;break;case 4:r=SJ;break;case 16:r=_S;break;case 536870912:r=_J;break;default:r=_S}r=JZ(r,VZ.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function VZ(e,t){if(q4=-1,W4=0,Gn&6)throw Error(nr(327));var r=e.callbackNode;if(Og()&&e.callbackNode!==r)return null;var a=ES(e,e===Di?so:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=KS(e,a);else{t=a;var s=Gn;Gn|=2;var i=qZ();(Di!==e||so!==t)&&(tf=null,Sv=$s()+500,s0(e,t));do try{Rxe();break}catch(l){KZ(e,l)}while(!0);_L(),HS.current=i,Gn=s,ni!==null?t=0:(Di=null,so=0,t=vi)}if(t!==0){if(t===2&&(s=kT(e),s!==0&&(a=s,t=i6(e,s))),t===1)throw r=Jb,s0(e,0),PA(e,a),Il(e,$s()),r;if(t===6)PA(e,a);else{if(s=e.current.alternate,!(a&30)&&!Dxe(s)&&(t=KS(e,a),t===2&&(i=kT(e),i!==0&&(a=i,t=i6(e,i))),t===1))throw r=Jb,s0(e,0),PA(e,a),Il(e,$s()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(nr(345));case 2:Np(e,Sl,tf);break;case 3:if(PA(e,a),(a&130023424)===a&&(t=$L+500-$s(),10<t)){if(ES(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){ol(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=UT(Np.bind(null,e,Sl,tf),t);break}Np(e,Sl,tf);break;case 4:if(PA(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-Zd(a);i=1<<o,o=t[o],o>s&&(s=o),a&=~i}if(a=s,a=$s()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Oxe(a/1960))-a,10<a){e.timeoutHandle=UT(Np.bind(null,e,Sl,tf),a);break}Np(e,Sl,tf);break;case 5:Np(e,Sl,tf);break;default:throw Error(nr(329))}}}return Il(e,$s()),e.callbackNode===r?VZ.bind(null,e):null}function i6(e,t){var r=Xw;return e.current.memoizedState.isDehydrated&&(s0(e,t).flags|=256),e=KS(e,t),e!==2&&(t=Sl,Sl=r,t!==null&&o6(t)),e}function o6(e){Sl===null?Sl=e:Sl.push.apply(Sl,e)}function Dxe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!ou(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function PA(e,t){for(t&=~QL,t&=~$E,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zd(t),a=1<<r;e[r]=-1,t&=~a}}function o$(e){if(Gn&6)throw Error(nr(327));Og();var t=ES(e,0);if(!(t&1))return Il(e,$s()),null;var r=KS(e,t);if(e.tag!==0&&r===2){var a=kT(e);a!==0&&(t=a,r=i6(e,a))}if(r===1)throw r=Jb,s0(e,0),PA(e,t),Il(e,$s()),r;if(r===6)throw Error(nr(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Np(e,Sl,tf),Il(e,$s()),null}function HL(e,t){var r=Gn;Gn|=1;try{return e(t)}finally{Gn=r,Gn===0&&(Sv=$s()+500,RE&&Vm())}}function w0(e){qA!==null&&qA.tag===0&&!(Gn&6)&&Og();var t=Gn;Gn|=1;var r=od.transition,a=ba;try{if(od.transition=null,ba=1,e)return e()}finally{ba=a,od.transition=r,Gn=t,!(Gn&6)&&Vm()}}function zL(){sc=pg.current,Ja(pg)}function s0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hxe(r)),ni!==null)for(r=ni.return;r!==null;){var a=r;switch(NL(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&TS();break;case 3:Nv(),Ja(kl),Ja(Po),TL();break;case 5:kL(a);break;case 4:Nv();break;case 13:Ja(ds);break;case 19:Ja(ds);break;case 10:EL(a.type._context);break;case 22:case 23:zL()}r=r.return}if(Di=e,ni=e=hm(e.current,null),so=sc=t,vi=0,Jb=null,QL=$E=y0=0,Sl=Xw=null,Dp!==null){for(t=0;t<Dp.length;t++)if(r=Dp[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}r.pending=a}Dp=null}return e}function KZ(e,t){do{var r=ni;try{if(_L(),z4.current=$S,QS){for(var a=ms.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}QS=!1}if(v0=0,Bi=mi=ms=null,Ww=!1,Gb=0,UL.current=null,r===null||r.return===null){vi=1,Jb=t,ni=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=so,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var A=W7(o);if(A!==null){A.flags&=-257,G7(A,o,l,i,t),A.mode&1&&q7(i,d,t),t=A,c=d;var p=t.updateQueue;if(p===null){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}else{if(!(t&1)){q7(i,d,t),VL();break e}c=Error(nr(426))}}else if(ns&&l.mode&1){var x=W7(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),G7(x,o,l,i,t),CL(Cv(c,l));break e}}i=c=Cv(c,l),vi!==4&&(vi=2),Xw===null?Xw=[i]:Xw.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=BZ(i,c,t);Q7(i,g);break e;case 1:l=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dm===null||!dm.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=FZ(i,l,t);Q7(i,j);break e}}i=i.return}while(i!==null)}GZ(r)}catch(b){t=b,ni===r&&r!==null&&(ni=r=r.return);continue}break}while(!0)}function qZ(){var e=HS.current;return HS.current=$S,e===null?$S:e}function VL(){(vi===0||vi===3||vi===2)&&(vi=4),Di===null||!(y0&268435455)&&!($E&268435455)||PA(Di,so)}function KS(e,t){var r=Gn;Gn|=2;var a=qZ();(Di!==e||so!==t)&&(tf=null,s0(e,t));do try{Lxe();break}catch(s){KZ(e,s)}while(!0);if(_L(),Gn=r,HS.current=a,ni!==null)throw Error(nr(261));return Di=null,so=0,vi}function Lxe(){for(;ni!==null;)WZ(ni)}function Rxe(){for(;ni!==null&&!c0e();)WZ(ni)}function WZ(e){var t=YZ(e.alternate,e,sc);e.memoizedProps=e.pendingProps,t===null?GZ(e):ni=t,UL.current=null}function GZ(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Pxe(r,t),r!==null){r.flags&=32767,ni=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vi=6,ni=null;return}}else if(r=Fxe(r,t,sc),r!==null){ni=r;return}if(t=t.sibling,t!==null){ni=t;return}ni=t=e}while(t!==null);vi===0&&(vi=5)}function Np(e,t,r){var a=ba,s=od.transition;try{od.transition=null,ba=1,Mxe(e,t,r,a)}finally{od.transition=s,ba=a}return null}function Mxe(e,t,r,a){do Og();while(qA!==null);if(Gn&6)throw Error(nr(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(nr(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(v0e(e,i),e===Di&&(ni=Di=null,so=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||AC||(AC=!0,JZ(_S,function(){return Og(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=od.transition,od.transition=null;var o=ba;ba=1;var l=Gn;Gn|=4,UL.current=null,Txe(e,r),HZ(r,e),sxe(RT),BS=!!LT,RT=LT=null,e.current=r,Ixe(r),d0e(),Gn=l,ba=o,od.transition=i}else e.current=r;if(AC&&(AC=!1,qA=e,VS=s),i=e.pendingLanes,i===0&&(dm=null),f0e(r.stateNode),Il(e,$s()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(zS)throw zS=!1,e=a6,a6=null,e;return VS&1&&e.tag!==0&&Og(),i=e.pendingLanes,i&1?e===s6?Yw++:(Yw=0,s6=e):Yw=0,Vm(),null}function Og(){if(qA!==null){var e=BJ(VS),t=od.transition,r=ba;try{if(od.transition=null,ba=16>e?16:e,qA===null)var a=!1;else{if(e=qA,qA=null,VS=0,Gn&6)throw Error(nr(331));var s=Gn;for(Gn|=4,Cr=e.current;Cr!==null;){var i=Cr,o=i.child;if(Cr.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Cr=d;Cr!==null;){var u=Cr;switch(u.tag){case 0:case 11:case 15:Gw(8,u,i)}var h=u.child;if(h!==null)h.return=u,Cr=h;else for(;Cr!==null;){u=Cr;var f=u.sibling,A=u.return;if(UZ(u),u===d){Cr=null;break}if(f!==null){f.return=A,Cr=f;break}Cr=A}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Cr=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Cr=o;else e:for(;Cr!==null;){if(i=Cr,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gw(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Cr=g;break e}Cr=i.return}}var v=e.current;for(Cr=v;Cr!==null;){o=Cr;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Cr=y;else e:for(o=v;Cr!==null;){if(l=Cr,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:QE(9,l)}}catch(b){Cs(l,l.return,b)}if(l===o){Cr=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Cr=j;break e}Cr=l.return}}if(Gn=s,Vm(),nh&&typeof nh.onPostCommitFiberRoot=="function")try{nh.onPostCommitFiberRoot(TE,e)}catch{}a=!0}return a}finally{ba=r,od.transition=t}}return!1}function l$(e,t,r){t=Cv(r,t),t=BZ(e,t,1),e=cm(e,t,1),t=ol(),e!==null&&(M2(e,1,t),Il(e,t))}function Cs(e,t,r){if(e.tag===3)l$(e,e,r);else for(;t!==null;){if(t.tag===3){l$(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dm===null||!dm.has(a))){e=Cv(r,e),e=FZ(t,e,1),t=cm(t,e,1),e=ol(),t!==null&&(M2(t,1,e),Il(t,e));break}}t=t.return}}function Uxe(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&r,Di===e&&(so&r)===r&&(vi===4||vi===3&&(so&130023424)===so&&500>$s()-$L?s0(e,0):QL|=r),Il(e,t)}function XZ(e,t){t===0&&(e.mode&1?(t=aC,aC<<=1,!(aC&130023424)&&(aC=4194304)):t=1);var r=ol();e=Bf(e,t),e!==null&&(M2(e,t,r),Il(e,r))}function Qxe(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XZ(e,r)}function $xe(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(nr(314))}a!==null&&a.delete(t),XZ(e,r)}var YZ;YZ=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kl.current)El=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return El=!1,Bxe(e,t,r);El=!!(e.flags&131072)}else El=!1,ns&&t.flags&1048576&&tZ(t,DS,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;K4(e,t),e=t.pendingProps;var s=wv(t,Po.current);Ig(t,r),s=OL(null,t,a,e,s,r);var i=DL();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tl(a)?(i=!0,IS(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,FL(t),s.updater=UE,t.stateNode=s,s._reactInternals=t,qT(t,a,e,r),t=XT(null,t,a,!0,i,r)):(t.tag=0,ns&&i&&jL(t),Ko(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(K4(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=zxe(a),e=Ld(a,e),s){case 0:t=GT(null,t,a,e,r);break e;case 1:t=J7(null,t,a,e,r);break e;case 11:t=X7(null,t,a,e,r);break e;case 14:t=Y7(null,t,a,Ld(a.type,e),r);break e}throw Error(nr(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ld(a,s),GT(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ld(a,s),J7(e,t,a,s,r);case 3:e:{if(IZ(t),e===null)throw Error(nr(387));a=t.pendingProps,i=t.memoizedState,s=i.element,oZ(e,t),MS(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Cv(Error(nr(423)),t),t=Z7(e,t,a,r,s);break e}else if(a!==s){s=Cv(Error(nr(424)),t),t=Z7(e,t,a,r,s);break e}else for(pc=lm(t.stateNode.containerInfo.firstChild),yc=t,ns=!0,$d=null,r=sZ(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bv(),a===s){t=Ff(e,t,r);break e}Ko(e,t,a,r)}t=t.child}return t;case 5:return lZ(t),e===null&&zT(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,MT(a,s)?o=null:i!==null&&MT(a,i)&&(t.flags|=32),TZ(e,t),Ko(e,t,o,r),t.child;case 6:return e===null&&zT(t),null;case 13:return OZ(e,t,r);case 4:return PL(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=jv(t,null,a,r):Ko(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ld(a,s),X7(e,t,a,s,r);case 7:return Ko(e,t,t.pendingProps,r),t.child;case 8:return Ko(e,t,t.pendingProps.children,r),t.child;case 12:return Ko(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Qa(LS,a._currentValue),a._currentValue=o,i!==null)if(ou(i.value,o)){if(i.children===s.children&&!kl.current){t=Ff(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=vf(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),VT(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(nr(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),VT(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ko(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Ig(t,r),s=ud(s),a=a(s),t.flags|=1,Ko(e,t,a,r),t.child;case 14:return a=t.type,s=Ld(a,t.pendingProps),s=Ld(a.type,s),Y7(e,t,a,s,r);case 15:return PZ(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ld(a,s),K4(e,t),t.tag=1,Tl(a)?(e=!0,IS(t)):e=!1,Ig(t,r),EZ(t,a,s),qT(t,a,s,r),XT(null,t,a,!0,e,r);case 19:return DZ(e,t,r);case 22:return kZ(e,t,r)}throw Error(nr(156,t.tag))};function JZ(e,t){return CJ(e,t)}function Hxe(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ed(e,t,r,a){return new Hxe(e,t,r,a)}function KL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zxe(e){if(typeof e=="function")return KL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uL)return 11;if(e===hL)return 14}return 2}function hm(e,t){var r=e.alternate;return r===null?(r=ed(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function G4(e,t,r,a,s,i){var o=2;if(a=e,typeof e=="function")KL(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ig:return i0(r.children,s,i,t);case dL:o=8,s|=8;break;case xT:return e=ed(12,r,t,s|2),e.elementType=xT,e.lanes=i,e;case gT:return e=ed(13,r,t,s),e.elementType=gT,e.lanes=i,e;case vT:return e=ed(19,r,t,s),e.elementType=vT,e.lanes=i,e;case lJ:return HE(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iJ:o=10;break e;case oJ:o=9;break e;case uL:o=11;break e;case hL:o=14;break e;case jA:o=16,a=null;break e}throw Error(nr(130,e==null?e:typeof e,""))}return t=ed(o,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function i0(e,t,r,a){return e=ed(7,e,a,t),e.lanes=r,e}function HE(e,t,r,a){return e=ed(22,e,a,t),e.elementType=lJ,e.lanes=r,e.stateNode={isHidden:!1},e}function WP(e,t,r){return e=ed(6,e,null,t),e.lanes=r,e}function GP(e,t,r){return t=ed(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vxe(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BP(0),this.expirationTimes=BP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BP(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qL(e,t,r,a,s,i,o,l,c){return e=new Vxe(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ed(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},FL(i),e}function Kxe(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sg,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function ZZ(e){if(!e)return jm;e=e._reactInternals;e:{if(Y0(e)!==e||e.tag!==1)throw Error(nr(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(nr(171))}if(e.tag===1){var r=e.type;if(Tl(r))return ZJ(e,r,t)}return t}function eee(e,t,r,a,s,i,o,l,c){return e=qL(r,a,!0,e,s,i,o,l,c),e.context=ZZ(null),r=e.current,a=ol(),s=um(r),i=vf(a,s),i.callback=t??null,cm(r,i,s),e.current.lanes=s,M2(e,s,a),Il(e,a),e}function zE(e,t,r,a){var s=t.current,i=ol(),o=um(s);return r=ZZ(r),t.context===null?t.context=r:t.pendingContext=r,t=vf(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=cm(s,t,o),e!==null&&(eu(e,s,o,i),H4(e,s,o)),o}function qS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c$(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function WL(e,t){c$(e,t),(e=e.alternate)&&c$(e,t)}function qxe(){return null}var tee=typeof reportError=="function"?reportError:function(e){console.error(e)};function GL(e){this._internalRoot=e}VE.prototype.render=GL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nr(409));zE(e,t,null,null)};VE.prototype.unmount=GL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;w0(function(){zE(null,e,null,null)}),t[Ef]=null}};function VE(e){this._internalRoot=e}VE.prototype.unstable_scheduleHydration=function(e){if(e){var t=kJ();e={blockedOn:null,target:e,priority:t};for(var r=0;r<FA.length&&t!==0&&t<FA[r].priority;r++);FA.splice(r,0,e),r===0&&IJ(e)}};function XL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function KE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function d$(){}function Wxe(e,t,r,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=qS(o);i.call(d)}}var o=eee(t,a,e,0,null,!1,!1,"",d$);return e._reactRootContainer=o,e[Ef]=o.current,zb(e.nodeType===8?e.parentNode:e),w0(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var l=a;a=function(){var d=qS(c);l.call(d)}}var c=qL(e,0,!1,null,null,!1,!1,"",d$);return e._reactRootContainer=c,e[Ef]=c.current,zb(e.nodeType===8?e.parentNode:e),w0(function(){zE(t,c,r,a)}),c}function qE(e,t,r,a,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=qS(o);l.call(c)}}zE(t,o,e,s)}else o=Wxe(r,t,e,s,a);return qS(o)}FJ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mw(t.pendingLanes);r!==0&&(mL(t,r|1),Il(t,$s()),!(Gn&6)&&(Sv=$s()+500,Vm()))}break;case 13:w0(function(){var a=Bf(e,1);if(a!==null){var s=ol();eu(a,e,1,s)}}),WL(e,1)}};pL=function(e){if(e.tag===13){var t=Bf(e,134217728);if(t!==null){var r=ol();eu(t,e,134217728,r)}WL(e,134217728)}};PJ=function(e){if(e.tag===13){var t=um(e),r=Bf(e,t);if(r!==null){var a=ol();eu(r,e,t,a)}WL(e,t)}};kJ=function(){return ba};TJ=function(e,t){var r=ba;try{return ba=e,t()}finally{ba=r}};BT=function(e,t,r){switch(t){case"input":if(bT(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=LE(a);if(!s)throw Error(nr(90));dJ(a),bT(a,s)}}}break;case"textarea":hJ(e,r);break;case"select":t=r.value,t!=null&&Fg(e,!!r.multiple,t,!1)}};vJ=HL;yJ=w0;var Gxe={usingClientEntryPoint:!1,Events:[Q2,dg,LE,xJ,gJ,HL]},U1={findFiberByHostInstance:Op,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xxe={bundleType:U1.bundleType,version:U1.version,rendererPackageName:U1.rendererPackageName,rendererConfig:U1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$f.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jJ(e),e===null?null:e.stateNode},findFiberByHostInstance:U1.findFiberByHostInstance||qxe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mC.isDisabled&&mC.supportsFiber)try{TE=mC.inject(Xxe),nh=mC}catch{}}_c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gxe;_c.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XL(t))throw Error(nr(200));return Kxe(e,t,null,r)};_c.createRoot=function(e,t){if(!XL(e))throw Error(nr(299));var r=!1,a="",s=tee;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qL(e,1,!1,null,null,r,!1,a,s),e[Ef]=t.current,zb(e.nodeType===8?e.parentNode:e),new GL(t)};_c.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nr(188)):(e=Object.keys(e).join(","),Error(nr(268,e)));return e=jJ(t),e=e===null?null:e.stateNode,e};_c.flushSync=function(e){return w0(e)};_c.hydrate=function(e,t,r){if(!KE(t))throw Error(nr(200));return qE(null,e,t,!0,r)};_c.hydrateRoot=function(e,t,r){if(!XL(e))throw Error(nr(405));var a=r!=null&&r.hydratedSources||null,s=!1,i="",o=tee;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=eee(t,null,e,1,r??null,s,!1,i,o),e[Ef]=t.current,zb(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new VE(t)};_c.render=function(e,t,r){if(!KE(t))throw Error(nr(200));return qE(null,e,t,!1,r)};_c.unmountComponentAtNode=function(e){if(!KE(e))throw Error(nr(40));return e._reactRootContainer?(w0(function(){qE(null,null,e,!1,function(){e._reactRootContainer=null,e[Ef]=null})}),!0):!1};_c.unstable_batchedUpdates=HL;_c.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!KE(r))throw Error(nr(200));if(e==null||e._reactInternals===void 0)throw Error(nr(38));return qE(e,t,r,!1,a)};_c.version="18.3.1-next-f1338f8080-20240426";function ree(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ree)}catch(e){console.error(e)}}ree(),rJ.exports=_c;var J0=rJ.exports;const Yxe=ua(J0);var nee,u$=J0;nee=u$.createRoot,u$.hydrateRoot;const Jxe="modulepreload",Zxe=function(e){return"/"+e},h$={},Jw=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Zxe(c),c in h$)return;h$[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Jxe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,A)=>{h.addEventListener("load",f),h.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function ege(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~a?a:~i?i:s.length)),l+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~a?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var aee={exports:{}},see={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=B;function tge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rge=typeof Object.is=="function"?Object.is:tge,nge=_v.useState,age=_v.useEffect,sge=_v.useLayoutEffect,ige=_v.useDebugValue;function oge(e,t){var r=t(),a=nge({inst:{value:r,getSnapshot:t}}),s=a[0].inst,i=a[1];return sge(function(){s.value=r,s.getSnapshot=t,XP(s)&&i({inst:s})},[e,r,t]),age(function(){return XP(s)&&i({inst:s}),e(function(){XP(s)&&i({inst:s})})},[e]),ige(r),r}function XP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rge(e,r)}catch{return!0}}function lge(e,t){return t()}var cge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lge:oge;see.useSyncExternalStore=_v.useSyncExternalStore!==void 0?_v.useSyncExternalStore:cge;aee.exports=see;var dge=aee.exports;const uge=eJ.useInsertionEffect,hge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fge=hge?B.useLayoutEffect:B.useEffect,Age=uge||fge,iee=e=>{const t=B.useRef([e,(...r)=>t[0](...r)]).current;return Age(()=>{t[0]=e}),t[1]},mge="popstate",YL="pushState",JL="replaceState",pge="hashchange",f$=[mge,YL,JL,pge],xge=e=>{for(const t of f$)addEventListener(t,e);return()=>{for(const t of f$)removeEventListener(t,e)}},oee=(e,t)=>dge.useSyncExternalStore(xge,e,t),gge=()=>location.search,vge=({ssrSearch:e=""}={})=>oee(gge,()=>e),A$=()=>location.pathname,yge=({ssrPath:e}={})=>oee(A$,e?()=>e:A$),wge=(e,{replace:t=!1,state:r=null}={})=>history[t?JL:YL](r,"",e),bge=(e={})=>[yge(e),wge],m$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[m$]>"u"){for(const e of[YL,JL]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,m$,{value:!0})}const jge=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",lee=(e="")=>e==="/"?"":e,Nge=(e,t)=>e[0]==="~"?e.slice(1):lee(t)+e,Cge=(e="",t)=>jge(p$(lee(e)),p$(t)),p$=e=>{try{return decodeURI(e)}catch{return e}},cee={hook:bge,searchHook:vge,parser:ege,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},dee=B.createContext(cee),Cy=()=>B.useContext(dee),uee={},hee=B.createContext(uee),Sge=()=>B.useContext(hee),WE=e=>{const[t,r]=e.hook(e);return[Cge(e.base,t),iee((a,s)=>r(Nge(a,e.base),s))]},Hf=()=>WE(Cy()),ZL=(e,t,r,a)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...a?[l]:[]]:[!1,null]},fee=e=>ZL(Cy().parser,e,Hf()[0]),_ge=({children:e,...t})=>{var u,h;const r=Cy(),a=t.hook?cee:r;let s=a;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=B.useRef({}),c=l.current,d=c;for(let f in a){const A=f==="base"?a[f]+(t[f]||""):t[f]||a[f];c===d&&A!==d[f]&&(l.current=d={...d}),d[f]=A,A!==a[f]&&(s=d)}return B.createElement(dee.Provider,{value:s,children:e})},x$=({children:e,component:t},r)=>t?B.createElement(t,{params:r}):typeof e=="function"?e(r):e,Ege=e=>{let t=B.useRef(uee),r=t.current;for(const a in e)e[a]!==r[a]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},hr=({path:e,nest:t,match:r,...a})=>{const s=Cy(),[i]=WE(s),[o,l,c]=r??ZL(s.parser,e,i,t),d=Ege({...Sge(),...l});if(!o)return null;const u=c?B.createElement(_ge,{base:c},x$(a,d)):x$(a,d);return B.createElement(hee.Provider,{value:d,children:u})},ai=B.forwardRef((e,t)=>{const r=Cy(),[a,s]=WE(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...A}=e,p=iee(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),s(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&B.isValidElement(d)?B.cloneElement(d,{onClick:p,href:m}):B.createElement("a",{...A,onClick:p,href:m,className:u!=null&&u.call?u(a===o):u,children:d,ref:t})}),Aee=e=>Array.isArray(e)?e.flatMap(t=>Aee(t&&t.type===B.Fragment?t.props.children:t)):[e],g$=({children:e,location:t})=>{const r=Cy(),[a]=WE(r);for(const s of Aee(e)){let i=0;if(B.isValidElement(s)&&(i=ZL(r.parser,s.props.path,t||a,s.props.nest))[0])return B.cloneElement(s,{match:i})}return null};var Sy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},b0=typeof window>"u"||"Deno"in globalThis;function Vc(){}function Bge(e,t){return typeof e=="function"?e(t):e}function l6(e){return typeof e=="number"&&e>=0&&e!==1/0}function mee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Dg(e,t){return typeof e=="function"?e(t):e}function Hd(e,t){return typeof e=="function"?e(t):e}function v$(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==eR(o,t.options))return!1}else if(!Zb(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function y$(e,t){const{exact:r,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(j0(t.options.mutationKey)!==j0(i))return!1}else if(!Zb(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function eR(e,t){return((t==null?void 0:t.queryKeyHashFn)||j0)(e)}function j0(e){return JSON.stringify(e,(t,r)=>c6(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function Zb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Zb(e[r],t[r])):!1}function pee(e,t){if(e===t)return e;const r=w$(e)&&w$(t);if(r||c6(e)&&c6(t)){const a=r?e:Object.keys(e),s=a.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&a.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=pee(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function WS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function w$(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function c6(e){if(!b$(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!b$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function b$(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fge(e){return new Promise(t=>{setTimeout(t,e)})}function d6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?pee(e,t):t}function Pge(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function kge(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var tR=Symbol();function xee(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Jp,LA,ov,IY,Tge=(IY=class extends Sy{constructor(){super();qr(this,Jp);qr(this,LA);qr(this,ov);wr(this,ov,t=>{if(!b0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){it(this,LA)||this.setEventListener(it(this,ov))}onUnsubscribe(){var t;this.hasListeners()||((t=it(this,LA))==null||t.call(this),wr(this,LA,void 0))}setEventListener(t){var r;wr(this,ov,t),(r=it(this,LA))==null||r.call(this),wr(this,LA,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){it(this,Jp)!==t&&(wr(this,Jp,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof it(this,Jp)=="boolean"?it(this,Jp):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Jp=new WeakMap,LA=new WeakMap,ov=new WeakMap,IY),rR=new Tge,lv,RA,cv,OY,Ige=(OY=class extends Sy{constructor(){super();qr(this,lv,!0);qr(this,RA);qr(this,cv);wr(this,cv,t=>{if(!b0&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){it(this,RA)||this.setEventListener(it(this,cv))}onUnsubscribe(){var t;this.hasListeners()||((t=it(this,RA))==null||t.call(this),wr(this,RA,void 0))}setEventListener(t){var r;wr(this,cv,t),(r=it(this,RA))==null||r.call(this),wr(this,RA,t(this.setOnline.bind(this)))}setOnline(t){it(this,lv)!==t&&(wr(this,lv,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return it(this,lv)}},lv=new WeakMap,RA=new WeakMap,cv=new WeakMap,OY),GS=new Ige;function u6(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}function Oge(e){return Math.min(1e3*2**e,3e4)}function gee(e){return(e??"online")==="online"?GS.isOnline():!0}var vee=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function YP(e){return e instanceof vee}function yee(e){let t=!1,r=0,a=!1,s;const i=u6(),o=m=>{var x;a||(f(new vee(m)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>rR.isFocused()&&(e.networkMode==="always"||GS.isOnline())&&e.canRun(),u=()=>gee(e.networkMode)&&e.canRun(),h=m=>{var x;a||(a=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),i.resolve(m))},f=m=>{var x;a||(a=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),i.reject(m))},A=()=>new Promise(m=>{var x;s=g=>{(a||d())&&m(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,a||(m=e.onContinue)==null||m.call(e)}),p=()=>{if(a)return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var w;if(a)return;const v=e.retry??(b0?0:3),y=e.retryDelay??Oge,j=typeof y=="function"?y(r,g):y,b=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(t||!b){f(g);return}r++,(w=e.onFail)==null||w.call(e,r,g),Fge(j).then(()=>d()?void 0:A()).then(()=>{t?f(g):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?p():A().then(p),i)}}function Dge(){let e=[],t=0,r=l=>{l()},a=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{a(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{s=l}}}var pi=Dge(),Zp,DY,wee=(DY=class{constructor(){qr(this,Zp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l6(this.gcTime)&&wr(this,Zp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(b0?1/0:5*60*1e3))}clearGcTimeout(){it(this,Zp)&&(clearTimeout(it(this,Zp)),wr(this,Zp,void 0))}},Zp=new WeakMap,DY),dv,uv,zc,go,I2,e0,Rd,Zh,LY,Lge=(LY=class extends wee{constructor(t){super();qr(this,Rd);qr(this,dv);qr(this,uv);qr(this,zc);qr(this,go);qr(this,I2);qr(this,e0);wr(this,e0,!1),wr(this,I2,t.defaultOptions),this.setOptions(t.options),this.observers=[],wr(this,zc,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,wr(this,dv,Rge(this.options)),this.state=t.state??it(this,dv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=it(this,go))==null?void 0:t.promise}setOptions(t){this.options={...it(this,I2),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&it(this,zc).remove(this)}setData(t,r){const a=d6(this.state.data,t,this.options);return Nn(this,Rd,Zh).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Nn(this,Rd,Zh).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,s;const r=(a=it(this,go))==null?void 0:a.promise;return(s=it(this,go))==null||s.cancel(t),r?r.then(Vc).catch(Vc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(it(this,dv))}isActive(){return this.observers.some(t=>Hd(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!mee(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=it(this,go))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=it(this,go))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),it(this,zc).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(it(this,go)&&(it(this,e0)?it(this,go).cancel({revert:!0}):it(this,go).cancelRetry()),this.scheduleGc()),it(this,zc).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nn(this,Rd,Zh).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(it(this,go))return it(this,go).continueRetry(),it(this,go).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(wr(this,e0,!0),a.signal)})},i=()=>{const h=xee(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),wr(this,e0,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),wr(this,uv,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Nn(this,Rd,Zh).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,A,p,m;YP(h)&&h.silent||Nn(this,Rd,Zh).call(this,{type:"error",error:h}),YP(h)||((A=(f=it(this,zc).config).onError)==null||A.call(f,h,this),(m=(p=it(this,zc).config).onSettled)==null||m.call(p,this.state.data,h,this)),this.scheduleGc()};return wr(this,go,yee({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var f,A,p,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(A=(f=it(this,zc).config).onSuccess)==null||A.call(f,h,this),(m=(p=it(this,zc).config).onSettled)==null||m.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Nn(this,Rd,Zh).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Nn(this,Rd,Zh).call(this,{type:"pause"})},onContinue:()=>{Nn(this,Rd,Zh).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),it(this,go).start()}},dv=new WeakMap,uv=new WeakMap,zc=new WeakMap,go=new WeakMap,I2=new WeakMap,e0=new WeakMap,Rd=new WeakSet,Zh=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...bee(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return YP(s)&&s.revert&&it(this,uv)?{...it(this,uv),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),pi.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),it(this,zc).notify({query:this,type:"updated",action:t})})},LY);function bee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gee(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Rge(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qu,RY,Mge=(RY=class extends Sy{constructor(t={}){super();qr(this,Qu);this.config=t,wr(this,Qu,new Map)}build(t,r,a){const s=r.queryKey,i=r.queryHash??eR(s,r);let o=this.get(i);return o||(o=new Lge({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){it(this,Qu).has(t.queryHash)||(it(this,Qu).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=it(this,Qu).get(t.queryHash);r&&(t.destroy(),r===t&&it(this,Qu).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return it(this,Qu).get(t)}getAll(){return[...it(this,Qu).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>v$(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>v$(t,a)):r}notify(t){pi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qu=new WeakMap,RY),$u,$o,t0,Hu,gA,MY,Uge=(MY=class extends wee{constructor(t){super();qr(this,Hu);qr(this,$u);qr(this,$o);qr(this,t0);this.mutationId=t.mutationId,wr(this,$o,t.mutationCache),wr(this,$u,[]),this.state=t.state||jee(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){it(this,$u).includes(t)||(it(this,$u).push(t),this.clearGcTimeout(),it(this,$o).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){wr(this,$u,it(this,$u).filter(r=>r!==t)),this.scheduleGc(),it(this,$o).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){it(this,$u).length||(this.state.status==="pending"?this.scheduleGc():it(this,$o).remove(this))}continue(){var t;return((t=it(this,t0))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,d,u,h,f,A,p,m,x,g,v,y,j,b,w,C;wr(this,t0,yee({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,E)=>{Nn(this,Hu,gA).call(this,{type:"failed",failureCount:F,error:E})},onPause:()=>{Nn(this,Hu,gA).call(this,{type:"pause"})},onContinue:()=>{Nn(this,Hu,gA).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>it(this,$o).canRun(this)}));const r=this.state.status==="pending",a=!it(this,t0).canStart();try{if(!r){Nn(this,Hu,gA).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=it(this,$o).config).onMutate)==null?void 0:i.call(s,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&Nn(this,Hu,gA).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const F=await it(this,t0).start();return await((d=(c=it(this,$o).config).onSuccess)==null?void 0:d.call(c,F,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,F,t,this.state.context)),await((A=(f=it(this,$o).config).onSettled)==null?void 0:A.call(f,F,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,F,null,t,this.state.context)),Nn(this,Hu,gA).call(this,{type:"success",data:F}),F}catch(F){try{throw await((g=(x=it(this,$o).config).onError)==null?void 0:g.call(x,F,t,this.state.context,this)),await((y=(v=this.options).onError)==null?void 0:y.call(v,F,t,this.state.context)),await((b=(j=it(this,$o).config).onSettled)==null?void 0:b.call(j,void 0,F,this.state.variables,this.state.context,this)),await((C=(w=this.options).onSettled)==null?void 0:C.call(w,void 0,F,t,this.state.context)),F}finally{Nn(this,Hu,gA).call(this,{type:"error",error:F})}}finally{it(this,$o).runNext(this)}}},$u=new WeakMap,$o=new WeakMap,t0=new WeakMap,Hu=new WeakSet,gA=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),pi.batch(()=>{it(this,$u).forEach(a=>{a.onMutationUpdate(t)}),it(this,$o).notify({mutation:this,type:"updated",action:t})})},MY);function jee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ac,O2,UY,Qge=(UY=class extends Sy{constructor(t={}){super();qr(this,ac);qr(this,O2);this.config=t,wr(this,ac,new Map),wr(this,O2,Date.now())}build(t,r,a){const s=new Uge({mutationCache:this,mutationId:++YN(this,O2)._,options:t.defaultMutationOptions(r),state:a});return this.add(s),s}add(t){const r=pC(t),a=it(this,ac).get(r)??[];a.push(t),it(this,ac).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=pC(t);if(it(this,ac).has(r)){const s=(a=it(this,ac).get(r))==null?void 0:a.filter(i=>i!==t);s&&(s.length===0?it(this,ac).delete(r):it(this,ac).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=it(this,ac).get(pC(t)))==null?void 0:a.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=it(this,ac).get(pC(t)))==null?void 0:a.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){pi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...it(this,ac).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>y$(r,a))}findAll(t={}){return this.getAll().filter(r=>y$(t,r))}notify(t){pi.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return pi.batch(()=>Promise.all(t.map(r=>r.continue().catch(Vc))))}},ac=new WeakMap,O2=new WeakMap,UY);function pC(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function j$(e){return{onFetch:(t,r)=>{var u,h,f,A,p;const a=t.options,s=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((A=t.state.data)==null?void 0:A.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=xee(t.options,t.fetchOptions),v=async(y,j,b)=>{if(m)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const w={queryKey:t.queryKey,pageParam:j,direction:b?"backward":"forward",meta:t.options.meta};x(w);const C=await g(w),{maxPages:F}=t.options,E=b?kge:Pge;return{pages:E(y.pages,C,F),pageParams:E(y.pageParams,j,F)}};if(s&&i.length){const y=s==="backward",j=y?$ge:N$,b={pages:i,pageParams:o},w=j(a,b);l=await v(b,w,y)}else{const y=e??i.length;do{const j=c===0?o[0]??a.initialPageParam:N$(a,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function N$(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function $ge(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var bs,MA,UA,hv,fv,QA,Av,mv,QY,Hge=(QY=class{constructor(e={}){qr(this,bs);qr(this,MA);qr(this,UA);qr(this,hv);qr(this,fv);qr(this,QA);qr(this,Av);qr(this,mv);wr(this,bs,e.queryCache||new Mge),wr(this,MA,e.mutationCache||new Qge),wr(this,UA,e.defaultOptions||{}),wr(this,hv,new Map),wr(this,fv,new Map),wr(this,QA,0)}mount(){YN(this,QA)._++,it(this,QA)===1&&(wr(this,Av,rR.subscribe(async e=>{e&&(await this.resumePausedMutations(),it(this,bs).onFocus())})),wr(this,mv,GS.subscribe(async e=>{e&&(await this.resumePausedMutations(),it(this,bs).onOnline())})))}unmount(){var e,t;YN(this,QA)._--,it(this,QA)===0&&((e=it(this,Av))==null||e.call(this),wr(this,Av,void 0),(t=it(this,mv))==null||t.call(this),wr(this,mv,void 0))}isFetching(e){return it(this,bs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return it(this,MA).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=it(this,bs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=it(this,bs).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(Dg(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return it(this,bs).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),s=it(this,bs).get(a.queryHash),i=s==null?void 0:s.state.data,o=Bge(t,i);if(o!==void 0)return it(this,bs).build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return pi.batch(()=>it(this,bs).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=it(this,bs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=it(this,bs);pi.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=it(this,bs),a={type:"active",...e};return pi.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=pi.batch(()=>it(this,bs).findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(Vc).catch(Vc)}invalidateQueries(e={},t={}){return pi.batch(()=>{if(it(this,bs).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=pi.batch(()=>it(this,bs).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Vc)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Vc)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=it(this,bs).build(this,t);return r.isStaleByTime(Dg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vc).catch(Vc)}fetchInfiniteQuery(e){return e.behavior=j$(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vc).catch(Vc)}ensureInfiniteQueryData(e){return e.behavior=j$(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return GS.isOnline()?it(this,MA).resumePausedMutations():Promise.resolve()}getQueryCache(){return it(this,bs)}getMutationCache(){return it(this,MA)}getDefaultOptions(){return it(this,UA)}setDefaultOptions(e){wr(this,UA,e)}setQueryDefaults(e,t){it(this,hv).set(j0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...it(this,hv).values()];let r={};return t.forEach(a=>{Zb(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){it(this,fv).set(j0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...it(this,fv).values()];let r={};return t.forEach(a=>{Zb(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...it(this,UA).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===tR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...it(this,UA).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){it(this,bs).clear(),it(this,MA).clear()}},bs=new WeakMap,MA=new WeakMap,UA=new WeakMap,hv=new WeakMap,fv=new WeakMap,QA=new WeakMap,Av=new WeakMap,mv=new WeakMap,QY),bl,Dn,D2,Ho,r0,pv,$A,zu,L2,xv,gv,n0,a0,HA,vv,da,xw,h6,f6,A6,m6,p6,x6,g6,Nee,$Y,zge=($Y=class extends Sy{constructor(t,r){super();qr(this,da);qr(this,bl);qr(this,Dn);qr(this,D2);qr(this,Ho);qr(this,r0);qr(this,pv);qr(this,$A);qr(this,zu);qr(this,L2);qr(this,xv);qr(this,gv);qr(this,n0);qr(this,a0);qr(this,HA);qr(this,vv,new Set);this.options=r,wr(this,bl,t),wr(this,zu,null),wr(this,$A,u6()),this.options.experimental_prefetchInRender||it(this,$A).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(it(this,Dn).addObserver(this),C$(it(this,Dn),this.options)?Nn(this,da,xw).call(this):this.updateResult(),Nn(this,da,m6).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return v6(it(this,Dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return v6(it(this,Dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Nn(this,da,p6).call(this),Nn(this,da,x6).call(this),it(this,Dn).removeObserver(this)}setOptions(t,r){const a=this.options,s=it(this,Dn);if(this.options=it(this,bl).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hd(this.options.enabled,it(this,Dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Nn(this,da,g6).call(this),it(this,Dn).setOptions(this.options),a._defaulted&&!WS(this.options,a)&&it(this,bl).getQueryCache().notify({type:"observerOptionsUpdated",query:it(this,Dn),observer:this});const i=this.hasListeners();i&&S$(it(this,Dn),s,this.options,a)&&Nn(this,da,xw).call(this),this.updateResult(r),i&&(it(this,Dn)!==s||Hd(this.options.enabled,it(this,Dn))!==Hd(a.enabled,it(this,Dn))||Dg(this.options.staleTime,it(this,Dn))!==Dg(a.staleTime,it(this,Dn)))&&Nn(this,da,h6).call(this);const o=Nn(this,da,f6).call(this);i&&(it(this,Dn)!==s||Hd(this.options.enabled,it(this,Dn))!==Hd(a.enabled,it(this,Dn))||o!==it(this,HA))&&Nn(this,da,A6).call(this,o)}getOptimisticResult(t){const r=it(this,bl).getQueryCache().build(it(this,bl),t),a=this.createResult(r,t);return Kge(this,a)&&(wr(this,Ho,a),wr(this,pv,this.options),wr(this,r0,it(this,Dn).state)),a}getCurrentResult(){return it(this,Ho)}trackResult(t,r){const a={};return Object.keys(t).forEach(s=>{Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),a}trackProp(t){it(this,vv).add(t)}getCurrentQuery(){return it(this,Dn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=it(this,bl).defaultQueryOptions(t),a=it(this,bl).getQueryCache().build(it(this,bl),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return Nn(this,da,xw).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),it(this,Ho)))}createResult(t,r){var F;const a=it(this,Dn),s=this.options,i=it(this,Ho),o=it(this,r0),l=it(this,pv),d=t!==a?t.state:it(this,D2),{state:u}=t;let h={...u},f=!1,A;if(r._optimisticResults){const E=this.hasListeners(),L=!E&&C$(t,r),N=E&&S$(t,a,r,s);(L||N)&&(h={...h,...bee(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:x}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&r.select===it(this,L2))A=it(this,xv);else try{wr(this,L2,r.select),A=r.select(h.data),A=d6(i==null?void 0:i.data,A,r),wr(this,xv,A),wr(this,zu,null)}catch(E){wr(this,zu,E)}else A=h.data;if(r.placeholderData!==void 0&&A===void 0&&x==="pending"){let E;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((F=it(this,gv))==null?void 0:F.state.data,it(this,gv)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),wr(this,zu,null)}catch(L){wr(this,zu,L)}E!==void 0&&(x="success",A=d6(i==null?void 0:i.data,E,r),f=!0)}it(this,zu)&&(p=it(this,zu),A=it(this,xv),m=Date.now(),x="error");const g=h.fetchStatus==="fetching",v=x==="pending",y=x==="error",j=v&&g,b=A!==void 0,C={status:x,fetchStatus:h.fetchStatus,isPending:v,isSuccess:x==="success",isError:y,isInitialLoading:j,isLoading:j,data:A,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:y&&!b,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:y&&b,isStale:nR(t,r),refetch:this.refetch,promise:it(this,$A)};if(this.options.experimental_prefetchInRender){const E=I=>{C.status==="error"?I.reject(C.error):C.data!==void 0&&I.resolve(C.data)},L=()=>{const I=wr(this,$A,C.promise=u6());E(I)},N=it(this,$A);switch(N.status){case"pending":t.queryHash===a.queryHash&&E(N);break;case"fulfilled":(C.status==="error"||C.data!==N.value)&&L();break;case"rejected":(C.status!=="error"||C.error!==N.reason)&&L();break}}return C}updateResult(t){const r=it(this,Ho),a=this.createResult(it(this,Dn),this.options);if(wr(this,r0,it(this,Dn).state),wr(this,pv,this.options),it(this,r0).data!==void 0&&wr(this,gv,it(this,Dn)),WS(a,r))return;wr(this,Ho,a);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!it(this,vv).size)return!0;const c=new Set(l??it(this,vv));return this.options.throwOnError&&c.add("error"),Object.keys(it(this,Ho)).some(d=>{const u=d;return it(this,Ho)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),Nn(this,da,Nee).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Nn(this,da,m6).call(this)}},bl=new WeakMap,Dn=new WeakMap,D2=new WeakMap,Ho=new WeakMap,r0=new WeakMap,pv=new WeakMap,$A=new WeakMap,zu=new WeakMap,L2=new WeakMap,xv=new WeakMap,gv=new WeakMap,n0=new WeakMap,a0=new WeakMap,HA=new WeakMap,vv=new WeakMap,da=new WeakSet,xw=function(t){Nn(this,da,g6).call(this);let r=it(this,Dn).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vc)),r},h6=function(){Nn(this,da,p6).call(this);const t=Dg(this.options.staleTime,it(this,Dn));if(b0||it(this,Ho).isStale||!l6(t))return;const a=mee(it(this,Ho).dataUpdatedAt,t)+1;wr(this,n0,setTimeout(()=>{it(this,Ho).isStale||this.updateResult()},a))},f6=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(it(this,Dn)):this.options.refetchInterval)??!1},A6=function(t){Nn(this,da,x6).call(this),wr(this,HA,t),!(b0||Hd(this.options.enabled,it(this,Dn))===!1||!l6(it(this,HA))||it(this,HA)===0)&&wr(this,a0,setInterval(()=>{(this.options.refetchIntervalInBackground||rR.isFocused())&&Nn(this,da,xw).call(this)},it(this,HA)))},m6=function(){Nn(this,da,h6).call(this),Nn(this,da,A6).call(this,Nn(this,da,f6).call(this))},p6=function(){it(this,n0)&&(clearTimeout(it(this,n0)),wr(this,n0,void 0))},x6=function(){it(this,a0)&&(clearInterval(it(this,a0)),wr(this,a0,void 0))},g6=function(){const t=it(this,bl).getQueryCache().build(it(this,bl),this.options);if(t===it(this,Dn))return;const r=it(this,Dn);wr(this,Dn,t),wr(this,D2,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Nee=function(t){pi.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(it(this,Ho))}),it(this,bl).getQueryCache().notify({query:it(this,Dn),type:"observerResultsUpdated"})})},$Y);function Vge(e,t){return Hd(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function C$(e,t){return Vge(e,t)||e.state.data!==void 0&&v6(e,t,t.refetchOnMount)}function v6(e,t,r){if(Hd(t.enabled,e)!==!1){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&nR(e,t)}return!1}function S$(e,t,r,a){return(e!==t||Hd(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&nR(e,r)}function nR(e,t){return Hd(t.enabled,e)!==!1&&e.isStaleByTime(Dg(t.staleTime,e))}function Kge(e,t){return!WS(e.getCurrentResult(),t)}var zA,VA,jl,cf,Sf,X4,y6,HY,qge=(HY=class extends Sy{constructor(r,a){super();qr(this,Sf);qr(this,zA);qr(this,VA);qr(this,jl);qr(this,cf);wr(this,zA,r),this.setOptions(a),this.bindMethods(),Nn(this,Sf,X4).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const a=this.options;this.options=it(this,zA).defaultMutationOptions(r),WS(this.options,a)||it(this,zA).getMutationCache().notify({type:"observerOptionsUpdated",mutation:it(this,jl),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&j0(a.mutationKey)!==j0(this.options.mutationKey)?this.reset():((s=it(this,jl))==null?void 0:s.state.status)==="pending"&&it(this,jl).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=it(this,jl))==null||r.removeObserver(this)}onMutationUpdate(r){Nn(this,Sf,X4).call(this),Nn(this,Sf,y6).call(this,r)}getCurrentResult(){return it(this,VA)}reset(){var r;(r=it(this,jl))==null||r.removeObserver(this),wr(this,jl,void 0),Nn(this,Sf,X4).call(this),Nn(this,Sf,y6).call(this)}mutate(r,a){var s;return wr(this,cf,a),(s=it(this,jl))==null||s.removeObserver(this),wr(this,jl,it(this,zA).getMutationCache().build(it(this,zA),this.options)),it(this,jl).addObserver(this),it(this,jl).execute(r)}},zA=new WeakMap,VA=new WeakMap,jl=new WeakMap,cf=new WeakMap,Sf=new WeakSet,X4=function(){var a;const r=((a=it(this,jl))==null?void 0:a.state)??jee();wr(this,VA,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},y6=function(r){pi.batch(()=>{var a,s,i,o,l,c,d,u;if(it(this,cf)&&this.hasListeners()){const h=it(this,VA).variables,f=it(this,VA).context;(r==null?void 0:r.type)==="success"?((s=(a=it(this,cf)).onSuccess)==null||s.call(a,r.data,h,f),(o=(i=it(this,cf)).onSettled)==null||o.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=it(this,cf)).onError)==null||c.call(l,r.error,h,f),(u=(d=it(this,cf)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(it(this,VA))})})},HY),Cee=B.createContext(void 0),Z0=e=>{const t=B.useContext(Cee);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Wge=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Cee.Provider,{value:e,children:t})),See=B.createContext(!1),Gge=()=>B.useContext(See);See.Provider;function Xge(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Yge=B.createContext(Xge()),Jge=()=>B.useContext(Yge);function _ee(e,t){return typeof e=="function"?e(...t):!!e}function w6(){}var Zge=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},eve=e=>{B.useEffect(()=>{e.clearReset()},[e])},tve=({result:e,errorResetBoundary:t,throwOnError:r,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&_ee(r,[e.error,a]),rve=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},nve=(e,t)=>e.isLoading&&e.isFetching&&!t,ave=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_$=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function sve(e,t,r){var u,h,f,A,p;const a=Z0(),s=Gge(),i=Jge(),o=a.defaultQueryOptions(e);(h=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",rve(o),Zge(o,i),eve(i);const l=!a.getQueryCache().get(o.queryHash),[c]=B.useState(()=>new t(a,o)),d=c.getOptimisticResult(o);if(B.useSyncExternalStore(B.useCallback(m=>{const x=s?w6:c.subscribe(pi.batchCalls(m));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),B.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),ave(o,d))throw _$(o,c,i);if(tve({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw d.error;if((A=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||A.call(f,o,d),o.experimental_prefetchInRender&&!b0&&nve(d,s)){const m=l?_$(o,c,i):(p=a.getQueryCache().get(o.queryHash))==null?void 0:p.promise;m==null||m.catch(w6).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function pt(e,t){return sve(e,zge)}function jt(e,t){const r=Z0(),[a]=B.useState(()=>new qge(r,e));B.useEffect(()=>{a.setOptions(e)},[a,e]);const s=B.useSyncExternalStore(B.useCallback(o=>a.subscribe(pi.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=B.useCallback((o,l)=>{a.mutate(o,l).catch(w6)},[a]);if(s.error&&_ee(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const ive=1,ove=1e6;let JP=0;function lve(){return JP=(JP+1)%Number.MAX_SAFE_INTEGER,JP.toString()}const ZP=new Map,E$=e=>{if(ZP.has(e))return;const t=setTimeout(()=>{ZP.delete(e),Zw({type:"REMOVE_TOAST",toastId:e})},ove);ZP.set(e,t)},cve=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ive)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?E$(r):e.toasts.forEach(a=>{E$(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Y4=[];let J4={toasts:[]};function Zw(e){J4=cve(J4,e),Y4.forEach(t=>{t(J4)})}function dve({...e}){const t=lve(),r=s=>Zw({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>Zw({type:"DISMISS_TOAST",toastId:t});return Zw({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function en(){const[e,t]=B.useState(J4);return B.useEffect(()=>(Y4.push(t),()=>{const r=Y4.indexOf(t);r>-1&&Y4.splice(r,1)}),[e]),{...e,toast:dve,dismiss:r=>Zw({type:"DISMISS_TOAST",toastId:r})}}function fr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function B$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function GE(...e){return t=>{let r=!1;const a=e.map(s=>{const i=B$(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():B$(e[s],null)}}}}function $n(...e){return B.useCallback(GE(...e),e)}function uve(e,t){const r=B.createContext(t),a=i=>{const{children:o,...l}=i,c=B.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};a.displayName=e+"Provider";function s(i){const o=B.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Ql(e,t=[]){let r=[];function a(i,o){const l=B.createContext(o),c=r.length;r=[...r,o];const d=h=>{var g;const{scope:f,children:A,...p}=h,m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,x=B.useMemo(()=>p,Object.values(p));return n.jsx(m.Provider,{value:x,children:A})};d.displayName=i+"Provider";function u(h,f){var m;const A=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,p=B.useContext(A);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>B.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return B.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,hve(s,...t)]}function hve(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Nm(e){const t=fve(e),r=B.forwardRef((a,s)=>{const{children:i,...o}=a,l=B.Children.toArray(i),c=l.find(mve);if(c){const d=c.props.children,u=l.map(h=>h===c?B.Children.count(d)>1?B.Children.only(null):B.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...o,ref:s,children:B.isValidElement(d)?B.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Eee=Nm("Slot");function fve(e){const t=B.forwardRef((r,a)=>{const{children:s,...i}=r;if(B.isValidElement(s)){const o=xve(s),l=pve(i,s.props);return s.type!==B.Fragment&&(l.ref=a?GE(a,o):o),B.cloneElement(s,l)}return B.Children.count(s)>1?B.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bee=Symbol("radix.slottable");function Ave(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Bee,t}function mve(e){return B.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bee}function pve(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...l)=>{i(...l),s(...l)}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function xve(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function XE(e){const t=e+"CollectionProvider",[r,a]=Ql(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:g}=m,v=Se.useRef(null),y=Se.useRef(new Map).current;return n.jsx(s,{scope:x,itemMap:y,collectionRef:v,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Nm(l),d=Se.forwardRef((m,x)=>{const{scope:g,children:v}=m,y=i(l,g),j=$n(x,y.collectionRef);return n.jsx(c,{ref:j,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=Nm(u),A=Se.forwardRef((m,x)=>{const{scope:g,children:v,...y}=m,j=Se.useRef(null),b=$n(x,j),w=i(u,g);return Se.useEffect(()=>(w.itemMap.set(j,{ref:j,...y}),()=>void w.itemMap.delete(j))),n.jsx(f,{[h]:"",ref:b,children:v})});A.displayName=u;function p(m){const x=i(e+"CollectionConsumer",m);return Se.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((w,C)=>y.indexOf(w.ref.current)-y.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:A},p,a]}var gve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kr=gve.reduce((e,t)=>{const r=Nm(`Primitive.${t}`),a=B.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function aR(e,t){e&&J0.flushSync(()=>e.dispatchEvent(t))}function ko(e){const t=B.useRef(e);return B.useEffect(()=>{t.current=e}),B.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function vve(e,t=globalThis==null?void 0:globalThis.document){const r=ko(e);B.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var yve="DismissableLayer",b6="dismissableLayer.update",wve="dismissableLayer.pointerDownOutside",bve="dismissableLayer.focusOutside",F$,Fee=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_y=B.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=B.useContext(Fee),[u,h]=B.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=B.useState({}),p=$n(t,C=>h(C)),m=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),v=u?m.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=g,b=Nve(C=>{const F=C.target,E=[...d.branches].some(L=>L.contains(F));!j||E||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),w=Cve(C=>{const F=C.target;[...d.branches].some(L=>L.contains(F))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return vve(C=>{v===d.layers.size-1&&(a==null||a(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),B.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(F$=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),P$(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=F$)}},[u,f,r,d]),B.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),P$())},[u,d]),B.useEffect(()=>{const C=()=>A({});return document.addEventListener(b6,C),()=>document.removeEventListener(b6,C)},[]),n.jsx(Kr.div,{...c,ref:p,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:fr(e.onFocusCapture,w.onFocusCapture),onBlurCapture:fr(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:fr(e.onPointerDownCapture,b.onPointerDownCapture)})});_y.displayName=yve;var jve="DismissableLayerBranch",Pee=B.forwardRef((e,t)=>{const r=B.useContext(Fee),a=B.useRef(null),s=$n(t,a);return B.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Kr.div,{...e,ref:s})});Pee.displayName=jve;function Nve(e,t=globalThis==null?void 0:globalThis.document){const r=ko(e),a=B.useRef(!1),s=B.useRef(()=>{});return B.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){kee(wve,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Cve(e,t=globalThis==null?void 0:globalThis.document){const r=ko(e),a=B.useRef(!1);return B.useEffect(()=>{const s=i=>{i.target&&!a.current&&kee(bve,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function P$(){const e=new CustomEvent(b6);document.dispatchEvent(e)}function kee(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?aR(s,i):s.dispatchEvent(i)}var Sve=_y,_ve=Pee,To=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},Eve="Portal",Ey=B.forwardRef((e,t)=>{var l;const{container:r,...a}=e,[s,i]=B.useState(!1);To(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Yxe.createPortal(n.jsx(Kr.div,{...a,ref:t}),o):null});Ey.displayName=Eve;function Bve(e,t){return B.useReducer((r,a)=>t[r][a]??r,e)}var Bc=e=>{const{present:t,children:r}=e,a=Fve(t),s=typeof r=="function"?r({present:a.isPresent}):B.Children.only(r),i=$n(a.ref,Pve(s));return typeof r=="function"||a.isPresent?B.cloneElement(s,{ref:i}):null};Bc.displayName="Presence";function Fve(e){const[t,r]=B.useState(),a=B.useRef({}),s=B.useRef(e),i=B.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Bve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const d=xC(a.current);i.current=l==="mounted"?d:"none"},[l]),To(()=>{const d=a.current,u=s.current;if(u!==e){const f=i.current,A=xC(d);e?c("MOUNT"):A==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==A?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),To(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=A=>{const m=xC(a.current).includes(A.animationName);if(A.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=A=>{A.target===t&&(i.current=xC(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:B.useCallback(d=>{d&&(a.current=getComputedStyle(d)),r(d)},[])}}function xC(e){return(e==null?void 0:e.animationName)||"none"}function Pve(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ah({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,s]=kve({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:a,l=ko(r),c=B.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else s(d)},[i,e,s,l]);return[o,c]}function kve({defaultProp:e,onChange:t}){const r=B.useState(e),[a]=r,s=B.useRef(a),i=ko(t);return B.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),r}var Tve="VisuallyHidden",YE=B.forwardRef((e,t)=>n.jsx(Kr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));YE.displayName=Tve;var sR="ToastProvider",[iR,Ive,Ove]=XE("Toast"),[Tee,hjt]=Ql("Toast",[Ove]),[Dve,JE]=Tee(sR),Iee=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=B.useState(null),[d,u]=B.useState(0),h=B.useRef(!1),f=B.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${sR}\`. Expected non-empty \`string\`.`),n.jsx(iR.Provider,{scope:t,children:n.jsx(Dve,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:B.useCallback(()=>u(A=>A+1),[]),onToastRemove:B.useCallback(()=>u(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Iee.displayName=sR;var Oee="ToastViewport",Lve=["F8"],j6="toast.viewportPause",N6="toast.viewportResume",Dee=B.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=Lve,label:s="Notifications ({hotkey})",...i}=e,o=JE(Oee,r),l=Ive(r),c=B.useRef(null),d=B.useRef(null),u=B.useRef(null),h=B.useRef(null),f=$n(t,h,o.onViewportChange),A=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;B.useEffect(()=>{const x=g=>{var y;a.length!==0&&a.every(j=>g[j]||g.code===j)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[a]),B.useEffect(()=>{const x=c.current,g=h.current;if(p&&x&&g){const v=()=>{if(!o.isClosePausedRef.current){const w=new CustomEvent(j6);g.dispatchEvent(w),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const w=new CustomEvent(N6);g.dispatchEvent(w),o.isClosePausedRef.current=!1}},j=w=>{!x.contains(w.relatedTarget)&&y()},b=()=>{x.contains(document.activeElement)||y()};return x.addEventListener("focusin",v),x.addEventListener("focusout",j),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",b),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",b),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[p,o.isClosePausedRef]);const m=B.useCallback(({tabbingDirection:x})=>{const v=l().map(y=>{const j=y.ref.current,b=[j,...Xve(j)];return x==="forwards"?b:b.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return B.useEffect(()=>{const x=h.current;if(x){const g=v=>{var b,w,C;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const F=document.activeElement,E=v.shiftKey;if(v.target===x&&E){(b=d.current)==null||b.focus();return}const I=m({tabbingDirection:E?"backwards":"forwards"}),M=I.findIndex(O=>O===F);ek(I.slice(M+1))?v.preventDefault():E?(w=d.current)==null||w.focus():(C=u.current)==null||C.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),n.jsxs(_ve,{ref:c,role:"region","aria-label":s.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&n.jsx(C6,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});ek(x)}}),n.jsx(iR.Slot,{scope:r,children:n.jsx(Kr.ol,{tabIndex:-1,...i,ref:f})}),p&&n.jsx(C6,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});ek(x)}})]})});Dee.displayName=Oee;var Lee="ToastFocusProxy",C6=B.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,i=JE(Lee,r);return n.jsx(YE,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});C6.displayName=Lee;var ZE="Toast",Rve="toast.swipeStart",Mve="toast.swipeMove",Uve="toast.swipeCancel",Qve="toast.swipeEnd",Ree=B.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=Ah({prop:a,defaultProp:s,onChange:i});return n.jsx(Bc,{present:r||l,children:n.jsx(zve,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ko(e.onPause),onResume:ko(e.onResume),onSwipeStart:fr(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fr(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fr(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fr(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Ree.displayName=ZE;var[$ve,Hve]=Tee(ZE,{onClose(){}}),zve=B.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:A,...p}=e,m=JE(ZE,r),[x,g]=B.useState(null),v=$n(t,O=>g(O)),y=B.useRef(null),j=B.useRef(null),b=s||m.duration,w=B.useRef(0),C=B.useRef(b),F=B.useRef(0),{onToastAdd:E,onToastRemove:L}=m,N=ko(()=>{var k;(x==null?void 0:x.contains(document.activeElement))&&((k=m.viewport)==null||k.focus()),o()}),I=B.useCallback(O=>{!O||O===1/0||(window.clearTimeout(F.current),w.current=new Date().getTime(),F.current=window.setTimeout(N,O))},[N]);B.useEffect(()=>{const O=m.viewport;if(O){const k=()=>{I(C.current),d==null||d()},P=()=>{const R=new Date().getTime()-w.current;C.current=C.current-R,window.clearTimeout(F.current),c==null||c()};return O.addEventListener(j6,P),O.addEventListener(N6,k),()=>{O.removeEventListener(j6,P),O.removeEventListener(N6,k)}}},[m.viewport,b,c,d,I]),B.useEffect(()=>{i&&!m.isClosePausedRef.current&&I(b)},[i,b,m.isClosePausedRef,I]),B.useEffect(()=>(E(),()=>L()),[E,L]);const M=B.useMemo(()=>x?Vee(x):null,[x]);return m.viewport?n.jsxs(n.Fragment,{children:[M&&n.jsx(Vve,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),n.jsx($ve,{scope:r,onClose:N,children:J0.createPortal(n.jsx(iR.ItemSlot,{scope:r,children:n.jsx(Sve,{asChild:!0,onEscapeKeyDown:fr(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Kr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fr(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:fr(e.onPointerDown,O=>{O.button===0&&(y.current={x:O.clientX,y:O.clientY})}),onPointerMove:fr(e.onPointerMove,O=>{if(!y.current)return;const k=O.clientX-y.current.x,P=O.clientY-y.current.y,R=!!j.current,V=["left","right"].includes(m.swipeDirection),D=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Y=V?D(0,k):0,ne=V?0:D(0,P),S=O.pointerType==="touch"?10:2,z={x:Y,y:ne},Q={originalEvent:O,delta:z};R?(j.current=z,gC(Mve,h,Q,{discrete:!1})):k$(z,m.swipeDirection,S)?(j.current=z,gC(Rve,u,Q,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(k)>S||Math.abs(P)>S)&&(y.current=null)}),onPointerUp:fr(e.onPointerUp,O=>{const k=j.current,P=O.target;if(P.hasPointerCapture(O.pointerId)&&P.releasePointerCapture(O.pointerId),j.current=null,y.current=null,k){const R=O.currentTarget,V={originalEvent:O,delta:k};k$(k,m.swipeDirection,m.swipeThreshold)?gC(Qve,A,V,{discrete:!0}):gC(Uve,f,V,{discrete:!0}),R.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Vve=e=>{const{__scopeToast:t,children:r,...a}=e,s=JE(ZE,t),[i,o]=B.useState(!1),[l,c]=B.useState(!1);return Wve(()=>o(!0)),B.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Ey,{asChild:!0,children:n.jsx(YE,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},Kve="ToastTitle",Mee=B.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Kr.div,{...a,ref:t})});Mee.displayName=Kve;var qve="ToastDescription",Uee=B.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Kr.div,{...a,ref:t})});Uee.displayName=qve;var Qee="ToastAction",$ee=B.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(zee,{altText:r,asChild:!0,children:n.jsx(oR,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Qee}\`. Expected non-empty \`string\`.`),null)});$ee.displayName=Qee;var Hee="ToastClose",oR=B.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=Hve(Hee,r);return n.jsx(zee,{asChild:!0,children:n.jsx(Kr.button,{type:"button",...a,ref:t,onClick:fr(e.onClick,s.onClose)})})});oR.displayName=Hee;var zee=B.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(Kr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function Vee(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Gve(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Vee(a))}}),t}function gC(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?aR(s,i):s.dispatchEvent(i)}var k$=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return t==="left"||t==="right"?i&&a>r:!i&&s>r};function Wve(e=()=>{}){const t=ko(e);To(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function Gve(e){return e.nodeType===e.ELEMENT_NODE}function Xve(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ek(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Yve=Iee,Kee=Dee,qee=Ree,Wee=Mee,Gee=Uee,Xee=$ee,Yee=oR;function Jee(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Jee(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function cn(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Jee(e))&&(a&&(a+=" "),a+=t);return a}const T$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,I$=cn,eB=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return I$(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const f=T$(u)||T$(h);return s[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:h,className:f,...A}=u;return Object.entries(A).every(p=>{let[m,x]=p;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...d,h,f]:d},[]);return I$(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jve=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zee=(...e)=>e.filter((t,r,a)=>!!t&&a.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eye=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>B.createElement("svg",{ref:c,...Zve,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:Zee("lucide",s),...l},[...o.map(([d,u])=>B.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(e,t)=>{const r=B.forwardRef(({className:a,...s},i)=>B.createElement(eye,{ref:i,iconNode:t,className:Zee(`lucide-${Jve(e)}`,a),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ir("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=ir("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=ir("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=ir("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=ir("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=ir("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=ir("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=ir("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ir("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ir("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ir("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=ir("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ir("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=ir("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=ir("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=ir("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nye=ir("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ir("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ir("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ir("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ir("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=ir("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ir("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ir("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ir("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=ir("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=ir("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ir("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ir("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ir("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ir("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ir("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ir("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ir("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ir("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ir("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=ir("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ir("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=ir("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=ir("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sye=ir("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ir("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=ir("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iye=ir("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ir("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oye=ir("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ir("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ir("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ir("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=ir("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=ir("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dye=ir("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=ir("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=ir("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=ir("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ir("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=ir("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ir("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fye=ir("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=ir("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ir("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ir("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=ir("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ir("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ir("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ir("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ir("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pye=ir("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ir("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ir("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ir("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ir("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xye=ir("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ir("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=ir("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ir("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=ir("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ir("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ir("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ir("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ir("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ir("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=ir("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ir("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=ir("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=ir("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ir("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ir("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ir("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=ir("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dR="-",bye=e=>{const t=Nye(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(dR);return l[0]===""&&l.length!==1&&l.shift(),lte(l,t)||jye(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},lte=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?lte(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(dR);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},R$=/^\[(.+)\]$/,jye=e=>{if(R$.test(e)){const t=R$.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Nye=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return Sye(Object.entries(e.classGroups),r).forEach(([i,o])=>{E6(o,a,i,t)}),a},E6=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:M$(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Cye(s)){E6(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{E6(o,M$(t,i),r,a)})})},M$=(e,t)=>{let r=e;return t.split(dR).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},Cye=e=>e.isThemeGetter,Sye=(e,t)=>t?e.map(([r,a])=>{const s=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,_ye=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},cte="!",Eye=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(d===0){if(g===s&&(a||l.slice(x,x+i)===t)){c.push(l.slice(u,x)),u=x+i;continue}if(g==="/"){h=x;continue}}g==="["?d++:g==="]"&&d--}const f=c.length===0?l:l.substring(u),A=f.startsWith(cte),p=A?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:A,baseClassName:p,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},Bye=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},Fye=e=>({cache:_ye(e.cacheSize),parseClassName:Eye(e),...bye(e)}),Pye=/\s+/,kye=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Pye);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:A}=r(d);let p=!!A,m=a(p?f.substring(0,A):f);if(!m){if(!p){l=d+(l.length>0?" "+l:l);continue}if(m=a(f),!m){l=d+(l.length>0?" "+l:l);continue}p=!1}const x=Bye(u).join(":"),g=h?x+cte:x,v=g+m;if(i.includes(v))continue;i.push(v);const y=s(m,p);for(let j=0;j<y.length;++j){const b=y[j];i.push(g+b)}l=d+(l.length>0?" "+l:l)}return l};function Tye(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=dte(t))&&(a&&(a+=" "),a+=r);return a}const dte=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=dte(e[a]))&&(r&&(r+=" "),r+=t);return r};function Iye(e,...t){let r,a,s,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=Fye(d),a=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=kye(c,r);return s(c,u),u}return function(){return i(Tye.apply(null,arguments))}}const Va=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ute=/^\[(?:([a-z-]+):)?(.+)\]$/i,Oye=/^\d+\/\d+$/,Dye=new Set(["px","full","screen"]),Lye=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rye=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mye=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Uye=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qye=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vh=e=>Mg(e)||Dye.has(e)||Oye.test(e),hA=e=>ky(e,"length",Gye),Mg=e=>!!e&&!Number.isNaN(Number(e)),nk=e=>ky(e,"number",Mg),Q1=e=>!!e&&Number.isInteger(Number(e)),$ye=e=>e.endsWith("%")&&Mg(e.slice(0,-1)),yn=e=>ute.test(e),fA=e=>Lye.test(e),Hye=new Set(["length","size","percentage"]),zye=e=>ky(e,Hye,hte),Vye=e=>ky(e,"position",hte),Kye=new Set(["image","url"]),qye=e=>ky(e,Kye,Yye),Wye=e=>ky(e,"",Xye),$1=()=>!0,ky=(e,t,r)=>{const a=ute.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},Gye=e=>Rye.test(e)&&!Mye.test(e),hte=()=>!1,Xye=e=>Uye.test(e),Yye=e=>Qye.test(e),Jye=()=>{const e=Va("colors"),t=Va("spacing"),r=Va("blur"),a=Va("brightness"),s=Va("borderColor"),i=Va("borderRadius"),o=Va("borderSpacing"),l=Va("borderWidth"),c=Va("contrast"),d=Va("grayscale"),u=Va("hueRotate"),h=Va("invert"),f=Va("gap"),A=Va("gradientColorStops"),p=Va("gradientColorStopPositions"),m=Va("inset"),x=Va("margin"),g=Va("opacity"),v=Va("padding"),y=Va("saturate"),j=Va("scale"),b=Va("sepia"),w=Va("skew"),C=Va("space"),F=Va("translate"),E=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",yn,t],I=()=>[yn,t],M=()=>["",Vh,hA],O=()=>["auto",Mg,yn],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",yn],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Mg,yn];return{cacheSize:500,separator:":",theme:{colors:[$1],spacing:[Vh,hA],blur:["none","",fA,yn],brightness:ne(),borderColor:[e],borderRadius:["none","","full",fA,yn],borderSpacing:I(),borderWidth:M(),contrast:ne(),grayscale:D(),hueRotate:ne(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[$ye,hA],inset:N(),margin:N(),opacity:ne(),padding:I(),saturate:ne(),scale:ne(),sepia:D(),skew:ne(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",yn]}],container:["container"],columns:[{columns:[fA]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),yn]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Q1,yn]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yn]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Q1,yn]}],"grid-cols":[{"grid-cols":[$1]}],"col-start-end":[{col:["auto",{span:["full",Q1,yn]},yn]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[$1]}],"row-start-end":[{row:["auto",{span:[Q1,yn]},yn]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yn,t]}],"min-w":[{"min-w":[yn,t,"min","max","fit"]}],"max-w":[{"max-w":[yn,t,"none","full","min","max","fit","prose",{screen:[fA]},fA]}],h:[{h:[yn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fA,hA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nk]}],"font-family":[{font:[$1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yn]}],"line-clamp":[{"line-clamp":["none",Mg,nk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vh,yn]}],"list-image":[{"list-image":["none",yn]}],"list-style-type":[{list:["none","disc","decimal",yn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vh,hA]}],"underline-offset":[{"underline-offset":["auto",Vh,yn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),Vye]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zye]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qye]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:P()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Vh,yn]}],"outline-w":[{outline:[Vh,hA]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Vh,hA]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fA,Wye]}],"shadow-color":[{shadow:[$1]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fA,yn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yn]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",yn]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",yn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Q1,yn]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vh,hA,nk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Zye=Iye(Jye);function mr(...e){return Zye(cn(e))}const e1e=Yve,fte=B.forwardRef(({className:e,...t},r)=>n.jsx(Kee,{ref:r,className:mr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fte.displayName=Kee.displayName;const t1e=eB("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ate=B.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(qee,{ref:a,className:mr(t1e({variant:t}),e),...r}));Ate.displayName=qee.displayName;const r1e=B.forwardRef(({className:e,...t},r)=>n.jsx(Xee,{ref:r,className:mr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));r1e.displayName=Xee.displayName;const mte=B.forwardRef(({className:e,...t},r)=>n.jsx(Yee,{ref:r,className:mr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(fd,{className:"h-4 w-4"})}));mte.displayName=Yee.displayName;const pte=B.forwardRef(({className:e,...t},r)=>n.jsx(Wee,{ref:r,className:mr("text-sm font-semibold",e),...t}));pte.displayName=Wee.displayName;const xte=B.forwardRef(({className:e,...t},r)=>n.jsx(Gee,{ref:r,className:mr("text-sm opacity-90",e),...t}));xte.displayName=Gee.displayName;function n1e(){const{toasts:e}=en();return n.jsxs(e1e,{children:[e.map(function({id:t,title:r,description:a,action:s,...i}){return n.jsxs(Ate,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(pte,{children:r}),a&&n.jsx(xte,{children:a})]}),s,n.jsx(mte,{})]},t)}),n.jsx(fte,{})]})}async function gte(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function _m(e,t,r){const a=localStorage.getItem("token"),s={};r&&(s["Content-Type"]="application/json"),a&&(s.Authorization=`Bearer ${a}`);const i=await fetch(t,{method:e,headers:s,body:r?JSON.stringify(r):void 0,credentials:"include"});return await gte(i),i}const a1e=({on401:e})=>async({queryKey:t})=>{const r=localStorage.getItem("token"),a={};r&&(a.Authorization=`Bearer ${r}`);const s=await fetch(t.join("/"),{credentials:"include",headers:a});return e==="returnNull"&&s.status===401?null:(await gte(s),await s.json())},ct=new Hge({defaultOptions:{queries:{queryFn:a1e({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:!1},mutations:{retry:!1}}}),tj=eB("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=B.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const o=a?Eee:"button";return n.jsx(o,{className:mr(tj({variant:t,size:r,className:e})),ref:i,...s})});Z.displayName="Button";const ie=B.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:mr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));ie.displayName="Input";var s1e="Label",vte=B.forwardRef((e,t)=>n.jsx(Kr.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));vte.displayName=s1e;var yte=vte;const i1e=eB("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=B.forwardRef(({className:e,...t},r)=>n.jsx(yte,{ref:r,className:mr(i1e(),e),...t}));fe.displayName=yte.displayName;const Le=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:mr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Le.displayName="Card";const Tt=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:mr("flex flex-col space-y-1.5 p-6",e),...t}));Tt.displayName="CardHeader";const Ot=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:mr("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ot.displayName="CardTitle";const Ug=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:mr("text-sm text-muted-foreground",e),...t}));Ug.displayName="CardDescription";const Re=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:mr("p-6 pt-0",e),...t}));Re.displayName="CardContent";const o1e=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:mr("flex items-center p-6 pt-0",e),...t}));o1e.displayName="CardFooter";function U$(e,[t,r]){return Math.min(r,Math.max(t,e))}var l1e=B.createContext(void 0);function tB(e){const t=B.useContext(l1e);return e||t||"ltr"}var ak=0;function rB(){B.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Q$()),document.body.insertAdjacentElement("beforeend",e[1]??Q$()),ak++,()=>{ak===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ak--}},[])}function Q$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sk="focusScope.autoFocusOnMount",ik="focusScope.autoFocusOnUnmount",$$={bubbles:!1,cancelable:!0},c1e="FocusScope",H2=B.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=B.useState(null),d=ko(s),u=ko(i),h=B.useRef(null),f=$n(t,m=>c(m)),A=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(a){let m=function(y){if(A.paused||!l)return;const j=y.target;l.contains(j)?h.current=j:vA(h.current,{select:!0})},x=function(y){if(A.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||vA(h.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&vA(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),v.disconnect()}}},[a,l,A.paused]),B.useEffect(()=>{if(l){z$.add(A);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(sk,$$);l.addEventListener(sk,d),l.dispatchEvent(g),g.defaultPrevented||(d1e(m1e(wte(l)),{select:!0}),document.activeElement===m&&vA(l))}return()=>{l.removeEventListener(sk,d),setTimeout(()=>{const g=new CustomEvent(ik,$$);l.addEventListener(ik,u),l.dispatchEvent(g),g.defaultPrevented||vA(m??document.body,{select:!0}),l.removeEventListener(ik,u),z$.remove(A)},0)}}},[l,d,u,A]);const p=B.useCallback(m=>{if(!r&&!a||A.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const v=m.currentTarget,[y,j]=u1e(v);y&&j?!m.shiftKey&&g===j?(m.preventDefault(),r&&vA(y,{select:!0})):m.shiftKey&&g===y&&(m.preventDefault(),r&&vA(j,{select:!0})):g===v&&m.preventDefault()}},[r,a,A.paused]);return n.jsx(Kr.div,{tabIndex:-1,...o,ref:f,onKeyDown:p})});H2.displayName=c1e;function d1e(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(vA(a,{select:t}),document.activeElement!==r)return}function u1e(e){const t=wte(e),r=H$(t,e),a=H$(t.reverse(),e);return[r,a]}function wte(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function H$(e,t){for(const r of e)if(!h1e(r,{upTo:t}))return r}function h1e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function f1e(e){return e instanceof HTMLInputElement&&"select"in e}function vA(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&f1e(e)&&t&&e.select()}}var z$=A1e();function A1e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=V$(e,t),e.unshift(t)},remove(t){var r;e=V$(e,t),(r=e[0])==null||r.resume()}}}function V$(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function m1e(e){return e.filter(t=>t.tagName!=="A")}var p1e=eJ[" useId ".trim().toString()]||(()=>{}),x1e=0;function tu(e){const[t,r]=B.useState(p1e());return To(()=>{r(a=>a??String(x1e++))},[e]),t?`radix-${t}`:""}const g1e=["top","right","bottom","left"],Em=Math.min,cc=Math.max,e5=Math.round,vC=Math.floor,sh=e=>({x:e,y:e}),v1e={left:"right",right:"left",bottom:"top",top:"bottom"},y1e={start:"end",end:"start"};function B6(e,t,r){return cc(e,Em(t,r))}function kf(e,t){return typeof e=="function"?e(t):e}function Tf(e){return e.split("-")[0]}function Ty(e){return e.split("-")[1]}function uR(e){return e==="x"?"y":"x"}function hR(e){return e==="y"?"height":"width"}function Bm(e){return["top","bottom"].includes(Tf(e))?"y":"x"}function fR(e){return uR(Bm(e))}function w1e(e,t,r){r===void 0&&(r=!1);const a=Ty(e),s=fR(e),i=hR(s);let o=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=t5(o)),[o,t5(o)]}function b1e(e){const t=t5(e);return[F6(e),t,F6(t)]}function F6(e){return e.replace(/start|end/g,t=>y1e[t])}function j1e(e,t,r){const a=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:a:t?a:s;case"left":case"right":return t?i:o;default:return[]}}function N1e(e,t,r,a){const s=Ty(e);let i=j1e(Tf(e),r==="start",a);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(F6)))),i}function t5(e){return e.replace(/left|right|bottom|top/g,t=>v1e[t])}function C1e(e){return{top:0,right:0,bottom:0,left:0,...e}}function bte(e){return typeof e!="number"?C1e(e):{top:e,right:e,bottom:e,left:e}}function r5(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function K$(e,t,r){let{reference:a,floating:s}=e;const i=Bm(t),o=fR(t),l=hR(o),c=Tf(t),d=i==="y",u=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,f=a[l]/2-s[l]/2;let A;switch(c){case"top":A={x:u,y:a.y-s.height};break;case"bottom":A={x:u,y:a.y+a.height};break;case"right":A={x:a.x+a.width,y:h};break;case"left":A={x:a.x-s.width,y:h};break;default:A={x:a.x,y:a.y}}switch(Ty(t)){case"start":A[o]-=f*(r&&d?-1:1);break;case"end":A[o]+=f*(r&&d?-1:1);break}return A}const S1e=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=K$(d,a,c),f=a,A={},p=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:v,y,data:j,reset:b}=await g({x:u,y:h,initialPlacement:a,placement:f,strategy:s,middlewareData:A,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,h=y??h,A={...A,[x]:{...A[x],...j}},b&&p<=50&&(p++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(d=b.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):b.rects),{x:u,y:h}=K$(d,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:A}};async function rj(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:A=0}=kf(t,e),p=bte(A),x=l[f?h==="floating"?"reference":"floating":h],g=r5(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},b=r5(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(g.top-b.top+p.top)/j.y,bottom:(b.bottom-g.bottom+p.bottom)/j.y,left:(g.left-b.left+p.left)/j.x,right:(b.right-g.right+p.right)/j.x}}const _1e=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=kf(e,t)||{};if(d==null)return{};const h=bte(u),f={x:r,y:a},A=fR(s),p=hR(A),m=await o.getDimensions(d),x=A==="y",g=x?"top":"left",v=x?"bottom":"right",y=x?"clientHeight":"clientWidth",j=i.reference[p]+i.reference[A]-f[A]-i.floating[p],b=f[A]-i.reference[A],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=w?w[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(w)))&&(C=l.floating[y]||i.floating[p]);const F=j/2-b/2,E=C/2-m[p]/2-1,L=Em(h[g],E),N=Em(h[v],E),I=L,M=C-m[p]-N,O=C/2-m[p]/2+F,k=B6(I,O,M),P=!c.arrow&&Ty(s)!=null&&O!==k&&i.reference[p]/2-(O<I?L:N)-m[p]/2<0,R=P?O<I?O-I:O-M:0;return{[A]:f[A]+R,data:{[A]:k,centerOffset:O-k-R,...P&&{alignmentOffset:R}},reset:P}}}),E1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...x}=kf(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Tf(s),v=Bm(l),y=Tf(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=f||(y||!m?[t5(l)]:b1e(l)),w=p!=="none";!f&&w&&b.push(...N1e(l,m,p,j));const C=[l,...b],F=await rj(t,x),E=[];let L=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&E.push(F[g]),h){const O=w1e(s,o,j);E.push(F[O[0]],F[O[1]])}if(L=[...L,{placement:s,overflows:E}],!E.every(O=>O<=0)){var N,I;const O=(((N=i.flip)==null?void 0:N.index)||0)+1,k=C[O];if(k)return{data:{index:O,overflows:L},reset:{placement:k}};let P=(I=L.filter(R=>R.overflows[0]<=0).sort((R,V)=>R.overflows[1]-V.overflows[1])[0])==null?void 0:I.placement;if(!P)switch(A){case"bestFit":{var M;const R=(M=L.filter(V=>{if(w){const D=Bm(V.placement);return D===v||D==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(D=>D>0).reduce((D,Y)=>D+Y,0)]).sort((V,D)=>V[1]-D[1])[0])==null?void 0:M[0];R&&(P=R);break}case"initialPlacement":P=l;break}if(s!==P)return{reset:{placement:P}}}return{}}}};function q$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function W$(e){return g1e.some(t=>e[t]>=0)}const B1e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=kf(e,t);switch(a){case"referenceHidden":{const i=await rj(t,{...s,elementContext:"reference"}),o=q$(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:W$(o)}}}case"escaped":{const i=await rj(t,{...s,altBoundary:!0}),o=q$(i,r.floating);return{data:{escapedOffsets:o,escaped:W$(o)}}}default:return{}}}}};async function F1e(e,t){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=Tf(r),l=Ty(r),c=Bm(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=kf(t,e);let{mainAxis:f,crossAxis:A,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(A=l==="end"?p*-1:p),c?{x:A*u,y:f*d}:{x:f*d,y:A*u}}const P1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await F1e(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},k1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:g,y:v}=x;return{x:g,y:v}}},...c}=kf(e,t),d={x:r,y:a},u=await rj(t,c),h=Bm(Tf(s)),f=uR(h);let A=d[f],p=d[h];if(i){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=A+u[x],y=A-u[g];A=B6(v,A,y)}if(o){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=p+u[x],y=p-u[g];p=B6(v,p,y)}const m=l.fn({...t,[f]:A,[h]:p});return{...m,data:{x:m.x-r,y:m.y-a,enabled:{[f]:i,[h]:o}}}}}},T1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=kf(e,t),u={x:r,y:a},h=Bm(s),f=uR(h);let A=u[f],p=u[h];const m=kf(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=f==="y"?"height":"width",j=i.reference[f]-i.floating[y]+x.mainAxis,b=i.reference[f]+i.reference[y]-x.mainAxis;A<j?A=j:A>b&&(A=b)}if(d){var g,v;const y=f==="y"?"width":"height",j=["top","left"].includes(Tf(s)),b=i.reference[h]-i.floating[y]+(j&&((g=o.offset)==null?void 0:g[h])||0)+(j?0:x.crossAxis),w=i.reference[h]+i.reference[y]+(j?0:((v=o.offset)==null?void 0:v[h])||0)-(j?x.crossAxis:0);p<b?p=b:p>w&&(p=w)}return{[f]:A,[h]:p}}}},I1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=kf(e,t),u=await rj(t,d),h=Tf(s),f=Ty(s),A=Bm(s)==="y",{width:p,height:m}=i.floating;let x,g;h==="top"||h==="bottom"?(x=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,x=f==="end"?"top":"bottom");const v=m-u.top-u.bottom,y=p-u.left-u.right,j=Em(m-u[x],v),b=Em(p-u[g],y),w=!t.middlewareData.shift;let C=j,F=b;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(F=y),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(C=v),w&&!f){const L=cc(u.left,0),N=cc(u.right,0),I=cc(u.top,0),M=cc(u.bottom,0);A?F=p-2*(L!==0||N!==0?L+N:cc(u.left,u.right)):C=m-2*(I!==0||M!==0?I+M:cc(u.top,u.bottom))}await c({...t,availableWidth:F,availableHeight:C});const E=await o.getDimensions(l.floating);return p!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function nB(){return typeof window<"u"}function Iy(e){return jte(e)?(e.nodeName||"").toLowerCase():"#document"}function wc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jh(e){var t;return(t=(jte(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jte(e){return nB()?e instanceof Node||e instanceof wc(e).Node:!1}function lu(e){return nB()?e instanceof Element||e instanceof wc(e).Element:!1}function xh(e){return nB()?e instanceof HTMLElement||e instanceof wc(e).HTMLElement:!1}function G$(e){return!nB()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wc(e).ShadowRoot}function z2(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=cu(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(s)}function O1e(e){return["table","td","th"].includes(Iy(e))}function aB(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function AR(e){const t=mR(),r=lu(e)?cu(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function D1e(e){let t=Fm(e);for(;xh(t)&&!Ev(t);){if(AR(t))return t;if(aB(t))return null;t=Fm(t)}return null}function mR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ev(e){return["html","body","#document"].includes(Iy(e))}function cu(e){return wc(e).getComputedStyle(e)}function sB(e){return lu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fm(e){if(Iy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||G$(e)&&e.host||jh(e);return G$(t)?t.host:t}function Nte(e){const t=Fm(e);return Ev(t)?e.ownerDocument?e.ownerDocument.body:e.body:xh(t)&&z2(t)?t:Nte(t)}function nj(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Nte(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=wc(s);if(i){const l=P6(o);return t.concat(o,o.visualViewport||[],z2(s)?s:[],l&&r?nj(l):[])}return t.concat(s,nj(s,[],r))}function P6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cte(e){const t=cu(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=xh(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:a,l=e5(r)!==i||e5(a)!==o;return l&&(r=i,a=o),{width:r,height:a,$:l}}function pR(e){return lu(e)?e:e.contextElement}function Qg(e){const t=pR(e);if(!xh(t))return sh(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:i}=Cte(t);let o=(i?e5(r.width):r.width)/a,l=(i?e5(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const L1e=sh(0);function Ste(e){const t=wc(e);return!mR()||!t.visualViewport?L1e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function R1e(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==wc(e)?!1:t}function N0(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=pR(e);let o=sh(1);t&&(a?lu(a)&&(o=Qg(a)):o=Qg(e));const l=R1e(i,r,a)?Ste(i):sh(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=wc(i),A=a&&lu(a)?wc(a):a;let p=f,m=P6(p);for(;m&&a&&A!==p;){const x=Qg(m),g=m.getBoundingClientRect(),v=cu(m),y=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*x.x,j=g.top+(m.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,h*=x.y,c+=y,d+=j,p=wc(m),m=P6(p)}}return r5({width:u,height:h,x:c,y:d})}function xR(e,t){const r=sB(e).scrollLeft;return t?t.left+r:N0(jh(e)).left+r}function _te(e,t,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=a.left+t.scrollLeft-(r?0:xR(e,a)),i=a.top+t.scrollTop;return{x:s,y:i}}function M1e(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=jh(a),l=t?aB(t.floating):!1;if(a===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=sh(1);const u=sh(0),h=xh(a);if((h||!h&&!i)&&((Iy(a)!=="body"||z2(o))&&(c=sB(a)),xh(a))){const A=N0(a);d=Qg(a),u.x=A.x+a.clientLeft,u.y=A.y+a.clientTop}const f=o&&!h&&!i?_te(o,c,!0):sh(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function U1e(e){return Array.from(e.getClientRects())}function Q1e(e){const t=jh(e),r=sB(e),a=e.ownerDocument.body,s=cc(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=cc(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+xR(e);const l=-r.scrollTop;return cu(a).direction==="rtl"&&(o+=cc(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}function $1e(e,t){const r=wc(e),a=jh(e),s=r.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=mR();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function H1e(e,t){const r=N0(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=xh(e)?Qg(e):sh(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function X$(e,t,r){let a;if(t==="viewport")a=$1e(e,r);else if(t==="document")a=Q1e(jh(e));else if(lu(t))a=H1e(t,r);else{const s=Ste(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return r5(a)}function Ete(e,t){const r=Fm(e);return r===t||!lu(r)||Ev(r)?!1:cu(r).position==="fixed"||Ete(r,t)}function z1e(e,t){const r=t.get(e);if(r)return r;let a=nj(e,[],!1).filter(l=>lu(l)&&Iy(l)!=="body"),s=null;const i=cu(e).position==="fixed";let o=i?Fm(e):e;for(;lu(o)&&!Ev(o);){const l=cu(o),c=AR(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||z2(o)&&!c&&Ete(e,o))?a=a.filter(u=>u!==o):s=l,o=Fm(o)}return t.set(e,a),a}function V1e(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const o=[...r==="clippingAncestors"?aB(t)?[]:z1e(t,this._c):[].concat(r),a],l=o[0],c=o.reduce((d,u)=>{const h=X$(t,u,s);return d.top=cc(h.top,d.top),d.right=Em(h.right,d.right),d.bottom=Em(h.bottom,d.bottom),d.left=cc(h.left,d.left),d},X$(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function K1e(e){const{width:t,height:r}=Cte(e);return{width:t,height:r}}function q1e(e,t,r){const a=xh(t),s=jh(t),i=r==="fixed",o=N0(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=sh(0);if(a||!a&&!i)if((Iy(t)!=="body"||z2(s))&&(l=sB(t)),a){const f=N0(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&(c.x=xR(s));const d=s&&!a&&!i?_te(s,l):sh(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function ok(e){return cu(e).position==="static"}function Y$(e,t){if(!xh(e)||cu(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return jh(e)===r&&(r=r.ownerDocument.body),r}function Bte(e,t){const r=wc(e);if(aB(e))return r;if(!xh(e)){let s=Fm(e);for(;s&&!Ev(s);){if(lu(s)&&!ok(s))return s;s=Fm(s)}return r}let a=Y$(e,t);for(;a&&O1e(a)&&ok(a);)a=Y$(a,t);return a&&Ev(a)&&ok(a)&&!AR(a)?r:a||D1e(e)||r}const W1e=async function(e){const t=this.getOffsetParent||Bte,r=this.getDimensions,a=await r(e.floating);return{reference:q1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function G1e(e){return cu(e).direction==="rtl"}const X1e={convertOffsetParentRelativeRectToViewportRelativeRect:M1e,getDocumentElement:jh,getClippingRect:V1e,getOffsetParent:Bte,getElementRects:W1e,getClientRects:U1e,getDimensions:K1e,getScale:Qg,isElement:lu,isRTL:G1e};function Fte(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Y1e(e,t){let r=null,a;const s=jh(e);function i(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:A}=d;if(l||t(),!f||!A)return;const p=vC(h),m=vC(s.clientWidth-(u+f)),x=vC(s.clientHeight-(h+A)),g=vC(u),y={rootMargin:-p+"px "+-m+"px "+-x+"px "+-g+"px",threshold:cc(0,Em(1,c))||1};let j=!0;function b(w){const C=w[0].intersectionRatio;if(C!==c){if(!j)return o();C?o(!1,C):a=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Fte(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(b,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function J1e(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=pR(e),u=s||i?[...d?nj(d):[],...nj(t)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const h=d&&l?Y1e(d,r):null;let f=-1,A=null;o&&(A=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&A&&(A.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=A)==null||y.observe(t)})),r()}),d&&!c&&A.observe(d),A.observe(t));let p,m=c?N0(e):null;c&&x();function x(){const g=N0(e);m&&!Fte(m,g)&&r(),m=g,p=requestAnimationFrame(x)}return r(),()=>{var g;u.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h==null||h(),(g=A)==null||g.disconnect(),A=null,c&&cancelAnimationFrame(p)}}const Z1e=P1e,ewe=k1e,twe=E1e,rwe=I1e,nwe=B1e,J$=_1e,awe=T1e,swe=(e,t,r)=>{const a=new Map,s={platform:X1e,...r},i={...s.platform,_c:a};return S1e(e,t,{...s,platform:i})};var eS=typeof document<"u"?B.useLayoutEffect:B.useEffect;function n5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!n5(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!n5(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Pte(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z$(e,t){const r=Pte(e);return Math.round(t*r)/r}function lk(e){const t=B.useRef(e);return eS(()=>{t.current=e}),t}function iwe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=B.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,A]=B.useState(a);n5(f,a)||A(a);const[p,m]=B.useState(null),[x,g]=B.useState(null),v=B.useCallback(V=>{V!==w.current&&(w.current=V,m(V))},[]),y=B.useCallback(V=>{V!==C.current&&(C.current=V,g(V))},[]),j=i||p,b=o||x,w=B.useRef(null),C=B.useRef(null),F=B.useRef(u),E=c!=null,L=lk(c),N=lk(s),I=lk(d),M=B.useCallback(()=>{if(!w.current||!C.current)return;const V={placement:t,strategy:r,middleware:f};N.current&&(V.platform=N.current),swe(w.current,C.current,V).then(D=>{const Y={...D,isPositioned:I.current!==!1};O.current&&!n5(F.current,Y)&&(F.current=Y,J0.flushSync(()=>{h(Y)}))})},[f,t,r,N,I]);eS(()=>{d===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[d]);const O=B.useRef(!1);eS(()=>(O.current=!0,()=>{O.current=!1}),[]),eS(()=>{if(j&&(w.current=j),b&&(C.current=b),j&&b){if(L.current)return L.current(j,b,M);M()}},[j,b,M,L,E]);const k=B.useMemo(()=>({reference:w,floating:C,setReference:v,setFloating:y}),[v,y]),P=B.useMemo(()=>({reference:j,floating:b}),[j,b]),R=B.useMemo(()=>{const V={position:r,left:0,top:0};if(!P.floating)return V;const D=Z$(P.floating,u.x),Y=Z$(P.floating,u.y);return l?{...V,transform:"translate("+D+"px, "+Y+"px)",...Pte(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:Y}},[r,l,P.floating,u.x,u.y]);return B.useMemo(()=>({...u,update:M,refs:k,elements:P,floatingStyles:R}),[u,M,k,P,R])}const owe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?J$({element:a.current,padding:s}).fn(r):{}:a?J$({element:a,padding:s}).fn(r):{}}}},lwe=(e,t)=>({...Z1e(e),options:[e,t]}),cwe=(e,t)=>({...ewe(e),options:[e,t]}),dwe=(e,t)=>({...awe(e),options:[e,t]}),uwe=(e,t)=>({...twe(e),options:[e,t]}),hwe=(e,t)=>({...rwe(e),options:[e,t]}),fwe=(e,t)=>({...nwe(e),options:[e,t]}),Awe=(e,t)=>({...owe(e),options:[e,t]});var mwe="Arrow",kte=B.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...i}=e;return n.jsx(Kr.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});kte.displayName=mwe;var pwe=kte;function gR(e){const[t,r]=B.useState(void 0);return To(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var vR="Popper",[Tte,Oy]=Ql(vR),[xwe,Ite]=Tte(vR),Ote=e=>{const{__scopePopper:t,children:r}=e,[a,s]=B.useState(null);return n.jsx(xwe,{scope:t,anchor:a,onAnchorChange:s,children:r})};Ote.displayName=vR;var Dte="PopperAnchor",Lte=B.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=Ite(Dte,r),o=B.useRef(null),l=$n(t,o);return B.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:n.jsx(Kr.div,{...s,ref:l})});Lte.displayName=Dte;var yR="PopperContent",[gwe,vwe]=Tte(yR),Rte=B.forwardRef((e,t)=>{var re,de,ae,Ae,Me,H;const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:A="optimized",onPlaced:p,...m}=e,x=Ite(yR,r),[g,v]=B.useState(null),y=$n(t,Oe=>v(Oe)),[j,b]=B.useState(null),w=gR(j),C=(w==null?void 0:w.width)??0,F=(w==null?void 0:w.height)??0,E=a+(i!=="center"?"-"+i:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},N=Array.isArray(d)?d:[d],I=N.length>0,M={padding:L,boundary:N.filter(wwe),altBoundary:I},{refs:O,floatingStyles:k,placement:P,isPositioned:R,middlewareData:V}=iwe({strategy:"fixed",placement:E,whileElementsMounted:(...Oe)=>J1e(...Oe,{animationFrame:A==="always"}),elements:{reference:x.anchor},middleware:[lwe({mainAxis:s+F,alignmentAxis:o}),c&&cwe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?dwe():void 0,...M}),c&&uwe({...M}),hwe({...M,apply:({elements:Oe,rects:Ee,availableWidth:ee,availableHeight:st})=>{const{width:se,height:me}=Ee.reference,nt=Oe.floating.style;nt.setProperty("--radix-popper-available-width",`${ee}px`),nt.setProperty("--radix-popper-available-height",`${st}px`),nt.setProperty("--radix-popper-anchor-width",`${se}px`),nt.setProperty("--radix-popper-anchor-height",`${me}px`)}}),j&&Awe({element:j,padding:l}),bwe({arrowWidth:C,arrowHeight:F}),f&&fwe({strategy:"referenceHidden",...M})]}),[D,Y]=Qte(P),ne=ko(p);To(()=>{R&&(ne==null||ne())},[R,ne]);const S=(re=V.arrow)==null?void 0:re.x,z=(de=V.arrow)==null?void 0:de.y,Q=((ae=V.arrow)==null?void 0:ae.centerOffset)!==0,[W,U]=B.useState();return To(()=>{g&&U(window.getComputedStyle(g).zIndex)},[g]),n.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:R?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Ae=V.transformOrigin)==null?void 0:Ae.x,(Me=V.transformOrigin)==null?void 0:Me.y].join(" "),...((H=V.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(gwe,{scope:r,placedSide:D,onArrowChange:b,arrowX:S,arrowY:z,shouldHideArrow:Q,children:n.jsx(Kr.div,{"data-side":D,"data-align":Y,...m,ref:y,style:{...m.style,animation:R?void 0:"none"}})})})});Rte.displayName=yR;var Mte="PopperArrow",ywe={top:"bottom",right:"left",bottom:"top",left:"right"},Ute=B.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,i=vwe(Mte,a),o=ywe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(pwe,{...s,ref:r,style:{...s.style,display:"block"}})})});Ute.displayName=Mte;function wwe(e){return e!==null}var bwe=e=>({name:"transformOrigin",options:e,fn(t){var x,g,v;const{placement:r,rects:a,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=Qte(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,A=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let p="",m="";return d==="bottom"?(p=o?h:`${f}px`,m=`${-c}px`):d==="top"?(p=o?h:`${f}px`,m=`${a.floating.height+c}px`):d==="right"?(p=`${-c}px`,m=o?h:`${A}px`):d==="left"&&(p=`${a.floating.width+c}px`,m=o?h:`${A}px`),{data:{x:p,y:m}}}});function Qte(e){const[t,r="center"]=e.split("-");return[t,r]}var wR=Ote,iB=Lte,bR=Rte,jR=Ute;function NR(e){const t=B.useRef({value:e,previous:e});return B.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bx=new WeakMap,yC=new WeakMap,wC={},ck=0,$te=function(e){return e&&(e.host||$te(e.parentNode))},Nwe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=$te(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Cwe=function(e,t,r,a){var s=Nwe(t,Array.isArray(e)?e:[e]);wC[r]||(wC[r]=new WeakMap);var i=wC[r],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var A=f.getAttribute(a),p=A!==null&&A!=="false",m=(Bx.get(f)||0)+1,x=(i.get(f)||0)+1;Bx.set(f,m),i.set(f,x),o.push(f),m===1&&p&&yC.set(f,!0),x===1&&f.setAttribute(r,"true"),p||f.setAttribute(a,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return u(t),l.clear(),ck++,function(){o.forEach(function(h){var f=Bx.get(h)-1,A=i.get(h)-1;Bx.set(h,f),i.set(h,A),f||(yC.has(h)||h.removeAttribute(a),yC.delete(h)),A||h.removeAttribute(r)}),ck--,ck||(Bx=new WeakMap,Bx=new WeakMap,yC=new WeakMap,wC={})}},oB=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=jwe(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Cwe(a,s,r,"aria-hidden")):function(){return null}},Ku=function(){return Ku=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ku.apply(this,arguments)};function Hte(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function Swe(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var tS="right-scroll-bar-position",rS="width-before-scroll-bar",_we="with-scroll-bars-hidden",Ewe="--removed-body-scroll-bar-size";function dk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Bwe(e,t){var r=B.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var Fwe=typeof window<"u"?B.useLayoutEffect:B.useEffect,e9=new WeakMap;function Pwe(e,t){var r=Bwe(null,function(a){return e.forEach(function(s){return dk(s,a)})});return Fwe(function(){var a=e9.get(r);if(a){var s=new Set(a),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||dk(l,null)}),i.forEach(function(l){s.has(l)||dk(l,o)})}e9.set(r,e)},[e]),r}function kwe(e){return e}function Twe(e,t){t===void 0&&(t=kwe);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return s}function Iwe(e){e===void 0&&(e={});var t=Twe(null);return t.options=Ku({async:!0,ssr:!1},e),t}var zte=function(e){var t=e.sideCar,r=Hte(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return B.createElement(a,Ku({},r))};zte.isSideCarExport=!0;function Owe(e,t){return e.useMedium(t),zte}var Vte=Iwe(),uk=function(){},lB=B.forwardRef(function(e,t){var r=B.useRef(null),a=B.useState({onScrollCapture:uk,onWheelCapture:uk,onTouchMoveCapture:uk}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,A=e.noIsolation,p=e.inert,m=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,v=e.gapMode,y=Hte(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,b=Pwe([r,t]),w=Ku(Ku({},y),s);return B.createElement(B.Fragment,null,u&&B.createElement(j,{sideCar:Vte,removeScrollBar:d,shards:h,noIsolation:A,inert:p,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),o?B.cloneElement(B.Children.only(l),Ku(Ku({},w),{ref:b})):B.createElement(g,Ku({},w,{className:c,ref:b}),l))});lB.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lB.classNames={fullWidth:rS,zeroRight:tS};var Dwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Dwe();return t&&e.setAttribute("nonce",t),e}function Rwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Mwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Uwe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Lwe())&&(Rwe(t,r),Mwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Qwe=function(){var e=Uwe();return function(t,r){B.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Kte=function(){var e=Qwe(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},$we={left:0,top:0,right:0,gap:0},hk=function(e){return parseInt(e||"",10)||0},Hwe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hk(r),hk(a),hk(s)]},zwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $we;var t=Hwe(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},Vwe=Kte(),$g="data-scroll-locked",Kwe=function(e,t,r,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_we,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat($g,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tS,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(rS,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(tS," .").concat(tS,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(rS," .").concat(rS,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat($g,`] {
    `).concat(Ewe,": ").concat(l,`px;
  }
`)},t9=function(){var e=parseInt(document.body.getAttribute($g)||"0",10);return isFinite(e)?e:0},qwe=function(){B.useEffect(function(){return document.body.setAttribute($g,(t9()+1).toString()),function(){var e=t9()-1;e<=0?document.body.removeAttribute($g):document.body.setAttribute($g,e.toString())}},[])},Wwe=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;qwe();var i=B.useMemo(function(){return zwe(s)},[s]);return B.createElement(Vwe,{styles:Kwe(i,!t,s,r?"":"!important")})},k6=!1;if(typeof window<"u")try{var bC=Object.defineProperty({},"passive",{get:function(){return k6=!0,!0}});window.addEventListener("test",bC,bC),window.removeEventListener("test",bC,bC)}catch{k6=!1}var Fx=k6?{passive:!1}:!1,Gwe=function(e){return e.tagName==="TEXTAREA"},qte=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Gwe(e)&&r[t]==="visible")},Xwe=function(e){return qte(e,"overflowY")},Ywe=function(e){return qte(e,"overflowX")},r9=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=Wte(e,a);if(s){var i=Gte(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},Jwe=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Zwe=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},Wte=function(e,t){return e==="v"?Xwe(t):Ywe(t)},Gte=function(e,t){return e==="v"?Jwe(t):Zwe(t)},ebe=function(e,t){return e==="h"&&t==="rtl"?-1:1},tbe=function(e,t,r,a,s){var i=ebe(e,window.getComputedStyle(t).direction),o=i*a,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{var A=Gte(e,l),p=A[0],m=A[1],x=A[2],g=m-x-i*p;(p||g)&&Wte(e,l)&&(h+=g,f+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(d=!0),d},jC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n9=function(e){return[e.deltaX,e.deltaY]},a9=function(e){return e&&"current"in e?e.current:e},rbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nbe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},abe=0,Px=[];function sbe(e){var t=B.useRef([]),r=B.useRef([0,0]),a=B.useRef(),s=B.useState(abe++)[0],i=B.useState(Kte)[0],o=B.useRef(e);B.useEffect(function(){o.current=e},[e]),B.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Swe([e.lockRef.current],(e.shards||[]).map(a9),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=B.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=jC(m),v=r.current,y="deltaX"in m?m.deltaX:v[0]-g[0],j="deltaY"in m?m.deltaY:v[1]-g[1],b,w=m.target,C=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in m&&C==="h"&&w.type==="range")return!1;var F=r9(C,w);if(!F)return!0;if(F?b=C:(b=C==="v"?"h":"v",F=r9(C,w)),!F)return!1;if(!a.current&&"changedTouches"in m&&(y||j)&&(a.current=b),!b)return!0;var E=a.current||b;return tbe(E,x,m,E==="h"?y:j,!0)},[]),c=B.useCallback(function(m){var x=m;if(!(!Px.length||Px[Px.length-1]!==i)){var g="deltaY"in x?n9(x):jC(x),v=t.current.filter(function(b){return b.name===x.type&&(b.target===x.target||x.target===b.shadowParent)&&rbe(b.delta,g)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(a9).filter(Boolean).filter(function(b){return b.contains(x.target)}),j=y.length>0?l(x,y[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),d=B.useCallback(function(m,x,g,v){var y={name:m,delta:x,target:g,should:v,shadowParent:ibe(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),u=B.useCallback(function(m){r.current=jC(m),a.current=void 0},[]),h=B.useCallback(function(m){d(m.type,n9(m),m.target,l(m,e.lockRef.current))},[]),f=B.useCallback(function(m){d(m.type,jC(m),m.target,l(m,e.lockRef.current))},[]);B.useEffect(function(){return Px.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Fx),document.addEventListener("touchmove",c,Fx),document.addEventListener("touchstart",u,Fx),function(){Px=Px.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Fx),document.removeEventListener("touchmove",c,Fx),document.removeEventListener("touchstart",u,Fx)}},[]);var A=e.removeScrollBar,p=e.inert;return B.createElement(B.Fragment,null,p?B.createElement(i,{styles:nbe(s)}):null,A?B.createElement(Wwe,{gapMode:e.gapMode}):null)}function ibe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const obe=Owe(Vte,sbe);var V2=B.forwardRef(function(e,t){return B.createElement(lB,Ku({},e,{ref:t,sideCar:obe}))});V2.classNames=lB.classNames;var lbe=[" ","Enter","ArrowUp","ArrowDown"],cbe=[" ","Enter"],K2="Select",[cB,dB,dbe]=XE(K2),[Dy,fjt]=Ql(K2,[dbe,Oy]),uB=Oy(),[ube,Km]=Dy(K2),[hbe,fbe]=Dy(K2),Xte=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:A,form:p}=e,m=uB(t),[x,g]=B.useState(null),[v,y]=B.useState(null),[j,b]=B.useState(!1),w=tB(d),[C=!1,F]=Ah({prop:a,defaultProp:s,onChange:i}),[E,L]=Ah({prop:o,defaultProp:l,onChange:c}),N=B.useRef(null),I=x?p||!!x.closest("form"):!0,[M,O]=B.useState(new Set),k=Array.from(M).map(P=>P.props.value).join(";");return n.jsx(wR,{...m,children:n.jsxs(ube,{required:A,scope:t,trigger:x,onTriggerChange:g,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:b,contentId:tu(),value:E,onValueChange:L,open:C,onOpenChange:F,dir:w,triggerPointerDownPosRef:N,disabled:f,children:[n.jsx(cB.Provider,{scope:t,children:n.jsx(hbe,{scope:e.__scopeSelect,onNativeOptionAdd:B.useCallback(P=>{O(R=>new Set(R).add(P))},[]),onNativeOptionRemove:B.useCallback(P=>{O(R=>{const V=new Set(R);return V.delete(P),V})},[]),children:r})}),I?n.jsxs(wre,{"aria-hidden":!0,required:A,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:P=>L(P.target.value),disabled:f,form:p,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(M)]},k):null]})})};Xte.displayName=K2;var Yte="SelectTrigger",Jte=B.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=uB(r),o=Km(Yte,r),l=o.disabled||a,c=$n(t,o.onTriggerChange),d=dB(r),u=B.useRef("touch"),[h,f,A]=bre(m=>{const x=d().filter(y=>!y.disabled),g=x.find(y=>y.value===o.value),v=jre(x,m,g);v!==void 0&&o.onValueChange(v.value)}),p=m=>{l||(o.onOpenChange(!0),A()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return n.jsx(iB,{asChild:!0,...i,children:n.jsx(Kr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yre(o.value)?"":void 0,...s,ref:c,onClick:fr(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&p(m)}),onPointerDown:fr(s.onPointerDown,m=>{u.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(p(m),m.preventDefault())}),onKeyDown:fr(s.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(x&&m.key===" ")&&lbe.includes(m.key)&&(p(),m.preventDefault())})})})});Jte.displayName=Yte;var Zte="SelectValue",ere=B.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:o="",...l}=e,c=Km(Zte,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=$n(t,c.onValueNodeChange);return To(()=>{d(u)},[d,u]),n.jsx(Kr.span,{...l,ref:h,style:{pointerEvents:"none"},children:yre(c.value)?n.jsx(n.Fragment,{children:o}):i})});ere.displayName=Zte;var Abe="SelectIcon",tre=B.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(Kr.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});tre.displayName=Abe;var mbe="SelectPortal",rre=e=>n.jsx(Ey,{asChild:!0,...e});rre.displayName=mbe;var C0="SelectContent",nre=B.forwardRef((e,t)=>{const r=Km(C0,e.__scopeSelect),[a,s]=B.useState();if(To(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?J0.createPortal(n.jsx(are,{scope:e.__scopeSelect,children:n.jsx(cB.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(sre,{...e,ref:t})});nre.displayName=C0;var Dd=10,[are,qm]=Dy(C0),pbe="SelectContentImpl",xbe=Nm("SelectContent.RemoveScroll"),sre=B.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:A,sticky:p,hideWhenDetached:m,avoidCollisions:x,...g}=e,v=Km(C0,r),[y,j]=B.useState(null),[b,w]=B.useState(null),C=$n(t,re=>j(re)),[F,E]=B.useState(null),[L,N]=B.useState(null),I=dB(r),[M,O]=B.useState(!1),k=B.useRef(!1);B.useEffect(()=>{if(y)return oB(y)},[y]),rB();const P=B.useCallback(re=>{const[de,...ae]=I().map(H=>H.ref.current),[Ae]=ae.slice(-1),Me=document.activeElement;for(const H of re)if(H===Me||(H==null||H.scrollIntoView({block:"nearest"}),H===de&&b&&(b.scrollTop=0),H===Ae&&b&&(b.scrollTop=b.scrollHeight),H==null||H.focus(),document.activeElement!==Me))return},[I,b]),R=B.useCallback(()=>P([F,y]),[P,F,y]);B.useEffect(()=>{M&&R()},[M,R]);const{onOpenChange:V,triggerPointerDownPosRef:D}=v;B.useEffect(()=>{if(y){let re={x:0,y:0};const de=Ae=>{var Me,H;re={x:Math.abs(Math.round(Ae.pageX)-(((Me=D.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((H=D.current)==null?void 0:H.y)??0))}},ae=Ae=>{re.x<=10&&re.y<=10?Ae.preventDefault():y.contains(Ae.target)||V(!1),document.removeEventListener("pointermove",de),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ae,{capture:!0})}}},[y,V,D]),B.useEffect(()=>{const re=()=>V(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[V]);const[Y,ne]=bre(re=>{const de=I().filter(Me=>!Me.disabled),ae=de.find(Me=>Me.ref.current===document.activeElement),Ae=jre(de,re,ae);Ae&&setTimeout(()=>Ae.ref.current.focus())}),S=B.useCallback((re,de,ae)=>{const Ae=!k.current&&!ae;(v.value!==void 0&&v.value===de||Ae)&&(E(re),Ae&&(k.current=!0))},[v.value]),z=B.useCallback(()=>y==null?void 0:y.focus(),[y]),Q=B.useCallback((re,de,ae)=>{const Ae=!k.current&&!ae;(v.value!==void 0&&v.value===de||Ae)&&N(re)},[v.value]),W=a==="popper"?T6:ire,U=W===T6?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:A,sticky:p,hideWhenDetached:m,avoidCollisions:x}:{};return n.jsx(are,{scope:r,content:y,viewport:b,onViewportChange:w,itemRefCallback:S,selectedItem:F,onItemLeave:z,itemTextRefCallback:Q,focusSelectedItem:R,selectedItemText:L,position:a,isPositioned:M,searchRef:Y,children:n.jsx(V2,{as:xbe,allowPinchZoom:!0,children:n.jsx(H2,{asChild:!0,trapped:v.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:fr(s,re=>{var de;(de=v.trigger)==null||de.focus({preventScroll:!0}),re.preventDefault()}),children:n.jsx(_y,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(W,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:re=>re.preventDefault(),...g,...U,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:fr(g.onKeyDown,re=>{const de=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!de&&re.key.length===1&&ne(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ae=I().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Me=re.target,H=Ae.indexOf(Me);Ae=Ae.slice(H+1)}setTimeout(()=>P(Ae)),re.preventDefault()}})})})})})})});sre.displayName=pbe;var gbe="SelectItemAlignedPosition",ire=B.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=Km(C0,r),o=qm(C0,r),[l,c]=B.useState(null),[d,u]=B.useState(null),h=$n(t,C=>u(C)),f=dB(r),A=B.useRef(!1),p=B.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:v}=o,y=B.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&m&&x&&g){const C=i.trigger.getBoundingClientRect(),F=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),L=g.getBoundingClientRect();if(i.dir!=="rtl"){const Me=L.left-F.left,H=E.left-Me,Oe=C.left-H,Ee=C.width+Oe,ee=Math.max(Ee,F.width),st=window.innerWidth-Dd,se=U$(H,[Dd,Math.max(Dd,st-ee)]);l.style.minWidth=Ee+"px",l.style.left=se+"px"}else{const Me=F.right-L.right,H=window.innerWidth-E.right-Me,Oe=window.innerWidth-C.right-H,Ee=C.width+Oe,ee=Math.max(Ee,F.width),st=window.innerWidth-Dd,se=U$(H,[Dd,Math.max(Dd,st-ee)]);l.style.minWidth=Ee+"px",l.style.right=se+"px"}const N=f(),I=window.innerHeight-Dd*2,M=m.scrollHeight,O=window.getComputedStyle(d),k=parseInt(O.borderTopWidth,10),P=parseInt(O.paddingTop,10),R=parseInt(O.borderBottomWidth,10),V=parseInt(O.paddingBottom,10),D=k+P+M+V+R,Y=Math.min(x.offsetHeight*5,D),ne=window.getComputedStyle(m),S=parseInt(ne.paddingTop,10),z=parseInt(ne.paddingBottom,10),Q=C.top+C.height/2-Dd,W=I-Q,U=x.offsetHeight/2,re=x.offsetTop+U,de=k+P+re,ae=D-de;if(de<=Q){const Me=N.length>0&&x===N[N.length-1].ref.current;l.style.bottom="0px";const H=d.clientHeight-m.offsetTop-m.offsetHeight,Oe=Math.max(W,U+(Me?z:0)+H+R),Ee=de+Oe;l.style.height=Ee+"px"}else{const Me=N.length>0&&x===N[0].ref.current;l.style.top="0px";const Oe=Math.max(Q,k+m.offsetTop+(Me?S:0)+U)+ae;l.style.height=Oe+"px",m.scrollTop=de-Q+m.offsetTop}l.style.margin=`${Dd}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=I+"px",a==null||a(),requestAnimationFrame(()=>A.current=!0)}},[f,i.trigger,i.valueNode,l,d,m,x,g,i.dir,a]);To(()=>y(),[y]);const[j,b]=B.useState();To(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const w=B.useCallback(C=>{C&&p.current===!0&&(y(),v==null||v(),p.current=!1)},[y,v]);return n.jsx(ybe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:A,onScrollButtonChange:w,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(Kr.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ire.displayName=gbe;var vbe="SelectPopperPosition",T6=B.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=Dd,...i}=e,o=uB(r);return n.jsx(bR,{...o,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});T6.displayName=vbe;var[ybe,CR]=Dy(C0,{}),I6="SelectViewport",ore=B.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=qm(I6,r),o=CR(I6,r),l=$n(t,i.onViewportChange),c=B.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(cB.Slot,{scope:r,children:n.jsx(Kr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fr(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const A=Math.abs(c.current-u.scrollTop);if(A>0){const p=window.innerHeight-Dd*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),g=Math.max(m,x);if(g<p){const v=g+A,y=Math.min(p,v),j=v-y;h.style.height=y+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});ore.displayName=I6;var lre="SelectGroup",[wbe,bbe]=Dy(lre),jbe=B.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=tu();return n.jsx(wbe,{scope:r,id:s,children:n.jsx(Kr.div,{role:"group","aria-labelledby":s,...a,ref:t})})});jbe.displayName=lre;var cre="SelectLabel",dre=B.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=bbe(cre,r);return n.jsx(Kr.div,{id:s.id,...a,ref:t})});dre.displayName=cre;var a5="SelectItem",[Nbe,ure]=Dy(a5),hre=B.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...o}=e,l=Km(a5,r),c=qm(a5,r),d=l.value===a,[u,h]=B.useState(i??""),[f,A]=B.useState(!1),p=$n(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,a,s)}),m=tu(),x=B.useRef("touch"),g=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Nbe,{scope:r,value:a,disabled:s,textId:m,isSelected:d,onItemTextChange:B.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(cB.ItemSlot,{scope:r,value:a,disabled:s,textValue:u,children:n.jsx(Kr.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:p,onFocus:fr(o.onFocus,()=>A(!0)),onBlur:fr(o.onBlur,()=>A(!1)),onClick:fr(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:fr(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:fr(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:fr(o.onPointerMove,v=>{var y;x.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fr(o.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:fr(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(cbe.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});hre.displayName=a5;var gw="SelectItemText",fre=B.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,o=Km(gw,r),l=qm(gw,r),c=ure(gw,r),d=fbe(gw,r),[u,h]=B.useState(null),f=$n(t,g=>h(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),A=u==null?void 0:u.textContent,p=B.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:A},c.value),[c.disabled,c.value,A]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=d;return To(()=>(m(p),()=>x(p)),[m,x,p]),n.jsxs(n.Fragment,{children:[n.jsx(Kr.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?J0.createPortal(i.children,o.valueNode):null]})});fre.displayName=gw;var Are="SelectItemIndicator",mre=B.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return ure(Are,r).isSelected?n.jsx(Kr.span,{"aria-hidden":!0,...a,ref:t}):null});mre.displayName=Are;var O6="SelectScrollUpButton",pre=B.forwardRef((e,t)=>{const r=qm(O6,e.__scopeSelect),a=CR(O6,e.__scopeSelect),[s,i]=B.useState(!1),o=$n(t,a.onScrollButtonChange);return To(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?n.jsx(gre,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});pre.displayName=O6;var D6="SelectScrollDownButton",xre=B.forwardRef((e,t)=>{const r=qm(D6,e.__scopeSelect),a=CR(D6,e.__scopeSelect),[s,i]=B.useState(!1),o=$n(t,a.onScrollButtonChange);return To(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?n.jsx(gre,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xre.displayName=D6;var gre=B.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=qm("SelectScrollButton",r),o=B.useRef(null),l=dB(r),c=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>c(),[c]),To(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Kr.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:fr(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:fr(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:fr(s.onPointerLeave,()=>{c()})})}),Cbe="SelectSeparator",vre=B.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(Kr.div,{"aria-hidden":!0,...a,ref:t})});vre.displayName=Cbe;var L6="SelectArrow",Sbe=B.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=uB(r),i=Km(L6,r),o=qm(L6,r);return i.open&&o.position==="popper"?n.jsx(jR,{...s,...a,ref:t}):null});Sbe.displayName=L6;function yre(e){return e===""||e===void 0}var wre=B.forwardRef((e,t)=>{const{value:r,...a}=e,s=B.useRef(null),i=$n(t,s),o=NR(r);return B.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[o,r]),n.jsx(YE,{asChild:!0,children:n.jsx("select",{...a,ref:i,defaultValue:r})})});wre.displayName="BubbleSelect";function bre(e){const t=ko(e),r=B.useRef(""),a=B.useRef(0),s=B.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=B.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function jre(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=_be(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _be(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var Ebe=Xte,Nre=Jte,Bbe=ere,Fbe=tre,Pbe=rre,Cre=nre,kbe=ore,Sre=dre,_re=hre,Tbe=fre,Ibe=mre,Ere=pre,Bre=xre,Fre=vre;const $t=Ebe,Ht=Bbe,Mt=B.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Nre,{ref:a,className:mr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(Fbe,{asChild:!0,children:n.jsx(nte,{className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=Nre.displayName;const Pre=B.forwardRef(({className:e,...t},r)=>n.jsx(Ere,{ref:r,className:mr("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(nye,{className:"h-4 w-4"})}));Pre.displayName=Ere.displayName;const kre=B.forwardRef(({className:e,...t},r)=>n.jsx(Bre,{ref:r,className:mr("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(nte,{className:"h-4 w-4"})}));kre.displayName=Bre.displayName;const Ut=B.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(Pbe,{children:n.jsxs(Cre,{ref:s,className:mr("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(Pre,{}),n.jsx(kbe,{className:mr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(kre,{})]})}));Ut.displayName=Cre.displayName;const Obe=B.forwardRef(({className:e,...t},r)=>n.jsx(Sre,{ref:r,className:mr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Obe.displayName=Sre.displayName;const ge=B.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(_re,{ref:a,className:mr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Ibe,{children:n.jsx(By,{className:"h-4 w-4"})})}),n.jsx(Tbe,{children:t})]}));ge.displayName=_re.displayName;const Dbe=B.forwardRef(({className:e,...t},r)=>n.jsx(Fre,{ref:r,className:mr("-mx-1 my-1 h-px bg-muted",e),...t}));Dbe.displayName=Fre.displayName;function R6({className:e="",variant:t="full",size:r="md"}){const a={sm:{icon:32,text:"text-lg"},md:{icon:48,text:"text-2xl"},lg:{icon:64,text:"text-4xl"}},s=a[r].icon,i=a[r].text,o=()=>n.jsxs("svg",{width:s,height:s,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[n.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"url(#bgGradient)"}),n.jsx("path",{d:"M30 35 L30 65 L42 50 L42 65 M42 35 L54 50 L54 35 M54 65 L66 50 L66 65 L66 35",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),n.jsx("circle",{cx:"30",cy:"35",r:"4",fill:"#FCD34D"}),n.jsx("circle",{cx:"54",cy:"50",r:"4",fill:"#FCD34D"}),n.jsx("circle",{cx:"66",cy:"35",r:"4",fill:"#FCD34D"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"bgGradient",x1:"5",y1:"5",x2:"95",y2:"95",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{offset:"0%",stopColor:"#2563EB"}),n.jsx("stop",{offset:"50%",stopColor:"#0891B2"}),n.jsx("stop",{offset:"100%",stopColor:"#14B8A6"})]})})]}),l=()=>n.jsx("span",{className:`font-bold bg-gradient-to-r from-blue-600 via-cyan-600 to-teal-500 bg-clip-text text-transparent ${i}`,children:"Nexo Brindes"});return t==="icon"?n.jsx(o,{}):t==="text"?n.jsx(l,{}):n.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[n.jsx(o,{}),n.jsx(l,{})]})}function s9(){const[e,t]=B.useState(""),[r,a]=B.useState(""),[s,i]=B.useState("admin"),[o,l]=B.useState(!1),{toast:c}=en(),d=async u=>{u.preventDefault(),l(!0);try{const h=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r,preferredRole:s})}),f=await h.json();h.ok&&f.success?(localStorage.setItem("user",JSON.stringify(f.user)),localStorage.setItem("token",f.token),console.log("Login successful for user:",f.user.username,"Role:",f.user.role),c({title:"Login realizado com sucesso!",description:`Bem-vindo, ${f.user.name}!`}),setTimeout(()=>{const{role:A}=f.user;switch(A){case"admin":window.location.href="/";break;case"vendor":window.location.href="/vendor/dashboard";break;case"client":window.location.href="/client/orders";break;case"producer":window.location.href="/producer/production-dashboard";break;case"logistics":window.location.href="/logistics/dashboard";break;case"finance":window.location.href="/finance/payments";break;case"partner":window.location.href="/partner/clients";break;case"dashtv":window.location.href="/dashtv";break;default:window.location.href="/dashboard"}},100)):(console.error("Login failed:",f),c({title:"Erro no login",description:f.error||"Credenciais invlidas",variant:"destructive"}))}catch{c({title:"Erro no login",description:"Erro de conexo. Tente novamente.",variant:"destructive"})}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-teal-500 flex items-center justify-center p-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs(Le,{className:"shadow-2xl",children:[n.jsxs(Tt,{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-6 flex justify-center",children:n.jsx(R6,{size:"lg",variant:"full"})}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Acesse seu painel personalizado"})]}),n.jsx(Re,{className:"space-y-6",children:n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"profile",children:"Perfil de Acesso"}),n.jsxs($t,{value:s,onValueChange:i,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o perfil"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"admin",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(xye,{className:"h-4 w-4 mr-2"}),"Administrador"]})}),n.jsx(ge,{value:"vendor",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ca,{className:"h-4 w-4 mr-2"}),"Vendedor"]})}),n.jsx(ge,{value:"client",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Cliente"]})}),n.jsx(ge,{value:"producer",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),"Produtor"]})}),n.jsx(ge,{value:"logistics",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),"Logstica"]})}),n.jsx(ge,{value:"partner",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Scio"]})}),n.jsx(ge,{value:"finance",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Financeiro"]})}),n.jsx(ge,{value:"dashtv",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vye,{className:"h-4 w-4 mr-2"}),"TV Dashboard"]})})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"username",children:"Usurio"}),n.jsx(ie,{id:"username","data-testid":"input-username",type:"text",placeholder:"Digite seu usurio ou cdigo",value:e,onChange:u=>t(u.target.value),required:!0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clientes: use o cdigo fornecido no cadastro (ex: CLI123456ABCD)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"password",children:"Senha"}),n.jsx(ie,{id:"password","data-testid":"input-password",type:"password",placeholder:"Digite sua senha",value:r,onChange:u=>a(u.target.value),required:!0})]}),n.jsx(Z,{type:"submit","data-testid":"button-login",className:"w-full bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-700 hover:to-teal-600",disabled:o,children:o?"Entrando...":"Entrar"})]})})]})})})}var q2=e=>e.type==="checkbox",Mp=e=>e instanceof Date,qo=e=>e==null;const Tre=e=>typeof e=="object";var Ks=e=>!qo(e)&&!Array.isArray(e)&&Tre(e)&&!Mp(e),Ire=e=>Ks(e)&&e.target?q2(e.target)?e.target.checked:e.target.value:e,Lbe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ore=(e,t)=>e.has(Lbe(t)),Rbe=e=>{const t=e.constructor&&e.constructor.prototype;return Ks(t)&&t.hasOwnProperty("isPrototypeOf")},SR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ki(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(SR&&(e instanceof Blob||a))&&(r||Ks(e)))if(t=r?[]:{},!r&&!Rbe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Ki(e[s]));else return e;return t}var hB=e=>Array.isArray(e)?e.filter(Boolean):[],Qs=e=>e===void 0,Ar=(e,t,r)=>{if(!t||!Ks(e))return r;const a=hB(t.split(/[,[\].]+?/)).reduce((s,i)=>qo(s)?s:s[i],e);return Qs(a)||a===e?Qs(e[t])?r:e[t]:a},lc=e=>typeof e=="boolean",_R=e=>/^\w*$/.test(e),Dre=e=>hB(e.replace(/["|']|\]/g,"").split(/\.|\[/)),la=(e,t,r)=>{let a=-1;const s=_R(t)?[t]:Dre(t),i=s.length,o=i-1;for(;++a<i;){const l=s[a];let c=r;if(a!==o){const d=e[l];c=Ks(d)||Array.isArray(d)?d:isNaN(+s[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const s5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Kh={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Lre=Se.createContext(null),fB=()=>Se.useContext(Lre),Mbe=e=>{const{children:t,...r}=e;return Se.createElement(Lre.Provider,{value:r},t)};var Rre=(e,t,r,a=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==zd.all&&(t._proxyFormState[o]=!a||zd.all),r&&(r[o]=!0),e[o]}});return s};function Ube(e){const t=fB(),{control:r=t.control,disabled:a,name:s,exact:i}=e||{},[o,l]=Se.useState(r._formState),c=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Se.useRef(s);return d.current=s,Se.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!a&&l({...r._formState,...u})}}),[r,a,i]),Se.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Se.useMemo(()=>Rre(o,r,c.current,!1),[o,r])}var Yu=e=>typeof e=="string",Mre=(e,t,r,a,s)=>Yu(e)?(a&&t.watch.add(e),Ar(r,e,s)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),Ar(r,i))):(a&&(t.watchAll=!0),r);function Qbe(e){const t=fB(),{control:r=t.control,name:a,defaultValue:s,disabled:i,exact:o}=e||{},l=Se.useRef(a),c=Se.useRef(s);l.current=a,Se.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!i&&u(Mre(l.current,r._names,h.values||r._formValues,!1,c.current))}),[r,i,o]);const[d,u]=Se.useState(r._getWatch(a,s));return Se.useEffect(()=>r._removeUnmounted()),d}function $be(e){const t=fB(),{name:r,disabled:a,control:s=t.control,shouldUnregister:i}=e,o=Ore(s._names.array,r),l=Qbe({control:s,name:r,defaultValue:Ar(s._formValues,r,Ar(s._defaultValues,r,e.defaultValue)),exact:!0}),c=Ube({control:s,name:r,exact:!0}),d=Se.useRef(e),u=Se.useRef(s.register(r,{...e.rules,value:l,...lc(e.disabled)?{disabled:e.disabled}:{}})),h=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ar(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ar(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ar(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ar(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ar(c.errors,r)}}),[c,r]),f=Se.useCallback(x=>u.current.onChange({target:{value:Ire(x),name:r},type:s5.CHANGE}),[r]),A=Se.useCallback(()=>u.current.onBlur({target:{value:Ar(s._formValues,r),name:r},type:s5.BLUR}),[r,s._formValues]),p=Se.useCallback(x=>{const g=Ar(s._fields,r);g&&x&&(g._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[s._fields,r]),m=Se.useMemo(()=>({name:r,value:l,...lc(a)||c.disabled?{disabled:c.disabled||a}:{},onChange:f,onBlur:A,ref:p}),[r,a,c.disabled,f,A,p,l]);return Se.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(r,{...d.current.rules,...lc(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(v,y)=>{const j=Ar(s._fields,v);j&&j._f&&(j._f.mount=y)};if(g(r,!0),x){const v=Ki(Ar(s._options.defaultValues,r));la(s._defaultValues,r,v),Qs(Ar(s._formValues,r))&&la(s._formValues,r,v)}return!o&&s.register(r),()=>{(o?x&&!s._state.action:x)?s.unregister(r):g(r,!1)}},[r,s,o,i]),Se.useEffect(()=>{s._setDisabledField({disabled:a,name:r})},[a,r,s]),Se.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const Hbe=e=>e.render($be(e));var Ure=(e,t,r,a,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:s||!0}}:{},rb=e=>Array.isArray(e)?e:[e],i9=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},M6=e=>qo(e)||!Tre(e);function kA(e,t){if(M6(e)||M6(t))return e===t;if(Mp(e)&&Mp(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const s of r){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Mp(i)&&Mp(o)||Ks(i)&&Ks(o)||Array.isArray(i)&&Array.isArray(o)?!kA(i,o):i!==o)return!1}}return!0}var Vo=e=>Ks(e)&&!Object.keys(e).length,ER=e=>e.type==="file",Vd=e=>typeof e=="function",i5=e=>{if(!SR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Qre=e=>e.type==="select-multiple",BR=e=>e.type==="radio",zbe=e=>BR(e)||q2(e),fk=e=>i5(e)&&e.isConnected;function Vbe(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=Qs(e)?a++:e[t[a++]];return e}function Kbe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Qs(e[t]))return!1;return!0}function Ai(e,t){const r=Array.isArray(t)?t:_R(t)?[t]:Dre(t),a=r.length===1?e:Vbe(e,r),s=r.length-1,i=r[s];return a&&delete a[i],s!==0&&(Ks(a)&&Vo(a)||Array.isArray(a)&&Kbe(a))&&Ai(e,r.slice(0,-1)),e}var $re=e=>{for(const t in e)if(Vd(e[t]))return!0;return!1};function o5(e,t={}){const r=Array.isArray(e);if(Ks(e)||r)for(const a in e)Array.isArray(e[a])||Ks(e[a])&&!$re(e[a])?(t[a]=Array.isArray(e[a])?[]:{},o5(e[a],t[a])):qo(e[a])||(t[a]=!0);return t}function Hre(e,t,r){const a=Array.isArray(e);if(Ks(e)||a)for(const s in e)Array.isArray(e[s])||Ks(e[s])&&!$re(e[s])?Qs(t)||M6(r[s])?r[s]=Array.isArray(e[s])?o5(e[s],[]):{...o5(e[s])}:Hre(e[s],qo(t)?{}:t[s],r[s]):r[s]=!kA(e[s],t[s]);return r}var H1=(e,t)=>Hre(e,t,o5(t));const o9={value:!1,isValid:!1},l9={value:!0,isValid:!0};var zre=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Qs(e[0].attributes.value)?Qs(e[0].value)||e[0].value===""?l9:{value:e[0].value,isValid:!0}:l9:o9}return o9},Vre=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>Qs(e)?e:t?e===""?NaN:e&&+e:r&&Yu(e)?new Date(e):a?a(e):e;const c9={isValid:!1,value:null};var Kre=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,c9):c9;function d9(e){const t=e.ref;return ER(t)?t.files:BR(t)?Kre(e.refs).value:Qre(t)?[...t.selectedOptions].map(({value:r})=>r):q2(t)?zre(e.refs).value:Vre(Qs(t.value)?e.ref.value:t.value,e)}var qbe=(e,t,r,a)=>{const s={};for(const i of e){const o=Ar(t,i);o&&la(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:a}},l5=e=>e instanceof RegExp,z1=e=>Qs(e)?e:l5(e)?e.source:Ks(e)?l5(e.value)?e.value.source:e.value:e,u9=e=>({isOnSubmit:!e||e===zd.onSubmit,isOnBlur:e===zd.onBlur,isOnChange:e===zd.onChange,isOnAll:e===zd.all,isOnTouch:e===zd.onTouched});const h9="AsyncFunction";var Wbe=e=>!!e&&!!e.validate&&!!(Vd(e.validate)&&e.validate.constructor.name===h9||Ks(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===h9)),Gbe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),f9=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const nb=(e,t,r,a)=>{for(const s of r||Object.keys(e)){const i=Ar(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(nb(l,t))break}else if(Ks(l)&&nb(l,t))break}}};function A9(e,t,r){const a=Ar(e,r);if(a||_R(r))return{error:a,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Ar(t,i),l=Ar(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var Xbe=(e,t,r,a)=>{r(e);const{name:s,...i}=e;return Vo(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||zd.all))},Ybe=(e,t,r)=>!e||!t||e===t||rb(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),Jbe=(e,t,r,a,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?a.isOnBlur:s.isOnBlur)?!e:(r?a.isOnChange:s.isOnChange)?e:!0,Zbe=(e,t)=>!hB(Ar(e,t)).length&&Ai(e,t),eje=(e,t,r)=>{const a=rb(Ar(e,r));return la(a,"root",t[r]),la(e,r,a),e},nS=e=>Yu(e);function m9(e,t,r="validate"){if(nS(e)||Array.isArray(e)&&e.every(nS)||lc(e)&&!e)return{type:r,message:nS(e)?e:"",ref:t}}var kx=e=>Ks(e)&&!l5(e)?e:{value:e,message:""},p9=async(e,t,r,a,s,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:A,validate:p,name:m,valueAsNumber:x,mount:g}=e._f,v=Ar(r,m);if(!g||t.has(m))return{};const y=l?l[0]:o,j=I=>{s&&y.reportValidity&&(y.setCustomValidity(lc(I)?"":I||""),y.reportValidity())},b={},w=BR(o),C=q2(o),F=w||C,E=(x||ER(o))&&Qs(o.value)&&Qs(v)||i5(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,L=Ure.bind(null,m,a,b),N=(I,M,O,k=Kh.maxLength,P=Kh.minLength)=>{const R=I?M:O;b[m]={type:I?k:P,message:R,ref:o,...L(I?k:P,R)}};if(i?!Array.isArray(v)||!v.length:c&&(!F&&(E||qo(v))||lc(v)&&!v||C&&!zre(l).isValid||w&&!Kre(l).isValid)){const{value:I,message:M}=nS(c)?{value:!!c,message:c}:kx(c);if(I&&(b[m]={type:Kh.required,message:M,ref:y,...L(Kh.required,M)},!a))return j(M),b}if(!E&&(!qo(h)||!qo(f))){let I,M;const O=kx(f),k=kx(h);if(!qo(v)&&!isNaN(v)){const P=o.valueAsNumber||v&&+v;qo(O.value)||(I=P>O.value),qo(k.value)||(M=P<k.value)}else{const P=o.valueAsDate||new Date(v),R=Y=>new Date(new Date().toDateString()+" "+Y),V=o.type=="time",D=o.type=="week";Yu(O.value)&&v&&(I=V?R(v)>R(O.value):D?v>O.value:P>new Date(O.value)),Yu(k.value)&&v&&(M=V?R(v)<R(k.value):D?v<k.value:P<new Date(k.value))}if((I||M)&&(N(!!I,O.message,k.message,Kh.max,Kh.min),!a))return j(b[m].message),b}if((d||u)&&!E&&(Yu(v)||i&&Array.isArray(v))){const I=kx(d),M=kx(u),O=!qo(I.value)&&v.length>+I.value,k=!qo(M.value)&&v.length<+M.value;if((O||k)&&(N(O,I.message,M.message),!a))return j(b[m].message),b}if(A&&!E&&Yu(v)){const{value:I,message:M}=kx(A);if(l5(I)&&!v.match(I)&&(b[m]={type:Kh.pattern,message:M,ref:o,...L(Kh.pattern,M)},!a))return j(M),b}if(p){if(Vd(p)){const I=await p(v,r),M=m9(I,y);if(M&&(b[m]={...M,...L(Kh.validate,M.message)},!a))return j(M.message),b}else if(Ks(p)){let I={};for(const M in p){if(!Vo(I)&&!a)break;const O=m9(await p[M](v,r),y,M);O&&(I={...O,...L(M,O.message)},j(O.message),a&&(b[m]=I))}if(!Vo(I)&&(b[m]={ref:y,...I},!a))return b}}return j(!0),b};const tje={mode:zd.onSubmit,reValidateMode:zd.onChange,shouldFocusError:!0};function rje(e={}){let t={...tje,...e},r={submitCount:0,isDirty:!1,isLoading:Vd(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let s=Ks(t.defaultValues)||Ks(t.values)?Ki(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Ki(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:i9(),state:i9()},A=u9(t.mode),p=u9(t.reValidateMode),m=t.criteriaMode===zd.all,x=Ne=>le=>{clearTimeout(d),d=setTimeout(Ne,le)},g=async Ne=>{if(!t.disabled&&(u.isValid||h.isValid||Ne)){const le=t.resolver?Vo((await E()).errors):await N(a,!0);le!==r.isValid&&f.state.next({isValid:le})}},v=(Ne,le)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((Ne||Array.from(l.mount)).forEach(Fe=>{Fe&&(le?la(r.validatingFields,Fe,le):Ai(r.validatingFields,Fe))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Vo(r.validatingFields)}))},y=(Ne,le=[],Fe,ze,je=!0,De=!0)=>{if(ze&&Fe&&!t.disabled){if(o.action=!0,De&&Array.isArray(Ar(a,Ne))){const Ke=Fe(Ar(a,Ne),ze.argA,ze.argB);je&&la(a,Ne,Ke)}if(De&&Array.isArray(Ar(r.errors,Ne))){const Ke=Fe(Ar(r.errors,Ne),ze.argA,ze.argB);je&&la(r.errors,Ne,Ke),Zbe(r.errors,Ne)}if((u.touchedFields||h.touchedFields)&&De&&Array.isArray(Ar(r.touchedFields,Ne))){const Ke=Fe(Ar(r.touchedFields,Ne),ze.argA,ze.argB);je&&la(r.touchedFields,Ne,Ke)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=H1(s,i)),f.state.next({name:Ne,isDirty:M(Ne,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else la(i,Ne,le)},j=(Ne,le)=>{la(r.errors,Ne,le),f.state.next({errors:r.errors})},b=Ne=>{r.errors=Ne,f.state.next({errors:r.errors,isValid:!1})},w=(Ne,le,Fe,ze)=>{const je=Ar(a,Ne);if(je){const De=Ar(i,Ne,Qs(Fe)?Ar(s,Ne):Fe);Qs(De)||ze&&ze.defaultChecked||le?la(i,Ne,le?De:d9(je._f)):P(Ne,De),o.mount&&g()}},C=(Ne,le,Fe,ze,je)=>{let De=!1,Ke=!1;const At={name:Ne};if(!t.disabled){if(!Fe||ze){(u.isDirty||h.isDirty)&&(Ke=r.isDirty,r.isDirty=At.isDirty=M(),De=Ke!==At.isDirty);const He=kA(Ar(s,Ne),le);Ke=!!Ar(r.dirtyFields,Ne),He?Ai(r.dirtyFields,Ne):la(r.dirtyFields,Ne,!0),At.dirtyFields=r.dirtyFields,De=De||(u.dirtyFields||h.dirtyFields)&&Ke!==!He}if(Fe){const He=Ar(r.touchedFields,Ne);He||(la(r.touchedFields,Ne,Fe),At.touchedFields=r.touchedFields,De=De||(u.touchedFields||h.touchedFields)&&He!==Fe)}De&&je&&f.state.next(At)}return De?At:{}},F=(Ne,le,Fe,ze)=>{const je=Ar(r.errors,Ne),De=(u.isValid||h.isValid)&&lc(le)&&r.isValid!==le;if(t.delayError&&Fe?(c=x(()=>j(Ne,Fe)),c(t.delayError)):(clearTimeout(d),c=null,Fe?la(r.errors,Ne,Fe):Ai(r.errors,Ne)),(Fe?!kA(je,Fe):je)||!Vo(ze)||De){const Ke={...ze,...De&&lc(le)?{isValid:le}:{},errors:r.errors,name:Ne};r={...r,...Ke},f.state.next(Ke)}},E=async Ne=>{v(Ne,!0);const le=await t.resolver(i,t.context,qbe(Ne||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return v(Ne),le},L=async Ne=>{const{errors:le}=await E(Ne);if(Ne)for(const Fe of Ne){const ze=Ar(le,Fe);ze?la(r.errors,Fe,ze):Ai(r.errors,Fe)}else r.errors=le;return le},N=async(Ne,le,Fe={valid:!0})=>{for(const ze in Ne){const je=Ne[ze];if(je){const{_f:De,...Ke}=je;if(De){const At=l.array.has(De.name),He=je._f&&Wbe(je._f);He&&u.validatingFields&&v([ze],!0);const Te=await p9(je,l.disabled,i,m,t.shouldUseNativeValidation&&!le,At);if(He&&u.validatingFields&&v([ze]),Te[De.name]&&(Fe.valid=!1,le))break;!le&&(Ar(Te,De.name)?At?eje(r.errors,Te,De.name):la(r.errors,De.name,Te[De.name]):Ai(r.errors,De.name))}!Vo(Ke)&&await N(Ke,le,Fe)}}return Fe.valid},I=()=>{for(const Ne of l.unMount){const le=Ar(a,Ne);le&&(le._f.refs?le._f.refs.every(Fe=>!fk(Fe)):!fk(le._f.ref))&&ae(Ne)}l.unMount=new Set},M=(Ne,le)=>!t.disabled&&(Ne&&le&&la(i,Ne,le),!kA(S(),s)),O=(Ne,le,Fe)=>Mre(Ne,l,{...o.mount?i:Qs(le)?s:Yu(Ne)?{[Ne]:le}:le},Fe,le),k=Ne=>hB(Ar(o.mount?i:s,Ne,t.shouldUnregister?Ar(s,Ne,[]):[])),P=(Ne,le,Fe={})=>{const ze=Ar(a,Ne);let je=le;if(ze){const De=ze._f;De&&(!De.disabled&&la(i,Ne,Vre(le,De)),je=i5(De.ref)&&qo(le)?"":le,Qre(De.ref)?[...De.ref.options].forEach(Ke=>Ke.selected=je.includes(Ke.value)):De.refs?q2(De.ref)?De.refs.length>1?De.refs.forEach(Ke=>(!Ke.defaultChecked||!Ke.disabled)&&(Ke.checked=Array.isArray(je)?!!je.find(At=>At===Ke.value):je===Ke.value)):De.refs[0]&&(De.refs[0].checked=!!je):De.refs.forEach(Ke=>Ke.checked=Ke.value===je):ER(De.ref)?De.ref.value="":(De.ref.value=je,De.ref.type||f.state.next({name:Ne,values:Ki(i)})))}(Fe.shouldDirty||Fe.shouldTouch)&&C(Ne,je,Fe.shouldTouch,Fe.shouldDirty,!0),Fe.shouldValidate&&ne(Ne)},R=(Ne,le,Fe)=>{for(const ze in le){const je=le[ze],De=`${Ne}.${ze}`,Ke=Ar(a,De);(l.array.has(Ne)||Ks(je)||Ke&&!Ke._f)&&!Mp(je)?R(De,je,Fe):P(De,je,Fe)}},V=(Ne,le,Fe={})=>{const ze=Ar(a,Ne),je=l.array.has(Ne),De=Ki(le);la(i,Ne,De),je?(f.array.next({name:Ne,values:Ki(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Fe.shouldDirty&&f.state.next({name:Ne,dirtyFields:H1(s,i),isDirty:M(Ne,De)})):ze&&!ze._f&&!qo(De)?R(Ne,De,Fe):P(Ne,De,Fe),f9(Ne,l)&&f.state.next({...r}),f.state.next({name:o.mount?Ne:void 0,values:Ki(i)})},D=async Ne=>{o.mount=!0;const le=Ne.target;let Fe=le.name,ze=!0;const je=Ar(a,Fe),De=Ke=>{ze=Number.isNaN(Ke)||Mp(Ke)&&isNaN(Ke.getTime())||kA(Ke,Ar(i,Fe,Ke))};if(je){let Ke,At;const He=le.type?d9(je._f):Ire(Ne),Te=Ne.type===s5.BLUR||Ne.type===s5.FOCUS_OUT,dr=!Gbe(je._f)&&!t.resolver&&!Ar(r.errors,Fe)&&!je._f.deps||Jbe(Te,Ar(r.touchedFields,Fe),r.isSubmitted,p,A),Pe=f9(Fe,l,Te);la(i,Fe,He),Te?(je._f.onBlur&&je._f.onBlur(Ne),c&&c(0)):je._f.onChange&&je._f.onChange(Ne);const X=C(Fe,He,Te),We=!Vo(X)||Pe;if(!Te&&f.state.next({name:Fe,type:Ne.type,values:Ki(i)}),dr)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Te&&g():Te||g()),We&&f.state.next({name:Fe,...Pe?{}:X});if(!Te&&Pe&&f.state.next({...r}),t.resolver){const{errors:wt}=await E([Fe]);if(De(He),ze){const Ct=A9(r.errors,a,Fe),Qt=A9(wt,a,Ct.name||Fe);Ke=Qt.error,Fe=Qt.name,At=Vo(wt)}}else v([Fe],!0),Ke=(await p9(je,l.disabled,i,m,t.shouldUseNativeValidation))[Fe],v([Fe]),De(He),ze&&(Ke?At=!1:(u.isValid||h.isValid)&&(At=await N(a,!0)));ze&&(je._f.deps&&ne(je._f.deps),F(Fe,At,Ke,X))}},Y=(Ne,le)=>{if(Ar(r.errors,le)&&Ne.focus)return Ne.focus(),1},ne=async(Ne,le={})=>{let Fe,ze;const je=rb(Ne);if(t.resolver){const De=await L(Qs(Ne)?Ne:je);Fe=Vo(De),ze=Ne?!je.some(Ke=>Ar(De,Ke)):Fe}else Ne?(ze=(await Promise.all(je.map(async De=>{const Ke=Ar(a,De);return await N(Ke&&Ke._f?{[De]:Ke}:Ke)}))).every(Boolean),!(!ze&&!r.isValid)&&g()):ze=Fe=await N(a);return f.state.next({...!Yu(Ne)||(u.isValid||h.isValid)&&Fe!==r.isValid?{}:{name:Ne},...t.resolver||!Ne?{isValid:Fe}:{},errors:r.errors}),le.shouldFocus&&!ze&&nb(a,Y,Ne?je:l.mount),ze},S=Ne=>{const le={...o.mount?i:s};return Qs(Ne)?le:Yu(Ne)?Ar(le,Ne):Ne.map(Fe=>Ar(le,Fe))},z=(Ne,le)=>({invalid:!!Ar((le||r).errors,Ne),isDirty:!!Ar((le||r).dirtyFields,Ne),error:Ar((le||r).errors,Ne),isValidating:!!Ar(r.validatingFields,Ne),isTouched:!!Ar((le||r).touchedFields,Ne)}),Q=Ne=>{Ne&&rb(Ne).forEach(le=>Ai(r.errors,le)),f.state.next({errors:Ne?r.errors:{}})},W=(Ne,le,Fe)=>{const ze=(Ar(a,Ne,{_f:{}})._f||{}).ref,je=Ar(r.errors,Ne)||{},{ref:De,message:Ke,type:At,...He}=je;la(r.errors,Ne,{...He,...le,ref:ze}),f.state.next({name:Ne,errors:r.errors,isValid:!1}),Fe&&Fe.shouldFocus&&ze&&ze.focus&&ze.focus()},U=(Ne,le)=>Vd(Ne)?f.state.subscribe({next:Fe=>Ne(O(void 0,le),Fe)}):O(Ne,le,!0),re=Ne=>f.state.subscribe({next:le=>{Ybe(Ne.name,le.name,Ne.exact)&&Xbe(le,Ne.formState||u,nt,Ne.reRenderRoot)&&Ne.callback({values:{...i},...r,...le})}}).unsubscribe,de=Ne=>(o.mount=!0,h={...h,...Ne.formState},re({...Ne,formState:h})),ae=(Ne,le={})=>{for(const Fe of Ne?rb(Ne):l.mount)l.mount.delete(Fe),l.array.delete(Fe),le.keepValue||(Ai(a,Fe),Ai(i,Fe)),!le.keepError&&Ai(r.errors,Fe),!le.keepDirty&&Ai(r.dirtyFields,Fe),!le.keepTouched&&Ai(r.touchedFields,Fe),!le.keepIsValidating&&Ai(r.validatingFields,Fe),!t.shouldUnregister&&!le.keepDefaultValue&&Ai(s,Fe);f.state.next({values:Ki(i)}),f.state.next({...r,...le.keepDirty?{isDirty:M()}:{}}),!le.keepIsValid&&g()},Ae=({disabled:Ne,name:le})=>{(lc(Ne)&&o.mount||Ne||l.disabled.has(le))&&(Ne?l.disabled.add(le):l.disabled.delete(le))},Me=(Ne,le={})=>{let Fe=Ar(a,Ne);const ze=lc(le.disabled)||lc(t.disabled);return la(a,Ne,{...Fe||{},_f:{...Fe&&Fe._f?Fe._f:{ref:{name:Ne}},name:Ne,mount:!0,...le}}),l.mount.add(Ne),Fe?Ae({disabled:lc(le.disabled)?le.disabled:t.disabled,name:Ne}):w(Ne,!0,le.value),{...ze?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:z1(le.min),max:z1(le.max),minLength:z1(le.minLength),maxLength:z1(le.maxLength),pattern:z1(le.pattern)}:{},name:Ne,onChange:D,onBlur:D,ref:je=>{if(je){Me(Ne,le),Fe=Ar(a,Ne);const De=Qs(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Ke=zbe(De),At=Fe._f.refs||[];if(Ke?At.find(He=>He===De):De===Fe._f.ref)return;la(a,Ne,{_f:{...Fe._f,...Ke?{refs:[...At.filter(fk),De,...Array.isArray(Ar(s,Ne))?[{}]:[]],ref:{type:De.type,name:Ne}}:{ref:De}}}),w(Ne,!1,void 0,De)}else Fe=Ar(a,Ne,{}),Fe._f&&(Fe._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(Ore(l.array,Ne)&&o.action)&&l.unMount.add(Ne)}}},H=()=>t.shouldFocusError&&nb(a,Y,l.mount),Oe=Ne=>{lc(Ne)&&(f.state.next({disabled:Ne}),nb(a,(le,Fe)=>{const ze=Ar(a,Fe);ze&&(le.disabled=ze._f.disabled||Ne,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(je=>{je.disabled=ze._f.disabled||Ne}))},0,!1))},Ee=(Ne,le)=>async Fe=>{let ze;Fe&&(Fe.preventDefault&&Fe.preventDefault(),Fe.persist&&Fe.persist());let je=Ki(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:Ke}=await E();r.errors=De,je=Ke}else await N(a);if(l.disabled.size)for(const De of l.disabled)la(je,De,void 0);if(Ai(r.errors,"root"),Vo(r.errors)){f.state.next({errors:{}});try{await Ne(je,Fe)}catch(De){ze=De}}else le&&await le({...r.errors},Fe),H(),setTimeout(H);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vo(r.errors)&&!ze,submitCount:r.submitCount+1,errors:r.errors}),ze)throw ze},ee=(Ne,le={})=>{Ar(a,Ne)&&(Qs(le.defaultValue)?V(Ne,Ki(Ar(s,Ne))):(V(Ne,le.defaultValue),la(s,Ne,Ki(le.defaultValue))),le.keepTouched||Ai(r.touchedFields,Ne),le.keepDirty||(Ai(r.dirtyFields,Ne),r.isDirty=le.defaultValue?M(Ne,Ki(Ar(s,Ne))):M()),le.keepError||(Ai(r.errors,Ne),u.isValid&&g()),f.state.next({...r}))},st=(Ne,le={})=>{const Fe=Ne?Ki(Ne):s,ze=Ki(Fe),je=Vo(Ne),De=je?s:ze;if(le.keepDefaultValues||(s=Fe),!le.keepValues){if(le.keepDirtyValues){const Ke=new Set([...l.mount,...Object.keys(H1(s,i))]);for(const At of Array.from(Ke))Ar(r.dirtyFields,At)?la(De,At,Ar(i,At)):V(At,Ar(De,At))}else{if(SR&&Qs(Ne))for(const Ke of l.mount){const At=Ar(a,Ke);if(At&&At._f){const He=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if(i5(He)){const Te=He.closest("form");if(Te){Te.reset();break}}}}for(const Ke of l.mount)V(Ke,Ar(De,Ke))}i=Ki(De),f.array.next({values:{...De}}),f.state.next({values:{...De}})}l={mount:le.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!le.keepIsValid||!!le.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:je?!1:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!kA(Ne,s)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:le.keepDirtyValues?le.keepDefaultValues&&i?H1(s,i):r.dirtyFields:le.keepDefaultValues&&Ne?H1(s,Ne):le.keepDirty?r.dirtyFields:{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},se=(Ne,le)=>st(Vd(Ne)?Ne(i):Ne,le),me=(Ne,le={})=>{const Fe=Ar(a,Ne),ze=Fe&&Fe._f;if(ze){const je=ze.refs?ze.refs[0]:ze.ref;je.focus&&(je.focus(),le.shouldSelect&&Vd(je.select)&&je.select())}},nt=Ne=>{r={...r,...Ne}},xt={control:{register:Me,unregister:ae,getFieldState:z,handleSubmit:Ee,setError:W,_subscribe:re,_runSchema:E,_getWatch:O,_getDirty:M,_setValid:g,_setFieldArray:y,_setDisabledField:Ae,_setErrors:b,_getFieldArray:k,_reset:st,_resetDefaultValues:()=>Vd(t.defaultValues)&&t.defaultValues().then(Ne=>{se(Ne,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Oe,_subjects:f,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(Ne){o=Ne},get _defaultValues(){return s},get _names(){return l},set _names(Ne){l=Ne},get _formState(){return r},get _options(){return t},set _options(Ne){t={...t,...Ne}}},subscribe:de,trigger:ne,register:Me,handleSubmit:Ee,watch:U,setValue:V,getValues:S,reset:se,resetField:ee,clearErrors:Q,unregister:ae,setError:W,setFocus:me,getFieldState:z};return{...xt,formControl:xt}}function Pa(e={}){const t=Se.useRef(void 0),r=Se.useRef(void 0),[a,s]=Se.useState({isDirty:!1,isValidating:!1,isLoading:Vd(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Vd(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:rje(e),formState:a},e.formControl&&e.defaultValues&&!Vd(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Se.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),Se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),Se.useEffect(()=>{e.values&&!kA(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),Se.useEffect(()=>{e.errors&&!Vo(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),Se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=Rre(a,i),t.current}const x9=(e,t,r)=>{if(e&&"reportValidity"in e){const a=Ar(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},qre=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?x9(a.ref,r,e):a.refs&&a.refs.forEach(s=>x9(s,r,e))}},nje=(e,t)=>{t.shouldUseNativeValidation&&qre(e,t);const r={};for(const a in e){const s=Ar(t.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(aje(t.names||Object.keys(e),a)){const o=Object.assign({},Ar(r,a));la(o,"root",i),la(r,a,o)}else la(r,a,i)}return r},aje=(e,t)=>e.some(r=>r.startsWith(t+"."));var sje=function(e,t){for(var r={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[a.code];r[o]=Ure(o,t,r,s,d?[].concat(d,a.message):a.message)}e.shift()}return r},ka=function(e,t,r){return r===void 0&&(r={}),function(a,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return i.shouldUseNativeValidation&&qre({},i),{errors:{},values:r.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:nje(sje(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},zn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(zn||(zn={}));var U6;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(U6||(U6={}));const jr=zn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),af=e=>{switch(typeof e){case"undefined":return jr.undefined;case"string":return jr.string;case"number":return isNaN(e)?jr.nan:jr.number;case"boolean":return jr.boolean;case"function":return jr.function;case"bigint":return jr.bigint;case"symbol":return jr.symbol;case"object":return Array.isArray(e)?jr.array:e===null?jr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?jr.promise:typeof Map<"u"&&e instanceof Map?jr.map:typeof Set<"u"&&e instanceof Set?jr.set:typeof Date<"u"&&e instanceof Date?jr.date:jr.object;default:return jr.unknown}},tr=zn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ije=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class bc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),a}static assert(t){if(!(t instanceof bc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,zn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},a=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):a.push(t(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}bc.create=e=>new bc(e);const Bv=(e,t)=>{let r;switch(e.code){case tr.invalid_type:e.received===jr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case tr.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,zn.jsonStringifyReplacer)}`;break;case tr.unrecognized_keys:r=`Unrecognized key(s) in object: ${zn.joinValues(e.keys,", ")}`;break;case tr.invalid_union:r="Invalid input";break;case tr.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${zn.joinValues(e.options)}`;break;case tr.invalid_enum_value:r=`Invalid enum value. Expected ${zn.joinValues(e.options)}, received '${e.received}'`;break;case tr.invalid_arguments:r="Invalid function arguments";break;case tr.invalid_return_type:r="Invalid function return type";break;case tr.invalid_date:r="Invalid date";break;case tr.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:zn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case tr.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case tr.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case tr.custom:r="Invalid input";break;case tr.invalid_intersection_types:r="Intersection results could not be merged";break;case tr.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case tr.not_finite:r="Number must be finite";break;default:r=t.defaultError,zn.assertNever(e)}return{message:r}};let Wre=Bv;function oje(e){Wre=e}function c5(){return Wre}const d5=e=>{const{data:t,path:r,errorMaps:a,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},lje=[];function pr(e,t){const r=c5(),a=d5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Bv?void 0:Bv].filter(s=>!!s)});e.common.issues.push(a)}class Io{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const a=[];for(const s of r){if(s.status==="aborted")return nn;s.status==="dirty"&&t.dirty(),a.push(s.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){const a=[];for(const s of r){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return Io.mergeObjectSync(t,a)}static mergeObjectSync(t,r){const a={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return nn;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:t.value,value:a}}}const nn=Object.freeze({status:"aborted"}),xg=e=>({status:"dirty",value:e}),ul=e=>({status:"valid",value:e}),Q6=e=>e.status==="aborted",$6=e=>e.status==="dirty",S0=e=>e.status==="valid",aj=e=>typeof Promise<"u"&&e instanceof Promise;function u5(e,t,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Gre(e,t,r,a,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ir;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ir||(Ir={}));var vw,yw;class gh{constructor(t,r,a,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const g9=(e,t)=>{if(S0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bc(e.common.issues);return this._error=r,this._error}}};function xn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:a,description:s}=e;if(t&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??a)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Cn{get description(){return this._def.description}_getType(t){return af(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:af(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Io,ctx:{common:t.parent.common,data:t.data,parsedType:af(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(aj(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){var a;const s={common:{issues:[],async:(a=r==null?void 0:r.async)!==null&&a!==void 0?a:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:af(t)},i=this._parseSync({data:t,path:s.path,parent:s});return g9(s,i)}"~validate"(t){var r,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:af(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return S0(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((a=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>S0(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:af(t)},s=this._parse({data:t,path:a.path,parent:a}),i=await(aj(s)?s:Promise.resolve(s));return g9(a,i)}refine(t,r){const a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:tr.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((a,s)=>t(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(t){return new du({schema:this,typeName:Zr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ih.create(this,this._def)}nullable(){return Im.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ru.create(this)}promise(){return Pv.create(this,this._def)}or(t){return lj.create([this,t],this._def)}and(t){return cj.create(this,t,this._def)}transform(t){return new du({...xn(this._def),schema:this,typeName:Zr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Aj({...xn(this._def),innerType:this,defaultValue:r,typeName:Zr.ZodDefault})}brand(){return new FR({typeName:Zr.ZodBranded,type:this,...xn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new mj({...xn(this._def),innerType:this,catchValue:r,typeName:Zr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return W2.create(this,t)}readonly(){return pj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cje=/^c[^\s-]{8,}$/i,dje=/^[0-9a-z]+$/,uje=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hje=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fje=/^[a-z0-9_-]{21}$/i,Aje=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mje=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pje=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xje="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ak;const gje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bje=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jje=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Xre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nje=new RegExp(`^${Xre}$`);function Yre(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Cje(e){return new RegExp(`^${Yre(e)}$`)}function Jre(e){let t=`${Xre}T${Yre(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Sje(e,t){return!!((t==="v4"||!t)&&gje.test(e)||(t==="v6"||!t)&&yje.test(e))}function _je(e,t){if(!Aje.test(e))return!1;try{const[r]=e.split("."),a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function Eje(e,t){return!!((t==="v4"||!t)&&vje.test(e)||(t==="v6"||!t)&&wje.test(e))}class Wd extends Cn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==jr.string){const i=this._getOrReturnCtx(t);return pr(i,{code:tr.invalid_type,expected:jr.string,received:i.parsedType}),nn}const a=new Io;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?pr(s,{code:tr.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&pr(s,{code:tr.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")pje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"email",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Ak||(Ak=new RegExp(xje,"u")),Ak.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"emoji",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")hje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"uuid",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")fje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"nanoid",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")cje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"cuid",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")dje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"cuid2",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")uje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"ulid",code:tr.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),pr(s,{validation:"url",code:tr.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"regex",code:tr.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?Jre(i).test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Nje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Cje(i).test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?mje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"duration",code:tr.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Sje(t.data,i.version)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"ip",code:tr.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?_je(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"jwt",code:tr.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?Eje(t.data,i.version)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"cidr",code:tr.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?bje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"base64",code:tr.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?jje.test(t.data)||(s=this._getOrReturnCtx(t,s),pr(s,{validation:"base64url",code:tr.invalid_string,message:i.message}),a.dirty()):zn.assertNever(i);return{status:a.value,value:t.data}}_regex(t,r,a){return this.refinement(s=>t.test(s),{validation:r,code:tr.invalid_string,...Ir.errToObj(a)})}_addCheck(t){return new Wd({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ir.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ir.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ir.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ir.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ir.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ir.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ir.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ir.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ir.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ir.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ir.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ir.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ir.errToObj(t)})}datetime(t){var r,a;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(a=t==null?void 0:t.local)!==null&&a!==void 0?a:!1,...Ir.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ir.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ir.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ir.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ir.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ir.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ir.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ir.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ir.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ir.errToObj(r)})}nonempty(t){return this.min(1,Ir.errToObj(t))}trim(){return new Wd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Wd.create=e=>{var t;return new Wd({checks:[],typeName:Zr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...xn(e)})};function Bje(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=r>a?r:a,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Pm extends Cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==jr.number){const i=this._getOrReturnCtx(t);return pr(i,{code:tr.invalid_type,expected:jr.number,received:i.parsedType}),nn}let a;const s=new Io;for(const i of this._def.checks)i.kind==="int"?zn.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Bje(t.data,i.value)!==0&&(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.not_finite,message:i.message}),s.dirty()):zn.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ir.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ir.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ir.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ir.toString(r))}setLimit(t,r,a,s){return new Pm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:Ir.toString(s)}]})}_addCheck(t){return new Pm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ir.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ir.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ir.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ir.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ir.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ir.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ir.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ir.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ir.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&zn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Pm.create=e=>new Pm({checks:[],typeName:Zr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...xn(e)});class km extends Cn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==jr.bigint)return this._getInvalidInput(t);let a;const s=new Io;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),pr(a,{code:tr.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):zn.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return pr(r,{code:tr.invalid_type,expected:jr.bigint,received:r.parsedType}),nn}gte(t,r){return this.setLimit("min",t,!0,Ir.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ir.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ir.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ir.toString(r))}setLimit(t,r,a,s){return new km({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:Ir.toString(s)}]})}_addCheck(t){return new km({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ir.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ir.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ir.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ir.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ir.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}km.create=e=>{var t;return new km({checks:[],typeName:Zr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...xn(e)})};class sj extends Cn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==jr.boolean){const a=this._getOrReturnCtx(t);return pr(a,{code:tr.invalid_type,expected:jr.boolean,received:a.parsedType}),nn}return ul(t.data)}}sj.create=e=>new sj({typeName:Zr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...xn(e)});class _0 extends Cn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==jr.date){const i=this._getOrReturnCtx(t);return pr(i,{code:tr.invalid_type,expected:jr.date,received:i.parsedType}),nn}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return pr(i,{code:tr.invalid_date}),nn}const a=new Io;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),pr(s,{code:tr.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):zn.assertNever(i);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ir.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ir.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}_0.create=e=>new _0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Zr.ZodDate,...xn(e)});class h5 extends Cn{_parse(t){if(this._getType(t)!==jr.symbol){const a=this._getOrReturnCtx(t);return pr(a,{code:tr.invalid_type,expected:jr.symbol,received:a.parsedType}),nn}return ul(t.data)}}h5.create=e=>new h5({typeName:Zr.ZodSymbol,...xn(e)});class ij extends Cn{_parse(t){if(this._getType(t)!==jr.undefined){const a=this._getOrReturnCtx(t);return pr(a,{code:tr.invalid_type,expected:jr.undefined,received:a.parsedType}),nn}return ul(t.data)}}ij.create=e=>new ij({typeName:Zr.ZodUndefined,...xn(e)});class oj extends Cn{_parse(t){if(this._getType(t)!==jr.null){const a=this._getOrReturnCtx(t);return pr(a,{code:tr.invalid_type,expected:jr.null,received:a.parsedType}),nn}return ul(t.data)}}oj.create=e=>new oj({typeName:Zr.ZodNull,...xn(e)});class Fv extends Cn{constructor(){super(...arguments),this._any=!0}_parse(t){return ul(t.data)}}Fv.create=e=>new Fv({typeName:Zr.ZodAny,...xn(e)});class o0 extends Cn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ul(t.data)}}o0.create=e=>new o0({typeName:Zr.ZodUnknown,...xn(e)});class If extends Cn{_parse(t){const r=this._getOrReturnCtx(t);return pr(r,{code:tr.invalid_type,expected:jr.never,received:r.parsedType}),nn}}If.create=e=>new If({typeName:Zr.ZodNever,...xn(e)});class f5 extends Cn{_parse(t){if(this._getType(t)!==jr.undefined){const a=this._getOrReturnCtx(t);return pr(a,{code:tr.invalid_type,expected:jr.void,received:a.parsedType}),nn}return ul(t.data)}}f5.create=e=>new f5({typeName:Zr.ZodVoid,...xn(e)});class ru extends Cn{_parse(t){const{ctx:r,status:a}=this._processInputParams(t),s=this._def;if(r.parsedType!==jr.array)return pr(r,{code:tr.invalid_type,expected:jr.array,received:r.parsedType}),nn;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(pr(r,{code:o?tr.too_big:tr.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(pr(r,{code:tr.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(pr(r,{code:tr.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new gh(r,o,r.path,l)))).then(o=>Io.mergeArray(a,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new gh(r,o,r.path,l)));return Io.mergeArray(a,i)}get element(){return this._def.type}min(t,r){return new ru({...this._def,minLength:{value:t,message:Ir.toString(r)}})}max(t,r){return new ru({...this._def,maxLength:{value:t,message:Ir.toString(r)}})}length(t,r){return new ru({...this._def,exactLength:{value:t,message:Ir.toString(r)}})}nonempty(t){return this.min(1,t)}}ru.create=(e,t)=>new ru({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Zr.ZodArray,...xn(t)});function Zx(e){if(e instanceof cs){const t={};for(const r in e.shape){const a=e.shape[r];t[r]=ih.create(Zx(a))}return new cs({...e._def,shape:()=>t})}else return e instanceof ru?new ru({...e._def,type:Zx(e.element)}):e instanceof ih?ih.create(Zx(e.unwrap())):e instanceof Im?Im.create(Zx(e.unwrap())):e instanceof vh?vh.create(e.items.map(t=>Zx(t))):e}class cs extends Cn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=zn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==jr.object){const d=this._getOrReturnCtx(t);return pr(d,{code:tr.invalid_type,expected:jr.object,received:d.parsedType}),nn}const{status:a,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof If&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new gh(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof If){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(pr(s,{code:tr.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new gh(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>Io.mergeObjectSync(a,d)):Io.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return Ir.errToObj,new cs({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,a)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,a).message)!==null&&o!==void 0?o:a.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ir.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new cs({...this._def,unknownKeys:"strip"})}passthrough(){return new cs({...this._def,unknownKeys:"passthrough"})}extend(t){return new cs({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new cs({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Zr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new cs({...this._def,catchall:t})}pick(t){const r={};return zn.objectKeys(t).forEach(a=>{t[a]&&this.shape[a]&&(r[a]=this.shape[a])}),new cs({...this._def,shape:()=>r})}omit(t){const r={};return zn.objectKeys(this.shape).forEach(a=>{t[a]||(r[a]=this.shape[a])}),new cs({...this._def,shape:()=>r})}deepPartial(){return Zx(this)}partial(t){const r={};return zn.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];t&&!t[a]?r[a]=s:r[a]=s.optional()}),new cs({...this._def,shape:()=>r})}required(t){const r={};return zn.objectKeys(this.shape).forEach(a=>{if(t&&!t[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof ih;)i=i._def.innerType;r[a]=i}}),new cs({...this._def,shape:()=>r})}keyof(){return Zre(zn.objectKeys(this.shape))}}cs.create=(e,t)=>new cs({shape:()=>e,unknownKeys:"strip",catchall:If.create(),typeName:Zr.ZodObject,...xn(t)});cs.strictCreate=(e,t)=>new cs({shape:()=>e,unknownKeys:"strict",catchall:If.create(),typeName:Zr.ZodObject,...xn(t)});cs.lazycreate=(e,t)=>new cs({shape:e,unknownKeys:"strip",catchall:If.create(),typeName:Zr.ZodObject,...xn(t)});class lj extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t),a=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new bc(l.ctx.common.issues));return pr(r,{code:tr.invalid_union,unionErrors:o}),nn}if(r.common.async)return Promise.all(a.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of a){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new bc(c));return pr(r,{code:tr.invalid_union,unionErrors:l}),nn}}get options(){return this._def.options}}lj.create=(e,t)=>new lj({options:e,typeName:Zr.ZodUnion,...xn(t)});const ef=e=>e instanceof uj?ef(e.schema):e instanceof du?ef(e.innerType()):e instanceof hj?[e.value]:e instanceof Tm?e.options:e instanceof fj?zn.objectValues(e.enum):e instanceof Aj?ef(e._def.innerType):e instanceof ij?[void 0]:e instanceof oj?[null]:e instanceof ih?[void 0,...ef(e.unwrap())]:e instanceof Im?[null,...ef(e.unwrap())]:e instanceof FR||e instanceof pj?ef(e.unwrap()):e instanceof mj?ef(e._def.innerType):[];class AB extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==jr.object)return pr(r,{code:tr.invalid_type,expected:jr.object,received:r.parsedType}),nn;const a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(pr(r,{code:tr.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),nn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,a){const s=new Map;for(const i of r){const o=ef(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new AB({typeName:Zr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...xn(a)})}}function H6(e,t){const r=af(e),a=af(t);if(e===t)return{valid:!0,data:e};if(r===jr.object&&a===jr.object){const s=zn.objectKeys(t),i=zn.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=H6(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===jr.array&&a===jr.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=H6(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===jr.date&&a===jr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class cj extends Cn{_parse(t){const{status:r,ctx:a}=this._processInputParams(t),s=(i,o)=>{if(Q6(i)||Q6(o))return nn;const l=H6(i.value,o.value);return l.valid?(($6(i)||$6(o))&&r.dirty(),{status:r.value,value:l.data}):(pr(a,{code:tr.invalid_intersection_types}),nn)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}cj.create=(e,t,r)=>new cj({left:e,right:t,typeName:Zr.ZodIntersection,...xn(r)});class vh extends Cn{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==jr.array)return pr(a,{code:tr.invalid_type,expected:jr.array,received:a.parsedType}),nn;if(a.data.length<this._def.items.length)return pr(a,{code:tr.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nn;!this._def.rest&&a.data.length>this._def.items.length&&(pr(a,{code:tr.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new gh(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>Io.mergeArray(r,o)):Io.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new vh({...this._def,rest:t})}}vh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vh({items:e,typeName:Zr.ZodTuple,rest:null,...xn(t)})};class dj extends Cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==jr.object)return pr(a,{code:tr.invalid_type,expected:jr.object,received:a.parsedType}),nn;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in a.data)s.push({key:i._parse(new gh(a,l,a.path,l)),value:o._parse(new gh(a,a.data[l],a.path,l)),alwaysSet:l in a.data});return a.common.async?Io.mergeObjectAsync(r,s):Io.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,a){return r instanceof Cn?new dj({keyType:t,valueType:r,typeName:Zr.ZodRecord,...xn(a)}):new dj({keyType:Wd.create(),valueType:t,typeName:Zr.ZodRecord,...xn(r)})}}class A5 extends Cn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==jr.map)return pr(a,{code:tr.invalid_type,expected:jr.map,received:a.parsedType}),nn;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:s._parse(new gh(a,l,a.path,[d,"key"])),value:i._parse(new gh(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return nn;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return nn;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}A5.create=(e,t,r)=>new A5({valueType:t,keyType:e,typeName:Zr.ZodMap,...xn(r)});class E0 extends Cn{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==jr.set)return pr(a,{code:tr.invalid_type,expected:jr.set,received:a.parsedType}),nn;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(pr(a,{code:tr.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(pr(a,{code:tr.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return nn;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new gh(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new E0({...this._def,minSize:{value:t,message:Ir.toString(r)}})}max(t,r){return new E0({...this._def,maxSize:{value:t,message:Ir.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}E0.create=(e,t)=>new E0({valueType:e,minSize:null,maxSize:null,typeName:Zr.ZodSet,...xn(t)});class Hg extends Cn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==jr.function)return pr(r,{code:tr.invalid_type,expected:jr.function,received:r.parsedType}),nn;function a(l,c){return d5({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,c5(),Bv].filter(d=>!!d),issueData:{code:tr.invalid_arguments,argumentsError:c}})}function s(l,c){return d5({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,c5(),Bv].filter(d=>!!d),issueData:{code:tr.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Pv){const l=this;return ul(async function(...c){const d=new bc([]),u=await l._def.args.parseAsync(c,i).catch(A=>{throw d.addIssue(a(c,A)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,i).catch(A=>{throw d.addIssue(s(h,A)),d})})}else{const l=this;return ul(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new bc([a(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,i);if(!h.success)throw new bc([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Hg({...this._def,args:vh.create(t).rest(o0.create())})}returns(t){return new Hg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,a){return new Hg({args:t||vh.create([]).rest(o0.create()),returns:r||o0.create(),typeName:Zr.ZodFunction,...xn(a)})}}class uj extends Cn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uj.create=(e,t)=>new uj({getter:e,typeName:Zr.ZodLazy,...xn(t)});class hj extends Cn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return pr(r,{received:r.data,code:tr.invalid_literal,expected:this._def.value}),nn}return{status:"valid",value:t.data}}get value(){return this._def.value}}hj.create=(e,t)=>new hj({value:e,typeName:Zr.ZodLiteral,...xn(t)});function Zre(e,t){return new Tm({values:e,typeName:Zr.ZodEnum,...xn(t)})}class Tm extends Cn{constructor(){super(...arguments),vw.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),a=this._def.values;return pr(r,{expected:zn.joinValues(a),received:r.parsedType,code:tr.invalid_type}),nn}if(u5(this,vw)||Gre(this,vw,new Set(this._def.values)),!u5(this,vw).has(t.data)){const r=this._getOrReturnCtx(t),a=this._def.values;return pr(r,{received:r.data,code:tr.invalid_enum_value,options:a}),nn}return ul(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Tm.create(t,{...this._def,...r})}exclude(t,r=this._def){return Tm.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}vw=new WeakMap;Tm.create=Zre;class fj extends Cn{constructor(){super(...arguments),yw.set(this,void 0)}_parse(t){const r=zn.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==jr.string&&a.parsedType!==jr.number){const s=zn.objectValues(r);return pr(a,{expected:zn.joinValues(s),received:a.parsedType,code:tr.invalid_type}),nn}if(u5(this,yw)||Gre(this,yw,new Set(zn.getValidEnumValues(this._def.values))),!u5(this,yw).has(t.data)){const s=zn.objectValues(r);return pr(a,{received:a.data,code:tr.invalid_enum_value,options:s}),nn}return ul(t.data)}get enum(){return this._def.values}}yw=new WeakMap;fj.create=(e,t)=>new fj({values:e,typeName:Zr.ZodNativeEnum,...xn(t)});class Pv extends Cn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==jr.promise&&r.common.async===!1)return pr(r,{code:tr.invalid_type,expected:jr.promise,received:r.parsedType}),nn;const a=r.parsedType===jr.promise?r.data:Promise.resolve(r.data);return ul(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pv.create=(e,t)=>new Pv({type:e,typeName:Zr.ZodPromise,...xn(t)});class du extends Cn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:a}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{pr(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return nn;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?nn:c.status==="dirty"||r.value==="dirty"?xg(c.value):c});{if(r.value==="aborted")return nn;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?nn:l.status==="dirty"||r.value==="dirty"?xg(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?nn:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?nn:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!S0(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>S0(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);zn.assertNever(s)}}du.create=(e,t,r)=>new du({schema:e,typeName:Zr.ZodEffects,effect:t,...xn(r)});du.createWithPreprocess=(e,t,r)=>new du({schema:t,effect:{type:"preprocess",transform:e},typeName:Zr.ZodEffects,...xn(r)});class ih extends Cn{_parse(t){return this._getType(t)===jr.undefined?ul(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ih.create=(e,t)=>new ih({innerType:e,typeName:Zr.ZodOptional,...xn(t)});class Im extends Cn{_parse(t){return this._getType(t)===jr.null?ul(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Im.create=(e,t)=>new Im({innerType:e,typeName:Zr.ZodNullable,...xn(t)});class Aj extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t);let a=r.data;return r.parsedType===jr.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Aj.create=(e,t)=>new Aj({innerType:e,typeName:Zr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...xn(t)});class mj extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return aj(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bc(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bc(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}mj.create=(e,t)=>new mj({innerType:e,typeName:Zr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...xn(t)});class m5 extends Cn{_parse(t){if(this._getType(t)!==jr.nan){const a=this._getOrReturnCtx(t);return pr(a,{code:tr.invalid_type,expected:jr.nan,received:a.parsedType}),nn}return{status:"valid",value:t.data}}}m5.create=e=>new m5({typeName:Zr.ZodNaN,...xn(e)});const Fje=Symbol("zod_brand");class FR extends Cn{_parse(t){const{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class W2 extends Cn{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?nn:i.status==="dirty"?(r.dirty(),xg(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?nn:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(t,r){return new W2({in:t,out:r,typeName:Zr.ZodPipeline})}}class pj extends Cn{_parse(t){const r=this._def.innerType._parse(t),a=s=>(S0(s)&&(s.value=Object.freeze(s.value)),s);return aj(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}}pj.create=(e,t)=>new pj({innerType:e,typeName:Zr.ZodReadonly,...xn(t)});function v9(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function ene(e,t={},r){return e?Fv.create().superRefine((a,s)=>{var i,o;const l=e(a);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=v9(t,a),f=(u=(d=h.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=v9(t,a),d=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):Fv.create()}const Pje={object:cs.lazycreate};var Zr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Zr||(Zr={}));const kje=(e,t={message:`Input not instance of ${e.name}`})=>ene(r=>r instanceof e,t),tne=Wd.create,rne=Pm.create,Tje=m5.create,Ije=km.create,nne=sj.create,Oje=_0.create,Dje=h5.create,Lje=ij.create,Rje=oj.create,Mje=Fv.create,Uje=o0.create,Qje=If.create,$je=f5.create,Hje=ru.create,zje=cs.create,Vje=cs.strictCreate,Kje=lj.create,qje=AB.create,Wje=cj.create,Gje=vh.create,Xje=dj.create,Yje=A5.create,Jje=E0.create,Zje=Hg.create,e2e=uj.create,t2e=hj.create,r2e=Tm.create,n2e=fj.create,a2e=Pv.create,y9=du.create,s2e=ih.create,i2e=Im.create,o2e=du.createWithPreprocess,l2e=W2.create,c2e=()=>tne().optional(),d2e=()=>rne().optional(),u2e=()=>nne().optional(),h2e={string:e=>Wd.create({...e,coerce:!0}),number:e=>Pm.create({...e,coerce:!0}),boolean:e=>sj.create({...e,coerce:!0}),bigint:e=>km.create({...e,coerce:!0}),date:e=>_0.create({...e,coerce:!0})},f2e=nn;var Ge=Object.freeze({__proto__:null,defaultErrorMap:Bv,setErrorMap:oje,getErrorMap:c5,makeIssue:d5,EMPTY_PATH:lje,addIssueToContext:pr,ParseStatus:Io,INVALID:nn,DIRTY:xg,OK:ul,isAborted:Q6,isDirty:$6,isValid:S0,isAsync:aj,get util(){return zn},get objectUtil(){return U6},ZodParsedType:jr,getParsedType:af,ZodType:Cn,datetimeRegex:Jre,ZodString:Wd,ZodNumber:Pm,ZodBigInt:km,ZodBoolean:sj,ZodDate:_0,ZodSymbol:h5,ZodUndefined:ij,ZodNull:oj,ZodAny:Fv,ZodUnknown:o0,ZodNever:If,ZodVoid:f5,ZodArray:ru,ZodObject:cs,ZodUnion:lj,ZodDiscriminatedUnion:AB,ZodIntersection:cj,ZodTuple:vh,ZodRecord:dj,ZodMap:A5,ZodSet:E0,ZodFunction:Hg,ZodLazy:uj,ZodLiteral:hj,ZodEnum:Tm,ZodNativeEnum:fj,ZodPromise:Pv,ZodEffects:du,ZodTransformer:du,ZodOptional:ih,ZodNullable:Im,ZodDefault:Aj,ZodCatch:mj,ZodNaN:m5,BRAND:Fje,ZodBranded:FR,ZodPipeline:W2,ZodReadonly:pj,custom:ene,Schema:Cn,ZodSchema:Cn,late:Pje,get ZodFirstPartyTypeKind(){return Zr},coerce:h2e,any:Mje,array:Hje,bigint:Ije,boolean:nne,date:Oje,discriminatedUnion:qje,effect:y9,enum:r2e,function:Zje,instanceof:kje,intersection:Wje,lazy:e2e,literal:t2e,map:Yje,nan:Tje,nativeEnum:n2e,never:Qje,null:Rje,nullable:i2e,number:rne,object:zje,oboolean:u2e,onumber:d2e,optional:s2e,ostring:c2e,pipeline:l2e,preprocess:o2e,promise:a2e,record:Xje,set:Jje,strictObject:Vje,string:tne,symbol:Dje,transformer:y9,tuple:Gje,undefined:Lje,union:Kje,unknown:Uje,void:$je,NEVER:f2e,ZodIssueCode:tr,quotelessJson:ije,ZodError:bc});const ya=Mbe,ane=B.createContext({}),tt=({...e})=>n.jsx(ane.Provider,{value:{name:e.name},children:n.jsx(Hbe,{...e})}),mB=()=>{const e=B.useContext(ane),t=B.useContext(sne),{getFieldState:r,formState:a}=fB(),s=r(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},sne=B.createContext({}),Ze=B.forwardRef(({className:e,...t},r)=>{const a=B.useId();return n.jsx(sne.Provider,{value:{id:a},children:n.jsx("div",{ref:r,className:mr("space-y-2",e),...t})})});Ze.displayName="FormItem";const Je=B.forwardRef(({className:e,...t},r)=>{const{error:a,formItemId:s}=mB();return n.jsx(fe,{ref:r,className:mr(a&&"text-destructive",e),htmlFor:s,...t})});Je.displayName="FormLabel";const et=B.forwardRef(({...e},t)=>{const{error:r,formItemId:a,formDescriptionId:s,formMessageId:i}=mB();return n.jsx(Eee,{ref:t,id:a,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});et.displayName="FormControl";const ine=B.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:a}=mB();return n.jsx("p",{ref:r,id:a,className:mr("text-sm text-muted-foreground",e),...t})});ine.displayName="FormDescription";const rt=B.forwardRef(({className:e,children:t,...r},a)=>{const{error:s,formMessageId:i}=mB(),o=s?String((s==null?void 0:s.message)??""):t;return o?n.jsx("p",{ref:a,id:i,className:mr("text-sm font-medium text-destructive",e),...r,children:o}):null});rt.displayName="FormMessage";var mk="rovingFocusGroup.onEntryFocus",A2e={bubbles:!1,cancelable:!0},pB="RovingFocusGroup",[z6,one,m2e]=XE(pB),[p2e,xB]=Ql(pB,[m2e]),[x2e,g2e]=p2e(pB),lne=B.forwardRef((e,t)=>n.jsx(z6.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(z6.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(v2e,{...e,ref:t})})}));lne.displayName=pB;var v2e=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=B.useRef(null),A=$n(t,f),p=tB(i),[m=null,x]=Ah({prop:o,defaultProp:l,onChange:c}),[g,v]=B.useState(!1),y=ko(d),j=one(r),b=B.useRef(!1),[w,C]=B.useState(0);return B.useEffect(()=>{const F=f.current;if(F)return F.addEventListener(mk,y),()=>F.removeEventListener(mk,y)},[y]),n.jsx(x2e,{scope:r,orientation:a,dir:p,loop:s,currentTabStopId:m,onItemFocus:B.useCallback(F=>x(F),[x]),onItemShiftTab:B.useCallback(()=>v(!0),[]),onFocusableItemAdd:B.useCallback(()=>C(F=>F+1),[]),onFocusableItemRemove:B.useCallback(()=>C(F=>F-1),[]),children:n.jsx(Kr.div,{tabIndex:g||w===0?-1:0,"data-orientation":a,...h,ref:A,style:{outline:"none",...e.style},onMouseDown:fr(e.onMouseDown,()=>{b.current=!0}),onFocus:fr(e.onFocus,F=>{const E=!b.current;if(F.target===F.currentTarget&&E&&!g){const L=new CustomEvent(mk,A2e);if(F.currentTarget.dispatchEvent(L),!L.defaultPrevented){const N=j().filter(P=>P.focusable),I=N.find(P=>P.active),M=N.find(P=>P.id===m),k=[I,M,...N].filter(Boolean).map(P=>P.ref.current);une(k,u)}}b.current=!1}),onBlur:fr(e.onBlur,()=>v(!1))})})}),cne="RovingFocusGroupItem",dne=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,...o}=e,l=tu(),c=i||l,d=g2e(cne,r),u=d.currentTabStopId===c,h=one(r),{onFocusableItemAdd:f,onFocusableItemRemove:A}=d;return B.useEffect(()=>{if(a)return f(),()=>A()},[a,f,A]),n.jsx(z6.ItemSlot,{scope:r,id:c,focusable:a,active:s,children:n.jsx(Kr.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:fr(e.onMouseDown,p=>{a?d.onItemFocus(c):p.preventDefault()}),onFocus:fr(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:fr(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const m=b2e(p,d.orientation,d.dir);if(m!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let g=h().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const v=g.indexOf(p.currentTarget);g=d.loop?j2e(g,v+1):g.slice(v+1)}setTimeout(()=>une(g))}})})})});dne.displayName=cne;var y2e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w2e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function b2e(e,t,r){const a=w2e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return y2e[a]}function une(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function j2e(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var hne=lne,fne=dne,PR="Tabs",[N2e,Ajt]=Ql(PR,[xB]),Ane=xB(),[C2e,kR]=N2e(PR),mne=B.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=tB(l),[h,f]=Ah({prop:a,onChange:s,defaultProp:i});return n.jsx(C2e,{scope:r,baseId:tu(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:n.jsx(Kr.div,{dir:u,"data-orientation":o,...d,ref:t})})});mne.displayName=PR;var pne="TabsList",xne=B.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=kR(pne,r),o=Ane(r);return n.jsx(hne,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:n.jsx(Kr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});xne.displayName=pne;var gne="TabsTrigger",vne=B.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,o=kR(gne,r),l=Ane(r),c=bne(o.baseId,a),d=jne(o.baseId,a),u=a===o.value;return n.jsx(fne,{asChild:!0,...l,focusable:!s,active:u,children:n.jsx(Kr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:fr(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:fr(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:fr(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(a)})})})});vne.displayName=gne;var yne="TabsContent",wne=B.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...o}=e,l=kR(yne,r),c=bne(l.baseId,a),d=jne(l.baseId,a),u=a===l.value,h=B.useRef(u);return B.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Bc,{present:s||u,children:({present:f})=>n.jsx(Kr.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});wne.displayName=yne;function bne(e,t){return`${e}-trigger-${t}`}function jne(e,t){return`${e}-content-${t}`}var S2e=mne,Nne=xne,Cne=vne,Sne=wne;const mu=S2e,vd=B.forwardRef(({className:e,...t},r)=>n.jsx(Nne,{ref:r,className:mr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vd.displayName=Nne.displayName;const Vn=B.forwardRef(({className:e,...t},r)=>n.jsx(Cne,{ref:r,className:mr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vn.displayName=Cne.displayName;const Kn=B.forwardRef(({className:e,...t},r)=>n.jsx(Sne,{ref:r,className:mr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kn.displayName=Sne.displayName;var TR="Checkbox",[_2e,mjt]=Ql(TR),[E2e,B2e]=_2e(TR),_ne=B.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,A]=B.useState(null),p=$n(t,j=>A(j)),m=B.useRef(!1),x=f?u||!!f.closest("form"):!0,[g=!1,v]=Ah({prop:s,defaultProp:i,onChange:d}),y=B.useRef(g);return B.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const b=()=>v(y.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[f,v]),n.jsxs(E2e,{scope:r,state:g,disabled:l,children:[n.jsx(Kr.button,{type:"button",role:"checkbox","aria-checked":fm(g)?"mixed":g,"aria-required":o,"data-state":Fne(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onKeyDown:fr(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:fr(e.onClick,j=>{v(b=>fm(b)?!0:!b),x&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),x&&n.jsx(F2e,{control:f,bubbles:!m.current,name:a,value:c,checked:g,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:fm(i)?!1:i})]})});_ne.displayName=TR;var Ene="CheckboxIndicator",Bne=B.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=B2e(Ene,r);return n.jsx(Bc,{present:a||fm(i.state)||i.state===!0,children:n.jsx(Kr.span,{"data-state":Fne(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Bne.displayName=Ene;var F2e=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:s,...i}=e,o=B.useRef(null),l=NR(r),c=gR(t);B.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&A){const p=new Event("click",{bubbles:a});u.indeterminate=fm(r),A.call(u,fm(r)?!1:r),u.dispatchEvent(p)}},[l,r,a]);const d=B.useRef(fm(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fm(e){return e==="indeterminate"}function Fne(e){return fm(e)?"indeterminate":e?"checked":"unchecked"}var Pne=_ne,P2e=Bne;const uu=B.forwardRef(({className:e,...t},r)=>n.jsx(Pne,{ref:r,className:mr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(P2e,{className:mr("flex items-center justify-center text-current"),children:n.jsx(By,{className:"h-4 w-4"})})}));uu.displayName=Pne.displayName;const k2e=Ge.object({name:Ge.string().min(3,"Nome deve ter pelo menos 3 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),phone:Ge.string().optional(),whatsapp:Ge.string().optional(),cpfCnpj:Ge.string().optional(),address:Ge.string().optional(),vendorId:Ge.string().min(1,"Selecione um vendedor"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:Ge.string(),nomeFantasia:Ge.string().optional(),razaoSocial:Ge.string().optional(),inscricaoEstadual:Ge.string().optional(),logradouro:Ge.string().optional(),numero:Ge.string().optional(),complemento:Ge.string().optional(),bairro:Ge.string().optional(),cidade:Ge.string().optional(),cep:Ge.string().optional(),emailBoleto:Ge.string().email("Email invlido").optional().or(Ge.literal("")),emailNF:Ge.string().email("Email invlido").optional().or(Ge.literal("")),nomeContato:Ge.string().optional(),emailContato:Ge.string().email("Email invlido").optional().or(Ge.literal("")),enderecoFaturamentoLogradouro:Ge.string().optional(),enderecoFaturamentoNumero:Ge.string().optional(),enderecoFaturamentoComplemento:Ge.string().optional(),enderecoFaturamentoBairro:Ge.string().optional(),enderecoFaturamentoCidade:Ge.string().optional(),enderecoFaturamentoCep:Ge.string().optional(),enderecoEntregaLogradouro:Ge.string().optional(),enderecoEntregaNumero:Ge.string().optional(),enderecoEntregaComplemento:Ge.string().optional(),enderecoEntregaBairro:Ge.string().optional(),enderecoEntregaCidade:Ge.string().optional(),enderecoEntregaCep:Ge.string().optional()}).refine(e=>e.password===e.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]}),T2e=Ge.object({username:Ge.string().min(3,"Cdigo de usurio  obrigatrio"),password:Ge.string().min(1,"Senha  obrigatria")});function I2e(){const[,e]=Hf(),{toast:t}=en(),[r,a]=B.useState("register"),[s,i]=B.useState(!0),{data:o=[],isLoading:l}=pt({queryKey:["/api/vendors"]}),c=Pa({resolver:ka(k2e),defaultValues:{name:"",email:"",phone:"",whatsapp:"",cpfCnpj:"",address:"",vendorId:"",password:"",confirmPassword:"",nomeFantasia:"",razaoSocial:"",inscricaoEstadual:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",emailBoleto:"",emailNF:"",nomeContato:"",emailContato:"",enderecoFaturamentoLogradouro:"",enderecoFaturamentoNumero:"",enderecoFaturamentoComplemento:"",enderecoFaturamentoBairro:"",enderecoFaturamentoCidade:"",enderecoFaturamentoCep:"",enderecoEntregaLogradouro:"",enderecoEntregaNumero:"",enderecoEntregaComplemento:"",enderecoEntregaBairro:"",enderecoEntregaCidade:"",enderecoEntregaCep:""}}),d=Pa({resolver:ka(T2e),defaultValues:{username:"",password:""}}),u=jt({mutationFn:async p=>{const{confirmPassword:m,...x}=p,g=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!g.ok){const v=await g.json();throw new Error(v.error||"Erro ao criar cliente")}return await g.json()},onSuccess:p=>{t({title:"Cadastro realizado com sucesso!",description:`Seu cdigo de usurio : ${p.client.userCode}. Use-o para fazer login.`}),a("login"),d.setValue("username",p.client.userCode)},onError:p=>{t({title:"Erro no cadastro",description:p.message||"No foi possvel completar o cadastro",variant:"destructive"})}}),h=jt({mutationFn:async p=>{const m=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p.username,password:p.password,preferredRole:"client"})});if(!m.ok){const x=await m.json();throw new Error(x.error||"Erro ao fazer login")}return await m.json()},onSuccess:p=>{p.success&&(localStorage.setItem("user",JSON.stringify(p.user)),localStorage.setItem("token",p.token),t({title:"Login realizado com sucesso!",description:`Bem-vindo, ${p.user.name}!`}),e("/"))},onError:p=>{t({title:"Erro no login",description:p.message||"Usurio ou senha incorretos",variant:"destructive"})}}),f=p=>{u.mutate(p)},A=p=>{h.mutate(p)};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:n.jsxs(Le,{className:"w-full max-w-2xl shadow-2xl",children:[n.jsxs(Tt,{className:"text-center space-y-2",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"p-4 bg-blue-500 rounded-full",children:n.jsx(Z4,{className:"h-12 w-12 text-white"})})}),n.jsx(Ot,{className:"text-3xl font-bold",children:"Portal do Cliente"}),n.jsx(Ug,{className:"text-base",children:"Faa login ou cadastre-se para acessar seus pedidos"})]}),n.jsx(Re,{children:n.jsxs(mu,{value:r,onValueChange:p=>a(p),children:[n.jsxs(vd,{className:"grid w-full grid-cols-2 mb-6",children:[n.jsxs(Vn,{value:"login",className:"flex items-center gap-2","data-testid":"tab-login",children:[n.jsx(oye,{className:"h-4 w-4"}),"Login"]}),n.jsxs(Vn,{value:"register",className:"flex items-center gap-2","data-testid":"tab-register",children:[n.jsx(wye,{className:"h-4 w-4"}),"Cadastro"]})]}),n.jsx(Kn,{value:"login",className:"space-y-4",children:n.jsx(ya,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(A),className:"space-y-4",children:[n.jsx(tt,{control:d.control,name:"username",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cdigo de Usurio"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Digite seu cdigo de usurio",...p,"data-testid":"input-username"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:d.control,name:"password",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite sua senha",...p,"data-testid":"input-password"})}),n.jsx(rt,{})]})}),n.jsx(Z,{type:"submit",className:"w-full",disabled:h.isPending,"data-testid":"button-login",children:h.isPending?"Entrando...":"Entrar"})]})})}),n.jsx(Kn,{value:"register",className:"space-y-4",children:n.jsx(ya,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informaes Bsicas"}),n.jsx(tt,{control:c.control,name:"name",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Silva",...p,"data-testid":"input-name"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"vendorId",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Vendedor Responsvel *"}),n.jsxs($t,{onValueChange:p.onChange,defaultValue:p.value,disabled:l,children:[n.jsx(et,{children:n.jsx(Mt,{"data-testid":"select-vendor",children:n.jsx(Ht,{placeholder:"Selecione seu vendedor"})})}),n.jsx(Ut,{children:o.map(m=>n.jsxs(ge,{value:m.id,children:[m.name," - ",m.username]},m.id))})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"nomeFantasia",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Fantasia"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Empresa Ltda",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"razaoSocial",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Razo Social"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Empresa Comercial Ltda",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"cpfCnpj",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CPF/CNPJ"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789-00 ou 00.000.000/0001-00",...p,"data-testid":"input-cpf"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"inscricaoEstadual",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Inscrio Estadual"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789.012 (se for Indstria ou Comrcio)",...p})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo Principal"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:c.control,name:"logradouro",render:({field:p})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"numero",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"complemento",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"bairro",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"cidade",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"cep",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...p})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uu,{id:"useSameAddress",checked:s,onCheckedChange:i}),n.jsx("label",{htmlFor:"useSameAddress",className:"text-lg font-semibold text-gray-900 peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Endereo de Faturamento"})]}),!s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:c.control,name:"enderecoFaturamentoLogradouro",render:({field:p})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"enderecoFaturamentoNumero",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"enderecoFaturamentoComplemento",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"enderecoFaturamentoBairro",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"enderecoFaturamentoCidade",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"enderecoFaturamentoCep",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...p})}),n.jsx(rt,{})]})})]})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uu,{id:"useSameAddressForDelivery",checked:s,onCheckedChange:i}),n.jsx("label",{htmlFor:"useSameAddressForDelivery",className:"text-lg font-semibold text-gray-900 peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Endereo de Entrega"})]}),!s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:c.control,name:"enderecoEntregaLogradouro",render:({field:p})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"enderecoEntregaNumero",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"enderecoEntregaComplemento",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"enderecoEntregaBairro",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...p})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"enderecoEntregaCidade",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"enderecoEntregaCep",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...p})}),n.jsx(rt,{})]})})]})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"phone",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...p,"data-testid":"input-phone"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"whatsapp",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"WhatsApp"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...p,"data-testid":"input-whatsapp"})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"nomeContato",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome da pessoa de contato",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"emailContato",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail do Contato"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@empresa.com",...p})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"E-mails Comerciais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"emailBoleto",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Envio de Boleto"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"financeiro@empresa.com",...p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"emailNF",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Envio de NF"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"nf@empresa.com",...p})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:c.control,name:"email",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail Principal"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@empresa.com",...p,"data-testid":"input-email"})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Senha de Acesso"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(tt,{control:c.control,name:"password",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Mnimo 6 caracteres",...p,"data-testid":"input-register-password"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"confirmPassword",render:({field:p})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Confirmar Senha *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite a senha novamente",...p,"data-testid":"input-confirm-password"})}),n.jsx(rt,{})]})})]})]}),n.jsx(Z,{type:"submit",className:"w-full",disabled:u.isPending,"data-testid":"button-register",children:u.isPending?"Cadastrando...":"Cadastrar"})]})})})]})})]})})}function $r({children:e,requiredRole:t,requiredRoles:r}){const[a,s]=B.useState(!0),[i,o]=B.useState(null),[,l]=Hf();return B.useEffect(()=>{(async()=>{const d=localStorage.getItem("token"),u=localStorage.getItem("user");if(!d||!u){l("/login");return}try{console.log("Checking auth with token:",d.substring(0,20)+"...");const h=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(console.log("Auth response status:",h.status),!h.ok){const p=await h.json().catch(()=>({}));throw console.error("Auth verification failed:",h.status,p),new Error("Token invalid")}const f=await h.json();console.log("Auth verification successful:",f.user.username,f.user.role),localStorage.setItem("user",JSON.stringify(f.user));const A=f.user.role==="admin"||!t&&!r||t&&f.user.role===t||r&&r.includes(f.user.role);if((t||r)&&!A){switch(f.user.role){case"vendor":l("/vendor/dashboard");break;case"client":l("/client/orders");break;case"producer":l("/producer/orders");break;case"logistics":l("/logistics/dashboard");break;case"partner":l("/partner/dashboard");break;case"finance":l("/finance");break;default:l("/login")}return}o(f.user),s(!1)}catch(h){console.error("Auth check error:",h),localStorage.removeItem("token"),localStorage.removeItem("user"),l("/login");return}})()},[t,r,l]),a?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}):n.jsx(n.Fragment,{children:e})}function O2e(){const[,e]=Hf();return B.useEffect(()=>{const t=localStorage.getItem("user");if(!t){e("/login");return}try{switch(JSON.parse(t).role){case"admin":e("/admin/dashboard");break;case"vendor":e("/vendor/dashboard");break;case"client":e("/client/dashboard");break;case"producer":e("/producer/dashboard");break;case"partner":e("/partner/dashboard");break;case"finance":e("/finance");break;case"logistics":e("/logistics/dashboard");break;case"dashtv":e("/dashtv");break;default:e("/login")}}catch(r){console.error("Error parsing user data:",r),e("/login")}},[e]),n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Redirecionando..."})]})})}function D2e({children:e}){var w,C;const[t,r]=B.useState(!1),a=JSON.parse(localStorage.getItem("user")||"{}"),[s,i]=B.useState(a.role||"admin"),[o,l]=Hf(),{toast:c}=en(),d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),c({title:"Logout realizado com sucesso",description:"Voc foi desconectado do sistema."}),l("/login")},u=[{value:"admin",label:"Administrador"},{value:"vendor",label:"Vendedor"},{value:"client",label:"Cliente"},{value:"producer",label:"Produtor"},{value:"finance",label:"Financeiro"},{value:"logistics",label:"Logstica"},{value:"partner",label:"Scio"}],h=[{href:"/",icon:CA,label:"Dashboard"},{href:"/admin/orders",icon:jn,label:"Pedidos"},{href:"/admin/budgets",icon:td,label:"Oramentos"},{href:"/admin/budget-approvals",icon:Ll,label:"Para Autorizao"},{href:"/admin/products",icon:gr,label:"Produtos"},{href:"/admin/producers",icon:En,label:"Produtores"},{href:"/admin/clients",icon:ca,label:"Clientes"},{href:"/admin/vendors",icon:jn,label:"Vendedores"},{href:"/admin/partners",icon:Yn,label:"Scios"},{href:"/admin/branches",icon:si,label:"Filiais"},{href:"/admin/users",icon:ca,label:"Usurios"},{href:"/admin/logistics",icon:gr,label:"Logstica"},{href:"/admin/customizations",icon:WA,label:"Personalizaes"},{href:"/admin/settings",icon:WA,label:"Configuraes"},{href:"/admin/pricing",icon:td,label:"Formao de Preo"},{href:"/admin/commission-management",icon:Mr,label:"Gesto de Comisses"},{href:"/admin/reports",icon:Pn,label:"Relatrios"},{href:"/admin/tv-dashboard",icon:JS,label:"Dash TV"},{href:"/admin/logs",icon:tk,label:"Logs do Sistema"},{href:"/finance",icon:Mr,label:"Mdulo Financeiro"}],f=[{href:"/partner/dashboard",icon:CA,label:"Dashboard"},{href:"/partner/commission-management",icon:Mr,label:"Minhas Comisses"},{href:"/partner/orders",icon:jn,label:"Pedidos"},{href:"/partner/budgets",icon:td,label:"Oramentos"},{href:"/partner/products",icon:gr,label:"Produtos"},{href:"/partner/producers",icon:En,label:"Produtores"},{href:"/partner/clients",icon:ca,label:"Clientes"},{href:"/partner/vendors",icon:jn,label:"Vendedores"},{href:"/partner/partners",icon:Yn,label:"Scios"},{href:"/partner/branches",icon:si,label:"Filiais"},{href:"/partner/logistics",icon:gr,label:"Logstica"},{href:"/partner/customizations",icon:WA,label:"Personalizaes"},{href:"/partner/settings",icon:WA,label:"Configuraes"},{href:"/partner/reports",icon:Pn,label:"Relatrios"},{href:"/admin/tv-dashboard",icon:JS,label:"Dash TV"},{href:"/partner/logs",icon:tk,label:"Logs do Sistema"},{href:"/finance",icon:Mr,label:"Mdulo Financeiro"}],A=a.isCommissioned!==!1,p=[{href:"/",icon:CA,label:"Dashboard"},{href:"/vendor/products",icon:gr,label:"Catlogo"},{href:"/vendor/quote-requests",icon:dye,label:"Solicitaes"},{href:"/vendor/budgets",icon:Pn,label:"Oramentos"},{href:"/vendor/orders",icon:jn,label:"Pedidos"},{href:"/vendor/clients",icon:ca,label:"Clientes"},...A?[{href:"/vendor/commissions",icon:Mr,label:"Comisses"}]:[],{href:"/vendor/logs",icon:tk,label:"Meus Logs"}],m=[{href:"/client/dashboard",icon:lR,label:"Dashboard"},{href:"/client/products",icon:gr,label:"Catlogo"},{href:"/client/orders",icon:jn,label:"Meus Pedidos"},{href:"/client/budgets",icon:td,label:"Meus Oramentos"},{href:"/client/profile",icon:Yn,label:"Meu Perfil"}],x=[{href:"/producer/production-dashboard",icon:CA,label:"Painel de Produo"},{href:"/producer/receivables",icon:lo,label:"Contas a Receber"}],g=[{href:"/",icon:CA,label:"Dashboard"},{href:"/finance/receivables",icon:Mr,label:"Contas a Receber"},{href:"/finance/commission-payouts",icon:ca,label:"Pagamentos de Comisso"},{href:"/finance/reconciliation",icon:lo,label:"Conciliao Bancria"},{href:"/finance/payments",icon:gr,label:"Pagamentos"}],v=[{href:"/logistics/dashboard",icon:CA,label:"Dashboard"},{href:"/logistics/paid-orders",icon:Mr,label:"Pedidos"},{href:"/logistics/production-tracking",icon:En,label:"Acompanhar Produo"},{href:"/logistics/shipments",icon:gr,label:"Despachos"},{href:"/logistics/products",icon:gr,label:"Produtos"},{href:"/logistics/producers",icon:En,label:"Produtores"}],j=(()=>{switch(s){case"admin":return h;case"partner":return f;case"vendor":return p;case"client":return m;case"producer":return x;case"finance":return g;case"logistics":return v;default:return[]}})(),b={admin:"Administrador",vendor:"Vendedor",client:"Cliente",producer:"Produtor",partner:"Scio",finance:"Financeiro",logistics:"Logstica"};return n.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),n.jsx("div",{className:`
        w-64 bg-gradient-to-br from-blue-600 via-blue-700 to-teal-500 shadow-2xl flex-shrink-0
        fixed inset-y-0 left-0 z-50 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0
        ${t?"translate-x-0":"-translate-x-full"}
      `,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-white/20 bg-white flex-shrink-0",children:[n.jsx(R6,{size:"sm",variant:"full"}),n.jsx(Z,{variant:"ghost",size:"sm",className:"lg:hidden text-gray-600 hover:bg-gray-100 p-1",onClick:()=>r(!1),children:n.jsx(fd,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),n.jsxs("div",{className:"p-4 sm:p-6 border-b border-white/20 flex-shrink-0",children:[n.jsx("div",{className:"text-xs sm:text-sm font-medium text-white/90 truncate",children:a.name||"Usurio"}),n.jsx("div",{className:"text-xs text-white/70 truncate",children:b[s]||"Usurio"})]}),n.jsx("nav",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:n.jsx("ul",{className:"space-y-1 sm:space-y-2",children:j.map(F=>{const E=F.icon,L=o===F.href;return n.jsx("li",{children:n.jsx(ai,{href:F.href,children:n.jsxs("div",{className:`
                          flex items-center px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl text-sm font-medium transition-all duration-200 cursor-pointer
                          ${L?"bg-white text-blue-600 shadow-lg":"text-white/90 hover:bg-white/10 hover:text-white"}
                        `,onClick:()=>r(!1),children:[n.jsx(E,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 sm:mr-3 flex-shrink-0"}),n.jsx("span",{className:"truncate text-xs sm:text-sm",children:F.label})]})})},F.href)})})}),n.jsx("div",{className:"p-6 border-t border-white/20 flex-shrink-0",children:n.jsx("div",{className:"text-xs text-white/70 text-center",children:(w=u.find(F=>F.value===s))==null?void 0:w.label})})]})}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"bg-white shadow-sm border-b px-4 sm:px-6 py-3 sm:py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Z,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>r(!0),children:n.jsx(cye,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),n.jsx("div",{className:"lg:hidden",children:n.jsx(R6,{size:"sm",variant:"icon"})})]}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx("span",{className:"text-xs sm:text-sm text-gray-600 hidden sm:inline",children:(C=u.find(F=>F.value===s))==null?void 0:C.label}),n.jsxs(Z,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-1 sm:gap-2 text-gray-600 hover:text-red-600 hover:border-red-300 px-2 sm:px-3 py-1 sm:py-2 text-xs sm:text-sm",children:[n.jsx(Py,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})]})]})}),n.jsx("main",{className:"flex-1 overflow-auto p-3 sm:p-4 lg:p-6",children:n.jsx("div",{className:"max-w-full overflow-x-auto",children:e})})]})]})}function L2e(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(Le,{className:"w-full max-w-md mx-4",children:n.jsxs(Re,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(mh,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const R2e=eB("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yt({className:e,variant:t,...r}){return n.jsx("div",{className:mr(R2e({variant:t}),e),...r})}function w9(){var l,c,d,u,h,f;const e=JSON.parse(localStorage.getItem("user")||"{}"),{data:t}=pt({queryKey:["/api/dashboard/stats"]}),{data:r}=pt({queryKey:["/api/orders"]}),{data:a}=pt({queryKey:["/api/finance/overview"]}),s=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/login"},i=[{href:"/admin/orders",icon:jn,label:"Gerenciar Pedidos",color:"text-blue-600"},{href:"/admin/commission-management",icon:Li,label:"Comisses",color:"text-green-600"},{href:"/admin/producers",icon:En,label:"Produtores",color:"text-purple-600"},{href:"/admin/clients",icon:ca,label:"Clientes",color:"text-orange-600"},{href:"/admin/vendors",icon:ca,label:"Vendedores",color:"text-indigo-600"},{href:"/admin/finance",icon:Mr,label:"Financeiro",color:"text-emerald-600"},{href:"/admin/tv-dashboard",icon:JS,label:"Dash TV",color:"text-red-500"},{href:"/admin/fix-commissions",icon:Li,label:"Corrigir Comisses",color:"text-red-600"}],o=A=>{const p={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",production:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",shipped:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",delivered:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},m={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado"};return n.jsx(Yt,{className:p[A]||"bg-gray-100 text-gray-800",children:m[A]||A})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel Administrativo"}),n.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",e.name]})]}),n.jsxs(Z,{variant:"outline",onClick:s,className:"flex items-center gap-2",children:[n.jsx(Py,{className:"h-4 w-4"}),"Sair"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[n.jsx(Le,{"data-testid":"card-total-orders",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Pedidos"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:(t==null?void 0:t.totalOrders)||0})]}),n.jsx(jn,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})})}),n.jsx(Le,{"data-testid":"card-orders-production",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Em Produo"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:(t==null?void 0:t.inProduction)||0})]}),n.jsx(En,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})})}),n.jsx(Le,{"data-testid":"card-total-clients",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Clientes"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:(t==null?void 0:t.totalClients)||0})]}),n.jsx(ca,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})]})})}),n.jsx(Le,{"data-testid":"card-total-vendors",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Vendedores"}),n.jsx("p",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:(t==null?void 0:t.totalVendors)||0})]}),n.jsx(ca,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"})]})})}),n.jsx(Le,{"data-testid":"card-total-producers",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Produtores"}),n.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:(t==null?void 0:t.totalProducers)||0})]}),n.jsx(En,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{"data-testid":"card-orders-today",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pedidos Hoje"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:(t==null?void 0:t.ordersToday)||0})]}),n.jsx(ps,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})]})})}),n.jsx(Le,{"data-testid":"card-monthly-revenue",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Receita Mensal"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["R$ ",((l=a==null?void 0:a.monthlyRevenue)==null?void 0:l.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsx(Mr,{className:"h-6 w-6 text-green-600 dark:text-green-400"})]})})}),n.jsx(Le,{"data-testid":"card-receivables",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total a Receber"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["R$ ",((c=a==null?void 0:a.totalReceivables)==null?void 0:c.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsx(Li,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})]})})}),n.jsx(Le,{"data-testid":"card-payables",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total a Pagar"}),n.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["R$ ",((d=a==null?void 0:a.totalPayables)==null?void 0:d.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsx(Sm,{className:"h-6 w-6 text-red-600 dark:text-red-400"})]})})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{className:"text-lg font-bold text-gray-900",children:"Resumo Financeiro"})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Receita Mensal"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",((u=a==null?void 0:a.monthlyRevenue)==null?void 0:u.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Despesas do Ms"}),n.jsxs("span",{className:"font-semibold text-red-600",children:["R$ ",((h=a==null?void 0:a.monthlyExpenses)==null?void 0:h.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Comisses Pendentes"}),n.jsxs("span",{className:"font-semibold text-yellow-600",children:["R$ ",((f=a==null?void 0:a.pendingCommissions)==null?void 0:f.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-gray-900",children:"Saldo Lquido"}),n.jsxs("span",{className:"font-bold text-lg text-green-600",children:["R$ ",(((a==null?void 0:a.monthlyRevenue)||0)-((a==null?void 0:a.payables)||0)-((a==null?void 0:a.monthlyExpenses)||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs(Le,{"data-testid":"card-recent-orders",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"ltimos Pedidos"}),n.jsx(ai,{href:"/admin/orders",children:n.jsxs(Z,{variant:"outline",size:"sm","data-testid":"button-view-all-orders",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Ver Todos"]})})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:!r||r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum pedido encontrado"})]}):r.slice(0,5).map(A=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-sm",children:["#",A.orderNumber]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:A.clientName}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Vendedor: ",A.vendorName]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-sm",children:["R$ ",parseFloat(A.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o(A.status)]})]},A.id))})})]}),n.jsxs(Le,{"data-testid":"card-quick-actions",children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Aes Rpidas"})}),n.jsx(Re,{children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(A=>{const p=A.icon;return n.jsx(ai,{href:A.href,children:n.jsxs("div",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer","data-testid":`link-${A.label.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx(p,{className:`h-5 w-5 ${A.color} mr-3`}),n.jsx("span",{className:"font-medium text-sm",children:A.label}),n.jsx(tte,{className:"h-4 w-4 ml-auto text-gray-400"})]})},A.href)})})})]})]})]})]})}function M2e(){const e=JSON.parse(localStorage.getItem("user")||"{}"),t=e.id,r=e.isCommissioned!==!1,{data:a,isLoading:s}=pt({queryKey:["/api/dashboard/stats"]}),{data:i}=pt({queryKey:["/api/vendors",t,"orders"],queryFn:async()=>{const h=await fetch(`/api/vendors/${t}/orders`);if(!h.ok)throw new Error("Failed to fetch vendor orders");return h.json()}}),{data:o}=pt({queryKey:["/api/commissions/vendor",t],queryFn:async()=>{const h=await fetch(`/api/commissions/vendor/${t}`);if(!h.ok)throw new Error("Failed to fetch vendor commissions");return h.json()},enabled:r});if(s)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(h=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},h))})]})});const l=(i==null?void 0:i.slice(0,5))||[],c=(o==null?void 0:o.filter(h=>h.status==="confirmed").reduce((h,f)=>h+parseFloat(f.amount||0),0))||0,d=(o==null?void 0:o.filter(h=>h.status==="pending").reduce((h,f)=>h+parseFloat(f.amount||0),0))||0,u=[{title:"Meus Pedidos",description:"Visualizar e gerenciar pedidos",icon:jn,href:"/vendor/orders",color:"bg-blue-500 hover:bg-blue-600"},{title:"Oramentos",description:"Criar e gerenciar oramentos",icon:Pn,href:"/vendor/budgets",color:"bg-green-500 hover:bg-green-600"},{title:"Meus Clientes",description:"Gerenciar carteira de clientes",icon:ca,href:"/vendor/clients",color:"bg-purple-500 hover:bg-purple-600"},...r?[{title:"Minhas Comisses",description:"Acompanhar comisses e ganhos",icon:Mr,href:"/vendor/commissions",color:"bg-orange-500 hover:bg-orange-600"}]:[]];return n.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-8 text-white shadow-lg",children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Ol, ",e.name||e.username,"!"]}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Bem-vindo ao seu painel de vendas"})]})}),n.jsxs("div",{className:`grid grid-cols-1 ${r?"md:grid-cols-4":"md:grid-cols-2"} gap-6 mb-8`,children:[n.jsx(Le,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Meus Pedidos"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(i==null?void 0:i.length)||0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total criados"})]}),n.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-xl flex items-center justify-center",children:n.jsx(jn,{className:"h-6 w-6 text-blue-600"})})]})})}),r&&n.jsx(Le,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Comisses Total"}),n.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",c.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Confirmadas"})]}),n.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-xl flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Pedidos Ativos"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(i==null?void 0:i.filter(h=>!["delivered","cancelled"].includes(h.status)).length)||0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Em andamento"})]}),n.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-xl flex items-center justify-center",children:n.jsx(gr,{className:"h-6 w-6 text-purple-600"})})]})})}),r&&n.jsx(Le,{className:"hover:shadow-lg transition-shadow border-0 shadow-md",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Comisses Pendentes"}),n.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["R$ ",d.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A receber"})]}),n.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-xl flex items-center justify-center",children:n.jsx(Li,{className:"h-6 w-6 text-orange-600"})})]})})})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Aes Rpidas"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(h=>{const f=h.icon;return n.jsx(ai,{href:h.href,children:n.jsx(Le,{className:"hover:shadow-xl transition-all duration-200 cursor-pointer group border-0 shadow-md",children:n.jsxs(Re,{className:"p-6 text-center",children:[n.jsx("div",{className:`h-16 w-16 ${h.color} rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform`,children:n.jsx(f,{className:"h-8 w-8 text-white"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:h.title}),n.jsx("p",{className:"text-sm text-gray-600",children:h.description})]})})},h.href)})})]}),n.jsxs(Le,{className:"border-0 shadow-lg",children:[n.jsx(Tt,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ot,{className:"text-xl font-bold text-gray-900",children:"Pedidos Recentes"}),n.jsx(ai,{href:"/vendor/orders",children:n.jsxs(Z,{variant:"outline",size:"sm",className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Ver Todos"]})})]})}),n.jsx(Re,{children:l.length>0?n.jsx("div",{className:"space-y-4",children:l.map(h=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(jn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:h.orderNumber}),n.jsx("p",{className:"text-sm text-gray-600",children:h.contactName||h.clientName})]})]})}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-900",children:["R$ ",parseFloat(h.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${h.status==="delivered"?"bg-green-100 text-green-800":h.status==="production"?"bg-purple-100 text-purple-800":h.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:h.status==="delivered"?"Entregue":h.status==="production"?"Em Produo":h.status==="confirmed"?"Confirmado":"Pendente"})]})]},h.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(jn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Nenhum pedido encontrado"}),n.jsx(ai,{href:"/vendor/orders",children:n.jsxs(Z,{className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Pedido"]})})]})})]})]})}function U2e(){const e=JSON.parse(localStorage.getItem("user")||"{}"),[t,r]=B.useState("all"),[a,s]=B.useState(""),[i,o]=B.useState(""),{data:l,isLoading:c}=pt({queryKey:[`/api/orders/client/${e.id}`],queryFn:async()=>{const g=await fetch(`/api/orders/client/${e.id}`);if(!g.ok)throw new Error("Failed to fetch orders");return g.json()}}),{data:d}=pt({queryKey:["/api/clients/profile",e.id],queryFn:async()=>{const g=await fetch(`/api/clients/profile/${e.id}`);if(!g.ok)throw new Error("Failed to fetch client profile");return g.json()}}),u=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/login"},h=g=>{const v={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",production:"bg-purple-100 text-purple-800",ready:"bg-orange-100 text-orange-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},y={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",ready:"Pronto",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado"};return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${v[g]}`,children:y[g]})},A=(()=>{if(!l)return[];const g=new Date,v=new Date(g.getFullYear(),g.getMonth(),1),y=new Date(g.getFullYear(),0,1),j=new Date(g.getTime()-30*24*60*60*1e3);return l.filter(b=>{if(!b.createdAt)return!0;const w=new Date(b.createdAt);switch(t){case"thisMonth":return w>=v;case"thisYear":return w>=y;case"last30Days":return w>=j;case"custom":return a&&i?w>=new Date(a)&&w<=new Date(i):!0;default:return!0}})})(),p=()=>A.reduce((g,v)=>g+parseFloat(v.totalValue||"0"),0),m=()=>A.reduce((g,v)=>g+parseFloat(v.paidValue||"0"),0),x=()=>p()-m();return c?n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"animate-pulse p-8",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((g,v)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},v))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b px-6 py-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Painel do Cliente"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Bem-vindo, ",(d==null?void 0:d.name)||e.name]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ai,{href:"/client/profile",children:n.jsxs(Z,{variant:"outline",className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Meu Perfil"]})}),n.jsxs(Z,{variant:"outline",onClick:u,className:"flex items-center gap-2",children:[n.jsx(Py,{className:"h-4 w-4"}),"Sair"]})]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs(Le,{className:"mb-8",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Fy,{className:"h-5 w-5"}),"Filtros de Data"]})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs($t,{value:t,onValueChange:r,children:[n.jsx(Mt,{className:"w-48",children:n.jsx(Ht,{placeholder:"Selecionar perodo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os pedidos"}),n.jsx(ge,{value:"thisMonth",children:"Este ms"}),n.jsx(ge,{value:"thisYear",children:"Este ano"}),n.jsx(ge,{value:"last30Days",children:"ltimos 30 dias"}),n.jsx(ge,{value:"custom",children:"Perodo personalizado"})]})]}),t==="custom"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"De:"}),n.jsx(ie,{type:"date",value:a,onChange:g=>s(g.target.value),className:"w-40"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"At:"}),n.jsx(ie,{type:"date",value:i,onChange:g=>o(g.target.value),className:"w-40"})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsx(ai,{href:"/client/orders",children:n.jsx(Le,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Meus Pedidos"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(A==null?void 0:A.length)||0})]}),n.jsx(jn,{className:"h-8 w-8 text-blue-600"})]})})})}),n.jsx(ai,{href:"/client/profile",children:n.jsx(Le,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Meu Perfil"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Gerenciar"})]}),n.jsx(Yn,{className:"h-8 w-8 text-green-600"})]})})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Suporte"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Contato"})]}),n.jsx(ll,{className:"h-8 w-8 text-purple-600"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Gasto"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",p().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(jn,{className:"h-8 w-8 text-blue-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pago"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",m().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(Bn,{className:"h-8 w-8 text-green-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"A Pagar"}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["R$ ",x().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(lo,{className:"h-8 w-8 text-orange-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Em Andamento"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(A==null?void 0:A.filter(g=>["confirmed","production","ready","shipped"].includes(g.status)).length)||0})]}),n.jsx(Un,{className:"h-8 w-8 text-purple-600"})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ot,{children:"Meus Pedidos Recentes"}),n.jsx(ai,{href:"/client/orders",children:n.jsx(Z,{variant:"outline",size:"sm",children:"Ver Todos"})})]})}),n.jsx(Re,{children:!A||A.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-xl font-medium text-gray-600 mb-2",children:"Nenhum pedido encontrado"}),n.jsx("p",{className:"text-gray-500",children:"Seus pedidos aparecero aqui quando forem criados."})]}):n.jsx("div",{className:"space-y-4",children:A.slice(0,5).map(g=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(gr,{className:"h-10 w-10 text-gray-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g.orderNumber}),n.jsx("p",{className:"text-sm text-gray-600",children:g.product}),n.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),g.createdAt?new Date(g.createdAt).toLocaleDateString("pt-BR"):"Data no disponvel"]}),g.deadline&&n.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx(Un,{className:"h-3 w-3 mr-1"}),"Entrega: ",new Date(g.deadline).toLocaleDateString("pt-BR")]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h(g.status),n.jsx(ai,{href:`/client/order/${g.id}/timeline`,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]})})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{className:"font-medium text-lg text-green-600",children:["R$ ",parseFloat(g.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),parseFloat(g.paidValue||"0")>0&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Pago: R$ ",parseFloat(g.paidValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]},g.id))})})]}),(d==null?void 0:d.vendorName)&&n.jsxs(Le,{className:"mt-8",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-5 w-5"}),"Seu Vendedor"]})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:d.vendorName}),n.jsx("p",{className:"text-sm text-gray-600",children:"Vendedor responsvel pela sua conta"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",children:[n.jsx(ll,{className:"h-4 w-4 mr-2"}),"Ligar"]}),n.jsxs(Z,{variant:"outline",size:"sm",children:[n.jsx(rd,{className:"h-4 w-4 mr-2"}),"Email"]})]})]})})]})]})]})}function Q2e(){const e=JSON.parse(localStorage.getItem("user")||"{}"),{data:t}=pt({queryKey:[`/api/production-orders/producer/${e.id}`]}),{data:r}=pt({queryKey:[`/api/producer/${e.id}/stats`]}),a=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/login"},s=o=>{const l={pending:"bg-yellow-100 text-yellow-800",accepted:"bg-blue-100 text-blue-800",production:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},c={pending:"Pendente",accepted:"Aceito",production:"Em Produo",completed:"Concludo",rejected:"Rejeitado"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${l[o]}`,children:c[o]})},i=[{href:"/producer/orders",icon:En,label:"Ordens de Produo",color:"text-blue-600"},{href:"/producer/production-dashboard",icon:gr,label:"Dashboard Produo",color:"text-green-600"}];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel do Produtor"}),n.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",e.name]})]}),n.jsxs(Z,{variant:"outline",onClick:a,className:"flex items-center gap-2",children:[n.jsx(Py,{className:"h-4 w-4"}),"Sair"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ordens Ativas"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(r==null?void 0:r.activeOrders)||0})]}),n.jsx(En,{className:"h-8 w-8 text-blue-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(r==null?void 0:r.pendingOrders)||0})]}),n.jsx(Un,{className:"h-8 w-8 text-yellow-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Em Produo"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(r==null?void 0:r.inProductionOrders)||0})]}),n.jsx(gr,{className:"h-8 w-8 text-purple-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Concludas"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:(r==null?void 0:r.completedOrders)||0})]}),n.jsx(Bn,{className:"h-8 w-8 text-green-600"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Aes Rpidas"})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-3",children:i.map(o=>{const l=o.icon;return n.jsx(ai,{href:o.href,children:n.jsxs("div",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:[n.jsx(l,{className:`h-5 w-5 ${o.color} mr-3`}),n.jsx("span",{className:"font-medium",children:o.label})]})},o.href)})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Ordens Recentes"})}),n.jsx(Re,{children:!t||t.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma ordem de produo disponvel."}):n.jsxs("div",{className:"space-y-3",children:[t.slice(0,3).map(o=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-sm",children:["#",o.id.slice(-6)]}),n.jsx("p",{className:"text-xs text-gray-600",children:o.product})]}),n.jsxs("div",{className:"text-right",children:[s(o.status),o.hasUnreadNotes&&n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(mh,{className:"h-3 w-3 text-red-500 mr-1"}),n.jsx("span",{className:"text-xs text-red-600",children:"Nova nota"})]})]})]},o.id)),t.length>3&&n.jsx("div",{className:"text-center pt-2",children:n.jsx(ai,{href:"/producer/orders",children:n.jsx(Z,{variant:"outline",size:"sm",children:"Ver Todas"})})})]})})]})]})]})]})}function $2e(){const e=JSON.parse(localStorage.getItem("user")||"{}"),{data:t}=pt({queryKey:["/api/dashboard/stats"]});pt({queryKey:["/api/orders"]});const{data:r}=pt({queryKey:["/api/commissions"],select:A=>(A==null?void 0:A.filter(p=>p.partnerId===e.id&&p.type==="partner"))||[]}),{data:a}=pt({queryKey:["/api/partners"],select:A=>A==null?void 0:A.find(p=>p.userId===e.id)}),{data:s}=pt({queryKey:["/api/orders"]}),{data:i}=pt({queryKey:["/api/vendors"]}),{data:o}=pt({queryKey:["/api/clients"]}),l=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/login"},c=[{href:"/admin/orders",icon:jn,label:"Gerenciar Pedidos",color:"text-blue-600"},{href:"/partner/commission-management",icon:Li,label:"Minhas Comisses",color:"text-green-600"},{href:"/admin/producers",icon:En,label:"Produtores",color:"text-purple-600"},{href:"/admin/clients",icon:ca,label:"Clientes",color:"text-orange-600"},{href:"/admin/vendors",icon:ca,label:"Vendedores",color:"text-indigo-600"},{href:"/finance",icon:Mr,label:"Financeiro",color:"text-emerald-600"},{href:"/admin/products",icon:gr,label:"Produtos",color:"text-cyan-600"},{href:"/admin/budgets",icon:lR,label:"Oramentos",color:"text-rose-600"}],d=(r==null?void 0:r.reduce((A,p)=>A+parseFloat(p.amount||"0"),0))||0,u=(r==null?void 0:r.filter(A=>["pending","confirmed"].includes(A.status)).reduce((A,p)=>A+parseFloat(p.amount||"0"),0))||0,h=(r==null?void 0:r.filter(A=>A.status==="paid").reduce((A,p)=>A+parseFloat(p.amount||"0"),0))||0,f=A=>{const p={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",confirmed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",production:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",shipped:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",delivered:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},m={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado"};return n.jsx(Yt,{className:p[A]||"bg-gray-100 text-gray-800",children:m[A]||A})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel do Scio"}),n.jsxs("p",{className:"text-gray-600",children:["Bem-vindo, ",e.name]}),e.userCode&&n.jsxs("p",{className:"text-sm text-blue-600 font-mono",children:["Cdigo de Acesso: ",e.userCode]}),a&&n.jsxs("p",{className:"text-sm text-green-600",children:["Taxa de Comisso: ",a.commissionRate,"%"]})]}),n.jsxs(Z,{variant:"outline",onClick:l,className:"flex items-center gap-2",children:[n.jsx(Py,{className:"h-4 w-4"}),"Sair"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[n.jsx(Le,{"data-testid":"card-total-orders",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Pedidos"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:(s==null?void 0:s.length)||0})]}),n.jsx(jn,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})})}),n.jsx(Le,{"data-testid":"card-orders-production",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Em Produo"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:(s==null?void 0:s.filter(A=>A.status==="production").length)||0})]}),n.jsx(En,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})})}),n.jsx(Le,{"data-testid":"card-total-clients",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Clientes"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:(o==null?void 0:o.length)||0})]}),n.jsx(ca,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})]})})}),n.jsx(Le,{"data-testid":"card-total-vendors",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Vendedores"}),n.jsx("p",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:(i==null?void 0:i.length)||0})]}),n.jsx(ca,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"})]})})}),n.jsx(Le,{"data-testid":"card-total-producers",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Produtores"}),n.jsx("p",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:(t==null?void 0:t.totalProducers)||0})]}),n.jsx(En,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(Le,{"data-testid":"card-total-commissions",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total de Comisses"}),n.jsxs("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["R$ ",d.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[(r==null?void 0:r.length)||0," pedidos"]})]}),n.jsx(Mr,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})]})})}),n.jsx(Le,{"data-testid":"card-pending-commissions",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Comisses Pendentes"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"A receber"})]}),n.jsx(no,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})]})})}),n.jsx(Le,{"data-testid":"card-paid-commissions",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Comisses Pagas"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"J recebidas"})]}),n.jsx(Li,{className:"h-6 w-6 text-green-600 dark:text-green-400"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs(Le,{"data-testid":"card-recent-orders",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"ltimos Pedidos"}),n.jsx(ai,{href:"/partner/orders",children:n.jsxs(Z,{variant:"outline",size:"sm","data-testid":"button-view-all-orders",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Ver Todos"]})})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:!s||s.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum pedido encontrado"})]}):s.slice(0,5).map(A=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-sm",children:["#",A.orderNumber]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:A.clientName}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Vendedor: ",A.vendorName]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-sm",children:["R$ ",parseFloat(A.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),f(A.status)]})]},A.id))})})]}),n.jsxs(Le,{"data-testid":"card-recent-commissions",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Minhas Comisses Recentes"}),n.jsx(ai,{href:"/partner/commission-management",children:n.jsxs(Z,{variant:"outline",size:"sm","data-testid":"button-view-all-commissions",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Ver Todas"]})})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:!r||r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(no,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma comisso encontrada"})]}):r.slice(0,5).map(A=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-semibold text-sm",children:["#",A.orderNumber||"N/A"]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("pt-BR"):"Data no disponvel"}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:[A.percentage,"% sobre R$ ",parseFloat(A.orderValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-sm text-emerald-600",children:["R$ ",parseFloat(A.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{className:`${A.status==="paid"?"bg-green-100 text-green-800":A.status==="confirmed"?"bg-blue-100 text-blue-800":A.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:A.status==="paid"?"Pago":A.status==="confirmed"?"Confirmado":A.status==="pending"?"Pendente":A.status})]})]},A.id))})})]})]}),n.jsxs(Le,{"data-testid":"card-quick-actions",children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Aes Rpidas"})}),n.jsx(Re,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map(A=>{const p=A.icon;return n.jsx(ai,{href:A.href,children:n.jsxs("div",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer","data-testid":`link-${A.label.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx(p,{className:`h-5 w-5 ${A.color} mr-3`}),n.jsx("span",{className:"font-medium text-sm",children:A.label}),n.jsx(tte,{className:"h-4 w-4 ml-auto text-gray-400"})]})},A.href)})})})]})]})]})}const Jn=B.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:mr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Jn.displayName="Textarea";var IR="Dialog",[kne,Tne]=Ql(IR),[H2e,pu]=kne(IR),Ine=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=B.useRef(null),c=B.useRef(null),[d=!1,u]=Ah({prop:a,defaultProp:s,onChange:i});return n.jsx(H2e,{scope:t,triggerRef:l,contentRef:c,contentId:tu(),titleId:tu(),descriptionId:tu(),open:d,onOpenChange:u,onOpenToggle:B.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};Ine.displayName=IR;var One="DialogTrigger",Dne=B.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=pu(One,r),i=$n(t,s.triggerRef);return n.jsx(Kr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LR(s.open),...a,ref:i,onClick:fr(e.onClick,s.onOpenToggle)})});Dne.displayName=One;var OR="DialogPortal",[z2e,Lne]=kne(OR,{forceMount:void 0}),Rne=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=pu(OR,t);return n.jsx(z2e,{scope:t,forceMount:r,children:B.Children.map(a,o=>n.jsx(Bc,{present:r||i.open,children:n.jsx(Ey,{asChild:!0,container:s,children:o})}))})};Rne.displayName=OR;var p5="DialogOverlay",Mne=B.forwardRef((e,t)=>{const r=Lne(p5,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=pu(p5,e.__scopeDialog);return i.modal?n.jsx(Bc,{present:a||i.open,children:n.jsx(K2e,{...s,ref:t})}):null});Mne.displayName=p5;var V2e=Nm("DialogOverlay.RemoveScroll"),K2e=B.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=pu(p5,r);return n.jsx(V2,{as:V2e,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(Kr.div,{"data-state":LR(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),B0="DialogContent",Une=B.forwardRef((e,t)=>{const r=Lne(B0,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=pu(B0,e.__scopeDialog);return n.jsx(Bc,{present:a||i.open,children:i.modal?n.jsx(q2e,{...s,ref:t}):n.jsx(W2e,{...s,ref:t})})});Une.displayName=B0;var q2e=B.forwardRef((e,t)=>{const r=pu(B0,e.__scopeDialog),a=B.useRef(null),s=$n(t,r.contentRef,a);return B.useEffect(()=>{const i=a.current;if(i)return oB(i)},[]),n.jsx(Qne,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fr(e.onFocusOutside,i=>i.preventDefault())})}),W2e=B.forwardRef((e,t)=>{const r=pu(B0,e.__scopeDialog),a=B.useRef(!1),s=B.useRef(!1);return n.jsx(Qne,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Qne=B.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=pu(B0,r),c=B.useRef(null),d=$n(t,c);return rB(),n.jsxs(n.Fragment,{children:[n.jsx(H2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(_y,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":LR(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(X2e,{titleId:l.titleId}),n.jsx(J2e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),DR="DialogTitle",$ne=B.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=pu(DR,r);return n.jsx(Kr.h2,{id:s.titleId,...a,ref:t})});$ne.displayName=DR;var Hne="DialogDescription",zne=B.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=pu(Hne,r);return n.jsx(Kr.p,{id:s.descriptionId,...a,ref:t})});zne.displayName=Hne;var Vne="DialogClose",Kne=B.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=pu(Vne,r);return n.jsx(Kr.button,{type:"button",...a,ref:t,onClick:fr(e.onClick,()=>s.onOpenChange(!1))})});Kne.displayName=Vne;function LR(e){return e?"open":"closed"}var qne="DialogTitleWarning",[G2e,Wne]=uve(qne,{contentName:B0,titleName:DR,docsSlug:"dialog"}),X2e=({titleId:e})=>{const t=Wne(qne),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return B.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Y2e="DialogDescriptionWarning",J2e=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wne(Y2e).contentName}}.`;return B.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Gne=Ine,Xne=Dne,Yne=Rne,RR=Mne,MR=Une,UR=$ne,QR=zne,$R=Kne;const rr=Gne,qn=Xne,Z2e=Yne,Jne=B.forwardRef(({className:e,...t},r)=>n.jsx(RR,{ref:r,className:mr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Jne.displayName=RR.displayName;const Jt=B.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Z2e,{children:[n.jsx(Jne,{}),n.jsxs(MR,{ref:a,className:mr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs($R,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(fd,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jt.displayName=MR.displayName;const Zt=({className:e,...t})=>n.jsx("div",{className:mr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zt.displayName="DialogHeader";const Am=({className:e,...t})=>n.jsx("div",{className:mr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Am.displayName="DialogFooter";const er=B.forwardRef(({className:e,...t},r)=>n.jsx(UR,{ref:r,className:mr("text-lg font-semibold leading-none tracking-tight",e),...t}));er.displayName=UR.displayName;const lr=B.forwardRef(({className:e,...t},r)=>n.jsx(QR,{ref:r,className:mr("text-sm text-muted-foreground",e),...t}));lr.displayName=QR.displayName;const gB=e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.length<=10?t.replace(/^(\d{2})(\d{4})(\d{0,4}).*/,"($1) $2-$3").replace(/\-$/,""):t.replace(/^(\d{2})(\d{5})(\d{0,4}).*/,"($1) $2-$3").replace(/\-$/,"")},Pi=e=>{if(!e)return"";let t=e.replace(/[^\d,]/g,"");const r=t.split(",");r.length>2&&(t=r[0]+","+r.slice(1).join("")),r.length===2&&r[1].length>2&&(t=r[0]+","+r[1].substring(0,2));const a=t.split(",");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),"R$ "+a.join(",")},ki=e=>{if(!e)return 0;const t=e.replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(t)||0},eNe=e=>{if(!e||e===0)return"";const t=e.toFixed(2).replace(".",",");return Pi(t)};function b9(){const[e,t]=B.useState(!1),[r,a]=B.useState(!1),[s,i]=B.useState(null),[o,l]=B.useState(null),[c,d]=B.useState(""),[u,h]=B.useState("all"),[f,A]=B.useState("all"),[p,m]=B.useState("all"),{toast:x}=en(),g=Z0(),[v,y]=B.useState({clientId:"",vendorId:"",product:"",description:"",totalValue:"",deadline:""}),{data:j,isLoading:b}=pt({queryKey:["/api/orders"]}),{data:w}=pt({queryKey:["/api/clients"]}),{data:C}=pt({queryKey:["/api/vendors"]});pt({queryKey:["/api/producers"]}),jt({mutationFn:async k=>{const P=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!P.ok)throw new Error("Failed to create order");return P.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/orders"]}),t(!1),y({clientId:"",vendorId:"",product:"",description:"",totalValue:"",deadline:""}),x({title:"Sucesso",description:"Pedido criado com sucesso!"})}});const F=jt({mutationFn:async({id:k,...P})=>{const R=await fetch(`/api/orders/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!R.ok)throw new Error("Failed to update order");return R.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/orders"]}),l(null),x({title:"Sucesso",description:"Pedido atualizado com sucesso!"})}});jt({mutationFn:async k=>{const P=await fetch(`/api/orders/${k}`,{method:"DELETE"});if(!P.ok)throw new Error("Failed to delete order");return P.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/orders"]}),x({title:"Sucesso",description:"Pedido excludo com sucesso!"})}});const E=jt({mutationFn:async({id:k,reason:P,userId:R})=>{const V=await fetch(`/api/orders/${k}/cancel`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:P,userId:R})});if(!V.ok){const D=await V.json();throw new Error(D.error||"Failed to cancel order")}return V.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/orders"]}),g.invalidateQueries({queryKey:["/api/commissions"]}),g.invalidateQueries({queryKey:["/api/finance/overview"]}),g.invalidateQueries({queryKey:["/api/dashboard/stats"]}),x({title:"Sucesso",description:"Pedido cancelado com sucesso! Comisses e valores foram atualizados."})},onError:k=>{x({title:"Erro",description:k.message||"Erro ao cancelar pedido. Tente novamente.",variant:"destructive"})}}),L=jt({mutationFn:async k=>{const P=await fetch(`/api/production-orders/order/${k}`);if(!P.ok)throw new Error("Failed to fetch production orders");const R=await P.json();for(const V of R)if(V.hasUnreadNotes&&!(await fetch(`/api/production-orders/${V.id}/acknowledge`,{method:"PATCH"})).ok)throw new Error("Failed to acknowledge notes");return!0},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/orders"]}),x({title:"Sucesso",description:"Observaes marcadas como lidas!"})},onError:()=>{x({title:"Erro",description:"Erro ao marcar observaes como lidas",variant:"destructive"})}});jt({mutationFn:async k=>{const P=await fetch(`/api/orders/${k}/send-to-production`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!P.ok){const R=await P.json();throw new Error(R.error||"Failed to send to production")}return P.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/orders"]}),x({title:"Sucesso",description:"Pedido enviado para produo!"})},onError:k=>{x({title:"Erro",description:k.message||"Erro ao enviar pedido para produo.",variant:"destructive"})}});const N=async k=>{try{const P=await fetch(`/api/orders/${k.id}`);if(!P.ok)throw new Error("Erro ao buscar pedido");const R=await P.json();l(R)}catch{x({title:"Erro",description:"Erro ao carregar pedido para edio",variant:"destructive"})}},I=()=>{o&&F.mutate(o)},M=k=>{const P={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",production:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",partial_shipped:"bg-yellow-100 text-yellow-800 animate-pulse border border-yellow-300",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},R={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",shipped:"Enviado",partial_shipped:"Parcialmente Enviado",delivered:"Entregue",cancelled:"Cancelado"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${P[k]}`,children:R[k]})},O=j==null?void 0:j.filter(k=>{var Y,ne,S,z;const P=c===""||((Y=k.orderNumber)==null?void 0:Y.toLowerCase().includes(c.toLowerCase()))||((ne=k.clientName)==null?void 0:ne.toLowerCase().includes(c.toLowerCase()))||((S=k.product)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||((z=k.description)==null?void 0:z.toLowerCase().includes(c.toLowerCase())),R=u==="all"||k.status===u,V=f==="all"||k.vendorId===f,D=p==="all"||k.clientId===p;return P&&R&&V&&D});return b?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciamento de Pedidos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie todos os pedidos do sistema"})]})}),n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por nmero, cliente ou produto...",value:c,onChange:k=>d(k.target.value),className:"pl-10"})]}),n.jsxs($t,{value:u,onValueChange:h,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Filtrar por status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"pending",children:"Aguardando"}),n.jsx(ge,{value:"confirmed",children:"Confirmado"}),n.jsx(ge,{value:"production",children:"Em Produo"}),n.jsx(ge,{value:"shipped",children:"Enviado"}),n.jsx(ge,{value:"delivered",children:"Entregue"}),n.jsx(ge,{value:"cancelled",children:"Cancelado"})]})]}),n.jsxs($t,{value:f,onValueChange:A,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Filtrar por vendedor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Vendedores"}),C==null?void 0:C.map(k=>n.jsx(ge,{value:k.id,children:k.name},k.id))]})]}),n.jsxs($t,{value:p,onValueChange:m,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Filtrar por cliente"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Clientes"}),w==null?void 0:w.map(k=>n.jsx(ge,{value:k.id,children:k.name},k.id))]})]})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Lista de Pedidos (",(O==null?void 0:O.length)||0,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendedor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O==null?void 0:O.map(k=>{var P,R,V;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[k.orderNumber,k.hasUnreadNotes&&n.jsxs("div",{className:"relative",children:[n.jsx(mh,{className:"h-4 w-4 text-red-500 animate-pulse"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.contactName||k.clientName||"Nome no informado"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.vendorName||"Vendedor no informado"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.budgetItems&&k.budgetItems.length>0?k.budgetItems.length===1?((P=k.budgetItems[0])==null?void 0:P.productName)||((V=(R=k.budgetItems[0])==null?void 0:R.product)==null?void 0:V.name)||"Produto":`${k.budgetItems.length} produtos`:k.itemsSummary||"Ver detalhes"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(k.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M(k.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.createdAt?new Date(k.createdAt).toLocaleDateString("pt-BR"):"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{i(k.id),a(!0)},title:"Ver detalhes do pedido",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>N(k),title:"Editar pedido",children:n.jsx(Mn,{className:"h-4 w-4"})}),k.hasUnreadNotes&&n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>L.mutate(k.id),disabled:L.isPending,className:"text-green-600 hover:text-green-800",title:"Marcar observaes como lidas",children:n.jsx(By,{className:"h-4 w-4"})}),k.status!=="cancelled"&&n.jsxs(rr,{children:[n.jsx(qn,{asChild:!0,children:n.jsx(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-800",title:"Cancelar pedido",children:n.jsx(fd,{className:"h-4 w-4"})})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Confirmar cancelamento"}),n.jsxs(lr,{children:["Por favor, informe o motivo do cancelamento do pedido ",k.orderNumber,"."]})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"cancel-reason",children:"Motivo do Cancelamento"}),n.jsx(Jn,{id:"cancel-reason",placeholder:"Descreva o motivo...",className:"h-24",onChange:D=>window._cancelReason=D.target.value})]})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(Z,{variant:"outline",onClick:()=>{},children:"Voltar"}),n.jsx(Z,{className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>{const D=JSON.parse(localStorage.getItem("user")||"{}");E.mutate({id:k.id,reason:window._cancelReason,userId:D.id})},disabled:E.isPending,children:E.isPending?"Cancelando...":"Confirmar Cancelamento"})]})]})]})]})})]},k.id)})})]})})})]}),o&&n.jsx(rr,{open:!!o,onOpenChange:()=>l(null),children:n.jsxs(Jt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsxs(er,{children:["Editar Pedido #",o.orderNumber]}),n.jsx(lr,{children:"Atualize os dados do pedido"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-product",children:"Produto"}),n.jsx(ie,{id:"edit-product",value:o.product||"",onChange:k=>l({...o,product:k.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-status",children:"Status"}),n.jsxs($t,{value:o.status||"pending",onValueChange:k=>l({...o,status:k}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pending",children:"Aguardando"}),n.jsx(ge,{value:"confirmed",children:"Confirmado"}),n.jsx(ge,{value:"production",children:"Em Produo"}),n.jsx(ge,{value:"shipped",children:"Enviado"}),n.jsx(ge,{value:"delivered",children:"Entregue"}),n.jsx(ge,{value:"cancelled",children:"Cancelado"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-description",children:"Descrio"}),n.jsx(Jn,{id:"edit-description",rows:3,value:o.description||"",onChange:k=>l({...o,description:k.target.value})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:"Informaes de Contato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-contact-name",children:"Nome de Contato *"}),n.jsx(ie,{id:"edit-contact-name",value:o.contactName||"",onChange:k=>l({...o,contactName:k.target.value}),placeholder:"Nome do cliente",required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-contact-phone",children:"Telefone"}),n.jsx(ie,{id:"edit-contact-phone",value:o.contactPhone||"",onChange:k=>l({...o,contactPhone:gB(k.target.value)}),placeholder:"(11) 99999-9999",maxLength:15})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-contact-email",children:"Email"}),n.jsx(ie,{id:"edit-contact-email",type:"email",value:o.contactEmail||"",onChange:k=>l({...o,contactEmail:k.target.value}),placeholder:"cliente@email.com"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:"Informaes Financeiras"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-totalValue",children:"Valor Total (R$)"}),n.jsx(ie,{id:"edit-totalValue",type:"number",step:"0.01",min:"0",value:parseFloat(o.totalValue||"0").toFixed(2),onChange:k=>l({...o,totalValue:k.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-downPayment",children:"Valor de Entrada (R$)"}),n.jsx(ie,{id:"edit-downPayment",type:"number",step:"0.01",min:"0",value:parseFloat(o.downPayment||"0").toFixed(2),onChange:k=>l({...o,downPayment:k.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-paidValue",children:"Valor Pago (R$)"}),n.jsx(ie,{id:"edit-paidValue",type:"number",step:"0.01",min:"0",value:parseFloat(o.paidValue||"0").toFixed(2),onChange:k=>l({...o,paidValue:k.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-remainingAmount",children:"Valor Restante (R$)"}),n.jsx(ie,{id:"edit-remainingAmount",type:"number",step:"0.01",min:"0",value:parseFloat(o.remainingAmount||o.remainingValue||"0").toFixed(2),onChange:k=>l({...o,remainingAmount:k.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-installments",children:"Parcelas"}),n.jsx(ie,{id:"edit-installments",type:"number",min:"1",value:o.installments||1,onChange:k=>l({...o,installments:parseInt(k.target.value)||1})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:"Informaes de Entrega"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-delivery-type",children:"Tipo de Entrega"}),n.jsxs($t,{value:o.deliveryType||"delivery",onValueChange:k=>l({...o,deliveryType:k}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"delivery",children:"Entrega com Frete"}),n.jsx(ge,{value:"pickup",children:"Retirada no Local"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-deadline",children:"Prazo de Entrega"}),n.jsx(ie,{id:"edit-deadline",type:"date",value:o.deadline?new Date(o.deadline).toISOString().split("T")[0]:"",onChange:k=>l({...o,deadline:k.target.value?new Date(k.target.value):null})})]})]})]}),o.deliveryType==="pickup"?n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-800",children:"Retirada no Local"}),n.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"O cliente ir retirar o pedido no local. No h cobrana de frete."})]}):n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-shipping-cost",children:"Custo do Frete"}),n.jsx(ie,{id:"edit-shipping-cost",value:eNe(parseFloat(o.shippingCost)||0),onChange:k=>{const P=k.target.value;if(P===""||P==="R$ ")l({...o,shippingCost:0});else{const R=ki(P);l({...o,shippingCost:R})}},placeholder:"R$ 0,00"})]}),(o.status==="shipped"||o.status==="delivered")&&n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"edit-tracking-code",children:"Cdigo de Rastreamento"}),n.jsx(ie,{id:"edit-tracking-code",value:o.trackingCode||"",onChange:k=>l({...o,trackingCode:k.target.value}),placeholder:"Cdigo de rastreamento"})]}),o.budgetId&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:"Informaes do Oramento Original"}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-blue-800",children:"Convertido do Oramento"}),n.jsxs("p",{className:"text-blue-700",children:["ID: ",o.budgetId]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-blue-800",children:"Tipo de Entrega"}),n.jsx("p",{className:"text-blue-700",children:o.deliveryType==="pickup"?"Retirada no Local":"Entrega com Frete"})]})]})})]}),o.items&&o.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:"Itens do Pedido"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:o.items.map((k,P)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:k.productName}),n.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Qtd: ",Math.round(parseFloat(k.quantity||0)).toLocaleString("pt-BR")]}),k.productWidth&&k.productHeight&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Dimenses: ",k.productWidth,"x",k.productHeight,k.productDepth?`x${k.productDepth}`:""," cm"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium",children:["R$ ",parseFloat(k.totalPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),k.hasItemCustomization&&n.jsxs("div",{className:"text-xs text-blue-600",children:["Personalizao: ",k.itemCustomizationDescription||"Sim"]})]})]},P))})]}),o.budgetItems&&o.budgetItems.length>0&&(!o.items||o.items.length===0)&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-3",children:"Itens do Oramento Original"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:o.budgetItems.map((k,P)=>{var R;return n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:((R=k.product)==null?void 0:R.name)||k.productName}),n.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Qtd: ",Math.round(parseFloat(k.quantity||0)).toLocaleString("pt-BR")]}),k.productWidth&&k.productHeight&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Dimenses: ",k.productWidth,"x",k.productHeight,k.productDepth?`x${k.productDepth}`:""," cm"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium",children:["R$ ",parseFloat(k.totalPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),k.hasItemCustomization&&n.jsxs("div",{className:"text-xs text-blue-600",children:["Personalizao: ",k.itemCustomizationDescription||"Sim"]})]})]},P)})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx(Z,{variant:"outline",onClick:()=>l(null),children:"Cancelar"}),n.jsx(Z,{onClick:I,disabled:F.isPending,children:F.isPending?"Salvando...":"Salvar"})]})]})}),n.jsx(rr,{open:r,onOpenChange:a,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Pedido"}),n.jsx(lr,{children:"Informaes completas do pedido e status de produo"})]}),n.jsx(tNe,{orderId:s,onClose:()=>a(!1)})]})})]})})}function tNe({orderId:e,onClose:t}){const{data:r,isLoading:a}=pt({queryKey:["/api/orders",e],enabled:!!e}),{data:s,isLoading:i}=pt({queryKey:["/api/production-orders/order",e],enabled:!!e}),{toast:o}=en(),l=Z0(),c=jt({mutationFn:async({id:u,status:h})=>{const f=await fetch(`/api/orders/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,status:h})});if(!f.ok)throw new Error("Failed to update order status");return f.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/orders"]}),o({title:"Sucesso",description:"Status do pedido atualizado!"})}});if(a||i)return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})});if(!r)return n.jsx("div",{className:"p-6 text-center",children:n.jsx("p",{className:"text-gray-500",children:"Pedido no encontrado"})});const d=u=>{const h={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",production:"bg-purple-100 text-purple-800",shipped:"bg-orange-100 text-orange-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},f={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",shipped:"Enviado",delivered:"Entregue",cancelled:"Cancelado"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${h[u]}`,children:f[u]})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes do Pedido"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Pedido"}),n.jsx("p",{className:"text-lg font-bold",children:r.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Cliente"}),n.jsx("p",{children:r.clientName||"Nome no informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Telefone"}),n.jsx("p",{children:r.contactPhone||r.clientPhone||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{children:r.contactEmail||r.clientEmail||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Endereo de Entrega"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-2 rounded text-sm",children:r.shippingAddress||r.clientAddress||"Endereo no informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vendedor"}),n.jsx("p",{children:r.vendorName||"Vendedor no informado"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status e Valores"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status Atual"}),n.jsxs("div",{className:"flex items-center justify-between",children:[d(r.status),n.jsxs($t,{value:r.status,onValueChange:u=>c.mutate({id:r.id,status:u}),children:[n.jsx(Mt,{className:"w-[180px]",children:n.jsx(Ht,{placeholder:"Alterar status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pending",children:"Aguardando"}),n.jsx(ge,{value:"confirmed",children:"Confirmado"}),n.jsx(ge,{value:"production",children:"Em Produo"}),n.jsx(ge,{value:"shipped",children:"Enviado"}),n.jsx(ge,{value:"delivered",children:"Entregue"}),n.jsx(ge,{value:"cancelled",children:"Cancelado"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",parseFloat(r.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Pago"}),n.jsxs("p",{className:"text-lg",children:["R$ ",parseFloat(r.paidValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[n.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Valor do Frete"}),n.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["R$ ",parseFloat(r.shippingCost||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Prazo de Entrega"}),n.jsx("p",{children:r.deadline?new Date(r.deadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsx("p",{children:new Date(r.createdAt).toLocaleDateString("pt-BR")})]})]})]})]}),r.budgetItems&&r.budgetItems.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Itens do Pedido (",r.budgetItems.length,")"]}),n.jsx("div",{className:"space-y-3",children:r.budgetItems.map((u,h)=>{var f;return n.jsxs("div",{className:"p-4 rounded-lg border bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:u.productName||((f=u.product)==null?void 0:f.name)||"Produto no identificado"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Quantidade:"}),n.jsx("p",{className:"font-medium",children:Math.round(parseFloat(u.quantity||0)).toLocaleString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor Unit.:"}),n.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(u.unitPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses:"}),n.jsx("p",{className:"font-medium",children:u.productWidth&&u.productHeight&&u.productDepth?`${u.productWidth}${u.productHeight}${u.productDepth}cm`:"No informado"})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(u.totalPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),(u.customizationPhoto||u.imageUrl||u.image)&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Imagem Anexa:"}),n.jsx("img",{src:u.customizationPhoto||u.imageUrl||u.image,alt:"Imagem do item",className:"w-32 h-32 object-cover rounded border cursor-pointer hover:opacity-80",onClick:()=>window.open(u.customizationPhoto||u.imageUrl||u.image,"_blank")})]}),u.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Personalizao do Item"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:u.itemCustomizationDescription||"Personalizao aplicada"}),u.itemCustomizationValue&&parseFloat(u.itemCustomizationValue)>0&&n.jsxs("p",{className:"text-sm text-blue-700",children:["Valor: R$ ",parseFloat(u.itemCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),u.hasGeneralCustomization&&n.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[n.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Personalizao Geral"}),n.jsx("p",{className:"text-sm text-purple-700 mt-1",children:u.generalCustomizationName||"Personalizao geral"}),u.generalCustomizationValue&&parseFloat(u.generalCustomizationValue)>0&&n.jsxs("p",{className:"text-sm text-purple-700",children:["Valor: R$ ",parseFloat(u.generalCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]},h)})})]}),s&&s.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status de Produo"}),n.jsx("div",{className:"space-y-4",children:s.map(u=>n.jsx(Le,{className:u.hasUnreadNotes?"border-red-300 bg-red-50":"",children:n.jsxs(Re,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"font-medium",children:["Produtor: ",u.producerName||"Produtor no informado"]}),u.hasUnreadNotes&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mh,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{className:"text-red-600 text-sm font-medium",children:"Nova observao"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:d(u.status)})]}),u.notes&&n.jsxs("div",{className:"mt-3 p-3 bg-gray-100 rounded-lg",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Observaes do Produtor:"}),n.jsx("p",{className:"text-gray-800 mt-1",children:u.notes}),u.lastNoteAt&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["ltima atualizao: ",new Date(u.lastNoteAt).toLocaleString("pt-BR")]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500",children:"Aceito em:"}),n.jsx("p",{children:u.acceptedAt?new Date(u.acceptedAt).toLocaleDateString("pt-BR"):"Pendente"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500",children:"Prazo:"}),n.jsx("p",{children:u.deadline?new Date(u.deadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-500",children:"Finalizado em:"}),n.jsx("p",{children:u.completedAt?new Date(u.completedAt).toLocaleDateString("pt-BR"):"Em andamento"})]})]})]})},u.id))})]})]})}var HR="Switch",[rNe,pjt]=Ql(HR),[nNe,aNe]=rNe(HR),Zne=B.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,A]=B.useState(null),p=$n(t,y=>A(y)),m=B.useRef(!1),x=f?u||!!f.closest("form"):!0,[g=!1,v]=Ah({prop:s,defaultProp:i,onChange:d});return n.jsxs(nNe,{scope:r,checked:g,disabled:l,children:[n.jsx(Kr.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":rae(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:p,onClick:fr(e.onClick,y=>{v(j=>!j),x&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),x&&n.jsx(sNe,{control:f,bubbles:!m.current,name:a,value:c,checked:g,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});Zne.displayName=HR;var eae="SwitchThumb",tae=B.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=aNe(eae,r);return n.jsx(Kr.span,{"data-state":rae(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});tae.displayName=eae;var sNe=e=>{const{control:t,checked:r,bubbles:a=!0,...s}=e,i=B.useRef(null),o=NR(r),l=gR(t);return B.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:a});h.call(c,r),c.dispatchEvent(f)}},[o,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rae(e){return e?"checked":"unchecked"}var nae=Zne,iNe=tae;const tl=B.forwardRef(({className:e,...t},r)=>n.jsx(nae,{className:mr("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(iNe,{className:mr("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tl.displayName=nae.displayName;var oNe="Separator",j9="horizontal",lNe=["horizontal","vertical"],aae=B.forwardRef((e,t)=>{const{decorative:r,orientation:a=j9,...s}=e,i=cNe(a)?a:j9,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Kr.div,{"data-orientation":i,...l,...s,ref:t})});aae.displayName=oNe;function cNe(e){return lNe.includes(e)}var sae=aae;const as=B.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(sae,{ref:s,decorative:r,orientation:t,className:mr("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));as.displayName=sae.displayName;function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}var hu=Uint8Array,xc=Uint16Array,zR=Int32Array,VR=new hu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),KR=new hu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N9=new hu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iae=function(e,t){for(var r=new xc(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var s=new zR(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)s[i]=i-r[a]<<5|a;return{b:r,r:s}},oae=iae(VR,2),dNe=oae.b,V6=oae.r;dNe[28]=258,V6[258]=28;var uNe=iae(KR,0),C9=uNe.r,K6=new xc(32768);for(var Xa=0;Xa<32768;++Xa){var AA=(Xa&43690)>>1|(Xa&21845)<<1;AA=(AA&52428)>>2|(AA&13107)<<2,AA=(AA&61680)>>4|(AA&3855)<<4,K6[Xa]=((AA&65280)>>8|(AA&255)<<8)>>1}var ab=function(e,t,r){for(var a=e.length,s=0,i=new xc(t);s<a;++s)e[s]&&++i[e[s]-1];var o=new xc(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new xc(1<<t);var c=15-t;for(s=0;s<a;++s)if(e[s])for(var d=s<<4|e[s],u=t-e[s],h=o[e[s]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)l[K6[h]>>c]=d}else for(l=new xc(a),s=0;s<a;++s)e[s]&&(l[s]=K6[o[e[s]-1]++]>>15-e[s]);return l},F0=new hu(288);for(var Xa=0;Xa<144;++Xa)F0[Xa]=8;for(var Xa=144;Xa<256;++Xa)F0[Xa]=9;for(var Xa=256;Xa<280;++Xa)F0[Xa]=7;for(var Xa=280;Xa<288;++Xa)F0[Xa]=8;var x5=new hu(32);for(var Xa=0;Xa<32;++Xa)x5[Xa]=5;var hNe=ab(F0,9,0),fNe=ab(x5,5,0),lae=function(e){return(e+7)/8|0},ANe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new hu(e.subarray(t,r))},qh=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},V1=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},pk=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var s=r.length,i=r.slice();if(!s)return{t:dae,l:0};if(s==1){var o=new hu(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(b,w){return b.f-w.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=s-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,a=1;a<s;++a)i[a].s>f&&(f=i[a].s);var A=new xc(f+1),p=q6(r[u-1],A,0);if(p>t){var a=0,m=0,x=p-t,g=1<<x;for(i.sort(function(w,C){return A[C.s]-A[w.s]||w.f-C.f});a<s;++a){var v=i[a].s;if(A[v]>t)m+=g-(1<<p-A[v]),A[v]=t;else break}for(m>>=x;m>0;){var y=i[a].s;A[y]<t?m-=1<<t-A[y]++-1:++a}for(;a>=0&&m;--a){var j=i[a].s;A[j]==t&&(--A[j],++m)}p=t}return{t:new hu(A),l:p}},q6=function(e,t,r){return e.s==-1?Math.max(q6(e.l,t,r+1),q6(e.r,t,r+1)):t[e.s]=r},S9=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new xc(++t),a=0,s=e[0],i=1,o=function(c){r[a++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,a),n:t}},K1=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},cae=function(e,t,r){var a=r.length,s=lae(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=r[i];return(s+4+a)*8},_9=function(e,t,r,a,s,i,o,l,c,d,u){qh(t,u++,r),++s[256];for(var h=pk(s,15),f=h.t,A=h.l,p=pk(i,15),m=p.t,x=p.l,g=S9(f),v=g.c,y=g.n,j=S9(m),b=j.c,w=j.n,C=new xc(19),F=0;F<v.length;++F)++C[v[F]&31];for(var F=0;F<b.length;++F)++C[b[F]&31];for(var E=pk(C,7),L=E.t,N=E.l,I=19;I>4&&!L[N9[I-1]];--I);var M=d+5<<3,O=K1(s,F0)+K1(i,x5)+o,k=K1(s,f)+K1(i,m)+o+14+3*I+K1(C,L)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&M<=O&&M<=k)return cae(t,u,e.subarray(c,c+d));var P,R,V,D;if(qh(t,u,1+(k<O)),u+=2,k<O){P=ab(f,A,0),R=f,V=ab(m,x,0),D=m;var Y=ab(L,N,0);qh(t,u,y-257),qh(t,u+5,w-1),qh(t,u+10,I-4),u+=14;for(var F=0;F<I;++F)qh(t,u+3*F,L[N9[F]]);u+=3*I;for(var ne=[v,b],S=0;S<2;++S)for(var z=ne[S],F=0;F<z.length;++F){var Q=z[F]&31;qh(t,u,Y[Q]),u+=L[Q],Q>15&&(qh(t,u,z[F]>>5&127),u+=z[F]>>12)}}else P=hNe,R=F0,V=fNe,D=x5;for(var F=0;F<l;++F){var W=a[F];if(W>255){var Q=W>>18&31;V1(t,u,P[Q+257]),u+=R[Q+257],Q>7&&(qh(t,u,W>>23&31),u+=VR[Q]);var U=W&31;V1(t,u,V[U]),u+=D[U],U>3&&(V1(t,u,W>>5&8191),u+=KR[U])}else V1(t,u,P[W]),u+=R[W]}return V1(t,u,P[256]),u+R[256]},mNe=new zR([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dae=new hu(0),pNe=function(e,t,r,a,s,i){var o=i.z||e.length,l=new hu(a+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(a,l.length-s),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var h=mNe[t-1],f=h>>13,A=h&8191,p=(1<<r)-1,m=i.p||new xc(32768),x=i.h||new xc(p+1),g=Math.ceil(r/3),v=2*g,y=function(Ee){return(e[Ee]^e[Ee+1]<<g^e[Ee+2]<<v)&p},j=new zR(25e3),b=new xc(288),w=new xc(32),C=0,F=0,E=i.i||0,L=0,N=i.w||0,I=0;E+2<o;++E){var M=y(E),O=E&32767,k=x[M];if(m[O]=k,x[M]=O,N<=E){var P=o-E;if((C>7e3||L>24576)&&(P>423||!d)){u=_9(e,c,0,j,b,w,F,L,I,E-I,u),L=C=F=0,I=E;for(var R=0;R<286;++R)b[R]=0;for(var R=0;R<30;++R)w[R]=0}var V=2,D=0,Y=A,ne=O-k&32767;if(P>2&&M==y(E-ne))for(var S=Math.min(f,P)-1,z=Math.min(32767,E),Q=Math.min(258,P);ne<=z&&--Y&&O!=k;){if(e[E+V]==e[E+V-ne]){for(var W=0;W<Q&&e[E+W]==e[E+W-ne];++W);if(W>V){if(V=W,D=ne,W>S)break;for(var U=Math.min(ne,W-2),re=0,R=0;R<U;++R){var de=E-ne+R&32767,ae=m[de],Ae=de-ae&32767;Ae>re&&(re=Ae,k=de)}}}O=k,k=m[O],ne+=O-k&32767}if(D){j[L++]=268435456|V6[V]<<18|C9[D];var Me=V6[V]&31,H=C9[D]&31;F+=VR[Me]+KR[H],++b[257+Me],++w[H],N=E+V,++C}else j[L++]=e[E],++b[e[E]]}}for(E=Math.max(E,N);E<o;++E)j[L++]=e[E],++b[e[E]];u=_9(e,c,d,j,b,w,F,L,I,E-I,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=x,i.p=m,i.i=E,i.w=N)}else{for(var E=i.w||0;E<o+d;E+=65535){var Oe=E+65535;Oe>=o&&(c[u/8|0]=d,Oe=o),u=cae(c,u+1,e.subarray(E,Oe))}i.i=o}return ANe(l,0,a+lae(u)+s)},uae=function(){var e=1,t=0;return{p:function(r){for(var a=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=r[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xNe=function(e,t,r,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new hu(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return pNe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,s)},hae=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},gNe=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=uae();s.p(t.dictionary),hae(e,2,s.d())}};function W6(e,t){t||(t={});var r=uae();r.p(e);var a=xNe(e,t,t.dictionary?6:2,4);return gNe(a,t),hae(a,a.length-4,r.d()),a}var vNe=typeof TextDecoder<"u"&&new TextDecoder,yNe=0;try{vNe.decode(dae,{stream:!0}),yNe=1}catch{}function wNe(e){if(Array.isArray(e))return e}function bNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function E9(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function jNe(e,t){if(e){if(typeof e=="string")return E9(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E9(e,t):void 0}}function NNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(e,t){return wNe(e)||bNe(e,t)||jNe(e,t)||NNe()}function F9(e,t="utf8"){return new TextDecoder(t).decode(e)}const CNe=new TextEncoder;function SNe(e){return CNe.encode(e)}const _Ne=1024*8,ENe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),xk={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class qR{constructor(t=_Ne,r={}){Aa(this,"buffer");Aa(this,"byteLength");Aa(this,"byteOffset");Aa(this,"length");Aa(this,"offset");Aa(this,"lastWrittenByte");Aa(this,"littleEndian");Aa(this,"_data");Aa(this,"_mark");Aa(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof qR)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=xk[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+a);if(this.littleEndian===ENe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+a));l.reverse();const c=new xk[r](l.buffer);return this.offset+=a,c.reverse(),c}const o=new xk[r](i);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return F9(this.readBytes(t))}decodeText(t=1,r="utf8"){return F9(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(SNe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const BNe=4,P9=0,k9=1,FNe=2;function Ly(e){let t=e.length;for(;--t>=0;)e[t]=0}const PNe=0,fae=1,kNe=2,TNe=3,INe=258,WR=29,G2=256,xj=G2+1+WR,zg=30,GR=19,Aae=2*xj+1,Up=15,gk=16,ONe=7,XR=256,mae=16,pae=17,xae=18,G6=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),aS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),DNe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),gae=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LNe=512,sf=new Array((xj+2)*2);Ly(sf);const sb=new Array(zg*2);Ly(sb);const gj=new Array(LNe);Ly(gj);const vj=new Array(INe-TNe+1);Ly(vj);const YR=new Array(WR);Ly(YR);const g5=new Array(zg);Ly(g5);function vk(e,t,r,a,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=a,this.max_length=s,this.has_stree=e&&e.length}let vae,yae,wae;function yk(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const bae=e=>e<256?gj[e]:gj[256+(e>>>7)],yj=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Bl=(e,t,r)=>{e.bi_valid>gk-r?(e.bi_buf|=t<<e.bi_valid&65535,yj(e,e.bi_buf),e.bi_buf=t>>gk-e.bi_valid,e.bi_valid+=r-gk):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},qu=(e,t,r)=>{Bl(e,r[t*2],r[t*2+1])},jae=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},RNe=e=>{e.bi_valid===16?(yj(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},MNe=(e,t)=>{const r=t.dyn_tree,a=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,u,h,f,A,p,m=0;for(f=0;f<=Up;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<Aae;d++)u=e.heap[d],f=r[r[u*2+1]*2+1]+1,f>c&&(f=c,m++),r[u*2+1]=f,!(u>a)&&(e.bl_count[f]++,A=0,u>=l&&(A=o[u-l]),p=r[u*2],e.opt_len+=p*(f+A),i&&(e.static_len+=p*(s[u*2+1]+A)));if(m!==0){do{for(f=c-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(f=c;f!==0;f--)for(u=e.bl_count[f];u!==0;)h=e.heap[--d],!(h>a)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),u--)}},Nae=(e,t,r)=>{const a=new Array(Up+1);let s=0,i,o;for(i=1;i<=Up;i++)s=s+r[i-1]<<1,a[i]=s;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=jae(a[l]++,l))}},UNe=()=>{let e,t,r,a,s;const i=new Array(Up+1);for(r=0,a=0;a<WR-1;a++)for(YR[a]=r,e=0;e<1<<G6[a];e++)vj[r++]=a;for(vj[r-1]=a,s=0,a=0;a<16;a++)for(g5[a]=s,e=0;e<1<<aS[a];e++)gj[s++]=a;for(s>>=7;a<zg;a++)for(g5[a]=s<<7,e=0;e<1<<aS[a]-7;e++)gj[256+s++]=a;for(t=0;t<=Up;t++)i[t]=0;for(e=0;e<=143;)sf[e*2+1]=8,e++,i[8]++;for(;e<=255;)sf[e*2+1]=9,e++,i[9]++;for(;e<=279;)sf[e*2+1]=7,e++,i[7]++;for(;e<=287;)sf[e*2+1]=8,e++,i[8]++;for(Nae(sf,xj+1,i),e=0;e<zg;e++)sb[e*2+1]=5,sb[e*2]=jae(e,5);vae=new vk(sf,G6,G2+1,xj,Up),yae=new vk(sb,aS,0,zg,Up),wae=new vk(new Array(0),DNe,0,GR,ONe)},Cae=e=>{let t;for(t=0;t<xj;t++)e.dyn_ltree[t*2]=0;for(t=0;t<zg;t++)e.dyn_dtree[t*2]=0;for(t=0;t<GR;t++)e.bl_tree[t*2]=0;e.dyn_ltree[XR*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Sae=e=>{e.bi_valid>8?yj(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},T9=(e,t,r,a)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&a[t]<=a[r]},wk=(e,t,r)=>{const a=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&T9(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!T9(t,a,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=a},I9=(e,t,r)=>{let a,s,i=0,o,l;if(e.sym_next!==0)do a=e.pending_buf[e.sym_buf+i++]&255,a+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],a===0?qu(e,s,t):(o=vj[s],qu(e,o+G2+1,t),l=G6[o],l!==0&&(s-=YR[o],Bl(e,s,l)),a--,o=bae(a),qu(e,o,r),l=aS[o],l!==0&&(a-=g5[o],Bl(e,a,l)));while(i<e.sym_next);qu(e,XR,t)},X6=(e,t)=>{const r=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,c=-1,d;for(e.heap_len=0,e.heap_max=Aae,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,r[d*2]=1,e.depth[d]=0,e.opt_len--,s&&(e.static_len-=a[d*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)wk(e,r,o);d=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],wk(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[d*2]=r[o*2]+r[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=d,e.heap[1]=d++,wk(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],MNe(e,t),Nae(r,c,e.bl_count)},O9=(e,t,r)=>{let a,s=-1,i,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),t[(r+1)*2+1]=65535,a=0;a<=r;a++)i=o,o=t[(a+1)*2+1],!(++l<c&&i===o)&&(l<d?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[mae*2]++):l<=10?e.bl_tree[pae*2]++:e.bl_tree[xae*2]++,l=0,s=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4))},D9=(e,t,r)=>{let a,s=-1,i,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),a=0;a<=r;a++)if(i=o,o=t[(a+1)*2+1],!(++l<c&&i===o)){if(l<d)do qu(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(qu(e,i,e.bl_tree),l--),qu(e,mae,e.bl_tree),Bl(e,l-3,2)):l<=10?(qu(e,pae,e.bl_tree),Bl(e,l-3,3)):(qu(e,xae,e.bl_tree),Bl(e,l-11,7));l=0,s=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4)}},QNe=e=>{let t;for(O9(e,e.dyn_ltree,e.l_desc.max_code),O9(e,e.dyn_dtree,e.d_desc.max_code),X6(e,e.bl_desc),t=GR-1;t>=3&&e.bl_tree[gae[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},$Ne=(e,t,r,a)=>{let s;for(Bl(e,t-257,5),Bl(e,r-1,5),Bl(e,a-4,4),s=0;s<a;s++)Bl(e,e.bl_tree[gae[s]*2+1],3);D9(e,e.dyn_ltree,t-1),D9(e,e.dyn_dtree,r-1)},HNe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return P9;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return k9;for(r=32;r<G2;r++)if(e.dyn_ltree[r*2]!==0)return k9;return P9};let L9=!1;const zNe=e=>{L9||(UNe(),L9=!0),e.l_desc=new yk(e.dyn_ltree,vae),e.d_desc=new yk(e.dyn_dtree,yae),e.bl_desc=new yk(e.bl_tree,wae),e.bi_buf=0,e.bi_valid=0,Cae(e)},_ae=(e,t,r,a)=>{Bl(e,(PNe<<1)+(a?1:0),3),Sae(e),yj(e,r),yj(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},VNe=e=>{Bl(e,fae<<1,3),qu(e,XR,sf),RNe(e)},KNe=(e,t,r,a)=>{let s,i,o=0;e.level>0?(e.strm.data_type===FNe&&(e.strm.data_type=HNe(e)),X6(e,e.l_desc),X6(e,e.d_desc),o=QNe(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?_ae(e,t,r,a):e.strategy===BNe||i===s?(Bl(e,(fae<<1)+(a?1:0),3),I9(e,sf,sb)):(Bl(e,(kNe<<1)+(a?1:0),3),$Ne(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),I9(e,e.dyn_ltree,e.dyn_dtree)),Cae(e),a&&Sae(e)},qNe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(vj[r]+G2+1)*2]++,e.dyn_dtree[bae(t)*2]++),e.sym_next===e.sym_end);var WNe=zNe,GNe=_ae,XNe=KNe,YNe=qNe,JNe=VNe,ZNe={_tr_init:WNe,_tr_stored_block:GNe,_tr_flush_block:XNe,_tr_tally:YNe,_tr_align:JNe};const eCe=(e,t,r,a)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[a++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var wj=eCe;const tCe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},rCe=new Uint32Array(tCe()),nCe=(e,t,r,a)=>{const s=rCe,i=a+r;e^=-1;for(let o=a;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Si=nCe,kv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},X2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:aCe,_tr_stored_block:Y6,_tr_flush_block:sCe,_tr_tally:mm,_tr_align:iCe}=ZNe,{Z_NO_FLUSH:pm,Z_PARTIAL_FLUSH:oCe,Z_FULL_FLUSH:lCe,Z_FINISH:Xc,Z_BLOCK:R9,Z_OK:Xi,Z_STREAM_END:M9,Z_STREAM_ERROR:oh,Z_DATA_ERROR:cCe,Z_BUF_ERROR:bk,Z_DEFAULT_COMPRESSION:dCe,Z_FILTERED:uCe,Z_HUFFMAN_ONLY:NC,Z_RLE:hCe,Z_FIXED:fCe,Z_DEFAULT_STRATEGY:ACe,Z_UNKNOWN:mCe,Z_DEFLATED:vB}=X2,pCe=9,xCe=15,gCe=8,vCe=29,yCe=256,J6=yCe+1+vCe,wCe=30,bCe=19,jCe=2*J6+1,NCe=15,Ln=3,GA=258,lh=GA+Ln+1,CCe=32,Tv=42,JR=57,Z6=69,eI=73,tI=91,rI=103,Qp=113,ww=666,rl=1,Ry=2,P0=3,My=4,SCe=3,$p=(e,t)=>(e.msg=kv[t],t),U9=e=>e*2-(e>4?9:0),TA=e=>{let t=e.length;for(;--t>=0;)e[t]=0},_Ce=e=>{let t,r,a,s=e.w_size;t=e.hash_size,a=t;do r=e.head[--a],e.head[a]=r>=s?r-s:0;while(--t);t=s,a=t;do r=e.prev[--a],e.prev[a]=r>=s?r-s:0;while(--t)};let ECe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,xm=ECe;const rc=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},gc=(e,t)=>{sCe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,rc(e.strm)},sa=(e,t)=>{e.pending_buf[e.pending++]=t},q1=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},nI=(e,t,r,a)=>{let s=e.avail_in;return s>a&&(s=a),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=wj(e.adler,t,s,r):e.state.wrap===2&&(e.adler=Si(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},Eae=(e,t)=>{let r=e.max_chain_length,a=e.strstart,s,i,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-lh?e.strstart-(e.w_size-lh):0,d=e.window,u=e.w_mask,h=e.prev,f=e.strstart+GA;let A=d[a+o-1],p=d[a+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(d[s+o]!==p||d[s+o-1]!==A||d[s]!==d[a]||d[++s]!==d[a+1])){a+=2,s++;do;while(d[++a]===d[++s]&&d[++a]===d[++s]&&d[++a]===d[++s]&&d[++a]===d[++s]&&d[++a]===d[++s]&&d[++a]===d[++s]&&d[++a]===d[++s]&&d[++a]===d[++s]&&a<f);if(i=GA-(f-a),a=f-GA,i>o){if(e.match_start=t,o=i,i>=l)break;A=d[a+o-1],p=d[a+o]}}while((t=h[t&u])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},Iv=e=>{const t=e.w_size;let r,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-lh)&&(e.window.set(e.window.subarray(t,t+t-a),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),_Ce(e),a+=t),e.strm.avail_in===0)break;if(r=nI(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=Ln)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=xm(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=xm(e,e.ins_h,e.window[s+Ln-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Ln)););}while(e.lookahead<lh&&e.strm.avail_in!==0)},Bae=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a,s,i,o=0,l=e.strm.avail_in;do{if(a=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,a>s+e.strm.avail_in&&(a=s+e.strm.avail_in),a>i&&(a=i),a<r&&(a===0&&t!==Xc||t===pm||a!==s+e.strm.avail_in)))break;o=t===Xc&&a===s+e.strm.avail_in?1:0,Y6(e,0,0,o),e.pending_buf[e.pending-4]=a,e.pending_buf[e.pending-3]=a>>8,e.pending_buf[e.pending-2]=~a,e.pending_buf[e.pending-1]=~a>>8,rc(e.strm),s&&(s>a&&(s=a),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,a-=s),a&&(nI(e.strm,e.strm.output,e.strm.next_out,a),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?My:t!==pm&&t!==Xc&&e.strm.avail_in===0&&e.strstart===e.block_start?Ry:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(nI(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===Xc)&&t!==pm&&e.strm.avail_in===0&&s<=i)&&(a=s>i?i:s,o=t===Xc&&e.strm.avail_in===0&&a===s?1:0,Y6(e,e.block_start,a,o),e.block_start+=a,rc(e.strm)),o?P0:rl)},jk=(e,t)=>{let r,a;for(;;){if(e.lookahead<lh){if(Iv(e),e.lookahead<lh&&t===pm)return rl;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ln&&(e.ins_h=xm(e,e.ins_h,e.window[e.strstart+Ln-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-lh&&(e.match_length=Eae(e,r)),e.match_length>=Ln)if(a=mm(e,e.strstart-e.match_start,e.match_length-Ln),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ln){e.match_length--;do e.strstart++,e.ins_h=xm(e,e.ins_h,e.window[e.strstart+Ln-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xm(e,e.ins_h,e.window[e.strstart+1]);else a=mm(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(gc(e,!1),e.strm.avail_out===0))return rl}return e.insert=e.strstart<Ln-1?e.strstart:Ln-1,t===Xc?(gc(e,!0),e.strm.avail_out===0?P0:My):e.sym_next&&(gc(e,!1),e.strm.avail_out===0)?rl:Ry},Tx=(e,t)=>{let r,a,s;for(;;){if(e.lookahead<lh){if(Iv(e),e.lookahead<lh&&t===pm)return rl;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ln&&(e.ins_h=xm(e,e.ins_h,e.window[e.strstart+Ln-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ln-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-lh&&(e.match_length=Eae(e,r),e.match_length<=5&&(e.strategy===uCe||e.match_length===Ln&&e.strstart-e.match_start>4096)&&(e.match_length=Ln-1)),e.prev_length>=Ln&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Ln,a=mm(e,e.strstart-1-e.prev_match,e.prev_length-Ln),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=xm(e,e.ins_h,e.window[e.strstart+Ln-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ln-1,e.strstart++,a&&(gc(e,!1),e.strm.avail_out===0))return rl}else if(e.match_available){if(a=mm(e,0,e.window[e.strstart-1]),a&&gc(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return rl}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=mm(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ln-1?e.strstart:Ln-1,t===Xc?(gc(e,!0),e.strm.avail_out===0?P0:My):e.sym_next&&(gc(e,!1),e.strm.avail_out===0)?rl:Ry},BCe=(e,t)=>{let r,a,s,i;const o=e.window;for(;;){if(e.lookahead<=GA){if(Iv(e),e.lookahead<=GA&&t===pm)return rl;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ln&&e.strstart>0&&(s=e.strstart-1,a=o[s],a===o[++s]&&a===o[++s]&&a===o[++s])){i=e.strstart+GA;do;while(a===o[++s]&&a===o[++s]&&a===o[++s]&&a===o[++s]&&a===o[++s]&&a===o[++s]&&a===o[++s]&&a===o[++s]&&s<i);e.match_length=GA-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ln?(r=mm(e,1,e.match_length-Ln),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=mm(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(gc(e,!1),e.strm.avail_out===0))return rl}return e.insert=0,t===Xc?(gc(e,!0),e.strm.avail_out===0?P0:My):e.sym_next&&(gc(e,!1),e.strm.avail_out===0)?rl:Ry},FCe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Iv(e),e.lookahead===0)){if(t===pm)return rl;break}if(e.match_length=0,r=mm(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(gc(e,!1),e.strm.avail_out===0))return rl}return e.insert=0,t===Xc?(gc(e,!0),e.strm.avail_out===0?P0:My):e.sym_next&&(gc(e,!1),e.strm.avail_out===0)?rl:Ry};function ku(e,t,r,a,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=a,this.func=s}const bw=[new ku(0,0,0,0,Bae),new ku(4,4,8,4,jk),new ku(4,5,16,8,jk),new ku(4,6,32,32,jk),new ku(4,4,16,16,Tx),new ku(8,16,32,32,Tx),new ku(8,16,128,128,Tx),new ku(8,32,128,256,Tx),new ku(32,128,258,1024,Tx),new ku(32,258,258,4096,Tx)],PCe=e=>{e.window_size=2*e.w_size,TA(e.head),e.max_lazy_match=bw[e.level].max_lazy,e.good_match=bw[e.level].good_length,e.nice_match=bw[e.level].nice_length,e.max_chain_length=bw[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ln-1,e.match_available=0,e.ins_h=0};function kCe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vB,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(jCe*2),this.dyn_dtree=new Uint16Array((2*wCe+1)*2),this.bl_tree=new Uint16Array((2*bCe+1)*2),TA(this.dyn_ltree),TA(this.dyn_dtree),TA(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(NCe+1),this.heap=new Uint16Array(2*J6+1),TA(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*J6+1),TA(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Y2=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Tv&&t.status!==JR&&t.status!==Z6&&t.status!==eI&&t.status!==tI&&t.status!==rI&&t.status!==Qp&&t.status!==ww?1:0},Fae=e=>{if(Y2(e))return $p(e,oh);e.total_in=e.total_out=0,e.data_type=mCe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?JR:t.wrap?Tv:Qp,e.adler=t.wrap===2?0:1,t.last_flush=-2,aCe(t),Xi},Pae=e=>{const t=Fae(e);return t===Xi&&PCe(e.state),t},TCe=(e,t)=>Y2(e)||e.state.wrap!==2?oh:(e.state.gzhead=t,Xi),kae=(e,t,r,a,s,i)=>{if(!e)return oh;let o=1;if(t===dCe&&(t=6),a<0?(o=0,a=-a):a>15&&(o=2,a-=16),s<1||s>pCe||r!==vB||a<8||a>15||t<0||t>9||i<0||i>fCe||a===8&&o!==1)return $p(e,oh);a===8&&(a=9);const l=new kCe;return e.state=l,l.strm=e,l.status=Tv,l.wrap=o,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Ln-1)/Ln),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,Pae(e)},ICe=(e,t)=>kae(e,t,vB,xCe,gCe,ACe),OCe=(e,t)=>{if(Y2(e)||t>R9||t<0)return e?$p(e,oh):oh;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===ww&&t!==Xc)return $p(e,e.avail_out===0?bk:oh);const a=r.last_flush;if(r.last_flush=t,r.pending!==0){if(rc(e),e.avail_out===0)return r.last_flush=-1,Xi}else if(e.avail_in===0&&U9(t)<=U9(a)&&t!==Xc)return $p(e,bk);if(r.status===ww&&e.avail_in!==0)return $p(e,bk);if(r.status===Tv&&r.wrap===0&&(r.status=Qp),r.status===Tv){let s=vB+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=NC||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=CCe),s+=31-s%31,q1(r,s),r.strstart!==0&&(q1(r,e.adler>>>16),q1(r,e.adler&65535)),e.adler=1,r.status=Qp,rc(e),r.pending!==0)return r.last_flush=-1,Xi}if(r.status===JR){if(e.adler=0,sa(r,31),sa(r,139),sa(r,8),r.gzhead)sa(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),sa(r,r.gzhead.time&255),sa(r,r.gzhead.time>>8&255),sa(r,r.gzhead.time>>16&255),sa(r,r.gzhead.time>>24&255),sa(r,r.level===9?2:r.strategy>=NC||r.level<2?4:0),sa(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(sa(r,r.gzhead.extra.length&255),sa(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Si(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Z6;else if(sa(r,0),sa(r,0),sa(r,0),sa(r,0),sa(r,0),sa(r,r.level===9?2:r.strategy>=NC||r.level<2?4:0),sa(r,SCe),r.status=Qp,rc(e),r.pending!==0)return r.last_flush=-1,Xi}if(r.status===Z6){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=Si(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,rc(e),r.pending!==0)return r.last_flush=-1,Xi;s=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=Si(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=eI}if(r.status===eI){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=Si(e.adler,r.pending_buf,r.pending-s,s)),rc(e),r.pending!==0)return r.last_flush=-1,Xi;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,sa(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=Si(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=tI}if(r.status===tI){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=Si(e.adler,r.pending_buf,r.pending-s,s)),rc(e),r.pending!==0)return r.last_flush=-1,Xi;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,sa(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=Si(e.adler,r.pending_buf,r.pending-s,s))}r.status=rI}if(r.status===rI){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(rc(e),r.pending!==0))return r.last_flush=-1,Xi;sa(r,e.adler&255),sa(r,e.adler>>8&255),e.adler=0}if(r.status=Qp,rc(e),r.pending!==0)return r.last_flush=-1,Xi}if(e.avail_in!==0||r.lookahead!==0||t!==pm&&r.status!==ww){let s=r.level===0?Bae(r,t):r.strategy===NC?FCe(r,t):r.strategy===hCe?BCe(r,t):bw[r.level].func(r,t);if((s===P0||s===My)&&(r.status=ww),s===rl||s===P0)return e.avail_out===0&&(r.last_flush=-1),Xi;if(s===Ry&&(t===oCe?iCe(r):t!==R9&&(Y6(r,0,0,!1),t===lCe&&(TA(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),rc(e),e.avail_out===0))return r.last_flush=-1,Xi}return t!==Xc?Xi:r.wrap<=0?M9:(r.wrap===2?(sa(r,e.adler&255),sa(r,e.adler>>8&255),sa(r,e.adler>>16&255),sa(r,e.adler>>24&255),sa(r,e.total_in&255),sa(r,e.total_in>>8&255),sa(r,e.total_in>>16&255),sa(r,e.total_in>>24&255)):(q1(r,e.adler>>>16),q1(r,e.adler&65535)),rc(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Xi:M9)},DCe=e=>{if(Y2(e))return oh;const t=e.state.status;return e.state=null,t===Qp?$p(e,cCe):Xi},LCe=(e,t)=>{let r=t.length;if(Y2(e))return oh;const a=e.state,s=a.wrap;if(s===2||s===1&&a.status!==Tv||a.lookahead)return oh;if(s===1&&(e.adler=wj(e.adler,t,r,0)),a.wrap=0,r>=a.w_size){s===0&&(TA(a.head),a.strstart=0,a.block_start=0,a.insert=0);let c=new Uint8Array(a.w_size);c.set(t.subarray(r-a.w_size,r),0),t=c,r=a.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Iv(a);a.lookahead>=Ln;){let c=a.strstart,d=a.lookahead-(Ln-1);do a.ins_h=xm(a,a.ins_h,a.window[c+Ln-1]),a.prev[c&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=c,c++;while(--d);a.strstart=c,a.lookahead=Ln-1,Iv(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=Ln-1,a.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,a.wrap=s,Xi};var RCe=ICe,MCe=kae,UCe=Pae,QCe=Fae,$Ce=TCe,HCe=OCe,zCe=DCe,VCe=LCe,KCe="pako deflate (from Nodeca project)",ib={deflateInit:RCe,deflateInit2:MCe,deflateReset:UCe,deflateResetKeep:QCe,deflateSetHeader:$Ce,deflate:HCe,deflateEnd:zCe,deflateSetDictionary:VCe,deflateInfo:KCe};const qCe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var WCe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)qCe(r,a)&&(e[a]=r[a])}}return e},GCe=e=>{let t=0;for(let a=0,s=e.length;a<s;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,s=0,i=e.length;a<i;a++){let o=e[a];r.set(o,s),s+=o.length}return r},yB={assign:WCe,flattenChunks:GCe};let Tae=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Tae=!1}const bj=new Uint8Array(256);for(let e=0;e<256;e++)bj[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;bj[254]=bj[254]=1;var XCe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(a=e.charCodeAt(s+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const YCe=(e,t)=>{if(t<65534&&e.subarray&&Tae)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var JCe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,s;const i=new Array(r*2);for(s=0,a=0;a<r;){let o=e[a++];if(o<128){i[s++]=o;continue}let l=bj[o];if(l>4){i[s++]=65533,a+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&a<r;)o=o<<6|e[a++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return YCe(i,s)},ZCe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+bj[e[r]]>t?r:t},jj={string2buf:XCe,buf2string:JCe,utf8border:ZCe};function e4e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Iae=e4e;const Oae=Object.prototype.toString,{Z_NO_FLUSH:t4e,Z_SYNC_FLUSH:r4e,Z_FULL_FLUSH:n4e,Z_FINISH:a4e,Z_OK:v5,Z_STREAM_END:s4e,Z_DEFAULT_COMPRESSION:i4e,Z_DEFAULT_STRATEGY:o4e,Z_DEFLATED:l4e}=X2;function ZR(e){this.options=yB.assign({level:i4e,method:l4e,chunkSize:16384,windowBits:15,memLevel:8,strategy:o4e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Iae,this.strm.avail_out=0;let r=ib.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==v5)throw new Error(kv[r]);if(t.header&&ib.deflateSetHeader(this.strm,t.header),t.dictionary){let a;if(typeof t.dictionary=="string"?a=jj.string2buf(t.dictionary):Oae.call(t.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(t.dictionary):a=t.dictionary,r=ib.deflateSetDictionary(this.strm,a),r!==v5)throw new Error(kv[r]);this._dict_set=!0}}ZR.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?a4e:t4e,typeof e=="string"?r.input=jj.string2buf(e):Oae.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(i===r4e||i===n4e)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=ib.deflate(r,i),s===s4e)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=ib.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===v5;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};ZR.prototype.onData=function(e){this.chunks.push(e)};ZR.prototype.onEnd=function(e){e===v5&&(this.result=yB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const CC=16209,c4e=16191;var d4e=function(t,r){let a,s,i,o,l,c,d,u,h,f,A,p,m,x,g,v,y,j,b,w,C,F,E,L;const N=t.state;a=t.next_in,E=t.input,s=a+(t.avail_in-5),i=t.next_out,L=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=N.dmax,d=N.wsize,u=N.whave,h=N.wnext,f=N.window,A=N.hold,p=N.bits,m=N.lencode,x=N.distcode,g=(1<<N.lenbits)-1,v=(1<<N.distbits)-1;e:do{p<15&&(A+=E[a++]<<p,p+=8,A+=E[a++]<<p,p+=8),y=m[A&g];t:for(;;){if(j=y>>>24,A>>>=j,p-=j,j=y>>>16&255,j===0)L[i++]=y&65535;else if(j&16){b=y&65535,j&=15,j&&(p<j&&(A+=E[a++]<<p,p+=8),b+=A&(1<<j)-1,A>>>=j,p-=j),p<15&&(A+=E[a++]<<p,p+=8,A+=E[a++]<<p,p+=8),y=x[A&v];r:for(;;){if(j=y>>>24,A>>>=j,p-=j,j=y>>>16&255,j&16){if(w=y&65535,j&=15,p<j&&(A+=E[a++]<<p,p+=8,p<j&&(A+=E[a++]<<p,p+=8)),w+=A&(1<<j)-1,w>c){t.msg="invalid distance too far back",N.mode=CC;break e}if(A>>>=j,p-=j,j=i-o,w>j){if(j=w-j,j>u&&N.sane){t.msg="invalid distance too far back",N.mode=CC;break e}if(C=0,F=f,h===0){if(C+=d-j,j<b){b-=j;do L[i++]=f[C++];while(--j);C=i-w,F=L}}else if(h<j){if(C+=d+h-j,j-=h,j<b){b-=j;do L[i++]=f[C++];while(--j);if(C=0,h<b){j=h,b-=j;do L[i++]=f[C++];while(--j);C=i-w,F=L}}}else if(C+=h-j,j<b){b-=j;do L[i++]=f[C++];while(--j);C=i-w,F=L}for(;b>2;)L[i++]=F[C++],L[i++]=F[C++],L[i++]=F[C++],b-=3;b&&(L[i++]=F[C++],b>1&&(L[i++]=F[C++]))}else{C=i-w;do L[i++]=L[C++],L[i++]=L[C++],L[i++]=L[C++],b-=3;while(b>2);b&&(L[i++]=L[C++],b>1&&(L[i++]=L[C++]))}}else if(j&64){t.msg="invalid distance code",N.mode=CC;break e}else{y=x[(y&65535)+(A&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){N.mode=c4e;break e}else{t.msg="invalid literal/length code",N.mode=CC;break e}else{y=m[(y&65535)+(A&(1<<j)-1)];continue t}break}}while(a<s&&i<l);b=p>>3,a-=b,p-=b<<3,A&=(1<<p)-1,t.next_in=a,t.next_out=i,t.avail_in=a<s?5+(s-a):5-(a-s),t.avail_out=i<l?257+(l-i):257-(i-l),N.hold=A,N.bits=p};const Ix=15,Q9=852,$9=592,H9=0,Nk=1,z9=2,u4e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),h4e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),f4e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),A4e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),m4e=(e,t,r,a,s,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,f=0,A=0,p=0,m=0,x=0,g=0,v=0,y,j,b,w,C,F=null,E;const L=new Uint16Array(Ix+1),N=new Uint16Array(Ix+1);let I=null,M,O,k;for(d=0;d<=Ix;d++)L[d]=0;for(u=0;u<a;u++)L[t[r+u]]++;for(A=c,f=Ix;f>=1&&L[f]===0;f--);if(A>f&&(A=f),f===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<f&&L[h]===0;h++);for(A<h&&(A=h),x=1,d=1;d<=Ix;d++)if(x<<=1,x-=L[d],x<0)return-1;if(x>0&&(e===H9||f!==1))return-1;for(N[1]=0,d=1;d<Ix;d++)N[d+1]=N[d]+L[d];for(u=0;u<a;u++)t[r+u]!==0&&(o[N[t[r+u]]++]=u);if(e===H9?(F=I=o,E=20):e===Nk?(F=u4e,I=h4e,E=257):(F=f4e,I=A4e,E=0),v=0,u=0,d=h,C=i,p=A,m=0,b=-1,g=1<<A,w=g-1,e===Nk&&g>Q9||e===z9&&g>$9)return 1;for(;;){M=d-m,o[u]+1<E?(O=0,k=o[u]):o[u]>=E?(O=I[o[u]-E],k=F[o[u]-E]):(O=96,k=0),y=1<<d-m,j=1<<p,h=j;do j-=y,s[C+(v>>m)+j]=M<<24|O<<16|k|0;while(j!==0);for(y=1<<d-1;v&y;)y>>=1;if(y!==0?(v&=y-1,v+=y):v=0,u++,--L[d]===0){if(d===f)break;d=t[r+o[u]]}if(d>A&&(v&w)!==b){for(m===0&&(m=A),C+=h,p=d-m,x=1<<p;p+m<f&&(x-=L[p+m],!(x<=0));)p++,x<<=1;if(g+=1<<p,e===Nk&&g>Q9||e===z9&&g>$9)return 1;b=v&w,s[b]=A<<24|p<<16|C-i|0}}return v!==0&&(s[C+v]=d-m<<24|64<<16|0),l.bits=A,0};var ob=m4e;const p4e=0,Dae=1,Lae=2,{Z_FINISH:V9,Z_BLOCK:x4e,Z_TREES:SC,Z_OK:k0,Z_STREAM_END:g4e,Z_NEED_DICT:v4e,Z_STREAM_ERROR:Ad,Z_DATA_ERROR:Rae,Z_MEM_ERROR:Mae,Z_BUF_ERROR:y4e,Z_DEFLATED:K9}=X2,wB=16180,q9=16181,W9=16182,G9=16183,X9=16184,Y9=16185,J9=16186,Z9=16187,eH=16188,tH=16189,y5=16190,Wh=16191,Ck=16192,rH=16193,Sk=16194,nH=16195,aH=16196,sH=16197,iH=16198,_C=16199,EC=16200,oH=16201,lH=16202,cH=16203,dH=16204,uH=16205,_k=16206,hH=16207,fH=16208,ts=16209,Uae=16210,Qae=16211,w4e=852,b4e=592,j4e=15,N4e=j4e,AH=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function C4e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ex=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<wB||t.mode>Qae?1:0},$ae=e=>{if(ex(e))return Ad;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=wB,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(w4e),t.distcode=t.distdyn=new Int32Array(b4e),t.sane=1,t.back=-1,k0},Hae=e=>{if(ex(e))return Ad;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,$ae(e)},zae=(e,t)=>{let r;if(ex(e))return Ad;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ad:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,Hae(e))},Vae=(e,t)=>{if(!e)return Ad;const r=new C4e;e.state=r,r.strm=e,r.window=null,r.mode=wB;const a=zae(e,t);return a!==k0&&(e.state=null),a},S4e=e=>Vae(e,N4e);let mH=!0,Ek,Bk;const _4e=e=>{if(mH){Ek=new Int32Array(512),Bk=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ob(Dae,e.lens,0,288,Ek,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ob(Lae,e.lens,0,32,Bk,0,e.work,{bits:5}),mH=!1}e.lencode=Ek,e.lenbits=9,e.distcode=Bk,e.distbits=5},Kae=(e,t,r,a)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>a&&(s=a),i.window.set(t.subarray(r-a,r-a+s),i.wnext),a-=s,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},E4e=(e,t)=>{let r,a,s,i,o,l,c,d,u,h,f,A,p,m,x=0,g,v,y,j,b,w,C,F;const E=new Uint8Array(4);let L,N;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ex(e)||!e.output||!e.input&&e.avail_in!==0)return Ad;r=e.state,r.mode===Wh&&(r.mode=Ck),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=r.hold,u=r.bits,h=l,f=c,F=k0;e:for(;;)switch(r.mode){case wB:if(r.wrap===0){r.mode=Ck;break}for(;u<16;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=d&255,E[1]=d>>>8&255,r.check=Si(r.check,E,2,0),d=0,u=0,r.mode=q9;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=ts;break}if((d&15)!==K9){e.msg="unknown compression method",r.mode=ts;break}if(d>>>=4,u-=4,C=(d&15)+8,r.wbits===0&&(r.wbits=C),C>15||C>r.wbits){e.msg="invalid window size",r.mode=ts;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?tH:Wh,d=0,u=0;break;case q9:for(;u<16;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==K9){e.msg="unknown compression method",r.mode=ts;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ts;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=Si(r.check,E,2,0)),d=0,u=0,r.mode=W9;case W9:for(;u<32;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,r.check=Si(r.check,E,4,0)),d=0,u=0,r.mode=G9;case G9:for(;u<16;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=Si(r.check,E,2,0)),d=0,u=0,r.mode=X9;case X9:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=Si(r.check,E,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=Y9;case Y9:if(r.flags&1024&&(A=r.length,A>l&&(A=l),A&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+A),C)),r.flags&512&&r.wrap&4&&(r.check=Si(r.check,a,A,i)),l-=A,i+=A,r.length-=A),r.length))break e;r.length=0,r.mode=J9;case J9:if(r.flags&2048){if(l===0)break e;A=0;do C=a[i+A++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&A<l);if(r.flags&512&&r.wrap&4&&(r.check=Si(r.check,a,A,i)),l-=A,i+=A,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Z9;case Z9:if(r.flags&4096){if(l===0)break e;A=0;do C=a[i+A++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&A<l);if(r.flags&512&&r.wrap&4&&(r.check=Si(r.check,a,A,i)),l-=A,i+=A,C)break e}else r.head&&(r.head.comment=null);r.mode=eH;case eH:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ts;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Wh;break;case tH:for(;u<32;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}e.adler=r.check=AH(d),d=0,u=0,r.mode=y5;case y5:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,v4e;e.adler=r.check=1,r.mode=Wh;case Wh:if(t===x4e||t===SC)break e;case Ck:if(r.last){d>>>=u&7,u-=u&7,r.mode=_k;break}for(;u<3;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=rH;break;case 1:if(_4e(r),r.mode=_C,t===SC){d>>>=2,u-=2;break e}break;case 2:r.mode=aH;break;case 3:e.msg="invalid block type",r.mode=ts}d>>>=2,u-=2;break;case rH:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ts;break}if(r.length=d&65535,d=0,u=0,r.mode=Sk,t===SC)break e;case Sk:r.mode=nH;case nH:if(A=r.length,A){if(A>l&&(A=l),A>c&&(A=c),A===0)break e;s.set(a.subarray(i,i+A),o),l-=A,i+=A,c-=A,o+=A,r.length-=A;break}r.mode=Wh;break;case aH:for(;u<14;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ts;break}r.have=0,r.mode=sH;case sH:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}r.lens[I[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},F=ob(p4e,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,F){e.msg="invalid code lengths set",r.mode=ts;break}r.have=0,r.mode=iH;case iH:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[d&(1<<r.lenbits)-1],g=x>>>24,v=x>>>16&255,y=x&65535,!(g<=u);){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(y<16)d>>>=g,u-=g,r.lens[r.have++]=y;else{if(y===16){for(N=g+2;u<N;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(d>>>=g,u-=g,r.have===0){e.msg="invalid bit length repeat",r.mode=ts;break}C=r.lens[r.have-1],A=3+(d&3),d>>>=2,u-=2}else if(y===17){for(N=g+3;u<N;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}d>>>=g,u-=g,C=0,A=3+(d&7),d>>>=3,u-=3}else{for(N=g+7;u<N;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}d>>>=g,u-=g,C=0,A=11+(d&127),d>>>=7,u-=7}if(r.have+A>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ts;break}for(;A--;)r.lens[r.have++]=C}}if(r.mode===ts)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ts;break}if(r.lenbits=9,L={bits:r.lenbits},F=ob(Dae,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,F){e.msg="invalid literal/lengths set",r.mode=ts;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},F=ob(Lae,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,F){e.msg="invalid distances set",r.mode=ts;break}if(r.mode=_C,t===SC)break e;case _C:r.mode=EC;case EC:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,d4e(e,f),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,a=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Wh&&(r.back=-1);break}for(r.back=0;x=r.lencode[d&(1<<r.lenbits)-1],g=x>>>24,v=x>>>16&255,y=x&65535,!(g<=u);){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(v&&!(v&240)){for(j=g,b=v,w=y;x=r.lencode[w+((d&(1<<j+b)-1)>>j)],g=x>>>24,v=x>>>16&255,y=x&65535,!(j+g<=u);){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=g,u-=g,r.back+=g,r.length=y,v===0){r.mode=uH;break}if(v&32){r.back=-1,r.mode=Wh;break}if(v&64){e.msg="invalid literal/length code",r.mode=ts;break}r.extra=v&15,r.mode=oH;case oH:if(r.extra){for(N=r.extra;u<N;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=lH;case lH:for(;x=r.distcode[d&(1<<r.distbits)-1],g=x>>>24,v=x>>>16&255,y=x&65535,!(g<=u);){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(!(v&240)){for(j=g,b=v,w=y;x=r.distcode[w+((d&(1<<j+b)-1)>>j)],g=x>>>24,v=x>>>16&255,y=x&65535,!(j+g<=u);){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=g,u-=g,r.back+=g,v&64){e.msg="invalid distance code",r.mode=ts;break}r.offset=y,r.extra=v&15,r.mode=cH;case cH:if(r.extra){for(N=r.extra;u<N;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ts;break}r.mode=dH;case dH:if(c===0)break e;if(A=f-c,r.offset>A){if(A=r.offset-A,A>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ts;break}A>r.wnext?(A-=r.wnext,p=r.wsize-A):p=r.wnext-A,A>r.length&&(A=r.length),m=r.window}else m=s,p=o-r.offset,A=r.length;A>c&&(A=c),c-=A,r.length-=A;do s[o++]=m[p++];while(--A);r.length===0&&(r.mode=EC);break;case uH:if(c===0)break e;s[o++]=r.length,c--,r.mode=EC;break;case _k:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=a[i++]<<u,u+=8}if(f-=c,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Si(r.check,s,f,o-f):wj(r.check,s,f,o-f)),f=c,r.wrap&4&&(r.flags?d:AH(d))!==r.check){e.msg="incorrect data check",r.mode=ts;break}d=0,u=0}r.mode=hH;case hH:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=a[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ts;break}d=0,u=0}r.mode=fH;case fH:F=g4e;break e;case ts:F=Rae;break e;case Uae:return Mae;case Qae:default:return Ad}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<ts&&(r.mode<_k||t!==V9))&&Kae(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Si(r.check,s,f,e.next_out-f):wj(r.check,s,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Wh?128:0)+(r.mode===_C||r.mode===Sk?256:0),(h===0&&f===0||t===V9)&&F===k0&&(F=y4e),F},B4e=e=>{if(ex(e))return Ad;let t=e.state;return t.window&&(t.window=null),e.state=null,k0},F4e=(e,t)=>{if(ex(e))return Ad;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,k0):Ad},P4e=(e,t)=>{const r=t.length;let a,s,i;return ex(e)||(a=e.state,a.wrap!==0&&a.mode!==y5)?Ad:a.mode===y5&&(s=1,s=wj(s,t,r,0),s!==a.check)?Rae:(i=Kae(e,t,r,r),i?(a.mode=Uae,Mae):(a.havedict=1,k0))};var k4e=Hae,T4e=zae,I4e=$ae,O4e=S4e,D4e=Vae,L4e=E4e,R4e=B4e,M4e=F4e,U4e=P4e,Q4e="pako inflate (from Nodeca project)",of={inflateReset:k4e,inflateReset2:T4e,inflateResetKeep:I4e,inflateInit:O4e,inflateInit2:D4e,inflate:L4e,inflateEnd:R4e,inflateGetHeader:M4e,inflateSetDictionary:U4e,inflateInfo:Q4e};function $4e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var H4e=$4e;const qae=Object.prototype.toString,{Z_NO_FLUSH:z4e,Z_FINISH:V4e,Z_OK:Nj,Z_STREAM_END:Fk,Z_NEED_DICT:Pk,Z_STREAM_ERROR:K4e,Z_DATA_ERROR:pH,Z_MEM_ERROR:q4e}=X2;function J2(e){this.options=yB.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Iae,this.strm.avail_out=0;let r=of.inflateInit2(this.strm,t.windowBits);if(r!==Nj)throw new Error(kv[r]);if(this.header=new H4e,of.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=jj.string2buf(t.dictionary):qae.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=of.inflateSetDictionary(this.strm,t.dictionary),r!==Nj)))throw new Error(kv[r])}J2.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?V4e:z4e,qae.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=of.inflate(r,o),i===Pk&&s&&(i=of.inflateSetDictionary(r,s),i===Nj?i=of.inflate(r,o):i===pH&&(i=Pk));r.avail_in>0&&i===Fk&&r.state.wrap>0&&e[r.next_in]!==0;)of.inflateReset(r),i=of.inflate(r,o);switch(i){case K4e:case pH:case Pk:case q4e:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===Fk))if(this.options.to==="string"){let c=jj.utf8border(r.output,r.next_out),d=r.next_out-c,u=jj.buf2string(r.output,c);r.next_out=d,r.avail_out=a-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Nj&&l===0)){if(i===Fk)return i=of.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};J2.prototype.onData=function(e){this.chunks.push(e)};J2.prototype.onEnd=function(e){e===Nj&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yB.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function e8(e,t){const r=new J2(t);if(r.push(e),r.err)throw r.msg||kv[r.err];return r.result}function W4e(e,t){return t=t||{},t.raw=!0,e8(e,t)}var G4e=J2,X4e=e8,Y4e=W4e,J4e=e8,Z4e=X2,eSe={Inflate:G4e,inflate:X4e,inflateRaw:Y4e,ungzip:J4e,constants:Z4e};const{Inflate:tSe,inflate:rSe,inflateRaw:xjt,ungzip:gjt}=eSe;var xH=tSe,nSe=rSe;const Wae=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Wae[e]=t}const gH=4294967295;function aSe(e,t,r){let a=e;for(let s=0;s<r;s++)a=Wae[(a^t[s])&255]^a>>>8;return a}function sSe(e,t){return(aSe(gH,e,t)^gH)>>>0}function vH(e,t,r){const a=e.readUint32(),s=sSe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${s}`)}function Gae(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function Xae(e,t,r,a){let s=0;for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}function Yae(e,t,r,a){let s=0;if(r.length===0)for(;s<a;s++)t[s]=e[s];else for(;s<a;s++)t[s]=e[s]+r[s]&255}function Jae(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function Zae(e,t,r,a,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+iSe(t[i-s],r[i],r[i-s])&255}}function iSe(e,t,r){const a=e+t-r,s=Math.abs(a-e),i=Math.abs(a-t),o=Math.abs(a-r);return s<=i&&s<=o?e:i<=o?t:r}function oSe(e,t,r,a,s,i){switch(e){case 0:Gae(t,r,s);break;case 1:Xae(t,r,s,i);break;case 2:Yae(t,r,a,s);break;case 3:Jae(t,r,a,s,i);break;case 4:Zae(t,r,a,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const lSe=new Uint16Array([255]),cSe=new Uint8Array(lSe.buffer),dSe=cSe[0]===255;function uSe(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(a*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],f=Math.ceil((r-h.x)/h.xStep),A=Math.ceil((a-h.y)/h.yStep);if(f<=0||A<=0)continue;const p=f*l,m=new Uint8Array(p);for(let x=0;x<A;x++){const g=t[d++],v=t.subarray(d,d+p);d+=p;const y=new Uint8Array(p);oSe(g,v,y,m,p,l),m.set(y);for(let j=0;j<f;j++){const b=h.x+j*h.xStep,w=h.y+x*h.yStep;if(!(b>=r||w>=a))for(let C=0;C<l;C++)c[(w*r+b)*l+C]=y[j*l+C]}}}if(i===16){const u=new Uint16Array(c.buffer);if(dSe)for(let h=0;h<u.length;h++)u[h]=hSe(u[h]);return u}else return c}function hSe(e){return(e&255)<<8|e>>8&255}const fSe=new Uint16Array([255]),ASe=new Uint8Array(fSe.buffer),mSe=ASe[0]===255,pSe=new Uint8Array(0);function yH(e){const{data:t,width:r,height:a,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(a*l);let d=pSe,u=0,h,f;for(let A=0;A<a;A++){switch(h=t.subarray(u+1,u+1+l),f=c.subarray(A*l,(A+1)*l),t[u]){case 0:Gae(h,f,l);break;case 1:Xae(h,f,l,o);break;case 2:Yae(h,f,d,l);break;case 3:Jae(h,f,d,l,o);break;case 4:Zae(h,f,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=f,u+=l+1}if(i===16){const A=new Uint16Array(c.buffer);if(mSe)for(let p=0;p<A.length;p++)A[p]=xSe(A[p]);return A}else return c}function xSe(e){return(e&255)<<8|e>>8&255}const sS=Uint8Array.of(137,80,78,71,13,10,26,10);function wH(e){if(!gSe(e.readBytes(sS.length)))throw new Error("wrong PNG signature")}function gSe(e){if(e.length<sS.length)return!1;for(let t=0;t<sS.length;t++)if(e[t]!==sS[t])return!1;return!0}const vSe="tEXt",ySe=0,ese=new TextDecoder("latin1");function wSe(e){if(jSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const bSe=/^[\u0000-\u00FF]*$/;function jSe(e){if(!bSe.test(e))throw new Error("invalid latin1 text")}function NSe(e,t,r){const a=tse(t);e[a]=CSe(t,r-a.length-1)}function tse(e){for(e.mark();e.readByte()!==ySe;);const t=e.offset;e.reset();const r=ese.decode(e.readBytes(t-e.offset-1));return e.skip(1),wSe(r),r}function CSe(e,t){return ese.decode(e.readBytes(t))}const Zl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kk={UNKNOWN:-1,DEFLATE:0},bH={UNKNOWN:-1,ADAPTIVE:0},Tk={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},BC={NONE:0,BACKGROUND:1,PREVIOUS:2},Ik={SOURCE:0,OVER:1};class SSe extends qR{constructor(r,a={}){super(r);Aa(this,"_checkCrc");Aa(this,"_inflator");Aa(this,"_png");Aa(this,"_apng");Aa(this,"_end");Aa(this,"_hasPalette");Aa(this,"_palette");Aa(this,"_hasTransparency");Aa(this,"_transparency");Aa(this,"_compressionMethod");Aa(this,"_filterMethod");Aa(this,"_interlaceMethod");Aa(this,"_colorType");Aa(this,"_isAnimated");Aa(this,"_numberOfFrames");Aa(this,"_numberOfPlays");Aa(this,"_frames");Aa(this,"_writingDataChunks");const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new xH,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kk.UNKNOWN,this._filterMethod=bH.UNKNOWN,this._interlaceMethod=Tk.UNKNOWN,this._colorType=Zl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wH(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(wH(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case vSe:NSe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?vH(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?vH(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=_Se(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case Zl.GREYSCALE:s=1;break;case Zl.TRUECOLOUR:s=3;break;case Zl.INDEXED_COLOUR:s=1;break;case Zl.GREYSCALE_ALPHA:s=2;break;case Zl.TRUECOLOUR_ALPHA:s=4;break;case Zl.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==kk.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<a;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Zl.GREYSCALE:case Zl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Zl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Zl.UNKNOWN:case Zl.GREYSCALE_ALPHA:case Zl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=tse(this),s=this.readUint8();if(s!==kk.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:nSe(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=yH({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,s){switch(r.disposeOp){case BC.NONE:break;case BC.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case BC.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+a.yOffset)*this._png.width+a.xOffset+l)*this._png.channels,d=(o*a.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(a.blendOp){case Ik.SOURCE:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=a.data[d+u]}break;case Ik.OVER:for(let o=0;o<a.height;o++)for(let l=0;l<a.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const h=a.data[d+this._png.channels-1]/s,f=u%(this._png.channels-1)===0?1:a.data[d+u],A=Math.floor(h*f+(1-h)*r.data[c+u]);r.data[c+u]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==bH.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Tk.NO_INTERLACE)this._png.data=yH({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Tk.ADAM7)this._png.data=uSe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:BC.NONE,blendOp:Ik.SOURCE,data:r}),this._inflator=new xH,this._writingDataChunks=!1}}function _Se(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var jH;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(jH||(jH={}));function ESe(e,t){return new SSe(e,t).decode()}var sn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ok(){sn.console&&typeof sn.console.log=="function"&&sn.console.log.apply(sn.console,arguments)}var Ba={log:Ok,warn:function(e){sn.console&&(typeof sn.console.warn=="function"?sn.console.warn.apply(sn.console,arguments):Ok.call(null,arguments))},error:function(e){sn.console&&(typeof sn.console.error=="function"?sn.console.error.apply(sn.console,arguments):Ok(e))}};function Dk(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Cp(a.response,t,r)},a.onerror=function(){Ba.error("could not download file")},a.send()}function NH(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function FC(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Cp=sn.saveAs||((typeof window>"u"?"undefined":va(window))!=="object"||window!==sn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=sn.URL||sn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?NH(s.href)?Dk(e,t,r):FC(s,s.target="_blank"):FC(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){FC(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(NH(e))Dk(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){FC(a)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:va(i)!=="object"&&(Ba.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return Dk(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(sn.HTMLElement)||sn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":va(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=u:location=u,a=null},l.readAsDataURL(e)}else{var c=sn.URL||sn.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rse(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<r.length;a++){var s=r[a].re,i=r[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var iS=sn.atob.bind(sn),CH=sn.btoa.bind(sn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Lk(e,t){var r=e[0],a=e[1],s=e[2],i=e[3];r=fo(r,a,s,i,t[0],7,-680876936),i=fo(i,r,a,s,t[1],12,-389564586),s=fo(s,i,r,a,t[2],17,606105819),a=fo(a,s,i,r,t[3],22,-1044525330),r=fo(r,a,s,i,t[4],7,-176418897),i=fo(i,r,a,s,t[5],12,1200080426),s=fo(s,i,r,a,t[6],17,-1473231341),a=fo(a,s,i,r,t[7],22,-45705983),r=fo(r,a,s,i,t[8],7,1770035416),i=fo(i,r,a,s,t[9],12,-1958414417),s=fo(s,i,r,a,t[10],17,-42063),a=fo(a,s,i,r,t[11],22,-1990404162),r=fo(r,a,s,i,t[12],7,1804603682),i=fo(i,r,a,s,t[13],12,-40341101),s=fo(s,i,r,a,t[14],17,-1502002290),r=Ao(r,a=fo(a,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ao(i,r,a,s,t[6],9,-1069501632),s=Ao(s,i,r,a,t[11],14,643717713),a=Ao(a,s,i,r,t[0],20,-373897302),r=Ao(r,a,s,i,t[5],5,-701558691),i=Ao(i,r,a,s,t[10],9,38016083),s=Ao(s,i,r,a,t[15],14,-660478335),a=Ao(a,s,i,r,t[4],20,-405537848),r=Ao(r,a,s,i,t[9],5,568446438),i=Ao(i,r,a,s,t[14],9,-1019803690),s=Ao(s,i,r,a,t[3],14,-187363961),a=Ao(a,s,i,r,t[8],20,1163531501),r=Ao(r,a,s,i,t[13],5,-1444681467),i=Ao(i,r,a,s,t[2],9,-51403784),s=Ao(s,i,r,a,t[7],14,1735328473),r=mo(r,a=Ao(a,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=mo(i,r,a,s,t[8],11,-2022574463),s=mo(s,i,r,a,t[11],16,1839030562),a=mo(a,s,i,r,t[14],23,-35309556),r=mo(r,a,s,i,t[1],4,-1530992060),i=mo(i,r,a,s,t[4],11,1272893353),s=mo(s,i,r,a,t[7],16,-155497632),a=mo(a,s,i,r,t[10],23,-1094730640),r=mo(r,a,s,i,t[13],4,681279174),i=mo(i,r,a,s,t[0],11,-358537222),s=mo(s,i,r,a,t[3],16,-722521979),a=mo(a,s,i,r,t[6],23,76029189),r=mo(r,a,s,i,t[9],4,-640364487),i=mo(i,r,a,s,t[12],11,-421815835),s=mo(s,i,r,a,t[15],16,530742520),r=po(r,a=mo(a,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=po(i,r,a,s,t[7],10,1126891415),s=po(s,i,r,a,t[14],15,-1416354905),a=po(a,s,i,r,t[5],21,-57434055),r=po(r,a,s,i,t[12],6,1700485571),i=po(i,r,a,s,t[3],10,-1894986606),s=po(s,i,r,a,t[10],15,-1051523),a=po(a,s,i,r,t[1],21,-2054922799),r=po(r,a,s,i,t[8],6,1873313359),i=po(i,r,a,s,t[15],10,-30611744),s=po(s,i,r,a,t[6],15,-1560198380),a=po(a,s,i,r,t[13],21,1309151649),r=po(r,a,s,i,t[4],6,-145523070),i=po(i,r,a,s,t[11],10,-1120210379),s=po(s,i,r,a,t[2],15,718787259),a=po(a,s,i,r,t[9],21,-343485551),e[0]=XA(r,e[0]),e[1]=XA(a,e[1]),e[2]=XA(s,e[2]),e[3]=XA(i,e[3])}function bB(e,t,r,a,s,i){return t=XA(XA(t,e),XA(a,i)),XA(t<<s|t>>>32-s,r)}function fo(e,t,r,a,s,i,o){return bB(t&r|~t&a,e,t,s,i,o)}function Ao(e,t,r,a,s,i,o){return bB(t&a|r&~a,e,t,s,i,o)}function mo(e,t,r,a,s,i,o){return bB(t^r^a,e,t,s,i,o)}function po(e,t,r,a,s,i,o){return bB(r^(t|~a),e,t,s,i,o)}function nse(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Lk(a,BSe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Lk(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Lk(a,s),a}function BSe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var SH="0123456789abcdef".split("");function FSe(e){for(var t="",r=0;r<4;r++)t+=SH[e>>8*r+4&15]+SH[e>>8*r&15];return t}function PSe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function aI(e){return nse(e).map(PSe).join("")}var kSe=function(e){for(var t=0;t<e.length;t++)e[t]=FSe(e[t]);return e.join("")}(nse("hello"))!="5d41402abc4b2a76b9719d911017c592";function XA(e,t){if(kSe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sI(e,t){var r,a,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,a=l}else l=a;var h=t.length,f=0,A=0,p="";for(c=0;c<h;c++)A=(A+(u=l[f=(f+1)%256]))%256,l[f]=l[A],l[A]=u,o=l[(l[f]+l[A])%256],p+=String.fromCharCode(t.charCodeAt(c)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _H={print:4,modify:8,copy:16,"annot-forms":32};function eg(e,t,r,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(_H.perm!==void 0)throw new Error("Invalid permission: "+l);s+=_H[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=aI(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=sI(this.encryptionKey,this.padding)}function tg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var s=e.charCodeAt(a);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[a]}return t}function EH(e){if(va(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,s){if(s=s||!1,typeof r!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!s],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(l){sn.console&&Ba.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function w5(e){if(!(this instanceof w5))return new w5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function ase(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Pp(e,t,r,a,s){if(!(this instanceof Pp))return new Pp(e,t,r,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,ase.call(this,a,s)}function gg(e,t,r,a,s){if(!(this instanceof gg))return new gg(e,t,r,a,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,ase.call(this,a,s)}function Rr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;va(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},A={internal:{},__private__:{}};A.__private__.PubSub=EH;var p="1.3",m=A.__private__.getPdfVersion=function(){return p};A.__private__.setPdfVersion=function(K){p=K};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return x};var g=A.__private__.getPageFormat=function(K){return x[K]};s=s||"a4";var v="compat",y="advanced",j=v;function b(){this.saveGraphicsState(),ee(new ar(He,0,0,-He,0,Vl()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),d="n",j=y}function w(){this.restoreGraphicsState(),d="S",j=v}var C=A.__private__.combineFontStyleAndFontWeight=function(K,he){if(K=="bold"&&he=="normal"||K=="bold"&&he==400||K=="normal"&&he=="italic"||K=="bold"&&he=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(K=he==400||he==="normal"?K==="italic"?"italic":"normal":he!=700&&he!=="bold"||K!=="normal"?(he==700?"bold":he)+""+K:"bold"),K};A.advancedAPI=function(K){var he=j===v;return he&&b.call(this),typeof K!="function"||(K(this),he&&w.call(this)),this},A.compatAPI=function(K){var he=j===y;return he&&w.call(this),typeof K!="function"||(K(this),he&&b.call(this)),this},A.isAdvancedAPI=function(){return j===y};var F,E=function(K){if(j!==y)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=A.roundToPrecision=A.__private__.roundToPrecision=function(K,he){var $e=t||he;if(isNaN(K)||isNaN($e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed($e).replace(/0+$/,"")};F=A.hpf=A.__private__.hpf=typeof c=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return L(K,c)}:c==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return L(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return L(K,16)};var N=A.f2=A.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return L(K,2)},I=A.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return L(K,3)},M=A.scale=A.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return j===v?K*He:j===y?K:void 0},O=function(K){return M(function(he){return j===v?Vl()-he:j===y?he:void 0}(K))};A.__private__.setPrecision=A.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var k,P="00000000000000000000000000000000",R=A.__private__.getFileId=function(){return P},V=A.__private__.setFileId=function(K){return P=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():P.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ks=new eg(u.userPermissions,u.userPassword,u.ownerPassword,P)),P};A.setFileId=function(K){return V(K),this},A.getFileId=function(){return R()};var D=A.__private__.convertDateToPDFDate=function(K){var he=K.getTimezoneOffset(),$e=he<0?"+":"-",at=Math.floor(Math.abs(he/60)),ft=Math.abs(he%60),Pt=[$e,Q(at),"'",Q(ft),"'"].join("");return["D:",K.getFullYear(),Q(K.getMonth()+1),Q(K.getDate()),Q(K.getHours()),Q(K.getMinutes()),Q(K.getSeconds()),Pt].join("")},Y=A.__private__.convertPDFDateToDate=function(K){var he=parseInt(K.substr(2,4),10),$e=parseInt(K.substr(6,2),10)-1,at=parseInt(K.substr(8,2),10),ft=parseInt(K.substr(10,2),10),Pt=parseInt(K.substr(12,2),10),qt=parseInt(K.substr(14,2),10);return new Date(he,$e,at,ft,Pt,qt,0)},ne=A.__private__.setCreationDate=function(K){var he;if(K===void 0&&(K=new Date),K instanceof Date)he=D(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=K}return k=he},S=A.__private__.getCreationDate=function(K){var he=k;return K==="jsDate"&&(he=Y(k)),he};A.setCreationDate=function(K){return ne(K),this},A.getCreationDate=function(K){return S(K)};var z,Q=A.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},W=A.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},U=0,re=[],de=[],ae=0,Ae=[],Me=[],H=!1,Oe=de;A.__private__.setCustomOutputDestination=function(K){H=!0,Oe=K};var Ee=function(K){H||(Oe=K)};A.__private__.resetCustomOutputDestination=function(){H=!1,Oe=de};var ee=A.__private__.out=function(K){return K=K.toString(),ae+=K.length+1,Oe.push(K),Oe},st=A.__private__.write=function(K){return ee(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},se=A.__private__.getArrayBuffer=function(K){for(var he=K.length,$e=new ArrayBuffer(he),at=new Uint8Array($e);he--;)at[he]=K.charCodeAt(he);return $e},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return me};var nt=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(K){return nt=j===y?K/He:K,this};var Nt,xt=A.__private__.getFontSize=A.getFontSize=function(){return j===v?nt:nt*He},Ne=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(K){return Ne=K,this},A.__private__.getR2L=A.getR2L=function(){return Ne};var le,Fe=A.__private__.setZoomMode=function(K){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))Nt=K;else if(isNaN(K)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');Nt=K}else Nt=parseInt(K,10)};A.__private__.getZoomMode=function(){return Nt};var ze,je=A.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');le=K};A.__private__.getPageMode=function(){return le};var De=A.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');ze=K};A.__private__.getLayoutMode=function(){return ze},A.__private__.setDisplayMode=A.setDisplayMode=function(K,he,$e){return Fe(K),De(he),je($e),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(K){if(Object.keys(Ke).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[K]},A.__private__.getDocumentProperties=function(){return Ke},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(K){for(var he in Ke)Ke.hasOwnProperty(he)&&K[he]&&(Ke[he]=K[he]);return this},A.__private__.setDocumentProperty=function(K,he){if(Object.keys(Ke).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[K]=he};var At,He,Te,dr,Pe,X={},We={},wt=[],Ct={},Qt={},pe={},dt={},Rt=null,Dt=0,ot=[],Ft=new EH(A),Er=e.hotfixes||[],xr={},on={},zt=[],ar=function K(he,$e,at,ft,Pt,qt){if(!(this instanceof K))return new K(he,$e,at,ft,Pt,qt);isNaN(he)&&(he=1),isNaN($e)&&($e=0),isNaN(at)&&(at=0),isNaN(ft)&&(ft=1),isNaN(Pt)&&(Pt=0),isNaN(qt)&&(qt=0),this._matrix=[he,$e,at,ft,Pt,qt]};Object.defineProperty(ar.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ar.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ar.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ar.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ar.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ar.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ar.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ar.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ar.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ar.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ar.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ar.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ar.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ar.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ar.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ar.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ar.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(K)},ar.prototype.multiply=function(K){var he=K.sx*this.sx+K.shy*this.shx,$e=K.sx*this.shy+K.shy*this.sy,at=K.shx*this.sx+K.sy*this.shx,ft=K.shx*this.shy+K.sy*this.sy,Pt=K.tx*this.sx+K.ty*this.shx+this.tx,qt=K.tx*this.shy+K.ty*this.sy+this.ty;return new ar(he,$e,at,ft,Pt,qt)},ar.prototype.decompose=function(){var K=this.sx,he=this.shy,$e=this.shx,at=this.sy,ft=this.tx,Pt=this.ty,qt=Math.sqrt(K*K+he*he),Fr=(K/=qt)*$e+(he/=qt)*at;$e-=K*Fr,at-=he*Fr;var Dr=Math.sqrt($e*$e+at*at);return Fr/=Dr,K*(at/=Dr)<he*($e/=Dr)&&(K=-K,he=-he,Fr=-Fr,qt=-qt),{scale:new ar(qt,0,0,Dr,0,0),translate:new ar(1,0,0,1,ft,Pt),rotate:new ar(K,he,-he,K,0,0),skew:new ar(1,0,Fr,1,0,0)}},ar.prototype.toString=function(K){return this.join(" ")},ar.prototype.inversed=function(){var K=this.sx,he=this.shy,$e=this.shx,at=this.sy,ft=this.tx,Pt=this.ty,qt=1/(K*at-he*$e),Fr=at*qt,Dr=-he*qt,an=-$e*qt,An=K*qt;return new ar(Fr,Dr,an,An,-Fr*ft-an*Pt,-Dr*ft-An*Pt)},ar.prototype.applyToPoint=function(K){var he=K.x*this.sx+K.y*this.shx+this.tx,$e=K.x*this.shy+K.y*this.sy+this.ty;return new dp(he,$e)},ar.prototype.applyToRectangle=function(K){var he=this.applyToPoint(K),$e=this.applyToPoint(new dp(K.x+K.w,K.y+K.h));return new m1(he.x,he.y,$e.x-he.x,$e.y-he.y)},ar.prototype.clone=function(){var K=this.sx,he=this.shy,$e=this.shx,at=this.sy,ft=this.tx,Pt=this.ty;return new ar(K,he,$e,at,ft,Pt)},A.Matrix=ar;var is=A.matrixMult=function(K,he){return he.multiply(K)},gs=new ar(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=gs;var te=function(K,he){if(!Qt[K]){var $e=(he instanceof Pp?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);he.id=$e,Qt[K]=$e,Ct[$e]=he,Ft.publish("addPattern",he)}};A.ShadingPattern=Pp,A.TilingPattern=gg,A.addShadingPattern=function(K,he){return E("addShadingPattern()"),te(K,he),this},A.beginTilingPattern=function(K){E("beginTilingPattern()"),p1(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},A.endTilingPattern=function(K,he){E("endTilingPattern()"),he.stream=Me[z].join(`
`),te(K,he),Ft.publish("endTilingPattern",he),zt.pop().restore()};var Xe,ht=A.__private__.newObject=function(){var K=Gt();return oe(K,!0),K},Gt=A.__private__.newObjectDeferred=function(){return U++,re[U]=function(){return ae},U},oe=function(K,he){return he=typeof he=="boolean"&&he,re[K]=ae,he&&ee(K+" 0 obj"),K},ce=A.__private__.newAdditionalObject=function(){var K={objId:Gt(),content:""};return Ae.push(K),K},we=Gt(),ye=Gt(),ke=A.__private__.decodeColorString=function(K){var he=K.split(" ");if(he.length!==2||he[1]!=="g"&&he[1]!=="G")he.length!==5||he[4]!=="k"&&he[4]!=="K"||(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var $e=parseFloat(he[0]);he=[$e,$e,$e,"r"]}for(var at="#",ft=0;ft<3;ft++)at+=("0"+Math.floor(255*parseFloat(he[ft])).toString(16)).slice(-2);return at},Ie=A.__private__.encodeColorString=function(K){var he;typeof K=="string"&&(K={ch1:K});var $e=K.ch1,at=K.ch2,ft=K.ch3,Pt=K.ch4,qt=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $e=="string"&&$e.charAt(0)!=="#"){var Fr=new rse($e);if(Fr.ok)$e=Fr.toHex();else if(!/^\d*\.?\d*$/.test($e))throw new Error('Invalid color "'+$e+'" passed to jsPDF.encodeColorString.')}if(typeof $e=="string"&&/^#[0-9A-Fa-f]{3}$/.test($e)&&($e="#"+$e[1]+$e[1]+$e[2]+$e[2]+$e[3]+$e[3]),typeof $e=="string"&&/^#[0-9A-Fa-f]{6}$/.test($e)){var Dr=parseInt($e.substr(1),16);$e=Dr>>16&255,at=Dr>>8&255,ft=255&Dr}if(at===void 0||Pt===void 0&&$e===at&&at===ft)he=typeof $e=="string"?$e+" "+qt[0]:K.precision===2?N($e/255)+" "+qt[0]:I($e/255)+" "+qt[0];else if(Pt===void 0||va(Pt)==="object"){if(Pt&&!isNaN(Pt.a)&&Pt.a===0)return["1.","1.","1.",qt[1]].join(" ");he=typeof $e=="string"?[$e,at,ft,qt[1]].join(" "):K.precision===2?[N($e/255),N(at/255),N(ft/255),qt[1]].join(" "):[I($e/255),I(at/255),I(ft/255),qt[1]].join(" ")}else he=typeof $e=="string"?[$e,at,ft,Pt,qt[2]].join(" "):K.precision===2?[N($e),N(at),N(ft),N(Pt),qt[2]].join(" "):[I($e),I(at),I(ft),I(Pt),qt[2]].join(" ");return he},q=A.__private__.getFilters=function(){return o},xe=A.__private__.putStream=function(K){var he=(K=K||{}).data||"",$e=K.filters||q(),at=K.alreadyAppliedFilters||[],ft=K.addLength1||!1,Pt=he.length,qt=K.objectId,Fr=function(li){return li};if(u!==null&&qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Fr=ks.encryptor(qt,0));var Dr={};$e===!0&&($e=["FlateEncode"]);var an=K.additionalKeyValues||[],An=(Dr=Rr.API.processDataByFilters!==void 0?Rr.API.processDataByFilters(he,$e):{data:he,reverseChain:[]}).reverseChain+(Array.isArray(at)?at.join(" "):at.toString());if(Dr.data.length!==0&&(an.push({key:"Length",value:Dr.data.length}),ft===!0&&an.push({key:"Length1",value:Pt})),An.length!=0)if(An.split("/").length-1==1)an.push({key:"Filter",value:An});else{an.push({key:"Filter",value:"["+An+"]"});for(var aa=0;aa<an.length;aa+=1)if(an[aa].key==="DecodeParms"){for(var os=[],Gs=0;Gs<Dr.reverseChain.split("/").length-1;Gs+=1)os.push("null");os.push(an[aa].value),an[aa].value="["+os.join(" ")+"]"}}ee("<<");for(var Na=0;Na<an.length;Na++)ee("/"+an[Na].key+" "+an[Na].value);ee(">>"),Dr.data.length!==0&&(ee("stream"),ee(Fr(Dr.data)),ee("endstream"))},_e=A.__private__.putPage=function(K){var he=K.number,$e=K.data,at=K.objId,ft=K.contentsObjId;oe(at,!0),ee("<</Type /Page"),ee("/Parent "+K.rootDictionaryObjId+" 0 R"),ee("/Resources "+K.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(F(K.mediaBox.bottomLeftX))+" "+parseFloat(F(K.mediaBox.bottomLeftY))+" "+F(K.mediaBox.topRightX)+" "+F(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&ee("/CropBox ["+F(K.cropBox.bottomLeftX)+" "+F(K.cropBox.bottomLeftY)+" "+F(K.cropBox.topRightX)+" "+F(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&ee("/BleedBox ["+F(K.bleedBox.bottomLeftX)+" "+F(K.bleedBox.bottomLeftY)+" "+F(K.bleedBox.topRightX)+" "+F(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&ee("/TrimBox ["+F(K.trimBox.bottomLeftX)+" "+F(K.trimBox.bottomLeftY)+" "+F(K.trimBox.topRightX)+" "+F(K.trimBox.topRightY)+"]"),K.artBox!==null&&ee("/ArtBox ["+F(K.artBox.bottomLeftX)+" "+F(K.artBox.bottomLeftY)+" "+F(K.artBox.topRightX)+" "+F(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&ee("/UserUnit "+K.userUnit),Ft.publish("putPage",{objId:at,pageContext:ot[he],pageNumber:he,page:$e}),ee("/Contents "+ft+" 0 R"),ee(">>"),ee("endobj");var Pt=$e.join(`
`);return j===y&&(Pt+=`
Q`),oe(ft,!0),xe({data:Pt,filters:q(),objectId:ft}),ee("endobj"),at},Ye=A.__private__.putPages=function(){var K,he,$e=[];for(K=1;K<=Dt;K++)ot[K].objId=Gt(),ot[K].contentsObjId=Gt();for(K=1;K<=Dt;K++)$e.push(_e({number:K,data:Me[K],objId:ot[K].objId,contentsObjId:ot[K].contentsObjId,mediaBox:ot[K].mediaBox,cropBox:ot[K].cropBox,bleedBox:ot[K].bleedBox,trimBox:ot[K].trimBox,artBox:ot[K].artBox,userUnit:ot[K].userUnit,rootDictionaryObjId:we,resourceDictionaryObjId:ye}));oe(we,!0),ee("<</Type /Pages");var at="/Kids [";for(he=0;he<Dt;he++)at+=$e[he]+" 0 R ";ee(at+"]"),ee("/Count "+Dt),ee(">>"),ee("endobj"),Ft.publish("postPutPages")},Ve=function(K){Ft.publish("putFont",{font:K,out:ee,newObject:ht,putStream:xe}),K.isAlreadyPutted!==!0&&(K.objectNumber=ht(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+tg(K.postScriptName)),ee("/Subtype /Type1"),typeof K.encoding=="string"&&ee("/Encoding /"+K.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},qe=function(K){K.objectNumber=ht();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[F(K.x),F(K.y),F(K.x+K.width),F(K.y+K.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var $e=K.pages[1].join(`
`);xe({data:$e,additionalKeyValues:he,objectId:K.objectNumber}),ee("endobj")},bt=function(K,he){he||(he=21);var $e=ht(),at=function(qt,Fr){var Dr,an=[],An=1/(Fr-1);for(Dr=0;Dr<1;Dr+=An)an.push(Dr);if(an.push(1),qt[0].offset!=0){var aa={offset:0,color:qt[0].color};qt.unshift(aa)}if(qt[qt.length-1].offset!=1){var os={offset:1,color:qt[qt.length-1].color};qt.push(os)}for(var Gs="",Na=0,li=0;li<an.length;li++){for(Dr=an[li];Dr>qt[Na+1].offset;)Na++;var Xs=qt[Na].offset,$i=(Dr-Xs)/(qt[Na+1].offset-Xs),Lh=qt[Na].color,Zf=qt[Na+1].color;Gs+=W(Math.round((1-$i)*Lh[0]+$i*Zf[0]).toString(16))+W(Math.round((1-$i)*Lh[1]+$i*Zf[1]).toString(16))+W(Math.round((1-$i)*Lh[2]+$i*Zf[2]).toString(16))}return Gs.trim()}(K.colors,he),ft=[];ft.push({key:"FunctionType",value:"0"}),ft.push({key:"Domain",value:"[0.0 1.0]"}),ft.push({key:"Size",value:"["+he+"]"}),ft.push({key:"BitsPerSample",value:"8"}),ft.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ft.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe({data:at,additionalKeyValues:ft,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$e}),ee("endobj"),K.objectNumber=ht(),ee("<< /ShadingType "+K.type),ee("/ColorSpace /DeviceRGB");var Pt="/Coords ["+F(parseFloat(K.coords[0]))+" "+F(parseFloat(K.coords[1]))+" ";K.type===2?Pt+=F(parseFloat(K.coords[2]))+" "+F(parseFloat(K.coords[3])):Pt+=F(parseFloat(K.coords[2]))+" "+F(parseFloat(K.coords[3]))+" "+F(parseFloat(K.coords[4]))+" "+F(parseFloat(K.coords[5])),ee(Pt+="]"),K.matrix&&ee("/Matrix ["+K.matrix.toString()+"]"),ee("/Function "+$e+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},yt=function(K,he){var $e=Gt(),at=ht();he.push({resourcesOid:$e,objectOid:at}),K.objectNumber=at;var ft=[];ft.push({key:"Type",value:"/Pattern"}),ft.push({key:"PatternType",value:"1"}),ft.push({key:"PaintType",value:"1"}),ft.push({key:"TilingType",value:"1"}),ft.push({key:"BBox",value:"["+K.boundingBox.map(F).join(" ")+"]"}),ft.push({key:"XStep",value:F(K.xStep)}),ft.push({key:"YStep",value:F(K.yStep)}),ft.push({key:"Resources",value:$e+" 0 R"}),K.matrix&&ft.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),xe({data:K.stream,additionalKeyValues:ft,objectId:K.objectNumber}),ee("endobj")},It=function(K){for(var he in K.objectNumber=ht(),ee("<<"),K)switch(he){case"opacity":ee("/ca "+N(K[he]));break;case"stroke-opacity":ee("/CA "+N(K[he]))}ee(">>"),ee("endobj")},Wt=function(K){oe(K.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var he in ee("/Font <<"),X)X.hasOwnProperty(he)&&(h===!1||h===!0&&f.hasOwnProperty(he))&&ee("/"+he+" "+X[he].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(Ct).length>0){for(var he in ee("/Shading <<"),Ct)Ct.hasOwnProperty(he)&&Ct[he]instanceof Pp&&Ct[he].objectNumber>=0&&ee("/"+he+" "+Ct[he].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),ee(">>")}}(),function(he){if(Object.keys(Ct).length>0){for(var $e in ee("/Pattern <<"),Ct)Ct.hasOwnProperty($e)&&Ct[$e]instanceof A.TilingPattern&&Ct[$e].objectNumber>=0&&Ct[$e].objectNumber<he&&ee("/"+$e+" "+Ct[$e].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),ee(">>")}}(K.objectOid),function(){if(Object.keys(pe).length>0){var he;for(he in ee("/ExtGState <<"),pe)pe.hasOwnProperty(he)&&pe[he].objectNumber>=0&&ee("/"+he+" "+pe[he].objectNumber+" 0 R");Ft.publish("putGStateDict"),ee(">>")}}(),function(){for(var he in ee("/XObject <<"),xr)xr.hasOwnProperty(he)&&xr[he].objectNumber>=0&&ee("/"+he+" "+xr[he].objectNumber+" 0 R");Ft.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},yr=function(K){We[K.fontName]=We[K.fontName]||{},We[K.fontName][K.fontStyle]=K.id},In=function(K,he,$e,at,ft){var Pt={id:"F"+(Object.keys(X).length+1).toString(10),postScriptName:K,fontName:he,fontStyle:$e,encoding:at,isStandardFont:ft||!1,metadata:{}};return Ft.publish("addFont",{font:Pt,instance:this}),X[Pt.id]=Pt,yr(Pt),Pt.id},un=A.__private__.pdfEscape=A.pdfEscape=function(K,he){return function($e,at){var ft,Pt,qt,Fr,Dr,an,An,aa,os;if(qt=(at=at||{}).sourceEncoding||"Unicode",Dr=at.outputEncoding,(at.autoencode||Dr)&&X[At].metadata&&X[At].metadata[qt]&&X[At].metadata[qt].encoding&&(Fr=X[At].metadata[qt].encoding,!Dr&&X[At].encoding&&(Dr=X[At].encoding),!Dr&&Fr.codePages&&(Dr=Fr.codePages[0]),typeof Dr=="string"&&(Dr=Fr[Dr]),Dr)){for(An=!1,an=[],ft=0,Pt=$e.length;ft<Pt;ft++)(aa=Dr[$e.charCodeAt(ft)])?an.push(String.fromCharCode(aa)):an.push($e[ft]),an[ft].charCodeAt(0)>>8&&(An=!0);$e=an.join("")}for(ft=$e.length;An===void 0&&ft!==0;)$e.charCodeAt(ft-1)>>8&&(An=!0),ft--;if(!An)return $e;for(an=at.noBOM?[]:[254,255],ft=0,Pt=$e.length;ft<Pt;ft++){if((os=(aa=$e.charCodeAt(ft))>>8)>>8)throw new Error("Character at position "+ft+" of string '"+$e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");an.push(os),an.push(aa-(os<<8))}return String.fromCharCode.apply(void 0,an)}(K,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ta=A.__private__.beginPage=function(K){Me[++Dt]=[],ot[Dt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},Ui(Dt),Ee(Me[z])},Qr=function(K,he){var $e,at,ft;switch(r=he||r,typeof K=="string"&&($e=g(K.toLowerCase()),Array.isArray($e)&&(at=$e[0],ft=$e[1])),Array.isArray(K)&&(at=K[0]*He,ft=K[1]*He),isNaN(at)&&(at=s[0],ft=s[1]),(at>14400||ft>14400)&&(Ba.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),at=Math.min(14400,at),ft=Math.min(14400,ft)),s=[at,ft],r.substr(0,1)){case"l":ft>at&&(s=[ft,at]);break;case"p":at>ft&&(s=[ft,at])}ta(s),JF(u1),ee(mx),f1!==0&&ee(f1+" J"),A1!==0&&ee(A1+" j"),Ft.publish("addPage",{pageNumber:Dt})},ia=function(K){K>0&&K<=Dt&&(Me.splice(K,1),ot.splice(K,1),Dt--,z>Dt&&(z=Dt),this.setPage(z))},Ui=function(K){K>0&&K<=Dt&&(z=K)},Qi=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return Me.length-1},zl=function(K,he,$e){var at,ft=void 0;return $e=$e||{},K=K!==void 0?K:X[At].fontName,he=he!==void 0?he:X[At].fontStyle,at=K.toLowerCase(),We[at]!==void 0&&We[at][he]!==void 0?ft=We[at][he]:We[K]!==void 0&&We[K][he]!==void 0?ft=We[K][he]:$e.disableWarning===!1&&Ba.warn("Unable to look up font label for font '"+K+"', '"+he+"'. Refer to getFontList() for available fonts."),ft||$e.noFallback||(ft=We.times[he])==null&&(ft=We.times.normal),ft},ji=A.__private__.putInfo=function(){var K=ht(),he=function(at){return at};for(var $e in u!==null&&(he=ks.encryptor(K,0)),ee("<<"),ee("/Producer ("+un(he("jsPDF "+Rr.version))+")"),Ke)Ke.hasOwnProperty($e)&&Ke[$e]&&ee("/"+$e.substr(0,1).toUpperCase()+$e.substr(1)+" ("+un(he(Ke[$e]))+")");ee("/CreationDate ("+un(he(k))+")"),ee(">>"),ee("endobj")},o1=A.__private__.putCatalog=function(K){var he=(K=K||{}).rootDictionaryObjId||we;switch(ht(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+he+" 0 R"),Nt||(Nt="fullwidth"),Nt){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $e=""+Nt;$e.substr($e.length-1)==="%"&&(Nt=parseInt(Nt)/100),typeof Nt=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+N(Nt)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}le&&ee("/PageMode /"+le),Ft.publish("putCatalog"),ee(">>"),ee("endobj")},vs=A.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(U+1)),ee("/Root "+U+" 0 R"),ee("/Info "+(U-1)+" 0 R"),u!==null&&ee("/Encrypt "+ks.oid+" 0 R"),ee("/ID [ <"+P+"> <"+P+"> ]"),ee(">>")},np=A.__private__.putHeader=function(){ee("%PDF-"+p),ee("%")},bu=A.__private__.putXRef=function(){var K="0000000000";ee("xref"),ee("0 "+(U+1)),ee("0000000000 65535 f ");for(var he=1;he<=U;he++)typeof re[he]=="function"?ee((K+re[he]()).slice(-10)+" 00000 n "):re[he]!==void 0?ee((K+re[he]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Nd=A.__private__.buildDocument=function(){var K;U=0,ae=0,de=[],re=[],Ae=[],we=Gt(),ye=Gt(),Ee(de),Ft.publish("buildDocument"),np(),Ye(),function(){Ft.publish("putAdditionalObjects");for(var $e=0;$e<Ae.length;$e++){var at=Ae[$e];oe(at.objId,!0),ee(at.content),ee("endobj")}Ft.publish("postPutAdditionalObjects")}(),K=[],function(){for(var $e in X)X.hasOwnProperty($e)&&(h===!1||h===!0&&f.hasOwnProperty($e))&&Ve(X[$e])}(),function(){var $e;for($e in pe)pe.hasOwnProperty($e)&&It(pe[$e])}(),function(){for(var $e in xr)xr.hasOwnProperty($e)&&qe(xr[$e])}(),function($e){var at;for(at in Ct)Ct.hasOwnProperty(at)&&(Ct[at]instanceof Pp?bt(Ct[at]):Ct[at]instanceof gg&&yt(Ct[at],$e))}(K),Ft.publish("putResources"),K.forEach(Wt),Wt({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources"),u!==null&&(ks.oid=ht(),ee("<<"),ee("/Filter /Standard"),ee("/V "+ks.v),ee("/R "+ks.r),ee("/U <"+ks.toHexString(ks.U)+">"),ee("/O <"+ks.toHexString(ks.O)+">"),ee("/P "+ks.P),ee(">>"),ee("endobj")),ji(),o1();var he=ae;return bu(),vs(),ee("startxref"),ee(""+he),ee("%%EOF"),Ee(Me[z]),de.join(`
`)},ap=A.__private__.getBlob=function(K){return new Blob([se(K)],{type:"application/pdf"})},Cd=A.output=A.__private__.output=(Xe=function(K,he){switch(typeof(he=he||{})=="string"?he={filename:he}:he.filename=he.filename||"generated.pdf",K){case void 0:return Nd();case"save":A.save(he.filename);break;case"arraybuffer":return se(Nd());case"blob":return ap(Nd());case"bloburi":case"bloburl":if(sn.URL!==void 0&&typeof sn.URL.createObjectURL=="function")return sn.URL&&sn.URL.createObjectURL(ap(Nd()))||void 0;Ba.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $e="",at=Nd();try{$e=CH(at)}catch{$e=CH(unescape(encodeURIComponent(at)))}return"data:application/pdf;filename="+he.filename+";base64,"+$e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var ft="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(ft=he.pdfObjectUrl,Pt="");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ft+'"'+Pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",Fr=sn.open();return Fr!==null&&Fr.document.write(qt),Fr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sn)==="[object Window]"){var Dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',an=sn.open();if(an!==null){an.document.write(Dr);var An=this;an.document.documentElement.querySelector("#pdfViewer").onload=function(){an.document.title=he.filename,an.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return an}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var aa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',os=sn.open();if(os!==null&&(os.document.write(aa),os.document.title=he.filename),os||typeof safari>"u")return os;break;case"datauri":case"dataurl":return sn.document.location.href=this.output("datauristring",he);default:return null}},Xe.foo=function(){try{return Xe.apply(this,arguments)}catch($e){var K=$e.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var he="Error in function "+K.split(`
`)[0].split("<")[0]+": "+$e.message;if(!sn.console)throw new Error(he);sn.console.error(he,$e),sn.alert&&alert(he)}},Xe.foo.bar=Xe,Xe.foo),sp=function(K){return Array.isArray(Er)===!0&&Er.indexOf(K)>-1};switch(a){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=sp("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);He=a}var ks=null;ne(),V();var l1=A.__private__.getPageInfo=A.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[K].objId,pageNumber:K,pageContext:ot[K]}},VF=A.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in ot)if(ot[he].objId===K)break;return l1(he)},KF=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:ot[z].objId,pageNumber:z,pageContext:ot[z]}};A.addPage=function(){return Qr.apply(this,arguments),this},A.setPage=function(){return Ui.apply(this,arguments),Ee.call(this,Me[z]),this},A.insertPage=function(K){return this.addPage(),this.movePage(z,K),this},A.movePage=function(K,he){var $e,at;if(K>he){$e=Me[K],at=ot[K];for(var ft=K;ft>he;ft--)Me[ft]=Me[ft-1],ot[ft]=ot[ft-1];Me[he]=$e,ot[he]=at,this.setPage(he)}else if(K<he){$e=Me[K],at=ot[K];for(var Pt=K;Pt<he;Pt++)Me[Pt]=Me[Pt+1],ot[Pt]=ot[Pt+1];Me[he]=$e,ot[he]=at,this.setPage(he)}return this},A.deletePage=function(){return ia.apply(this,arguments),this},A.__private__.text=A.text=function(K,he,$e,at,ft){var Pt,qt,Fr,Dr,an,An,aa,os,Gs,Na=(at=at||{}).scope||this;if(typeof K=="number"&&typeof he=="number"&&(typeof $e=="string"||Array.isArray($e))){var li=$e;$e=he,he=K,K=li}if(arguments[3]instanceof ar==0?(Fr=arguments[4],Dr=arguments[5],va(aa=arguments[3])==="object"&&aa!==null||(typeof Fr=="string"&&(Dr=Fr,Fr=null),typeof aa=="string"&&(Dr=aa,aa=null),typeof aa=="number"&&(Fr=aa,aa=null),at={flags:aa,angle:Fr,align:Dr})):(E("The transform parameter of text() with a Matrix value"),Gs=ft),isNaN(he)||isNaN($e)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return Na;var Xs,$i="",Lh=typeof at.lineHeightFactor=="number"?at.lineHeightFactor:op,Zf=Na.internal.scaleFactor;function sP(Oa){return Oa=Oa.split("	").join(Array(at.TabLen||9).join(" ")),un(Oa,aa)}function kN(Oa){for(var Da,Is=Oa.concat(),Os=[],Qh=Is.length;Qh--;)typeof(Da=Is.shift())=="string"?Os.push(Da):Array.isArray(Oa)&&(Da.length===1||Da[1]===void 0&&Da[2]===void 0)?Os.push(Da[0]):Os.push([Da[0],Da[1],Da[2]]);return Os}function hp(Oa,Da){var Is;if(typeof Oa=="string")Is=Da(Oa)[0];else if(Array.isArray(Oa)){for(var Os,Qh,Sx=Oa.concat(),Bu=[],S1=Sx.length;S1--;)typeof(Os=Sx.shift())=="string"?Bu.push(Da(Os)[0]):Array.isArray(Os)&&typeof Os[0]=="string"&&(Qh=Da(Os[0],Os[1],Os[2]),Bu.push([Qh[0],Qh[1],Qh[2]]));Is=Bu}return Is}var Sd=!1,v1=!0;if(typeof K=="string")Sd=!0;else if(Array.isArray(K)){var vx=K.concat();qt=[];for(var eA,Ni=vx.length;Ni--;)(typeof(eA=vx.shift())!="string"||Array.isArray(eA)&&typeof eA[0]!="string")&&(v1=!1);Sd=v1}if(Sd===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Rh=nt/Na.internal.scaleFactor,Mh=Rh*(Lh-1);switch(at.baseline){case"bottom":$e-=Mh;break;case"top":$e+=Rh-Mh;break;case"hanging":$e+=Rh-2*Mh;break;case"middle":$e+=Rh/2-Mh}if((An=at.maxWidth||0)>0&&(typeof K=="string"?K=Na.splitTextToSize(K,An):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Oa,Da){return Oa.concat(Na.splitTextToSize(Da,An))},[]))),Pt={text:K,x:he,y:$e,options:at,mutex:{pdfEscape:un,activeFontKey:At,fonts:X,activeFontSize:nt}},Ft.publish("preProcessText",Pt),K=Pt.text,Fr=(at=Pt.options).angle,Gs instanceof ar==0&&Fr&&typeof Fr=="number"){Fr*=Math.PI/180,at.rotationDirection===0&&(Fr=-Fr),j===y&&(Fr=-Fr);var yx=Math.cos(Fr),y1=Math.sin(Fr);Gs=new ar(yx,y1,-y1,yx,0,0)}else Fr&&Fr instanceof ar&&(Gs=Fr);j!==y||Gs||(Gs=gs),(an=at.charSpace||xx)!==void 0&&($i+=F(M(an))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(os=at.horizontalScale)!==void 0&&($i+=F(100*os)+` Tz
`),at.lang;var Lo=-1,TN=at.renderingMode!==void 0?at.renderingMode:at.stroke,wx=Na.internal.getCurrentPageInfo().pageContext;switch(TN){case 0:case!1:case"fill":Lo=0;break;case 1:case!0:case"stroke":Lo=1;break;case 2:case"fillThenStroke":Lo=2;break;case 3:case"invisible":Lo=3;break;case 4:case"fillAndAddForClipping":Lo=4;break;case 5:case"strokeAndAddPathForClipping":Lo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Lo=6;break;case 7:case"addToPathForClipping":Lo=7}var IN=wx.usedRenderingMode!==void 0?wx.usedRenderingMode:-1;Lo!==-1?$i+=Lo+` Tr
`:IN!==-1&&($i+=`0 Tr
`),Lo!==-1&&(wx.usedRenderingMode=Lo),Dr=at.align||"left";var ci,Fc=nt*Lh,w1=Na.internal.pageSize.getWidth(),b1=X[At];an=at.charSpace||xx,An=at.maxWidth||0,aa=Object.assign({autoencode:!0,noBOM:!0},at.flags);var tA=[],bx=function(Oa){return Na.getStringUnitWidth(Oa,{font:b1,charSpace:an,fontSize:nt,doKerning:!1})*nt/Zf};if(Object.prototype.toString.call(K)==="[object Array]"){var gl;qt=kN(K),Dr!=="left"&&(ci=qt.map(bx));var vl,fp=0;if(Dr==="right"){he-=ci[0],K=[],Ni=qt.length;for(var Cu=0;Cu<Ni;Cu++)Cu===0?(vl=Oh(he),gl=Dh($e)):(vl=M(fp-ci[Cu]),gl=-Fc),K.push([qt[Cu],vl,gl]),fp=ci[Cu]}else if(Dr==="center"){he-=ci[0]/2,K=[],Ni=qt.length;for(var rA=0;rA<Ni;rA++)rA===0?(vl=Oh(he),gl=Dh($e)):(vl=M((fp-ci[rA])/2),gl=-Fc),K.push([qt[rA],vl,gl]),fp=ci[rA]}else if(Dr==="left"){K=[],Ni=qt.length;for(var j1=0;j1<Ni;j1++)K.push(qt[j1])}else if(Dr==="justify"&&b1.encoding==="Identity-H"){K=[],Ni=qt.length,An=An!==0?An:w1;for(var nA=0,Ts=0;Ts<Ni;Ts++)if(gl=Ts===0?Dh($e):-Fc,vl=Ts===0?Oh(he):nA,Ts<Ni-1){var iP=M((An-ci[Ts])/(qt[Ts].split(" ").length-1)),Su=qt[Ts].split(" ");K.push([Su[0]+" ",vl,gl]),nA=0;for(var _u=1;_u<Su.length;_u++){var jx=(bx(Su[_u-1]+" "+Su[_u])-bx(Su[_u]))*Zf+iP;_u==Su.length-1?K.push([Su[_u],jx,0]):K.push([Su[_u]+" ",jx,0]),nA-=jx}}else K.push([qt[Ts],vl,gl]);K.push(["",nA,0])}else{if(Dr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],Ni=qt.length,An=An!==0?An:w1,Ts=0;Ts<Ni;Ts++)gl=Ts===0?Dh($e):-Fc,vl=Ts===0?Oh(he):0,Ts<Ni-1?tA.push(F(M((An-ci[Ts])/(qt[Ts].split(" ").length-1)))):tA.push(0),K.push([qt[Ts],vl,gl])}}(typeof at.R2L=="boolean"?at.R2L:Ne)===!0&&(K=hp(K,function(Oa,Da,Is){return[Oa.split("").reverse().join(""),Da,Is]})),Pt={text:K,x:he,y:$e,options:at,mutex:{pdfEscape:un,activeFontKey:At,fonts:X,activeFontSize:nt}},Ft.publish("postProcessText",Pt),K=Pt.text,Xs=Pt.mutex.isHex||!1;var N1=X[At].encoding;N1!=="WinAnsiEncoding"&&N1!=="StandardEncoding"||(K=hp(K,function(Oa,Da,Is){return[sP(Oa),Da,Is]})),qt=kN(K),K=[];for(var Nx,Cx,Ap,mp=Array.isArray(qt[0])?1:0,Uh="",C1=function(Oa,Da,Is){var Os="";return Is instanceof ar?(Is=typeof at.angle=="number"?is(Is,new ar(1,0,0,1,Oa,Da)):is(new ar(1,0,0,1,Oa,Da),Is),j===y&&(Is=is(new ar(1,0,0,-1,0,0),Is)),Os=Is.join(" ")+` Tm
`):Os=F(Oa)+" "+F(Da)+` Td
`,Os},Kl=0;Kl<qt.length;Kl++){switch(Uh="",mp){case 1:Ap=(Xs?"<":"(")+qt[Kl][0]+(Xs?">":")"),Nx=parseFloat(qt[Kl][1]),Cx=parseFloat(qt[Kl][2]);break;case 0:Ap=(Xs?"<":"(")+qt[Kl]+(Xs?">":")"),Nx=Oh(he),Cx=Dh($e)}tA!==void 0&&tA[Kl]!==void 0&&(Uh=tA[Kl]+` Tw
`),Kl===0?K.push(Uh+C1(Nx,Cx,Gs)+Ap):mp===0?K.push(Uh+Ap):mp===1&&K.push(Uh+C1(Nx,Cx,Gs)+Ap)}K=mp===0?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var Eu=`BT
/`;return Eu+=At+" "+nt+` Tf
`,Eu+=F(nt*Lh)+` TL
`,Eu+=lp+`
`,Eu+=$i,Eu+=K,ee(Eu+="ET"),f[At]=!0,Na};var qF=A.__private__.clip=A.clip=function(K){return ee(K==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return qF("evenodd")},A.__private__.discardPath=A.discardPath=function(){return ee("n"),this};var ju=A.__private__.isValidStyle=function(K){var he=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(he=!0),he};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(K){return ju(K)&&(d=K),this};var FN=A.__private__.getStyle=A.getStyle=function(K){var he=d;switch(K){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=K}return he},PN=A.close=function(){return ee("h"),this};A.stroke=function(){return ee("S"),this},A.fill=function(K){return Yf("f",K),this},A.fillEvenOdd=function(K){return Yf("f*",K),this},A.fillStroke=function(K){return Yf("B",K),this},A.fillStrokeEvenOdd=function(K){return Yf("B*",K),this};var Yf=function(K,he){va(he)==="object"?GF(he,K):ee(K)},c1=function(K){K===null||j===y&&K===void 0||(K=FN(K),ee(K))};function WF(K,he,$e,at,ft){var Pt=new gg(he||this.boundingBox,$e||this.xStep,at||this.yStep,this.gState,ft||this.matrix);Pt.stream=this.stream;var qt=K+"$$"+this.cloneIndex+++"$$";return te(qt,Pt),Pt}var GF=function(K,he){var $e=Qt[K.key],at=Ct[$e];if(at instanceof Pp)ee("q"),ee(XF(he)),at.gState&&A.setGState(at.gState),ee(K.matrix.toString()+" cm"),ee("/"+$e+" sh"),ee("Q");else if(at instanceof gg){var ft=new ar(1,0,0,-1,0,Vl());K.matrix&&(ft=ft.multiply(K.matrix||gs),$e=WF.call(at,K.key,K.boundingBox,K.xStep,K.yStep,ft).id),ee("q"),ee("/Pattern cs"),ee("/"+$e+" scn"),at.gState&&A.setGState(at.gState),ee(he),ee("Q")}},XF=function(K){switch(K){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},d1=A.moveTo=function(K,he){return ee(F(M(K))+" "+F(O(he))+" m"),this},ip=A.lineTo=function(K,he){return ee(F(M(K))+" "+F(O(he))+" l"),this},Jf=A.curveTo=function(K,he,$e,at,ft,Pt){return ee([F(M(K)),F(O(he)),F(M($e)),F(O(at)),F(M(ft)),F(O(Pt)),"c"].join(" ")),this};A.__private__.line=A.line=function(K,he,$e,at,ft){if(isNaN(K)||isNaN(he)||isNaN($e)||isNaN(at)||!ju(ft))throw new Error("Invalid arguments passed to jsPDF.line");return j===v?this.lines([[$e-K,at-he]],K,he,[1,1],ft||"S"):this.lines([[$e-K,at-he]],K,he,[1,1]).stroke()},A.__private__.lines=A.lines=function(K,he,$e,at,ft,Pt){var qt,Fr,Dr,an,An,aa,os,Gs,Na,li,Xs,$i;if(typeof K=="number"&&($i=$e,$e=he,he=K,K=$i),at=at||[1,1],Pt=Pt||!1,isNaN(he)||isNaN($e)||!Array.isArray(K)||!Array.isArray(at)||!ju(ft)||typeof Pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(d1(he,$e),qt=at[0],Fr=at[1],an=K.length,li=he,Xs=$e,Dr=0;Dr<an;Dr++)(An=K[Dr]).length===2?(li=An[0]*qt+li,Xs=An[1]*Fr+Xs,ip(li,Xs)):(aa=An[0]*qt+li,os=An[1]*Fr+Xs,Gs=An[2]*qt+li,Na=An[3]*Fr+Xs,li=An[4]*qt+li,Xs=An[5]*Fr+Xs,Jf(aa,os,Gs,Na,li,Xs));return Pt&&PN(),c1(ft),this},A.path=function(K){for(var he=0;he<K.length;he++){var $e=K[he],at=$e.c;switch($e.op){case"m":d1(at[0],at[1]);break;case"l":ip(at[0],at[1]);break;case"c":Jf.apply(this,at);break;case"h":PN()}}return this},A.__private__.rect=A.rect=function(K,he,$e,at,ft){if(isNaN(K)||isNaN(he)||isNaN($e)||isNaN(at)||!ju(ft))throw new Error("Invalid arguments passed to jsPDF.rect");return j===v&&(at=-at),ee([F(M(K)),F(O(he)),F(M($e)),F(M(at)),"re"].join(" ")),c1(ft),this},A.__private__.triangle=A.triangle=function(K,he,$e,at,ft,Pt,qt){if(isNaN(K)||isNaN(he)||isNaN($e)||isNaN(at)||isNaN(ft)||isNaN(Pt)||!ju(qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$e-K,at-he],[ft-$e,Pt-at],[K-ft,he-Pt]],K,he,[1,1],qt,!0),this},A.__private__.roundedRect=A.roundedRect=function(K,he,$e,at,ft,Pt,qt){if(isNaN(K)||isNaN(he)||isNaN($e)||isNaN(at)||isNaN(ft)||isNaN(Pt)||!ju(qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Fr=4/3*(Math.SQRT2-1);return ft=Math.min(ft,.5*$e),Pt=Math.min(Pt,.5*at),this.lines([[$e-2*ft,0],[ft*Fr,0,ft,Pt-Pt*Fr,ft,Pt],[0,at-2*Pt],[0,Pt*Fr,-ft*Fr,Pt,-ft,Pt],[2*ft-$e,0],[-ft*Fr,0,-ft,-Pt*Fr,-ft,-Pt],[0,2*Pt-at],[0,-Pt*Fr,ft*Fr,-Pt,ft,-Pt]],K+ft,he,[1,1],qt,!0),this},A.__private__.ellipse=A.ellipse=function(K,he,$e,at,ft){if(isNaN(K)||isNaN(he)||isNaN($e)||isNaN(at)||!ju(ft))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pt=4/3*(Math.SQRT2-1)*$e,qt=4/3*(Math.SQRT2-1)*at;return d1(K+$e,he),Jf(K+$e,he-qt,K+Pt,he-at,K,he-at),Jf(K-Pt,he-at,K-$e,he-qt,K-$e,he),Jf(K-$e,he+qt,K-Pt,he+at,K,he+at),Jf(K+Pt,he+at,K+$e,he+qt,K+$e,he),c1(ft),this},A.__private__.circle=A.circle=function(K,he,$e,at){if(isNaN(K)||isNaN(he)||isNaN($e)||!ju(at))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,he,$e,$e,at)},A.setFont=function(K,he,$e){return $e&&(he=C(he,$e)),At=zl(K,he,{disableWarning:!1}),this};var YF=A.__private__.getFont=A.getFont=function(){return X[zl.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var K,he,$e={};for(K in We)if(We.hasOwnProperty(K))for(he in $e[K]=[],We[K])We[K].hasOwnProperty(he)&&$e[K].push(he);return $e},A.addFont=function(K,he,$e,at,ft){var Pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pt.indexOf(arguments[3])!==-1?ft=arguments[3]:arguments[3]&&Pt.indexOf(arguments[3])==-1&&($e=C($e,at)),In.call(this,K,he,$e,ft=ft||"Identity-H")};var op,u1=e.lineWidth||.200025,ln=A.__private__.getLineWidth=A.getLineWidth=function(){return u1},JF=A.__private__.setLineWidth=A.setLineWidth=function(K){return u1=K,ee(F(M(K))+" w"),this};A.__private__.setLineDash=Rr.API.setLineDash=Rr.API.setLineDashPattern=function(K,he){if(K=K||[],he=he||0,isNaN(he)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function($e){return F(M($e))}).join(" "),he=F(M(he)),ee("["+K+"] "+he+" d"),this};var ZF=A.__private__.getLineHeight=A.getLineHeight=function(){return nt*op};A.__private__.getLineHeight=A.getLineHeight=function(){return nt*op};var eP=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(op=K),this},tP=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return op};eP(e.lineHeight);var Oh=A.__private__.getHorizontalCoordinate=function(K){return M(K)},Dh=A.__private__.getVerticalCoordinate=function(K){return j===y?K:ot[z].mediaBox.topRightY-ot[z].mediaBox.bottomLeftY-M(K)},rP=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(K){return F(Oh(K))},nP=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(K){return F(Dh(K))},mx=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return ke(mx)},A.__private__.setStrokeColor=A.setDrawColor=function(K,he,$e,at){return mx=Ie({ch1:K,ch2:he,ch3:$e,ch4:at,pdfColorType:"draw",precision:2}),ee(mx),this};var h1=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return ke(h1)},A.__private__.setFillColor=A.setFillColor=function(K,he,$e,at){return h1=Ie({ch1:K,ch2:he,ch3:$e,ch4:at,pdfColorType:"fill",precision:2}),ee(h1),this};var lp=e.textColor||"0 g",px=A.__private__.getTextColor=A.getTextColor=function(){return ke(lp)};A.__private__.setTextColor=A.setTextColor=function(K,he,$e,at){return lp=Ie({ch1:K,ch2:he,ch3:$e,ch4:at,pdfColorType:"text",precision:3}),this};var xx=e.charSpace,aP=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(xx||0)};A.__private__.setCharSpace=A.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xx=K,this};var f1=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(K){var he=A.CapJoinStyles[K];if(he===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return f1=he,ee(he+" J"),this};var A1=0;A.__private__.setLineJoin=A.setLineJoin=function(K){var he=A.CapJoinStyles[K];if(he===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return A1=he,ee(he+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(F(M(K))+" M"),this},A.GState=w5,A.setGState=function(K){(K=typeof K=="string"?pe[dt[K]]:cp(null,K)).equals(Rt)||(ee("/"+K.id+" gs"),Rt=K)};var cp=function(K,he){if(!K||!dt[K]){var $e=!1;for(var at in pe)if(pe.hasOwnProperty(at)&&pe[at].equals(he)){$e=!0;break}if($e)he=pe[at];else{var ft="GS"+(Object.keys(pe).length+1).toString(10);pe[ft]=he,he.id=ft}return K&&(dt[K]=he.id),Ft.publish("addGState",he),he}};A.addGState=function(K,he){return cp(K,he),this},A.saveGraphicsState=function(){return ee("q"),wt.push({key:At,size:nt,color:lp}),this},A.restoreGraphicsState=function(){ee("Q");var K=wt.pop();return At=K.key,nt=K.size,lp=K.color,Rt=null,this},A.setCurrentTransformationMatrix=function(K){return ee(K.toString()+" cm"),this},A.comment=function(K){return ee("#"+K),this};var dp=function(K,he){var $e=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $e},set:function(Pt){isNaN(Pt)||($e=parseFloat(Pt))}});var at=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return at},set:function(Pt){isNaN(Pt)||(at=parseFloat(Pt))}});var ft="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ft},set:function(Pt){ft=Pt.toString()}}),this},m1=function(K,he,$e,at){dp.call(this,K,he),this.type="rect";var ft=$e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ft},set:function(qt){isNaN(qt)||(ft=parseFloat(qt))}});var Pt=at||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pt},set:function(qt){isNaN(qt)||(Pt=parseFloat(qt))}}),this},gx=function(){this.page=Dt,this.currentPage=z,this.pages=Me.slice(0),this.pagesContext=ot.slice(0),this.x=Te,this.y=dr,this.matrix=Pe,this.width=x1(z),this.height=Vl(z),this.outputDestination=Oe,this.id="",this.objectNumber=-1};gx.prototype.restore=function(){Dt=this.page,z=this.currentPage,ot=this.pagesContext,Me=this.pages,Te=this.x,dr=this.y,Pe=this.matrix,g1(z,this.width),Nu(z,this.height),Oe=this.outputDestination};var p1=function(K,he,$e,at,ft){zt.push(new gx),Dt=z=0,Me=[],Te=K,dr=he,Pe=ft,ta([$e,at])};for(var up in A.beginFormObject=function(K,he,$e,at,ft){return p1(K,he,$e,at,ft),this},A.endFormObject=function(K){return function(he){if(on[he])zt.pop().restore();else{var $e=new gx,at="Xo"+(Object.keys(xr).length+1).toString(10);$e.id=at,on[he]=at,xr[at]=$e,Ft.publish("addFormObject",$e),zt.pop().restore()}}(K),this},A.doFormObject=function(K,he){var $e=xr[on[K]];return ee("q"),ee(he.toString()+" cm"),ee("/"+$e.id+" Do"),ee("Q"),this},A.getFormObject=function(K){var he=xr[on[K]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},A.save=function(K,he){return K=K||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,he.returnPromise===!1?(Cp(ap(Nd()),K),typeof Cp.unload=="function"&&sn.setTimeout&&setTimeout(Cp.unload,911),this):new Promise(function($e,at){try{var ft=Cp(ap(Nd()),K);typeof Cp.unload=="function"&&sn.setTimeout&&setTimeout(Cp.unload,911),$e(ft)}catch(Pt){at(Pt.message)}})},Rr.API)Rr.API.hasOwnProperty(up)&&(up==="events"&&Rr.API.events.length?function(K,he){var $e,at,ft;for(ft=he.length-1;ft!==-1;ft--)$e=he[ft][0],at=he[ft][1],K.subscribe.apply(K,[$e].concat(typeof at=="function"?[at]:at))}(Ft,Rr.API.events):A[up]=Rr.API[up]);var x1=A.getPageWidth=function(K){return(ot[K=K||z].mediaBox.topRightX-ot[K].mediaBox.bottomLeftX)/He},g1=A.setPageWidth=function(K,he){ot[K].mediaBox.topRightX=he*He+ot[K].mediaBox.bottomLeftX},Vl=A.getPageHeight=function(K){return(ot[K=K||z].mediaBox.topRightY-ot[K].mediaBox.bottomLeftY)/He},Nu=A.setPageHeight=function(K,he){ot[K].mediaBox.topRightY=he*He+ot[K].mediaBox.bottomLeftY};return A.internal={pdfEscape:un,getStyle:FN,getFont:YF,getFontSize:xt,getCharSpace:aP,getTextColor:px,getLineHeight:ZF,getLineHeightFactor:tP,getLineWidth:ln,write:st,getHorizontalCoordinate:Oh,getVerticalCoordinate:Dh,getCoordinateString:rP,getVerticalCoordinateString:nP,collections:{},newObject:ht,newAdditionalObject:ce,newObjectDeferred:Gt,newObjectDeferredBegin:oe,getFilters:q,putStream:xe,events:Ft,scaleFactor:He,pageSize:{getWidth:function(){return x1(z)},setWidth:function(K){g1(z,K)},getHeight:function(){return Vl(z)},setHeight:function(K){Nu(z,K)}},encryptionOptions:u,encryption:ks,getEncryptor:function(K){return u!==null?ks.encryptor(K,0):function(he){return he}},output:Cd,getNumberOfPages:Qi,pages:Me,out:ee,f2:N,f3:I,getPageInfo:l1,getPageInfoByObjId:VF,getCurrentPageInfo:KF,getPDFVersion:m,Point:dp,Rectangle:m1,Matrix:ar,hasHotfix:sp},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return x1(z)},set:function(K){g1(z,K)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Vl(z)},set:function(K){Nu(z,K)},enumerable:!0,configurable:!0}),(function(K){for(var he=0,$e=me.length;he<$e;he++){var at=In.call(this,K[he][0],K[he][1],K[he][2],me[he][3],!0);h===!1&&(f[at]=!0);var ft=K[he][0].split("-");yr({id:at,fontName:ft[0],fontStyle:ft[1]||""})}Ft.publish("addFonts",{fonts:X,dictionary:We})}).call(A,me),At="F1",Qr(s,r),Ft.publish("initialized"),A}eg.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},eg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},eg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},eg.prototype.processOwnerPassword=function(e,t){return sI(aI(t).substr(0,5),e)},eg.prototype.encryptor=function(e,t){var r=aI(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return sI(r,a)}},w5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||va(e)!==va(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Rr.API={events:[]},Rr.version="3.0.2";var js=Rr.API,t8=1,tx=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ox=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dn=function(e){return e.toFixed(2)},mA=function(e){return e.toFixed(5)};js.__acroform__={};var $l=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},BH=function(e){return e*t8},Lu=function(e){var t=new ise,r=Br.internal.getHeight(e)||0,a=Br.internal.getWidth(e)||0;return t.BBox=[0,0,Number(dn(a)),Number(dn(r))],t},TSe=js.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ISe=js.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},OSe=js.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Hs=js.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OSe(e,t-1)},zs=js.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TSe(e,t-1)},Vs=js.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ISe(e,t-1)},DSe=js.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=a(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=a(i)||0,[Number(dn(c.lowerLeft_X)),Number(dn(c.lowerLeft_Y)),Number(dn(c.upperRight_X)),Number(dn(c.upperRight_Y))]},LSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=iI(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+dn(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Lu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},iI=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var i=r,o=Br.internal.getHeight(e)||0;o=o<0?-o:o;var l=Br.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(N,I,M){if(N+1<s.length){var O=I+" "+s[N+1][0];return PC(O,e,M).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,h=PC("3",e,i).height,f=e.multiline?o-i:(o-h)/2,A=f+=2,p=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+PC(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",v=0,y=0;y<s.length;y++)if(s.hasOwnProperty(y)){var j=!1;if(s[y].length!==1&&x!==s[y].length-1){if((h+2)*(v+2)+2>o)continue e;g+=s[y][x],j=!0,m=y,y--}else{g=(g+=s[y][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var b=parseInt(y),w=c(b,g,i),C=y>=s.length-1;if(w&&!C){g+=" ",x=0;continue}if(w||C){if(C)m=b;else if(e.multiline&&(h+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(v+2)+2>o)continue e;m=b}}for(var F="",E=p;E<=m;E++){var L=s[E];if(e.multiline){if(E===m){F+=L[x]+" ",x=(x+1)%L.length;continue}if(E===p){F+=L[L.length-1]+" ";continue}}F+=L[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,u=PC(F,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=dn(d)+" "+dn(A)+` Td
`,t+="("+tx(F)+`) Tj
`,t+=-dn(d)+` 0 Td
`,A=-(i+2),u=0,p=j?m:m+1,v++,g=""}break}return a.text=t,a.fontSize=i,a},PC=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},RSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},USe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(xu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(RSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");t8=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ose,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&MSe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=DSe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Br.createDefaultAppearanceStream(l),va(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=LSe(l);c.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var A=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var p=A[o];typeof p=="function"&&(p=p.call(s,l)),h+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=A)=="function"&&(p=p.call(s,l)),h+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(m,x){for(var g in m)if(m.hasOwnProperty(g)){var v=g,y=m[g];x.internal.newObjectDeferredBegin(y.objId,!0),va(y)==="object"&&typeof y.putStream=="function"&&y.putStream(),delete m[v]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},sse=js.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),va(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),s+="("+tx(a(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Rk=function(e,t,r){var a=function(s){return s};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+tx(a(e))+")"},Ju=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ju.prototype.toString=function(){return this.objId+" 0 R"},Ju.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ju.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:sse(s,this.objId,this.scope)}):s instanceof Ju?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var ise=function(){Ju.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};$l(ise,Ju);var ose=function(){Ju.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+tx(r(e))+")"}},set:function(r){e=r}})};$l(ose,Ju);var xu=function e(){Ju.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hs(t,3)},set:function(g){g?this.F=zs(t,3):this.F=Vs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(g){a=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(g){a[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(g){a[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(g){a[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(g){a[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof b5)return;i="FieldObject"+e.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+tx(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/t8:d},set:function(g){d=g}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof b5||this instanceof l0))return Rk(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fi==0?Rk(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof Fi==0?g.substr(0,1)==="("?Ox(g.substr(1,g.length-2)):Ox(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?Ox(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof Fi==1?"/"+g:g}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Fi==0?Rk(A,this.objId,this.scope):A},set:function(g){g=g.toString(),A=this instanceof Fi==0?g.substr(0,1)==="("?Ox(g.substr(1,g.length-2)):Ox(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?Ox(A.substr(1,A.length-1)):A},set:function(g){g=g.toString(),A=this instanceof Fi==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,1)},set:function(g){g?this.Ff=zs(this.Ff,1):this.Ff=Vs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,2)},set:function(g){g?this.Ff=zs(this.Ff,2):this.Ff=Vs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,3)},set:function(g){g?this.Ff=zs(this.Ff,3):this.Ff=Vs(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};$l(xu,Ju);var Vg=function(){xu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sse(t,this.objId,this.scope)},set:function(r){var a,s;s=[],typeof(a=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,18)},set:function(r){r?this.Ff=zs(this.Ff,18):this.Ff=Vs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=zs(this.Ff,19):this.Ff=Vs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,20)},set:function(r){r?(this.Ff=zs(this.Ff,20),t.sort()):this.Ff=Vs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,22)},set:function(r){r?this.Ff=zs(this.Ff,22):this.Ff=Vs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,23)},set:function(r){r?this.Ff=zs(this.Ff,23):this.Ff=Vs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,27)},set:function(r){r?this.Ff=zs(this.Ff,27):this.Ff=Vs(this.Ff,27)}}),this.hasAppearanceStream=!1};$l(Vg,xu);var Kg=function(){Vg.call(this),this.fontName="helvetica",this.combo=!1};$l(Kg,Vg);var qg=function(){Kg.call(this),this.combo=!0};$l(qg,Kg);var oS=function(){qg.call(this),this.edit=!0};$l(oS,qg);var Fi=function(){xu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,15)},set:function(r){r?this.Ff=zs(this.Ff,15):this.Ff=Vs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,16)},set:function(r){r?this.Ff=zs(this.Ff,16):this.Ff=Vs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,17)},set:function(r){r?this.Ff=zs(this.Ff,17):this.Ff=Vs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,26)},set:function(r){r?this.Ff=zs(this.Ff,26):this.Ff=Vs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+tx(r(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){va(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};$l(Fi,xu);var lS=function(){Fi.call(this),this.pushButton=!0};$l(lS,Fi);var Wg=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$l(Wg,Fi);var b5=function(){var e,t;xu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+tx(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){va(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Br.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$l(b5,xu),Wg.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Wg.prototype.createOption=function(e){var t=new b5;return t.Parent=this,t.optionName=e,this.Kids.push(t),QSe.call(this.scope,t),t};var cS=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Br.CheckBox.createAppearanceStream()};$l(cS,Fi);var l0=function(){xu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,13)},set:function(t){t?this.Ff=zs(this.Ff,13):this.Ff=Vs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,21)},set:function(t){t?this.Ff=zs(this.Ff,21):this.Ff=Vs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,23)},set:function(t){t?this.Ff=zs(this.Ff,23):this.Ff=Vs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,24)},set:function(t){t?this.Ff=zs(this.Ff,24):this.Ff=Vs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,25)},set:function(t){t?this.Ff=zs(this.Ff,25):this.Ff=Vs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,26)},set:function(t){t?this.Ff=zs(this.Ff,26):this.Ff=Vs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$l(l0,xu);var dS=function(){l0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hs(this.Ff,14)},set:function(e){e?this.Ff=zs(this.Ff,14):this.Ff=Vs(this.Ff,14)}}),this.password=!0};$l(dS,l0);var Br={CheckBox:{createAppearanceStream:function(){return{N:{On:Br.CheckBox.YesNormal},D:{On:Br.CheckBox.YesPushDown,Off:Br.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Lu(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=iI(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+dn(Br.internal.getWidth(e))+" "+dn(Br.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+dn(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Lu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=Br.internal.getHeight(e),o=Br.internal.getWidth(e),l=iI(e,e.caption);return s.push("1 g"),s.push("0 0 "+dn(o)+" "+dn(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+dn(o-1)+" "+dn(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+dn(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Lu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dn(Br.internal.getWidth(e))+" "+dn(Br.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Br.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Br.RadioButton.Circle.YesNormal,t.D[e]=Br.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Lu(e);t.scope=e.scope;var r=[],a=Br.internal.getWidth(e)<=Br.internal.getHeight(e)?Br.internal.getWidth(e)/4:Br.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Br.internal.Bezier_C,i=Number((a*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+mA(Br.internal.getWidth(e)/2)+" "+mA(Br.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Lu(e);t.scope=e.scope;var r=[],a=Br.internal.getWidth(e)<=Br.internal.getHeight(e)?Br.internal.getWidth(e)/4:Br.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Br.internal.Bezier_C).toFixed(5)),o=Number((a*Br.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mA(Br.internal.getWidth(e)/2)+" "+mA(Br.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+mA(Br.internal.getWidth(e)/2)+" "+mA(Br.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Lu(e);t.scope=e.scope;var r=[],a=Br.internal.getWidth(e)<=Br.internal.getHeight(e)?Br.internal.getWidth(e)/4:Br.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*Br.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+mA(Br.internal.getWidth(e)/2)+" "+mA(Br.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Br.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Br.RadioButton.Cross.YesNormal,t.D[e]=Br.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Lu(e);t.scope=e.scope;var r=[],a=Br.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+dn(Br.internal.getWidth(e)-2)+" "+dn(Br.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(dn(a.x1.x)+" "+dn(a.x1.y)+" m"),r.push(dn(a.x2.x)+" "+dn(a.x2.y)+" l"),r.push(dn(a.x4.x)+" "+dn(a.x4.y)+" m"),r.push(dn(a.x3.x)+" "+dn(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Lu(e);t.scope=e.scope;var r=Br.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+dn(Br.internal.getWidth(e))+" "+dn(Br.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+dn(Br.internal.getWidth(e)-2)+" "+dn(Br.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(dn(r.x1.x)+" "+dn(r.x1.y)+" m"),a.push(dn(r.x2.x)+" "+dn(r.x2.y)+" l"),a.push(dn(r.x4.x)+" "+dn(r.x4.y)+" m"),a.push(dn(r.x3.x)+" "+dn(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Lu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dn(Br.internal.getWidth(e))+" "+dn(Br.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Br.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Br.internal.getWidth(e),r=Br.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Br.internal.getWidth=function(e){var t=0;return va(e)==="object"&&(t=BH(e.Rect[2])),t},Br.internal.getHeight=function(e){var t=0;return va(e)==="object"&&(t=BH(e.Rect[3])),t};var QSe=js.addField=function(e){if(USe(this,e),!(e instanceof xu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};js.AcroFormChoiceField=Vg,js.AcroFormListBox=Kg,js.AcroFormComboBox=qg,js.AcroFormEditBox=oS,js.AcroFormButton=Fi,js.AcroFormPushButton=lS,js.AcroFormRadioButton=Wg,js.AcroFormCheckBox=cS,js.AcroFormTextField=l0,js.AcroFormPasswordField=dS,js.AcroFormAppearance=Br,js.AcroForm={ChoiceField:Vg,ListBox:Kg,ComboBox:qg,EditBox:oS,Button:Fi,PushButton:lS,RadioButton:Wg,CheckBox:cS,TextField:l0,PasswordField:dS,Appearance:Br},Rr.AcroForm={ChoiceField:Vg,ListBox:Kg,ComboBox:qg,EditBox:oS,Button:Fi,PushButton:lS,RadioButton:Wg,CheckBox:cS,TextField:l0,PasswordField:dS,Appearance:Br};function lse(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(N,I){var M,O,k,P,R,V=r;if((I=I||r)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(w(N))for(R in a)for(k=a[R],M=0;M<k.length;M+=1){for(P=!0,O=0;O<k[M].length;O+=1)if(k[M][O]!==void 0&&k[M][O]!==N[O]){P=!1;break}if(P===!0){V=R;break}}else for(R in a)for(k=a[R],M=0;M<k.length;M+=1){for(P=!0,O=0;O<k[M].length;O+=1)if(k[M][O]!==void 0&&k[M][O]!==N.charCodeAt(O)){P=!1;break}if(P===!0){V=R;break}}return V===r&&I!==r&&(V=I),V},i=function N(I){for(var M=this.internal.write,O=this.internal.putStream,k=(0,this.internal.getFilters)();k.indexOf("FlateEncode")!==-1;)k.splice(k.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var P=[];if(P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Image"}),P.push({key:"Width",value:I.width}),P.push({key:"Height",value:I.height}),I.colorSpace===g.INDEXED?P.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(P.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===g.DEVICE_CMYK&&P.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),P.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&P.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var R="",V=0,D=I.transparency.length;V<D;V++)R+=I.transparency[V]+" "+I.transparency[V]+" ";P.push({key:"Mask",value:"["+R+"]"})}I.sMask!==void 0&&P.push({key:"SMask",value:I.objectId+1+" 0 R"});var Y=I.filter!==void 0?["/"+I.filter]:void 0;if(O({data:I.data,additionalKeyValues:P,alreadyAppliedFilters:Y,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var ne=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,S={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ne,data:I.sMask};"filter"in I&&(S.filter=I.filter),N.call(this,S)}if(I.colorSpace===g.INDEXED){var z=this.internal.newObject();O({data:F(new Uint8Array(I.palette)),objectId:z}),M("endobj")}},o=function(){var N=this.internal.collections[t+"images"];for(var I in N)i.call(this,N[I])},l=function(){var N,I=this.internal.collections[t+"images"],M=this.internal.write;for(var O in I)M("/I"+(N=I[O]).index,N.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var N=this.internal.collections[t+"images"];return c.call(this),N},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(N){return typeof e["process"+N.toUpperCase()]=="function"},f=function(N){return va(N)==="object"&&N.nodeType===1},A=function(N,I){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var M=""+N.getAttribute("src");if(M.indexOf("data:image/")===0)return iS(unescape(M).split("base64,").pop());var O=e.loadFile(M,!0);if(O!==void 0)return O}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var k;switch(I){case"PNG":k="image/png";break;case"WEBP":k="image/webp";break;default:k="image/jpeg"}return iS(N.toDataURL(k,1).split("base64,").pop())}},p=function(N){var I=this.internal.collections[t+"images"];if(I){for(var M in I)if(N===I[M].alias)return I[M]}},m=function(N,I,M){return N||I||(N=-96,I=-96),N<0&&(N=-1*M.width*72/N/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),N===0&&(N=I*M.width/M.height),I===0&&(I=N*M.height/M.width),[N,I]},x=function(N,I,M,O,k,P){var R=m.call(this,M,O,k),V=this.internal.getCoordinateString,D=this.internal.getVerticalCoordinateString,Y=d.call(this);if(M=R[0],O=R[1],Y[k.index]=k,P){P*=Math.PI/180;var ne=Math.cos(P),S=Math.sin(P),z=function(W){return W.toFixed(4)},Q=[z(ne),z(S),z(-1*S),z(ne),0,0,"cm"]}this.internal.write("q"),P?(this.internal.write([1,"0","0",1,V(N),D(I+O),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([V(M),"0","0",V(O),"0","0","cm"].join(" "))):this.internal.write([V(M),"0","0",V(O),V(N),D(I+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+k.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(N){var I,M,O=0;if(typeof N=="string")for(M=N.length,I=0;I<M;I++)O=(O<<5)-O+N.charCodeAt(I),O|=0;else if(w(N))for(M=N.byteLength/2,I=0;I<M;I++)O=(O<<5)-O+N[I],O|=0;return O},j=e.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var I=!0;return N.length===0&&(I=!1),N.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(I=!1),I},b=e.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var I=N.indexOf(",");return I<0?null:N.substring(0,I).trim().endsWith("base64")?N.substring(I+1):null};e.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(N){for(var I=N.length,M=new Uint8Array(I),O=0;O<I;O++)M[O]=N.charCodeAt(O);return M},F=e.__addimage__.arrayBufferToBinaryString=function(N){for(var I="",M=w(N)?N:new Uint8Array(N),O=0;O<M.length;O+=8192)I+=String.fromCharCode.apply(null,M.subarray(O,O+8192));return I};e.addImage=function(){var N,I,M,O,k,P,R,V,D;if(typeof arguments[1]=="number"?(I=r,M=arguments[1],O=arguments[2],k=arguments[3],P=arguments[4],R=arguments[5],V=arguments[6],D=arguments[7]):(I=arguments[1],M=arguments[2],O=arguments[3],k=arguments[4],P=arguments[5],R=arguments[6],V=arguments[7],D=arguments[8]),va(N=arguments[0])==="object"&&!f(N)&&"imageData"in N){var Y=N;N=Y.imageData,I=Y.format||I||r,M=Y.x||M||0,O=Y.y||O||0,k=Y.w||Y.width||k,P=Y.h||Y.height||P,R=Y.alias||R,V=Y.compression||V,D=Y.rotation||Y.angle||D}var ne=this.internal.getFilters();if(V===void 0&&ne.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(M)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var S=E.call(this,N,I,R,V);return x.call(this,M,O,k,P,S,D),this};var E=function(N,I,M,O){var k,P,R;if(typeof N=="string"&&s(N)===r){N=unescape(N);var V=L(N,!1);(V!==""||(V=e.loadFile(N,!0))!==void 0)&&(N=V)}if(f(N)&&(N=A(N,I)),I=s(N,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((R=M)==null||R.length===0)&&(M=function(D){return typeof D=="string"||w(D)?y(D):w(D.data)?y(D.data):null}(N)),(k=p.call(this,M))||(N instanceof Uint8Array||I==="RGBA"||(P=N,N=C(N)),k=this["process"+I.toUpperCase()](N,u.call(this),M,function(D){return D&&typeof D=="string"&&(D=D.toUpperCase()),D in e.image_compression?D:v.NONE}(O),P)),!k)throw new Error("An unknown error occurred whilst processing the image.");return k},L=e.__addimage__.convertBase64ToBinaryString=function(N,I){I=typeof I!="boolean"||I;var M,O="";if(typeof N=="string"){var k;M=(k=b(N))!==null&&k!==void 0?k:N;try{O=iS(M)}catch(P){if(I)throw j(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+P.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return O};e.getImageProperties=function(N){var I,M,O="";if(f(N)&&(N=A(N)),typeof N=="string"&&s(N)===r&&((O=L(N,!1))===""&&(O=e.loadFile(N)||""),N=O),M=s(N),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(N instanceof Uint8Array||(N=C(N)),!(I=this["process"+M.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(Rr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Rr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((a=d[h]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){a=d[f];var A=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+A(g(a.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+A(g(v))+") >>",m.content=i;var y=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+y,a.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var j=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+A(p(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var b=this.annotations._nameMap[a.options.name];a.options.pageNumber=b.page,a.options.top=b.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+A(p(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var w=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+w+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(a),w:c(r+s),h:d(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,s,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,a,s,i),s+=.2*d,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,s-d,l,o,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(Rr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&s.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,v="",y=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(y++,typeof(g=g[m.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(g),g=r,y=0),x===m.length-1&&(g=r,v+=m.charAt(x-(y-1)),x-=y-1,y=0)):(g=r,v+=m.charAt(x-y),x-=y,y=0);return v};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&a[m.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(m,x,g){return o(m)?i(m)===!1?-1:!d(m)||!o(x)&&!o(g)||!o(g)&&l(x)||l(m)&&!o(x)||l(m)&&c(x)||l(m)&&l(x)?0:u(m)&&o(x)&&!l(x)&&o(g)&&d(g)?3:l(m)||!o(g)?1:2:-1},A=function(m){var x=0,g=0,v=0,y="",j="",b="",w=(m=m||"").split("\\s+"),C=[];for(x=0;x<w.length;x+=1){for(C.push(""),g=0;g<w[x].length;g+=1)y=w[x][g],j=w[x][g-1],b=w[x][g+1],o(y)?(v=f(y,j,b),C[x]+=v!==-1?String.fromCharCode(t[y.charCodeAt(0)][v]):y):C[x]+=y;C[x]=h(C[x])}return C.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var v=0;for(g=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?g.push([A(x[v][0]),x[v][1],x[v][2]]):g.push([A(x[v])]);m=g}else m=A(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",p])}(Rr.API),Rr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var s;if((r=r||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){a.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,A=0,p=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=d.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,j){return y.concat(x.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)A<(m=this.getStringUnitWidth(c[v],{font:h})*u)&&(A=m);return A!==0&&(p=c.length),{w:A/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,A&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,f){if(a.call(this),!u)throw new Error("No data for PDF table.");var A,p,m,x,g=[],v=[],y=[],j={},b={},w=[],C=[],F=(f=f||{}).autoSize||!1,E=f.printHeaders!==!1,L=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,N=f.margins||Object.assign({width:this.getPageWidth()},t),I=typeof f.padding=="number"?f.padding:3,M=f.headerBackgroundColor||"#c8c8c8",O=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=O,this.setFontSize(L),h==null)v=g=Object.keys(u[0]),y=g.map(function(){return"left"});else if(Array.isArray(h)&&va(h[0])==="object")for(g=h.map(function(Y){return Y.name}),v=h.map(function(Y){return Y.prompt||Y.name||""}),y=h.map(function(Y){return Y.align||"left"}),A=0;A<h.length;A+=1)b[h[A].name]=.7499990551181103*h[A].width;else Array.isArray(h)&&typeof h[0]=="string"&&(v=g=h,y=g.map(function(){return"left"}));if(F||Array.isArray(h)&&typeof h[0]=="string")for(A=0;A<g.length;A+=1){for(j[x=g[A]]=u.map(function(Y){return Y[x]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(v[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=j[x],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)w.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[x]=Math.max.apply(null,w)+I+I,w=[]}if(E){var k={};for(A=0;A<g.length;A+=1)k[g[A]]={},k[g[A]].text=v[A],k[g[A]].align=y[A];var P=l.call(this,k,b);C=g.map(function(Y){return new i(c,d,b[Y],P,k[Y].text,void 0,k[Y].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var R=h.reduce(function(Y,ne){return Y[ne.name]=ne.align,Y},{});for(A=0;A<u.length;A+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:A,data:u[A]},this);var V=l.call(this,u[A],b);for(m=0;m<g.length;m+=1){var D=u[A][g[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:A,col:m,data:D},this),o.call(this,new i(c,d,b[g[m]],V,D,A+2,R[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(A){var p=c[A];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,d[A]-u-u)},this).map(function(A){return this.getLineHeightFactor()*A.length*h/f+u+u},this).reduce(function(A,p){return Math.max(A,p)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){u=this.internal.__cell__.tableHeaderRow[A].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Rr.API);var cse={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oI=lse(dse),use=[100,200,300,400,500,600,700,800,900],$Se=lse(use);function Mk(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return cse[i=i||"normal"]?i:"normal"}(e.style),a=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof oI[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,a].join(" ")}}}function FH(e,t,r,a){var s;for(s=r;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var HSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},PH={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kH(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function TH(e){return e.trimLeft()}function zSe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function VSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var kC,IH,OH,Dx,TC,DH,LH,RH,Uk=["times"];function MH(e,t,r,a){var s=4,i=QH;switch(a){case Rr.API.image_compression.FAST:s=1,i=UH;break;case Rr.API.image_compression.MEDIUM:s=6,i=$H;break;case Rr.API.image_compression.SLOW:s=9,i=HH}e=function(l,c,d,u){for(var h,f=l.length/c,A=new Uint8Array(l.length+f),p=[KSe,UH,QH,$H,HH],m=0;m<f;m+=1){var x=m*c,g=l.subarray(x,x+c);if(u)A.set(u(g,d,h),x+m);else{for(var v=p.length,y=[],j=0;j<v;j+=1)y[j]=p[j](g,d,h);var b=WSe(y.concat());A.set(y[b],x+m)}h=g}return A}(e,t,r,i);var o=W6(e,{level:s});return Rr.API.__addimage__.arrayBufferToBinaryString(o)}function KSe(e){var t=Array.apply([],e);return t.unshift(0),t}function UH(e,t){var r=e.length,a=[];a[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;a[s+1]=e[s]-i+256&255}return a}function QH(e,t,r){var a=e.length,s=[];s[0]=2;for(var i=0;i<a;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function $H(e,t,r){var a=e.length,s=[];s[0]=3;for(var i=0;i<a;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function HH(e,t,r){var a=e.length,s=[];s[0]=4;for(var i=0;i<a;i+=1){var o=qSe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function qSe(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=s&&a<=i?e:s<=i?t:r}function WSe(e){var t=e.map(function(r){return r.reduce(function(a,s){return a+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Qk(e,t,r){var a=t*r,s=Math.floor(a/8),i=16-(a-8*s+r),o=(1<<r)-1;return hse(e,s)>>i&o}function zH(e,t,r,a){var s=r*a,i=Math.floor(s/8),o=16-(s-8*i+a),l=(1<<a)-1,c=(t&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var f=h>>8&255;d.setUint8(u,f)}})(e,i,hse(e,i)&~(l<<o)&65535|c)}function hse(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function GSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,f=null,A=0,p=null;for(this.width=r,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],1&m||(f=null),A=m>>2&7,t++;break;case 254:for(;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,j=e[t++],b=j>>6&1,w=1<<1+(7&j),C=l,F=c,E=!1;j>>7&&(E=!0,C=t,F=w,t+=3*w);var L=t;for(t++;;){var N;if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}u.push({x,y:g,width:v,height:y,has_local_palette:E,palette_offset:C,palette_size:F,data_offset:L,data_length:t-L,transparent_index:f,interlaced:!!b,delay:h,disposal:A});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,M){var O=this.frameInfo(I),k=O.width*O.height,P=new Uint8Array(k);VH(e,O.data_offset,P,k);var R=O.palette_offset,V=O.transparent_index;V===null&&(V=256);var D=O.width,Y=r-D,ne=D,S=4*(O.y*r+O.x),z=4*((O.y+O.height)*r+O.x),Q=S,W=4*Y;O.interlaced===!0&&(W+=4*r*7);for(var U=8,re=0,de=P.length;re<de;++re){var ae=P[re];if(ne===0&&(ne=D,(Q+=W)>=z&&(W=4*Y+4*r*(U-1),Q=S+(D+Y)*(U<<1),U>>=1)),ae===V)Q+=4;else{var Ae=e[R+3*ae],Me=e[R+3*ae+1],H=e[R+3*ae+2];M[Q++]=H,M[Q++]=Me,M[Q++]=Ae,M[Q++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(I,M){var O=this.frameInfo(I),k=O.width*O.height,P=new Uint8Array(k);VH(e,O.data_offset,P,k);var R=O.palette_offset,V=O.transparent_index;V===null&&(V=256);var D=O.width,Y=r-D,ne=D,S=4*(O.y*r+O.x),z=4*((O.y+O.height)*r+O.x),Q=S,W=4*Y;O.interlaced===!0&&(W+=4*r*7);for(var U=8,re=0,de=P.length;re<de;++re){var ae=P[re];if(ne===0&&(ne=D,(Q+=W)>=z&&(W=4*Y+4*r*(U-1),Q=S+(D+Y)*(U<<1),U>>=1)),ae===V)Q+=4;else{var Ae=e[R+3*ae],Me=e[R+3*ae+1],H=e[R+3*ae+2];M[Q++]=Ae,M[Q++]=Me,M[Q++]=H,M[Q++]=255}--ne}}}function VH(e,t,r,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,d=(1<<c)-1,u=0,h=0,f=0,A=e[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&A!==0;)h|=e[t++]<<u,u+=8,A===1?A=e[t++]:--A;if(u<c)break;var x=h&d;if(h>>=c,u-=c,x!==i){if(x===o)break;for(var g=x<l?x:m,v=0,y=g;y>i;)y=p[y]>>8,++v;var j=y;if(f+v+(g!==x?1:0)>a)return void Ba.log("Warning, gif stream longer than expected.");r[f++]=j;var b=f+=v;for(g!==x&&(r[f++]=j),y=g;v--;)y=p[y],r[--b]=255&y,y>>=8;m!==null&&l<4096&&(p[l++]=m<<8|j,l>=d+1&&c<12&&(++c,d=d<<1|1)),m=x}else l=o+1,d=(1<<(c=s+1))-1,m=null}return f!==a&&Ba.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $k(e){var t,r,a,s,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),A=new Array(64),p=new Array(64),m=[],x=0,g=7,v=new Array(64),y=new Array(64),j=new Array(64),b=new Array(256),w=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],k=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(S,z){for(var Q=0,W=0,U=new Array,re=1;re<=16;re++){for(var de=1;de<=S[re];de++)U[z[W]]=[],U[z[W]][0]=Q,U[z[W]][1]=re,W++,Q++;Q*=2}return U}function R(S){for(var z=S[0],Q=S[1]-1;Q>=0;)z&1<<Q&&(x|=1<<g),Q--,--g<0&&(x==255?(V(255),V(0)):V(x),g=7,x=0)}function V(S){m.push(S)}function D(S){V(S>>8&255),V(255&S)}function Y(S,z,Q,W,U){for(var re,de=U[0],ae=U[240],Ae=function(nt,Nt){var xt,Ne,le,Fe,ze,je,De,Ke,At,He,Te=0;for(At=0;At<8;++At){xt=nt[Te],Ne=nt[Te+1],le=nt[Te+2],Fe=nt[Te+3],ze=nt[Te+4],je=nt[Te+5],De=nt[Te+6];var dr=xt+(Ke=nt[Te+7]),Pe=xt-Ke,X=Ne+De,We=Ne-De,wt=le+je,Ct=le-je,Qt=Fe+ze,pe=Fe-ze,dt=dr+Qt,Rt=dr-Qt,Dt=X+wt,ot=X-wt;nt[Te]=dt+Dt,nt[Te+4]=dt-Dt;var Ft=.707106781*(ot+Rt);nt[Te+2]=Rt+Ft,nt[Te+6]=Rt-Ft;var Er=.382683433*((dt=pe+Ct)-(ot=We+Pe)),xr=.5411961*dt+Er,on=1.306562965*ot+Er,zt=.707106781*(Dt=Ct+We),ar=Pe+zt,is=Pe-zt;nt[Te+5]=is+xr,nt[Te+3]=is-xr,nt[Te+1]=ar+on,nt[Te+7]=ar-on,Te+=8}for(Te=0,At=0;At<8;++At){xt=nt[Te],Ne=nt[Te+8],le=nt[Te+16],Fe=nt[Te+24],ze=nt[Te+32],je=nt[Te+40],De=nt[Te+48];var gs=xt+(Ke=nt[Te+56]),te=xt-Ke,Xe=Ne+De,ht=Ne-De,Gt=le+je,oe=le-je,ce=Fe+ze,we=Fe-ze,ye=gs+ce,ke=gs-ce,Ie=Xe+Gt,q=Xe-Gt;nt[Te]=ye+Ie,nt[Te+32]=ye-Ie;var xe=.707106781*(q+ke);nt[Te+16]=ke+xe,nt[Te+48]=ke-xe;var _e=.382683433*((ye=we+oe)-(q=ht+te)),Ye=.5411961*ye+_e,Ve=1.306562965*q+_e,qe=.707106781*(Ie=oe+ht),bt=te+qe,yt=te-qe;nt[Te+40]=yt+Ye,nt[Te+24]=yt-Ye,nt[Te+8]=bt+Ve,nt[Te+56]=bt-Ve,Te++}for(At=0;At<64;++At)He=nt[At]*Nt[At],A[At]=He>0?He+.5|0:He-.5|0;return A}(S,z),Me=0;Me<64;++Me)p[C[Me]]=Ae[Me];var H=p[0]-Q;Q=p[0],H==0?R(W[0]):(R(W[f[re=32767+H]]),R(h[re]));for(var Oe=63;Oe>0&&p[Oe]==0;)Oe--;if(Oe==0)return R(de),Q;for(var Ee,ee=1;ee<=Oe;){for(var st=ee;p[ee]==0&&ee<=Oe;)++ee;var se=ee-st;if(se>=16){Ee=se>>4;for(var me=1;me<=Ee;++me)R(ae);se&=15}re=32767+p[ee],R(U[(se<<4)+f[re]]),R(h[re]),ee++}return Oe!=63&&R(de),Q}function ne(S){S=Math.min(Math.max(S,1),100),i!=S&&(function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var U=o((Q[W]*z+50)/100);U=Math.min(Math.max(U,1),255),l[C[W]]=U}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ae=o((re[de]*z+50)/100);ae=Math.min(Math.max(ae,1),255),c[C[de]]=ae}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,H=0;H<8;H++)for(var Oe=0;Oe<8;Oe++)d[Me]=1/(l[C[Me]]*Ae[H]*Ae[Oe]*8),u[Me]=1/(c[C[Me]]*Ae[H]*Ae[Oe]*8),Me++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),i=S)}this.encode=function(S,z){z&&ne(z),m=new Array,x=0,g=7,D(65496),D(65504),D(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),D(1),D(1),V(0),V(0),function(){D(65499),D(132),V(0);for(var Ne=0;Ne<64;Ne++)V(l[Ne]);V(1);for(var le=0;le<64;le++)V(c[le])}(),function(Ne,le){D(65472),D(17),V(8),D(le),D(Ne),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(S.width,S.height),function(){D(65476),D(418),V(0);for(var Ne=0;Ne<16;Ne++)V(F[Ne+1]);for(var le=0;le<=11;le++)V(E[le]);V(16);for(var Fe=0;Fe<16;Fe++)V(L[Fe+1]);for(var ze=0;ze<=161;ze++)V(N[ze]);V(1);for(var je=0;je<16;je++)V(I[je+1]);for(var De=0;De<=11;De++)V(M[De]);V(17);for(var Ke=0;Ke<16;Ke++)V(O[Ke+1]);for(var At=0;At<=161;At++)V(k[At])}(),D(65498),D(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Q=0,W=0,U=0;x=0,g=7,this.encode.displayName="_encode_";for(var re,de,ae,Ae,Me,H,Oe,Ee,ee,st=S.data,se=S.width,me=S.height,nt=4*se,Nt=0;Nt<me;){for(re=0;re<nt;){for(Me=nt*Nt+re,Oe=-1,Ee=0,ee=0;ee<64;ee++)H=Me+(Ee=ee>>3)*nt+(Oe=4*(7&ee)),Nt+Ee>=me&&(H-=nt*(Nt+1+Ee-me)),re+Oe>=nt&&(H-=re+Oe-nt+4),de=st[H++],ae=st[H++],Ae=st[H++],v[ee]=(w[de]+w[ae+256|0]+w[Ae+512|0]>>16)-128,y[ee]=(w[de+768|0]+w[ae+1024|0]+w[Ae+1280|0]>>16)-128,j[ee]=(w[de+1280|0]+w[ae+1536|0]+w[Ae+1792|0]>>16)-128;Q=Y(v,d,Q,t,a),W=Y(y,u,W,r,s),U=Y(j,u,U,r,s),re+=32}Nt+=8}if(g>=0){var xt=[];xt[1]=g+1,xt[0]=(1<<g+1)-1,R(xt)}return D(65497),new Uint8Array(m)},e=e||50,function(){for(var S=String.fromCharCode,z=0;z<256;z++)b[z]=S(z)}(),t=P(F,E),r=P(I,M),a=P(L,N),s=P(O,k),function(){for(var S=1,z=2,Q=1;Q<=15;Q++){for(var W=S;W<z;W++)f[32767+W]=Q,h[32767+W]=[],h[32767+W][1]=Q,h[32767+W][0]=W;for(var U=-(z-1);U<=-S;U++)f[32767+U]=Q,h[32767+U]=[],h[32767+U][1]=Q,h[32767+U][0]=z-1+U;S<<=1,z<<=1}}(),function(){for(var S=0;S<256;S++)w[S]=19595*S,w[S+256|0]=38470*S,w[S+512|0]=7471*S+32768,w[S+768|0]=-11059*S,w[S+1024|0]=-21709*S,w[S+1280|0]=32768*S+8421375,w[S+1536|0]=-27439*S,w[S+1792|0]=-5329*S}(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function KH(e){function t(E){if(!E)throw Error("assert :P")}function r(E,L,N){for(var I=0;4>I;I++)if(E[L+I]!=N.charCodeAt(I))return!0;return!1}function a(E,L,N,I,M){for(var O=0;O<M;O++)E[L+O]=N[I+O]}function s(E,L,N,I){for(var M=0;M<I;M++)E[L+M]=N}function i(E){return new Int32Array(E)}function o(E,L){for(var N=[],I=0;I<E;I++)N.push(new L);return N}function l(E,L){var N=[];return function I(M,O,k){for(var P=k[O],R=0;R<P&&(M.push(k.length>O+1?[]:new L),!(k.length<O+1));R++)I(M[R],O+1,k)}(N,0,E),N}var c=function(){var E=this;function L(_,T){for(var G=1<<T-1>>>0;_&G;)G>>>=1;return G?(_&G-1)+G:_}function N(_,T,G,J,ue){t(!(J%G));do _[T+(J-=G)]=ue;while(0<J)}function I(_,T,G,J,ue){if(t(2328>=ue),512>=ue)var ve=i(512);else if((ve=i(ue))==null)return 0;return function(be,Ce,Be,Ue,lt,vt){var Qe,ut,mt=Ce,_t=1<<Be,gt=i(16),Bt=i(16);for(t(lt!=0),t(Ue!=null),t(be!=null),t(0<Be),ut=0;ut<lt;++ut){if(15<Ue[ut])return 0;++gt[Ue[ut]]}if(gt[0]==lt)return 0;for(Bt[1]=0,Qe=1;15>Qe;++Qe){if(gt[Qe]>1<<Qe)return 0;Bt[Qe+1]=Bt[Qe]+gt[Qe]}for(ut=0;ut<lt;++ut)Qe=Ue[ut],0<Ue[ut]&&(vt[Bt[Qe]++]=ut);if(Bt[15]==1)return(Ue=new M).g=0,Ue.value=vt[0],N(be,mt,1,_t,Ue),_t;var kt,Xt=-1,Kt=_t-1,Lr=0,_r=1,gn=1,Pr=1<<Be;for(ut=0,Qe=1,lt=2;Qe<=Be;++Qe,lt<<=1){if(_r+=gn<<=1,0>(gn-=gt[Qe]))return 0;for(;0<gt[Qe];--gt[Qe])(Ue=new M).g=Qe,Ue.value=vt[ut++],N(be,mt+Lr,lt,Pr,Ue),Lr=L(Lr,Qe)}for(Qe=Be+1,lt=2;15>=Qe;++Qe,lt<<=1){if(_r+=gn<<=1,0>(gn-=gt[Qe]))return 0;for(;0<gt[Qe];--gt[Qe]){if(Ue=new M,(Lr&Kt)!=Xt){for(mt+=Pr,kt=1<<(Xt=Qe)-Be;15>Xt&&!(0>=(kt-=gt[Xt]));)++Xt,kt<<=1;_t+=Pr=1<<(kt=Xt-Be),be[Ce+(Xt=Lr&Kt)].g=kt+Be,be[Ce+Xt].value=mt-Ce-Xt}Ue.g=Qe-Be,Ue.value=vt[ut++],N(be,mt+(Lr>>Be),lt,Pr,Ue),Lr=L(Lr,Qe)}}return _r!=2*Bt[15]-1?0:_t}(_,T,G,J,ue,ve)}function M(){this.value=this.g=0}function O(){this.value=this.g=0}function k(){this.G=o(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Cu,O)}function P(_,T,G,J){t(_!=null),t(T!=null),t(2147483648>J),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=T,_.pa=G,_.Jd=T,_.Yc=G+J,_.Zc=4<=J?G+J-4+1:G,de(_)}function R(_,T){for(var G=0;0<T--;)G|=Ae(_,128)<<T;return G}function V(_,T){var G=R(_,T);return ae(_)?-G:G}function D(_,T,G,J){var ue,ve=0;for(t(_!=null),t(T!=null),t(4294967288>J),_.Sb=J,_.Ra=0,_.u=0,_.h=0,4<J&&(J=4),ue=0;ue<J;++ue)ve+=T[G+ue]<<8*ue;_.Ra=ve,_.bb=J,_.oa=T,_.pa=G}function Y(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<nA-8>>>0,++_.bb,_.u-=8;W(_)&&(_.h=1,_.u=0)}function ne(_,T){if(t(0<=T),!_.h&&T<=j1){var G=Q(_)&rA[T];return _.u+=T,Y(_),G}return _.h=1,_.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(_){return _.Ra>>>(_.u&nA-1)>>>0}function W(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>nA}function U(_,T){_.u=T,_.h=W(_)}function re(_){_.u>=Ts&&(t(_.u>=Ts),Y(_))}function de(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ae(_){return R(_,1)}function Ae(_,T){var G=_.Ca;0>_.b&&de(_);var J=_.b,ue=G*T>>>8,ve=(_.I>>>J>ue)+0;for(ve?(G-=ue,_.I-=ue+1<<J>>>0):G=ue+1,J=G,ue=0;256<=J;)ue+=8,J>>=8;return J=7^ue+iP[J],_.b-=J,_.Ca=(G<<J)-1,ve}function Me(_,T,G){_[T+0]=G>>24&255,_[T+1]=G>>16&255,_[T+2]=G>>8&255,_[T+3]=255&G}function H(_,T){return _[T+0]|_[T+1]<<8}function Oe(_,T){return H(_,T)|_[T+2]<<16}function Ee(_,T){return H(_,T)|H(_,T+2)<<16}function ee(_,T){var G=1<<T;return t(_!=null),t(0<T),_.X=i(G),_.X==null?0:(_.Mb=32-T,_.Xa=T,1)}function st(_,T){t(_!=null),t(T!=null),t(_.Xa==T.Xa),a(T.X,0,_.X,0,1<<T.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function me(_,T,G,J){t(G!=null),t(J!=null);var ue=G[0],ve=J[0];return ue==0&&(ue=(_*ve+T/2)/T),ve==0&&(ve=(T*ue+_/2)/_),0>=ue||0>=ve?0:(G[0]=ue,J[0]=ve,1)}function nt(_,T){return _+(1<<T)-1>>>T}function Nt(_,T){return((4278255360&_)+(4278255360&T)>>>0&4278255360)+((16711935&_)+(16711935&T)>>>0&16711935)>>>0}function xt(_,T){E[T]=function(G,J,ue,ve,be,Ce,Be){var Ue;for(Ue=0;Ue<be;++Ue){var lt=E[_](Ce[Be+Ue-1],ue,ve+Ue);Ce[Be+Ue]=Nt(G[J+Ue],lt)}}}function Ne(){this.ud=this.hd=this.jd=0}function le(_,T){return((4278124286&(_^T))>>>1)+(_&T)>>>0}function Fe(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function ze(_,T){return Fe(_+(_-T+.5>>1))}function je(_,T,G){return Math.abs(T-G)-Math.abs(_-G)}function De(_,T,G,J,ue,ve,be){for(J=ve[be-1],G=0;G<ue;++G)ve[be+G]=J=Nt(_[T+G],J)}function Ke(_,T,G,J,ue){var ve;for(ve=0;ve<G;++ve){var be=_[T+ve],Ce=be>>8&255,Be=16711935&(Be=(Be=16711935&be)+((Ce<<16)+Ce));J[ue+ve]=(4278255360&be)+Be>>>0}}function At(_,T){T.jd=255&_,T.hd=_>>8&255,T.ud=_>>16&255}function He(_,T,G,J,ue,ve){var be;for(be=0;be<J;++be){var Ce=T[G+be],Be=Ce>>>8,Ue=Ce,lt=255&(lt=(lt=Ce>>>16)+((_.jd<<24>>24)*(Be<<24>>24)>>>5));Ue=255&(Ue=(Ue+=(_.hd<<24>>24)*(Be<<24>>24)>>>5)+((_.ud<<24>>24)*(lt<<24>>24)>>>5)),ue[ve+be]=(4278255360&Ce)+(lt<<16)+Ue}}function Te(_,T,G,J,ue){E[T]=function(ve,be,Ce,Be,Ue,lt,vt,Qe,ut){for(Be=vt;Be<Qe;++Be)for(vt=0;vt<ut;++vt)Ue[lt++]=ue(Ce[J(ve[be++])])},E[_]=function(ve,be,Ce,Be,Ue,lt,vt){var Qe=8>>ve.b,ut=ve.Ea,mt=ve.K[0],_t=ve.w;if(8>Qe)for(ve=(1<<ve.b)-1,_t=(1<<Qe)-1;be<Ce;++be){var gt,Bt=0;for(gt=0;gt<ut;++gt)gt&ve||(Bt=J(Be[Ue++])),lt[vt++]=ue(mt[Bt&_t]),Bt>>=Qe}else E["VP8LMapColor"+G](Be,Ue,mt,_t,lt,vt,be,Ce,ut)}}function dr(_,T,G,J,ue){for(G=T+G;T<G;){var ve=_[T++];J[ue++]=ve>>16&255,J[ue++]=ve>>8&255,J[ue++]=255&ve}}function Pe(_,T,G,J,ue){for(G=T+G;T<G;){var ve=_[T++];J[ue++]=ve>>16&255,J[ue++]=ve>>8&255,J[ue++]=255&ve,J[ue++]=ve>>24&255}}function X(_,T,G,J,ue){for(G=T+G;T<G;){var ve=(be=_[T++])>>16&240|be>>12&15,be=240&be|be>>28&15;J[ue++]=ve,J[ue++]=be}}function We(_,T,G,J,ue){for(G=T+G;T<G;){var ve=(be=_[T++])>>16&248|be>>13&7,be=be>>5&224|be>>3&31;J[ue++]=ve,J[ue++]=be}}function wt(_,T,G,J,ue){for(G=T+G;T<G;){var ve=_[T++];J[ue++]=255&ve,J[ue++]=ve>>8&255,J[ue++]=ve>>16&255}}function Ct(_,T,G,J,ue,ve){if(ve==0)for(G=T+G;T<G;)Me(J,((ve=_[T++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),ue+=32;else a(J,ue,_,T,G)}function Qt(_,T){E[T][0]=E[_+"0"],E[T][1]=E[_+"1"],E[T][2]=E[_+"2"],E[T][3]=E[_+"3"],E[T][4]=E[_+"4"],E[T][5]=E[_+"5"],E[T][6]=E[_+"6"],E[T][7]=E[_+"7"],E[T][8]=E[_+"8"],E[T][9]=E[_+"9"],E[T][10]=E[_+"10"],E[T][11]=E[_+"11"],E[T][12]=E[_+"12"],E[T][13]=E[_+"13"],E[T][14]=E[_+"0"],E[T][15]=E[_+"0"]}function pe(_){return _==cP||_==dP||_==UN||_==uP}function dt(){this.eb=[],this.size=this.A=this.fb=0}function Rt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dt,this.f.kb=new Rt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Er(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function xr(_,T){var G=_.T,J=T.ba.f.RGBA,ue=J.eb,ve=J.fb+_.ka*J.A,be=kc[T.ba.S],Ce=_.y,Be=_.O,Ue=_.f,lt=_.N,vt=_.ea,Qe=_.W,ut=T.cc,mt=T.dc,_t=T.Mc,gt=T.Nc,Bt=_.ka,kt=_.ka+_.T,Xt=_.U,Kt=Xt+1>>1;for(Bt==0?be(Ce,Be,null,null,Ue,lt,vt,Qe,Ue,lt,vt,Qe,ue,ve,null,null,Xt):(be(T.ec,T.fc,Ce,Be,ut,mt,_t,gt,Ue,lt,vt,Qe,ue,ve-J.A,ue,ve,Xt),++G);Bt+2<kt;Bt+=2)ut=Ue,mt=lt,_t=vt,gt=Qe,lt+=_.Rc,Qe+=_.Rc,ve+=2*J.A,be(Ce,(Be+=2*_.fa)-_.fa,Ce,Be,ut,mt,_t,gt,Ue,lt,vt,Qe,ue,ve-J.A,ue,ve,Xt);return Be+=_.fa,_.j+kt<_.o?(a(T.ec,T.fc,Ce,Be,Xt),a(T.cc,T.dc,Ue,lt,Kt),a(T.Mc,T.Nc,vt,Qe,Kt),G--):1&kt||be(Ce,Be,null,null,Ue,lt,vt,Qe,Ue,lt,vt,Qe,ue,ve+J.A,null,null,Xt),G}function on(_,T,G){var J=_.F,ue=[_.J];if(J!=null){var ve=_.U,be=T.ba.S,Ce=be==MN||be==UN;T=T.ba.f.RGBA;var Be=[0],Ue=_.ka;Be[0]=_.T,_.Kb&&(Ue==0?--Be[0]:(--Ue,ue[0]-=_.width),_.j+_.ka+_.T==_.o&&(Be[0]=_.o-_.j-Ue));var lt=T.eb;Ue=T.fb+Ue*T.A,_=CQ(J,ue[0],_.width,ve,Be,lt,Ue+(Ce?0:3),T.A),t(G==Be),_&&pe(be)&&_1(lt,Ue,Ce,ve,Be,T.A)}return 0}function zt(_){var T=_.ma,G=T.ba.S,J=11>G,ue=G==LN||G==RN||G==MN||G==lP||G==12||pe(G);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!gl(T.Oa,_,ue?11:12))return 0;if(ue&&pe(G)&&v1(),_.da)alert("todo:use_scaling");else{if(J){if(T.Ib=Er,_.Kb){if(G=_.U+1>>1,T.memory=i(_.U+2*G),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+_.U,T.Mc=T.cc,T.Nc=T.dc+G,T.Ib=xr,v1()}}else alert("todo:EmitYUV");ue&&(T.Jb=on,J&&hp())}if(J&&!$Q){for(_=0;256>_;++_)ape[_]=89858*(_-128)+$N>>QN,ope[_]=-22014*(_-128)+$N,ipe[_]=-45773*(_-128),spe[_]=113618*(_-128)+$N>>QN;for(_=B1;_<AP;++_)T=76283*(_-16)+$N>>QN,lpe[_-B1]=ci(T,255),cpe[_-B1]=ci(T+8>>4,15);$Q=1}return 1}function ar(_){var T=_.ma,G=_.U,J=_.T;return t(!(1&_.ka)),0>=G||0>=J?0:(G=T.Ib(_,T),T.Jb!=null&&T.Jb(_,T,G),T.Dc+=G,1)}function is(_){_.ma.memory=null}function gs(_,T,G,J){return ne(_,8)!=47?0:(T[0]=ne(_,14)+1,G[0]=ne(_,14)+1,J[0]=ne(_,1),ne(_,3)!=0?0:!_.h)}function te(_,T){if(4>_)return _+1;var G=_-2>>1;return(2+(1&_)<<G)+ne(T,G)+1}function Xe(_,T){return 120<T?T-120:1<=(G=((G=zme[T-1])>>4)*_+(8-(15&G)))?G:1;var G}function ht(_,T,G){var J=Q(G),ue=_[T+=255&J].g-8;return 0<ue&&(U(G,G.u+8),J=Q(G),T+=_[T].value,T+=J&(1<<ue)-1),U(G,G.u+_[T].g),_[T].value}function Gt(_,T,G){return G.g+=_.g,G.value+=_.value<<T>>>0,t(8>=G.g),_.g}function oe(_,T,G){var J=_.xc;return t((T=J==0?0:_.vc[_.md*(G>>J)+(T>>J)])<_.Wb),_.Ya[T]}function ce(_,T,G,J){var ue=_.ab,ve=_.c*T,be=_.C;T=be+T;var Ce=G,Be=J;for(J=_.Ta,G=_.Ua;0<ue--;){var Ue=_.gc[ue],lt=be,vt=T,Qe=Ce,ut=Be,mt=(Be=J,Ce=G,Ue.Ea);switch(t(lt<vt),t(vt<=Ue.nc),Ue.hc){case 2:jx(Qe,ut,(vt-lt)*mt,Be,Ce);break;case 0:var _t=lt,gt=vt,Bt=Be,kt=Ce,Xt=(Pr=Ue).Ea;_t==0&&(Su(Qe,ut,null,null,1,Bt,kt),De(Qe,ut+1,0,0,Xt-1,Bt,kt+1),ut+=Xt,kt+=Xt,++_t);for(var Kt=1<<Pr.b,Lr=Kt-1,_r=nt(Xt,Pr.b),gn=Pr.K,Pr=Pr.w+(_t>>Pr.b)*_r;_t<gt;){var On=gn,di=Pr,vn=1;for(_u(Qe,ut,Bt,kt-Xt,1,Bt,kt);vn<Xt;){var kr=(vn&~Lr)+Kt;kr>Xt&&(kr=Xt),(0,mp[On[di++]>>8&15])(Qe,ut+ +vn,Bt,kt+vn-Xt,kr-vn,Bt,kt+vn),vn=kr}ut+=Xt,kt+=Xt,++_t&Lr||(Pr+=_r)}vt!=Ue.nc&&a(Be,Ce-mt,Be,Ce+(vt-lt-1)*mt,mt);break;case 1:for(mt=Qe,gt=ut,Xt=(Qe=Ue.Ea)-(kt=Qe&~(Bt=(ut=1<<Ue.b)-1)),_t=nt(Qe,Ue.b),Kt=Ue.K,Ue=Ue.w+(lt>>Ue.b)*_t;lt<vt;){for(Lr=Kt,_r=Ue,gn=new Ne,Pr=gt+kt,On=gt+Qe;gt<Pr;)At(Lr[_r++],gn),Uh(gn,mt,gt,ut,Be,Ce),gt+=ut,Ce+=ut;gt<On&&(At(Lr[_r++],gn),Uh(gn,mt,gt,Xt,Be,Ce),gt+=Xt,Ce+=Xt),++lt&Bt||(Ue+=_t)}break;case 3:if(Qe==Be&&ut==Ce&&0<Ue.b){for(gt=Be,Qe=mt=Ce+(vt-lt)*mt-(kt=(vt-lt)*nt(Ue.Ea,Ue.b)),ut=Be,Bt=Ce,_t=[],kt=(Xt=kt)-1;0<=kt;--kt)_t[kt]=ut[Bt+kt];for(kt=Xt-1;0<=kt;--kt)gt[Qe+kt]=_t[kt];N1(Ue,lt,vt,Be,mt,Be,Ce)}else N1(Ue,lt,vt,Qe,ut,Be,Ce)}Ce=J,Be=G}Be!=G&&a(J,G,Ce,Be,ve)}function we(_,T){var G=_.V,J=_.Ba+_.c*_.C,ue=T-_.C;if(t(T<=_.l.o),t(16>=ue),0<ue){var ve=_.l,be=_.Ta,Ce=_.Ua,Be=ve.width;if(ce(_,ue,G,J),ue=Ce=[Ce],t((G=_.C)<(J=T)),t(ve.v<ve.va),J>ve.o&&(J=ve.o),G<ve.j){var Ue=ve.j-G;G=ve.j,ue[0]+=Ue*Be}if(G>=J?G=0:(ue[0]+=4*ve.v,ve.ka=G-ve.j,ve.U=ve.va-ve.v,ve.T=J-G,G=1),G){if(Ce=Ce[0],11>(G=_.ca).S){var lt=G.f.RGBA,vt=(J=G.S,ue=ve.U,ve=ve.T,Ue=lt.eb,lt.A),Qe=ve;for(lt=lt.fb+_.Ma*lt.A;0<Qe--;){var ut=be,mt=Ce,_t=ue,gt=Ue,Bt=lt;switch(J){case DN:C1(ut,mt,_t,gt,Bt);break;case LN:Kl(ut,mt,_t,gt,Bt);break;case cP:Kl(ut,mt,_t,gt,Bt),_1(gt,Bt,0,_t,1,0);break;case kQ:Da(ut,mt,_t,gt,Bt);break;case RN:Ct(ut,mt,_t,gt,Bt,1);break;case dP:Ct(ut,mt,_t,gt,Bt,1),_1(gt,Bt,0,_t,1,0);break;case MN:Ct(ut,mt,_t,gt,Bt,0);break;case UN:Ct(ut,mt,_t,gt,Bt,0),_1(gt,Bt,1,_t,1,0);break;case lP:Eu(ut,mt,_t,gt,Bt);break;case uP:Eu(ut,mt,_t,gt,Bt),NQ(gt,Bt,_t,1,0);break;case TQ:Oa(ut,mt,_t,gt,Bt);break;default:t(0)}Ce+=Be,lt+=vt}_.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=G.height)}}_.C=T,t(_.C<=_.i)}function ye(_){var T;if(0<_.ua)return 0;for(T=0;T<_.Wb;++T){var G=_.Ya[T].G,J=_.Ya[T].H;if(0<G[1][J[1]+0].g||0<G[2][J[2]+0].g||0<G[3][J[3]+0].g)return 0}return 1}function ke(_,T,G,J,ue,ve){if(_.Z!=0){var be=_.qd,Ce=_.rd;for(t(sA[_.Z]!=null);T<G;++T)sA[_.Z](be,Ce,J,ue,J,ue,ve),be=J,Ce=ue,ue+=ve;_.qd=be,_.rd=Ce}}function Ie(_,T){var G=_.l.ma,J=G.Z==0||G.Z==1?_.l.j:_.C;if(J=_.C<J?J:_.C,t(T<=_.l.o),T>J){var ue=_.l.width,ve=G.ca,be=G.tb+ue*J,Ce=_.V,Be=_.Ba+_.c*J,Ue=_.gc;t(_.ab==1),t(Ue[0].hc==3),Cx(Ue[0],J,T,Ce,Be,ve,be),ke(G,J,T,ve,be,ue)}_.C=_.Ma=T}function q(_,T,G,J,ue,ve,be){var Ce=_.$/J,Be=_.$%J,Ue=_.m,lt=_.s,vt=G+_.$,Qe=vt;ue=G+J*ue;var ut=G+J*ve,mt=280+lt.ua,_t=_.Pb?Ce:16777216,gt=0<lt.ua?lt.Wa:null,Bt=lt.wc,kt=vt<ut?oe(lt,Be,Ce):null;t(_.C<ve),t(ut<=ue);var Xt=!1;e:for(;;){for(;Xt||vt<ut;){var Kt=0;if(Ce>=_t){var Lr=vt-G;t((_t=_).Pb),_t.wd=_t.m,_t.xd=Lr,0<_t.s.ua&&st(_t.s.Wa,_t.s.vb),_t=Ce+Kme}if(Be&Bt||(kt=oe(lt,Be,Ce)),t(kt!=null),kt.Qb&&(T[vt]=kt.qb,Xt=!0),!Xt)if(re(Ue),kt.jc){Kt=Ue,Lr=T;var _r=vt,gn=kt.pd[Q(Kt)&Cu-1];t(kt.jc),256>gn.g?(U(Kt,Kt.u+gn.g),Lr[_r]=gn.value,Kt=0):(U(Kt,Kt.u+gn.g-256),t(256<=gn.value),Kt=gn.value),Kt==0&&(Xt=!0)}else Kt=ht(kt.G[0],kt.H[0],Ue);if(Ue.h)break;if(Xt||256>Kt){if(!Xt)if(kt.nd)T[vt]=(kt.qb|Kt<<8)>>>0;else{if(re(Ue),Xt=ht(kt.G[1],kt.H[1],Ue),re(Ue),Lr=ht(kt.G[2],kt.H[2],Ue),_r=ht(kt.G[3],kt.H[3],Ue),Ue.h)break;T[vt]=(_r<<24|Xt<<16|Kt<<8|Lr)>>>0}if(Xt=!1,++vt,++Be>=J&&(Be=0,++Ce,be!=null&&Ce<=ve&&!(Ce%16)&&be(_,Ce),gt!=null))for(;Qe<vt;)Kt=T[Qe++],gt.X[(506832829*Kt&4294967295)>>>gt.Mb]=Kt}else if(280>Kt){if(Kt=te(Kt-256,Ue),Lr=ht(kt.G[4],kt.H[4],Ue),re(Ue),Lr=Xe(J,Lr=te(Lr,Ue)),Ue.h)break;if(vt-G<Lr||ue-vt<Kt)break e;for(_r=0;_r<Kt;++_r)T[vt+_r]=T[vt+_r-Lr];for(vt+=Kt,Be+=Kt;Be>=J;)Be-=J,++Ce,be!=null&&Ce<=ve&&!(Ce%16)&&be(_,Ce);if(t(vt<=ue),Be&Bt&&(kt=oe(lt,Be,Ce)),gt!=null)for(;Qe<vt;)Kt=T[Qe++],gt.X[(506832829*Kt&4294967295)>>>gt.Mb]=Kt}else{if(!(Kt<mt))break e;for(Xt=Kt-280,t(gt!=null);Qe<vt;)Kt=T[Qe++],gt.X[(506832829*Kt&4294967295)>>>gt.Mb]=Kt;Kt=vt,t(!(Xt>>>(Lr=gt).Xa)),T[Kt]=Lr.X[Xt],Xt=!0}Xt||t(Ue.h==W(Ue))}if(_.Pb&&Ue.h&&vt<ue)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&st(_.s.vb,_.s.Wa);else{if(Ue.h)break e;be!=null&&be(_,Ce>ve?ve:Ce),_.a=0,_.$=vt-G}return 1}return _.a=3,0}function xe(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var T=_.Wa;T!=null&&(T.X=null),_.vb=null,t(_!=null)}function _e(){var _=new os;return _==null?null:(_.a=0,_.xb=DQ,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),jx=Ke,Uh=He,C1=dr,Kl=Pe,Eu=X,Oa=We,Da=wt,E.VP8LMapColor32b=Nx,E.VP8LMapColor8b=Ap,_)}function Ye(_,T,G,J,ue){var ve=1,be=[_],Ce=[T],Be=J.m,Ue=J.s,lt=null,vt=0;e:for(;;){if(G)for(;ve&&ne(Be,1);){var Qe=be,ut=Ce,mt=J,_t=1,gt=mt.m,Bt=mt.gc[mt.ab],kt=ne(gt,2);if(mt.Oc&1<<kt)ve=0;else{switch(mt.Oc|=1<<kt,Bt.hc=kt,Bt.Ea=Qe[0],Bt.nc=ut[0],Bt.K=[null],++mt.ab,t(4>=mt.ab),kt){case 0:case 1:Bt.b=ne(gt,3)+2,_t=Ye(nt(Bt.Ea,Bt.b),nt(Bt.nc,Bt.b),0,mt,Bt.K),Bt.K=Bt.K[0];break;case 3:var Xt,Kt=ne(gt,8)+1,Lr=16<Kt?0:4<Kt?1:2<Kt?2:3;if(Qe[0]=nt(Bt.Ea,Lr),Bt.b=Lr,Xt=_t=Ye(Kt,1,0,mt,Bt.K)){var _r,gn=Kt,Pr=Bt,On=1<<(8>>Pr.b),di=i(On);if(di==null)Xt=0;else{var vn=Pr.K[0],kr=Pr.w;for(di[0]=Pr.K[0][0],_r=1;_r<1*gn;++_r)di[_r]=Nt(vn[kr+_r],di[_r-1]);for(;_r<4*On;++_r)di[_r]=0;Pr.K[0]=null,Pr.K[0]=di,Xt=1}}_t=Xt;break;case 2:break;default:t(0)}ve=_t}}if(be=be[0],Ce=Ce[0],ve&&ne(Be,1)&&!(ve=1<=(vt=ne(Be,4))&&11>=vt)){J.a=3;break e}var ur;if(ur=ve)t:{var Ds,hn,Hn,za=J,Hi=be,Ro=Ce,ys=vt,co=G,Mo=za.m,ui=za.s,Wn=[null],ha=1,ws=0,fa=Vme[ys];r:for(;;){if(co&&ne(Mo,1)){var zi=ne(Mo,3)+2,Ed=nt(Hi,zi),Ls=nt(Ro,zi),yl=Ed*Ls;if(!Ye(Ed,Ls,0,za,Wn))break r;for(Wn=Wn[0],ui.xc=zi,Ds=0;Ds<yl;++Ds){var Ea=Wn[Ds]>>8&65535;Wn[Ds]=Ea,Ea>=ha&&(ha=Ea+1)}}if(Mo.h)break r;for(hn=0;5>hn;++hn){var hi=IQ[hn];!hn&&0<ys&&(hi+=1<<ys),ws<hi&&(ws=hi)}var Wl=o(ha*fa,M),Uo=ha,Gl=o(Uo,k);if(Gl==null)var Xl=null;else t(65536>=Uo),Xl=Gl;var wl=i(ws);if(Xl==null||wl==null||Wl==null){za.a=1;break r}var Yl=Wl;for(Ds=Hn=0;Ds<ha;++Ds){var La=Xl[Ds],Jl=La.G,Bd=La.H,pp=0,Hh=1,Vi=0;for(hn=0;5>hn;++hn){hi=IQ[hn],Jl[hn]=Yl,Bd[hn]=Hn,!hn&&0<ys&&(hi+=1<<ys);a:{var zN,mP=hi,VN=za,F1=wl,hpe=Yl,fpe=Hn,pP=0,iA=VN.m,Ape=ne(iA,1);if(s(F1,0,0,mP),Ape){var mpe=ne(iA,1)+1,ppe=ne(iA,1),VQ=ne(iA,ppe==0?1:8);F1[VQ]=1,mpe==2&&(F1[VQ=ne(iA,8)]=1);var KN=1}else{var KQ=i(19),qQ=ne(iA,4)+4;if(19<qQ){VN.a=3;var qN=0;break a}for(zN=0;zN<qQ;++zN)KQ[Hme[zN]]=ne(iA,3);var xP=void 0,P1=void 0,WQ=VN,xpe=KQ,WN=mP,GQ=F1,gP=0,oA=WQ.m,XQ=8,YQ=o(128,M);n:for(;I(YQ,0,7,xpe,19);){if(ne(oA,1)){var gpe=2+2*ne(oA,3);if((xP=2+ne(oA,gpe))>WN)break n}else xP=WN;for(P1=0;P1<WN&&xP--;){re(oA);var JQ=YQ[0+(127&Q(oA))];U(oA,oA.u+JQ.g);var _x=JQ.value;if(16>_x)GQ[P1++]=_x,_x!=0&&(XQ=_x);else{var vpe=_x==16,ZQ=_x-16,ype=Qme[ZQ],e7=ne(oA,Ume[ZQ])+ype;if(P1+e7>WN)break n;for(var wpe=vpe?XQ:0;0<e7--;)GQ[P1++]=wpe}}gP=1;break n}gP||(WQ.a=3),KN=gP}(KN=KN&&!iA.h)&&(pP=I(hpe,fpe,8,F1,mP)),KN&&pP!=0?qN=pP:(VN.a=3,qN=0)}if(qN==0)break r;if(Hh&&$me[hn]==1&&(Hh=Yl[Hn].g==0),pp+=Yl[Hn].g,Hn+=qN,3>=hn){var k1,vP=wl[0];for(k1=1;k1<hi;++k1)wl[k1]>vP&&(vP=wl[k1]);Vi+=vP}}if(La.nd=Hh,La.Qb=0,Hh&&(La.qb=(Jl[3][Bd[3]+0].value<<24|Jl[1][Bd[1]+0].value<<16|Jl[2][Bd[2]+0].value)>>>0,pp==0&&256>Jl[0][Bd[0]+0].value&&(La.Qb=1,La.qb+=Jl[0][Bd[0]+0].value<<8)),La.jc=!La.Qb&&6>Vi,La.jc){var GN,zh=La;for(GN=0;GN<Cu;++GN){var lA=GN,cA=zh.pd[lA],XN=zh.G[0][zh.H[0]+lA];256<=XN.value?(cA.g=XN.g+256,cA.value=XN.value):(cA.g=0,cA.value=0,lA>>=Gt(XN,8,cA),lA>>=Gt(zh.G[1][zh.H[1]+lA],16,cA),lA>>=Gt(zh.G[2][zh.H[2]+lA],0,cA),Gt(zh.G[3][zh.H[3]+lA],24,cA))}}}ui.vc=Wn,ui.Wb=ha,ui.Ya=Xl,ui.yc=Wl,ur=1;break t}ur=0}if(!(ve=ur)){J.a=3;break e}if(0<vt){if(Ue.ua=1<<vt,!ee(Ue.Wa,vt)){J.a=1,ve=0;break e}}else Ue.ua=0;var yP=J,t7=be,bpe=Ce,wP=yP.s,bP=wP.xc;if(yP.c=t7,yP.i=bpe,wP.md=nt(t7,bP),wP.wc=bP==0?-1:(1<<bP)-1,G){J.xb=Zme;break e}if((lt=i(be*Ce))==null){J.a=1,ve=0;break e}ve=(ve=q(J,lt,0,be,Ce,Ce,null))&&!Be.h;break e}return ve?(ue!=null?ue[0]=lt:(t(lt==null),t(G)),J.$=0,G||xe(Ue)):xe(Ue),ve}function Ve(_,T){var G=_.c*_.i,J=G+T+16*T;return t(_.c<=T),_.V=i(J),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+G+T,1)}function qe(_,T){var G=_.C,J=T-G,ue=_.V,ve=_.Ba+_.c*G;for(t(T<=_.l.o);0<J;){var be=16<J?16:J,Ce=_.l.ma,Be=_.l.width,Ue=Be*be,lt=Ce.ca,vt=Ce.tb+Be*G,Qe=_.Ta,ut=_.Ua;ce(_,be,ue,ve),SQ(Qe,ut,lt,vt,Ue),ke(Ce,G,G+be,lt,vt,Be),J-=be,ue+=be*_.c,G+=be}t(G==T),_.C=_.Ma=T}function bt(){this.ub=this.yd=this.td=this.Rb=0}function yt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function It(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Wt(){this.Yb=function(){var _=[];return function T(G,J,ue){for(var ve=ue[J],be=0;be<ve&&(G.push(ue.length>J+1?[]:0),!(ue.length<J+1));be++)T(G[be],J+1,ue)}(_,0,[3,11]),_}()}function yr(){this.jb=i(3),this.Wc=l([4,8],Wt),this.Xc=l([4,17],Wt)}function In(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function un(){this.ld=this.La=this.dd=this.tc=0}function ta(){this.Na=this.la=0}function Qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ia(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ui(){this.uc=this.M=this.Nb=0,this.wa=Array(new un),this.Y=0,this.ya=Array(new ia),this.aa=0,this.l=new ji}function Qi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function zl(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new bt,this.Kc=new yt,this.ed=new In,this.Qa=new It,this.Ic=this.$c=this.Aa=0,this.D=new Ui,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,S),this.ia=0,this.pb=o(4,Qr),this.Pa=new yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qi),this.Hd=0,this.rb=Array(new ta),this.sb=0,this.wa=Array(new un),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ia),this.L=this.aa=0,this.gd=l([4,2],un),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ji(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function o1(){var _=new zl;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,E1||(E1=Nd)),_}function vs(_,T,G){return _.a==0&&(_.a=T,_.sc=G,_.cb=0),0}function np(_,T,G){return 3<=G&&_[T+0]==157&&_[T+1]==1&&_[T+2]==42}function bu(_,T){if(_==null)return 0;if(_.a=0,_.sc="OK",T==null)return vs(_,2,"null VP8Io passed to VP8GetHeaders()");var G=T.data,J=T.w,ue=T.ha;if(4>ue)return vs(_,7,"Truncated header.");var ve=G[J+0]|G[J+1]<<8|G[J+2]<<16,be=_.Od;if(be.Rb=!(1&ve),be.td=ve>>1&7,be.yd=ve>>4&1,be.ub=ve>>5,3<be.td)return vs(_,3,"Incorrect keyframe parameters.");if(!be.yd)return vs(_,4,"Frame not displayable.");J+=3,ue-=3;var Ce=_.Kc;if(be.Rb){if(7>ue)return vs(_,7,"cannot parse picture header");if(!np(G,J,ue))return vs(_,3,"Bad code word");Ce.c=16383&(G[J+4]<<8|G[J+3]),Ce.Td=G[J+4]>>6,Ce.i=16383&(G[J+6]<<8|G[J+5]),Ce.Ud=G[J+6]>>6,J+=7,ue-=7,_.za=Ce.c+15>>4,_.Ub=Ce.i+15>>4,T.width=Ce.c,T.height=Ce.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,s((ve=_.Pa).jb,0,255,ve.jb.length),t((ve=_.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,s(ve.Zb,0,0,ve.Zb.length),s(ve.Lb,0,0,ve.Lb)}if(be.ub>ue)return vs(_,7,"bad partition length");P(ve=_.m,G,J,be.ub),J+=be.ub,ue-=be.ub,be.Rb&&(Ce.Ld=ae(ve),Ce.Kd=ae(ve)),Ce=_.Qa;var Be,Ue=_.Pa;if(t(ve!=null),t(Ce!=null),Ce.Cb=ae(ve),Ce.Cb){if(Ce.Bb=ae(ve),ae(ve)){for(Ce.Fb=ae(ve),Be=0;4>Be;++Be)Ce.Zb[Be]=ae(ve)?V(ve,7):0;for(Be=0;4>Be;++Be)Ce.Lb[Be]=ae(ve)?V(ve,6):0}if(Ce.Bb)for(Be=0;3>Be;++Be)Ue.jb[Be]=ae(ve)?R(ve,8):255}else Ce.Bb=0;if(ve.Ka)return vs(_,3,"cannot parse segment header");if((Ce=_.ed).zd=ae(ve),Ce.Tb=R(ve,6),Ce.wb=R(ve,3),Ce.Pc=ae(ve),Ce.Pc&&ae(ve)){for(Ue=0;4>Ue;++Ue)ae(ve)&&(Ce.vd[Ue]=V(ve,6));for(Ue=0;4>Ue;++Ue)ae(ve)&&(Ce.od[Ue]=V(ve,6))}if(_.L=Ce.Tb==0?0:Ce.zd?1:2,ve.Ka)return vs(_,3,"cannot parse filter header");var lt=ue;if(ue=Be=J,J=Be+lt,Ce=lt,_.Xb=(1<<R(_.m,2))-1,lt<3*(Ue=_.Xb))G=7;else{for(Be+=3*Ue,Ce-=3*Ue,lt=0;lt<Ue;++lt){var vt=G[ue+0]|G[ue+1]<<8|G[ue+2]<<16;vt>Ce&&(vt=Ce),P(_.Jc[+lt],G,Be,vt),Be+=vt,Ce-=vt,ue+=3}P(_.Jc[+Ue],G,Be,Ce),G=Be<J?0:5}if(G!=0)return vs(_,G,"cannot parse partitions");for(G=R(Be=_.m,7),ue=ae(Be)?V(Be,4):0,J=ae(Be)?V(Be,4):0,Ce=ae(Be)?V(Be,4):0,Ue=ae(Be)?V(Be,4):0,Be=ae(Be)?V(Be,4):0,lt=_.Qa,vt=0;4>vt;++vt){if(lt.Cb){var Qe=lt.Zb[vt];lt.Fb||(Qe+=G)}else{if(0<vt){_.pb[vt]=_.pb[0];continue}Qe=G}var ut=_.pb[vt];ut.Sc[0]=hP[ci(Qe+ue,127)],ut.Sc[1]=fP[ci(Qe+0,127)],ut.Eb[0]=2*hP[ci(Qe+J,127)],ut.Eb[1]=101581*fP[ci(Qe+Ce,127)]>>16,8>ut.Eb[1]&&(ut.Eb[1]=8),ut.Qc[0]=hP[ci(Qe+Ue,117)],ut.Qc[1]=fP[ci(Qe+Be,127)],ut.lc=Qe+Be}if(!be.Rb)return vs(_,4,"Not a key frame.");for(ae(ve),be=_.Pa,G=0;4>G;++G){for(ue=0;8>ue;++ue)for(J=0;3>J;++J)for(Ce=0;11>Ce;++Ce)Ue=Ae(ve,Yme[G][ue][J][Ce])?R(ve,8):Gme[G][ue][J][Ce],be.Wc[G][ue].Yb[J][Ce]=Ue;for(ue=0;17>ue;++ue)be.Xc[G][ue]=be.Wc[G][Jme[ue]]}return _.kc=ae(ve),_.kc&&(_.Bd=R(ve,8)),_.cb=1}function Nd(_,T,G,J,ue,ve,be){var Ce=T[ue].Yb[G];for(G=0;16>ue;++ue){if(!Ae(_,Ce[G+0]))return ue;for(;!Ae(_,Ce[G+1]);)if(Ce=T[++ue].Yb[0],G=0,ue==16)return 16;var Be=T[ue+1].Yb;if(Ae(_,Ce[G+2])){var Ue=_,lt=0;if(Ae(Ue,(Qe=Ce)[(vt=G)+3]))if(Ae(Ue,Qe[vt+6])){for(Ce=0,vt=2*(lt=Ae(Ue,Qe[vt+8]))+(Qe=Ae(Ue,Qe[vt+9+lt])),lt=0,Qe=qme[vt];Qe[Ce];++Ce)lt+=lt+Ae(Ue,Qe[Ce]);lt+=3+(8<<vt)}else Ae(Ue,Qe[vt+7])?(lt=7+2*Ae(Ue,165),lt+=Ae(Ue,145)):lt=5+Ae(Ue,159);else lt=Ae(Ue,Qe[vt+4])?3+Ae(Ue,Qe[vt+5]):2;Ce=Be[2]}else lt=1,Ce=Be[1];Be=be+Wme[ue],0>(Ue=_).b&&de(Ue);var vt,Qe=Ue.b,ut=(vt=Ue.Ca>>1)-(Ue.I>>Qe)>>31;--Ue.b,Ue.Ca+=ut,Ue.Ca|=1,Ue.I-=(vt+1&ut)<<Qe,ve[Be]=((lt^ut)-ut)*J[(0<ue)+0]}return 16}function ap(_){var T=_.rb[_.sb-1];T.la=0,T.Na=0,s(_.zc,0,0,_.zc.length),_.ja=0}function Cd(_,T,G,J,ue){ue=_[T+G+32*J]+(ue>>3),_[T+G+32*J]=-256&ue?0>ue?0:255:ue}function sp(_,T,G,J,ue,ve){Cd(_,T,0,G,J+ue),Cd(_,T,1,G,J+ve),Cd(_,T,2,G,J-ve),Cd(_,T,3,G,J-ue)}function ks(_){return(20091*_>>16)+_}function l1(_,T,G,J){var ue,ve=0,be=i(16);for(ue=0;4>ue;++ue){var Ce=_[T+0]+_[T+8],Be=_[T+0]-_[T+8],Ue=(35468*_[T+4]>>16)-ks(_[T+12]),lt=ks(_[T+4])+(35468*_[T+12]>>16);be[ve+0]=Ce+lt,be[ve+1]=Be+Ue,be[ve+2]=Be-Ue,be[ve+3]=Ce-lt,ve+=4,T++}for(ue=ve=0;4>ue;++ue)Ce=(_=be[ve+0]+4)+be[ve+8],Be=_-be[ve+8],Ue=(35468*be[ve+4]>>16)-ks(be[ve+12]),Cd(G,J,0,0,Ce+(lt=ks(be[ve+4])+(35468*be[ve+12]>>16))),Cd(G,J,1,0,Be+Ue),Cd(G,J,2,0,Be-Ue),Cd(G,J,3,0,Ce-lt),ve++,J+=32}function VF(_,T,G,J){var ue=_[T+0]+4,ve=35468*_[T+4]>>16,be=ks(_[T+4]),Ce=35468*_[T+1]>>16;sp(G,J,0,ue+be,_=ks(_[T+1]),Ce),sp(G,J,1,ue+ve,_,Ce),sp(G,J,2,ue-ve,_,Ce),sp(G,J,3,ue-be,_,Ce)}function KF(_,T,G,J,ue){l1(_,T,G,J),ue&&l1(_,T+16,G,J+4)}function qF(_,T,G,J){Os(_,T+0,G,J,1),Os(_,T+32,G,J+128,1)}function ju(_,T,G,J){var ue;for(_=_[T+0]+4,ue=0;4>ue;++ue)for(T=0;4>T;++T)Cd(G,J,T,ue,_)}function FN(_,T,G,J){_[T+0]&&Bu(_,T+0,G,J),_[T+16]&&Bu(_,T+16,G,J+4),_[T+32]&&Bu(_,T+32,G,J+128),_[T+48]&&Bu(_,T+48,G,J+128+4)}function PN(_,T,G,J){var ue,ve=i(16);for(ue=0;4>ue;++ue){var be=_[T+0+ue]+_[T+12+ue],Ce=_[T+4+ue]+_[T+8+ue],Be=_[T+4+ue]-_[T+8+ue],Ue=_[T+0+ue]-_[T+12+ue];ve[0+ue]=be+Ce,ve[8+ue]=be-Ce,ve[4+ue]=Ue+Be,ve[12+ue]=Ue-Be}for(ue=0;4>ue;++ue)be=(_=ve[0+4*ue]+3)+ve[3+4*ue],Ce=ve[1+4*ue]+ve[2+4*ue],Be=ve[1+4*ue]-ve[2+4*ue],Ue=_-ve[3+4*ue],G[J+0]=be+Ce>>3,G[J+16]=Ue+Be>>3,G[J+32]=be-Ce>>3,G[J+48]=Ue-Be>>3,J+=64}function Yf(_,T,G){var J,ue=T-32,ve=ql,be=255-_[ue-1];for(J=0;J<G;++J){var Ce,Be=ve,Ue=be+_[T-1];for(Ce=0;Ce<G;++Ce)_[T+Ce]=Be[Ue+_[ue+Ce]];T+=32}}function c1(_,T){Yf(_,T,4)}function WF(_,T){Yf(_,T,8)}function GF(_,T){Yf(_,T,16)}function XF(_,T){var G;for(G=0;16>G;++G)a(_,T+32*G,_,T-32,16)}function d1(_,T){var G;for(G=16;0<G;--G)s(_,T,_[T-1],16),T+=32}function ip(_,T,G){var J;for(J=0;16>J;++J)s(T,G+32*J,_,16)}function Jf(_,T){var G,J=16;for(G=0;16>G;++G)J+=_[T-1+32*G]+_[T+G-32];ip(J>>5,_,T)}function YF(_,T){var G,J=8;for(G=0;16>G;++G)J+=_[T-1+32*G];ip(J>>4,_,T)}function op(_,T){var G,J=8;for(G=0;16>G;++G)J+=_[T+G-32];ip(J>>4,_,T)}function u1(_,T){ip(128,_,T)}function ln(_,T,G){return _+2*T+G+2>>2}function JF(_,T){var G,J=T-32;for(J=new Uint8Array([ln(_[J-1],_[J+0],_[J+1]),ln(_[J+0],_[J+1],_[J+2]),ln(_[J+1],_[J+2],_[J+3]),ln(_[J+2],_[J+3],_[J+4])]),G=0;4>G;++G)a(_,T+32*G,J,0,J.length)}function ZF(_,T){var G=_[T-1],J=_[T-1+32],ue=_[T-1+64],ve=_[T-1+96];Me(_,T+0,16843009*ln(_[T-1-32],G,J)),Me(_,T+32,16843009*ln(G,J,ue)),Me(_,T+64,16843009*ln(J,ue,ve)),Me(_,T+96,16843009*ln(ue,ve,ve))}function eP(_,T){var G,J=4;for(G=0;4>G;++G)J+=_[T+G-32]+_[T-1+32*G];for(J>>=3,G=0;4>G;++G)s(_,T+32*G,J,4)}function tP(_,T){var G=_[T-1+0],J=_[T-1+32],ue=_[T-1+64],ve=_[T-1-32],be=_[T+0-32],Ce=_[T+1-32],Be=_[T+2-32],Ue=_[T+3-32];_[T+0+96]=ln(J,ue,_[T-1+96]),_[T+1+96]=_[T+0+64]=ln(G,J,ue),_[T+2+96]=_[T+1+64]=_[T+0+32]=ln(ve,G,J),_[T+3+96]=_[T+2+64]=_[T+1+32]=_[T+0+0]=ln(be,ve,G),_[T+3+64]=_[T+2+32]=_[T+1+0]=ln(Ce,be,ve),_[T+3+32]=_[T+2+0]=ln(Be,Ce,be),_[T+3+0]=ln(Ue,Be,Ce)}function Oh(_,T){var G=_[T+1-32],J=_[T+2-32],ue=_[T+3-32],ve=_[T+4-32],be=_[T+5-32],Ce=_[T+6-32],Be=_[T+7-32];_[T+0+0]=ln(_[T+0-32],G,J),_[T+1+0]=_[T+0+32]=ln(G,J,ue),_[T+2+0]=_[T+1+32]=_[T+0+64]=ln(J,ue,ve),_[T+3+0]=_[T+2+32]=_[T+1+64]=_[T+0+96]=ln(ue,ve,be),_[T+3+32]=_[T+2+64]=_[T+1+96]=ln(ve,be,Ce),_[T+3+64]=_[T+2+96]=ln(be,Ce,Be),_[T+3+96]=ln(Ce,Be,Be)}function Dh(_,T){var G=_[T-1+0],J=_[T-1+32],ue=_[T-1+64],ve=_[T-1-32],be=_[T+0-32],Ce=_[T+1-32],Be=_[T+2-32],Ue=_[T+3-32];_[T+0+0]=_[T+1+64]=ve+be+1>>1,_[T+1+0]=_[T+2+64]=be+Ce+1>>1,_[T+2+0]=_[T+3+64]=Ce+Be+1>>1,_[T+3+0]=Be+Ue+1>>1,_[T+0+96]=ln(ue,J,G),_[T+0+64]=ln(J,G,ve),_[T+0+32]=_[T+1+96]=ln(G,ve,be),_[T+1+32]=_[T+2+96]=ln(ve,be,Ce),_[T+2+32]=_[T+3+96]=ln(be,Ce,Be),_[T+3+32]=ln(Ce,Be,Ue)}function rP(_,T){var G=_[T+0-32],J=_[T+1-32],ue=_[T+2-32],ve=_[T+3-32],be=_[T+4-32],Ce=_[T+5-32],Be=_[T+6-32],Ue=_[T+7-32];_[T+0+0]=G+J+1>>1,_[T+1+0]=_[T+0+64]=J+ue+1>>1,_[T+2+0]=_[T+1+64]=ue+ve+1>>1,_[T+3+0]=_[T+2+64]=ve+be+1>>1,_[T+0+32]=ln(G,J,ue),_[T+1+32]=_[T+0+96]=ln(J,ue,ve),_[T+2+32]=_[T+1+96]=ln(ue,ve,be),_[T+3+32]=_[T+2+96]=ln(ve,be,Ce),_[T+3+64]=ln(be,Ce,Be),_[T+3+96]=ln(Ce,Be,Ue)}function nP(_,T){var G=_[T-1+0],J=_[T-1+32],ue=_[T-1+64],ve=_[T-1+96];_[T+0+0]=G+J+1>>1,_[T+2+0]=_[T+0+32]=J+ue+1>>1,_[T+2+32]=_[T+0+64]=ue+ve+1>>1,_[T+1+0]=ln(G,J,ue),_[T+3+0]=_[T+1+32]=ln(J,ue,ve),_[T+3+32]=_[T+1+64]=ln(ue,ve,ve),_[T+3+64]=_[T+2+64]=_[T+0+96]=_[T+1+96]=_[T+2+96]=_[T+3+96]=ve}function mx(_,T){var G=_[T-1+0],J=_[T-1+32],ue=_[T-1+64],ve=_[T-1+96],be=_[T-1-32],Ce=_[T+0-32],Be=_[T+1-32],Ue=_[T+2-32];_[T+0+0]=_[T+2+32]=G+be+1>>1,_[T+0+32]=_[T+2+64]=J+G+1>>1,_[T+0+64]=_[T+2+96]=ue+J+1>>1,_[T+0+96]=ve+ue+1>>1,_[T+3+0]=ln(Ce,Be,Ue),_[T+2+0]=ln(be,Ce,Be),_[T+1+0]=_[T+3+32]=ln(G,be,Ce),_[T+1+32]=_[T+3+64]=ln(J,G,be),_[T+1+64]=_[T+3+96]=ln(ue,J,G),_[T+1+96]=ln(ve,ue,J)}function h1(_,T){var G;for(G=0;8>G;++G)a(_,T+32*G,_,T-32,8)}function lp(_,T){var G;for(G=0;8>G;++G)s(_,T,_[T-1],8),T+=32}function px(_,T,G){var J;for(J=0;8>J;++J)s(T,G+32*J,_,8)}function xx(_,T){var G,J=8;for(G=0;8>G;++G)J+=_[T+G-32]+_[T-1+32*G];px(J>>4,_,T)}function aP(_,T){var G,J=4;for(G=0;8>G;++G)J+=_[T+G-32];px(J>>3,_,T)}function f1(_,T){var G,J=4;for(G=0;8>G;++G)J+=_[T-1+32*G];px(J>>3,_,T)}function A1(_,T){px(128,_,T)}function cp(_,T,G){var J=_[T-G],ue=_[T+0],ve=3*(ue-J)+oP[1020+_[T-2*G]-_[T+G]],be=ON[112+(ve+4>>3)];_[T-G]=ql[255+J+ON[112+(ve+3>>3)]],_[T+0]=ql[255+ue-be]}function dp(_,T,G,J){var ue=_[T+0],ve=_[T+G];return Pc[255+_[T-2*G]-_[T-G]]>J||Pc[255+ve-ue]>J}function m1(_,T,G,J){return 4*Pc[255+_[T-G]-_[T+0]]+Pc[255+_[T-2*G]-_[T+G]]<=J}function gx(_,T,G,J,ue){var ve=_[T-3*G],be=_[T-2*G],Ce=_[T-G],Be=_[T+0],Ue=_[T+G],lt=_[T+2*G],vt=_[T+3*G];return 4*Pc[255+Ce-Be]+Pc[255+be-Ue]>J?0:Pc[255+_[T-4*G]-ve]<=ue&&Pc[255+ve-be]<=ue&&Pc[255+be-Ce]<=ue&&Pc[255+vt-lt]<=ue&&Pc[255+lt-Ue]<=ue&&Pc[255+Ue-Be]<=ue}function p1(_,T,G,J){var ue=2*J+1;for(J=0;16>J;++J)m1(_,T+J,G,ue)&&cp(_,T+J,G)}function up(_,T,G,J){var ue=2*J+1;for(J=0;16>J;++J)m1(_,T+J*G,1,ue)&&cp(_,T+J*G,1)}function x1(_,T,G,J){var ue;for(ue=3;0<ue;--ue)p1(_,T+=4*G,G,J)}function g1(_,T,G,J){var ue;for(ue=3;0<ue;--ue)up(_,T+=4,G,J)}function Vl(_,T,G,J,ue,ve,be,Ce){for(ve=2*ve+1;0<ue--;){if(gx(_,T,G,ve,be))if(dp(_,T,G,Ce))cp(_,T,G);else{var Be=_,Ue=T,lt=G,vt=Be[Ue-2*lt],Qe=Be[Ue-lt],ut=Be[Ue+0],mt=Be[Ue+lt],_t=Be[Ue+2*lt],gt=27*(kt=oP[1020+3*(ut-Qe)+oP[1020+vt-mt]])+63>>7,Bt=18*kt+63>>7,kt=9*kt+63>>7;Be[Ue-3*lt]=ql[255+Be[Ue-3*lt]+kt],Be[Ue-2*lt]=ql[255+vt+Bt],Be[Ue-lt]=ql[255+Qe+gt],Be[Ue+0]=ql[255+ut-gt],Be[Ue+lt]=ql[255+mt-Bt],Be[Ue+2*lt]=ql[255+_t-kt]}T+=J}}function Nu(_,T,G,J,ue,ve,be,Ce){for(ve=2*ve+1;0<ue--;){if(gx(_,T,G,ve,be))if(dp(_,T,G,Ce))cp(_,T,G);else{var Be=_,Ue=T,lt=G,vt=Be[Ue-lt],Qe=Be[Ue+0],ut=Be[Ue+lt],mt=ON[112+(4+(_t=3*(Qe-vt))>>3)],_t=ON[112+(_t+3>>3)],gt=mt+1>>1;Be[Ue-2*lt]=ql[255+Be[Ue-2*lt]+gt],Be[Ue-lt]=ql[255+vt+_t],Be[Ue+0]=ql[255+Qe-mt],Be[Ue+lt]=ql[255+ut-gt]}T+=J}}function K(_,T,G,J,ue,ve){Vl(_,T,G,1,16,J,ue,ve)}function he(_,T,G,J,ue,ve){Vl(_,T,1,G,16,J,ue,ve)}function $e(_,T,G,J,ue,ve){var be;for(be=3;0<be;--be)Nu(_,T+=4*G,G,1,16,J,ue,ve)}function at(_,T,G,J,ue,ve){var be;for(be=3;0<be;--be)Nu(_,T+=4,1,G,16,J,ue,ve)}function ft(_,T,G,J,ue,ve,be,Ce){Vl(_,T,ue,1,8,ve,be,Ce),Vl(G,J,ue,1,8,ve,be,Ce)}function Pt(_,T,G,J,ue,ve,be,Ce){Vl(_,T,1,ue,8,ve,be,Ce),Vl(G,J,1,ue,8,ve,be,Ce)}function qt(_,T,G,J,ue,ve,be,Ce){Nu(_,T+4*ue,ue,1,8,ve,be,Ce),Nu(G,J+4*ue,ue,1,8,ve,be,Ce)}function Fr(_,T,G,J,ue,ve,be,Ce){Nu(_,T+4,1,ue,8,ve,be,Ce),Nu(G,J+4,1,ue,8,ve,be,Ce)}function Dr(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function an(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function An(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function aa(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new M}function os(){this.xb=this.a=0,this.l=new ji,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new aa,this.ab=0,this.gc=o(4,An),this.Oc=0}function Gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ji,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Na(_,T,G,J,ue,ve,be){for(_=_==null?0:_[T+0],T=0;T<be;++T)ue[ve+T]=_+G[J+T]&255,_=ue[ve+T]}function li(_,T,G,J,ue,ve,be){var Ce;if(_==null)Na(null,null,G,J,ue,ve,be);else for(Ce=0;Ce<be;++Ce)ue[ve+Ce]=_[T+Ce]+G[J+Ce]&255}function Xs(_,T,G,J,ue,ve,be){if(_==null)Na(null,null,G,J,ue,ve,be);else{var Ce,Be=_[T+0],Ue=Be,lt=Be;for(Ce=0;Ce<be;++Ce)Ue=lt+(Be=_[T+Ce])-Ue,lt=G[J+Ce]+(-256&Ue?0>Ue?0:255:Ue)&255,Ue=Be,ue[ve+Ce]=lt}}function $i(_,T,G,J){var ue=T.width,ve=T.o;if(t(_!=null&&T!=null),0>G||0>=J||G+J>ve)return null;if(!_.Cc){if(_.ga==null){var be;if(_.ga=new Gs,(be=_.ga==null)||(be=T.width*T.o,t(_.Gb.length==0),_.Gb=i(be),_.Uc=0,_.Gb==null?be=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,be=1),be=!be),!be){be=_.ga;var Ce=_.Fa,Be=_.P,Ue=_.qc,lt=_.mb,vt=_.nb,Qe=Be+1,ut=Ue-1,mt=be.l;if(t(Ce!=null&&lt!=null&&T!=null),sA[0]=null,sA[1]=Na,sA[2]=li,sA[3]=Xs,be.ca=lt,be.tb=vt,be.c=T.width,be.i=T.height,t(0<be.c&&0<be.i),1>=Ue)T=0;else if(be.$a=3&Ce[Be+0],be.Z=Ce[Be+0]>>2&3,be.Lc=Ce[Be+0]>>4&3,Be=Ce[Be+0]>>6&3,0>be.$a||1<be.$a||4<=be.Z||1<be.Lc||Be)T=0;else if(mt.put=ar,mt.ac=zt,mt.bc=is,mt.ma=be,mt.width=T.width,mt.height=T.height,mt.Da=T.Da,mt.v=T.v,mt.va=T.va,mt.j=T.j,mt.o=T.o,be.$a)e:{t(be.$a==1),T=_e();t:for(;;){if(T==null){T=0;break e}if(t(be!=null),be.mc=T,T.c=be.c,T.i=be.i,T.l=be.l,T.l.ma=be,T.l.width=be.c,T.l.height=be.i,T.a=0,D(T.m,Ce,Qe,ut),!Ye(be.c,be.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&ye(T.s)?(be.ic=1,Ce=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(Ce),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(be.ic=0,T=Ve(T,be.c)),!T))break t;T=1;break e}be.mc=null,T=0}else T=ut>=be.c*be.i;be=!T}if(be)return null;_.ga.Lc!=1?_.Ga=0:J=ve-G}t(_.ga!=null),t(G+J<=ve);e:{if(T=(Ce=_.ga).c,ve=Ce.l.o,Ce.$a==0){if(Qe=_.rc,ut=_.Vc,mt=_.Fa,Be=_.P+1+G*T,Ue=_.mb,lt=_.nb+G*T,t(Be<=_.P+_.qc),Ce.Z!=0)for(t(sA[Ce.Z]!=null),be=0;be<J;++be)sA[Ce.Z](Qe,ut,mt,Be,Ue,lt,T),Qe=Ue,ut=lt,lt+=T,Be+=T;else for(be=0;be<J;++be)a(Ue,lt,mt,Be,T),Qe=Ue,ut=lt,lt+=T,Be+=T;_.rc=Qe,_.Vc=ut}else{if(t(Ce.mc!=null),T=G+J,t((be=Ce.mc)!=null),t(T<=be.i),be.C>=T)T=1;else if(Ce.ic||hp(),Ce.ic){Ce=be.V,Qe=be.Ba,ut=be.c;var _t=be.i,gt=(mt=1,Be=be.$/ut,Ue=be.$%ut,lt=be.m,vt=be.s,be.$),Bt=ut*_t,kt=ut*T,Xt=vt.wc,Kt=gt<kt?oe(vt,Ue,Be):null;t(gt<=Bt),t(T<=_t),t(ye(vt));t:for(;;){for(;!lt.h&&gt<kt;){if(Ue&Xt||(Kt=oe(vt,Ue,Be)),t(Kt!=null),re(lt),256>(_t=ht(Kt.G[0],Kt.H[0],lt)))Ce[Qe+gt]=_t,++gt,++Ue>=ut&&(Ue=0,++Be<=T&&!(Be%16)&&Ie(be,Be));else{if(!(280>_t)){mt=0;break t}_t=te(_t-256,lt);var Lr,_r=ht(Kt.G[4],Kt.H[4],lt);if(re(lt),!(gt>=(_r=Xe(ut,_r=te(_r,lt)))&&Bt-gt>=_t)){mt=0;break t}for(Lr=0;Lr<_t;++Lr)Ce[Qe+gt+Lr]=Ce[Qe+gt+Lr-_r];for(gt+=_t,Ue+=_t;Ue>=ut;)Ue-=ut,++Be<=T&&!(Be%16)&&Ie(be,Be);gt<kt&&Ue&Xt&&(Kt=oe(vt,Ue,Be))}t(lt.h==W(lt))}Ie(be,Be>T?T:Be);break t}!mt||lt.h&&gt<Bt?(mt=0,be.a=lt.h?5:3):be.$=gt,T=mt}else T=q(be,be.V,be.Ba,be.c,be.i,T,qe);if(!T){J=0;break e}}G+J>=ve&&(_.Cc=1),J=1}if(!J)return null;if(_.Cc&&((J=_.ga)!=null&&(J.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+G*ue}function Lh(_,T,G,J,ue,ve){for(;0<ue--;){var be,Ce=_,Be=T+(G?1:0),Ue=_,lt=T+(G?0:3);for(be=0;be<J;++be){var vt=Ue[lt+4*be];vt!=255&&(vt*=32897,Ce[Be+4*be+0]=Ce[Be+4*be+0]*vt>>23,Ce[Be+4*be+1]=Ce[Be+4*be+1]*vt>>23,Ce[Be+4*be+2]=Ce[Be+4*be+2]*vt>>23)}T+=ve}}function Zf(_,T,G,J,ue){for(;0<J--;){var ve;for(ve=0;ve<G;++ve){var be=_[T+2*ve+0],Ce=15&(Ue=_[T+2*ve+1]),Be=4369*Ce,Ue=(240&Ue|Ue>>4)*Be>>16;_[T+2*ve+0]=(240&be|be>>4)*Be>>16&240|(15&be|be<<4)*Be>>16>>4&15,_[T+2*ve+1]=240&Ue|Ce}T+=ue}}function sP(_,T,G,J,ue,ve,be,Ce){var Be,Ue,lt=255;for(Ue=0;Ue<ue;++Ue){for(Be=0;Be<J;++Be){var vt=_[T+Be];ve[be+4*Be]=vt,lt&=vt}T+=G,be+=Ce}return lt!=255}function kN(_,T,G,J,ue){var ve;for(ve=0;ve<ue;++ve)G[J+ve]=_[T+ve]>>8}function hp(){_1=Lh,NQ=Zf,CQ=sP,SQ=kN}function Sd(_,T,G){E[_]=function(J,ue,ve,be,Ce,Be,Ue,lt,vt,Qe,ut,mt,_t,gt,Bt,kt,Xt){var Kt,Lr=Xt-1>>1,_r=Ce[Be+0]|Ue[lt+0]<<16,gn=vt[Qe+0]|ut[mt+0]<<16;t(J!=null);var Pr=3*_r+gn+131074>>2;for(T(J[ue+0],255&Pr,Pr>>16,_t,gt),ve!=null&&(Pr=3*gn+_r+131074>>2,T(ve[be+0],255&Pr,Pr>>16,Bt,kt)),Kt=1;Kt<=Lr;++Kt){var On=Ce[Be+Kt]|Ue[lt+Kt]<<16,di=vt[Qe+Kt]|ut[mt+Kt]<<16,vn=_r+On+gn+di+524296,kr=vn+2*(On+gn)>>3;Pr=kr+_r>>1,_r=(vn=vn+2*(_r+di)>>3)+On>>1,T(J[ue+2*Kt-1],255&Pr,Pr>>16,_t,gt+(2*Kt-1)*G),T(J[ue+2*Kt-0],255&_r,_r>>16,_t,gt+(2*Kt-0)*G),ve!=null&&(Pr=vn+gn>>1,_r=kr+di>>1,T(ve[be+2*Kt-1],255&Pr,Pr>>16,Bt,kt+(2*Kt-1)*G),T(ve[be+2*Kt+0],255&_r,_r>>16,Bt,kt+(2*Kt+0)*G)),_r=On,gn=di}1&Xt||(Pr=3*_r+gn+131074>>2,T(J[ue+Xt-1],255&Pr,Pr>>16,_t,gt+(Xt-1)*G),ve!=null&&(Pr=3*gn+_r+131074>>2,T(ve[be+Xt-1],255&Pr,Pr>>16,Bt,kt+(Xt-1)*G)))}}function v1(){kc[DN]=epe,kc[LN]=LQ,kc[kQ]=tpe,kc[RN]=RQ,kc[MN]=MQ,kc[lP]=UQ,kc[TQ]=rpe,kc[cP]=LQ,kc[dP]=RQ,kc[UN]=MQ,kc[uP]=UQ}function vx(_){return _&~npe?0>_?0:255:_>>QQ}function eA(_,T){return vx((19077*_>>8)+(26149*T>>8)-14234)}function Ni(_,T,G){return vx((19077*_>>8)-(6419*T>>8)-(13320*G>>8)+8708)}function Rh(_,T){return vx((19077*_>>8)+(33050*T>>8)-17685)}function Mh(_,T,G,J,ue){J[ue+0]=eA(_,G),J[ue+1]=Ni(_,T,G),J[ue+2]=Rh(_,T)}function yx(_,T,G,J,ue){J[ue+0]=Rh(_,T),J[ue+1]=Ni(_,T,G),J[ue+2]=eA(_,G)}function y1(_,T,G,J,ue){var ve=Ni(_,T,G);T=ve<<3&224|Rh(_,T)>>3,J[ue+0]=248&eA(_,G)|ve>>5,J[ue+1]=T}function Lo(_,T,G,J,ue){var ve=240&Rh(_,T)|15;J[ue+0]=240&eA(_,G)|Ni(_,T,G)>>4,J[ue+1]=ve}function TN(_,T,G,J,ue){J[ue+0]=255,Mh(_,T,G,J,ue+1)}function wx(_,T,G,J,ue){yx(_,T,G,J,ue),J[ue+3]=255}function IN(_,T,G,J,ue){Mh(_,T,G,J,ue),J[ue+3]=255}function ci(_,T){return 0>_?0:_>T?T:_}function Fc(_,T,G){E[_]=function(J,ue,ve,be,Ce,Be,Ue,lt,vt){for(var Qe=lt+(-2&vt)*G;lt!=Qe;)T(J[ue+0],ve[be+0],Ce[Be+0],Ue,lt),T(J[ue+1],ve[be+0],Ce[Be+0],Ue,lt+G),ue+=2,++be,++Be,lt+=2*G;1&vt&&T(J[ue+0],ve[be+0],Ce[Be+0],Ue,lt)}}function w1(_,T,G){return G==0?_==0?T==0?6:5:T==0?4:0:G}function b1(_,T,G,J,ue){switch(_>>>30){case 3:Os(T,G,J,ue,0);break;case 2:Qh(T,G,J,ue);break;case 1:Bu(T,G,J,ue)}}function tA(_,T){var G,J,ue=T.M,ve=T.Nb,be=_.oc,Ce=_.pc+40,Be=_.oc,Ue=_.pc+584,lt=_.oc,vt=_.pc+600;for(G=0;16>G;++G)be[Ce+32*G-1]=129;for(G=0;8>G;++G)Be[Ue+32*G-1]=129,lt[vt+32*G-1]=129;for(0<ue?be[Ce-1-32]=Be[Ue-1-32]=lt[vt-1-32]=129:(s(be,Ce-32-1,127,21),s(Be,Ue-32-1,127,9),s(lt,vt-32-1,127,9)),J=0;J<_.za;++J){var Qe=T.ya[T.aa+J];if(0<J){for(G=-1;16>G;++G)a(be,Ce+32*G-4,be,Ce+32*G+12,4);for(G=-1;8>G;++G)a(Be,Ue+32*G-4,Be,Ue+32*G+4,4),a(lt,vt+32*G-4,lt,vt+32*G+4,4)}var ut=_.Gd,mt=_.Hd+J,_t=Qe.ad,gt=Qe.Hc;if(0<ue&&(a(be,Ce-32,ut[mt].y,0,16),a(Be,Ue-32,ut[mt].f,0,8),a(lt,vt-32,ut[mt].ea,0,8)),Qe.Za){var Bt=be,kt=Ce-32+16;for(0<ue&&(J>=_.za-1?s(Bt,kt,ut[mt].y[15],4):a(Bt,kt,ut[mt+1].y,0,4)),G=0;4>G;G++)Bt[kt+128+G]=Bt[kt+256+G]=Bt[kt+384+G]=Bt[kt+0+G];for(G=0;16>G;++G,gt<<=2)Bt=be,kt=Ce+HQ[G],_d[Qe.Ob[G]](Bt,kt),b1(gt,_t,16*+G,Bt,kt)}else if(Bt=w1(J,ue,Qe.Ob[0]),aA[Bt](be,Ce),gt!=0)for(G=0;16>G;++G,gt<<=2)b1(gt,_t,16*+G,be,Ce+HQ[G]);for(G=Qe.Gc,Bt=w1(J,ue,Qe.Dd),$h[Bt](Be,Ue),$h[Bt](lt,vt),gt=_t,Bt=Be,kt=Ue,255&(Qe=0|G)&&(170&Qe?Sx(gt,256,Bt,kt):S1(gt,256,Bt,kt)),Qe=lt,gt=vt,255&(G>>=8)&&(170&G?Sx(_t,320,Qe,gt):S1(_t,320,Qe,gt)),ue<_.Ub-1&&(a(ut[mt].y,0,be,Ce+480,16),a(ut[mt].f,0,Be,Ue+224,8),a(ut[mt].ea,0,lt,vt+224,8)),G=8*ve*_.B,ut=_.sa,mt=_.ta+16*J+16*ve*_.R,_t=_.qa,Qe=_.ra+8*J+G,gt=_.Ha,Bt=_.Ia+8*J+G,G=0;16>G;++G)a(ut,mt+G*_.R,be,Ce+32*G,16);for(G=0;8>G;++G)a(_t,Qe+G*_.B,Be,Ue+32*G,8),a(gt,Bt+G*_.B,lt,vt+32*G,8)}}function bx(_,T,G,J,ue,ve,be,Ce,Be){var Ue=[0],lt=[0],vt=0,Qe=Be!=null?Be.kd:0,ut=Be??new an;if(_==null||12>G)return 7;ut.data=_,ut.w=T,ut.ha=G,T=[T],G=[G],ut.gb=[ut.gb];e:{var mt=T,_t=G,gt=ut.gb;if(t(_!=null),t(_t!=null),t(gt!=null),gt[0]=0,12<=_t[0]&&!r(_,mt[0],"RIFF")){if(r(_,mt[0]+8,"WEBP")){gt=3;break e}var Bt=Ee(_,mt[0]+4);if(12>Bt||4294967286<Bt){gt=3;break e}if(Qe&&Bt>_t[0]-8){gt=7;break e}gt[0]=Bt,mt[0]+=12,_t[0]-=12}gt=0}if(gt!=0)return gt;for(Bt=0<ut.gb[0],G=G[0];;){e:{var kt=_;_t=T,gt=G;var Xt=Ue,Kt=lt,Lr=mt=[0];if((Pr=vt=[vt])[0]=0,8>gt[0])gt=7;else{if(!r(kt,_t[0],"VP8X")){if(Ee(kt,_t[0]+4)!=10){gt=3;break e}if(18>gt[0]){gt=7;break e}var _r=Ee(kt,_t[0]+8),gn=1+Oe(kt,_t[0]+12);if(2147483648<=gn*(kt=1+Oe(kt,_t[0]+15))){gt=3;break e}Lr!=null&&(Lr[0]=_r),Xt!=null&&(Xt[0]=gn),Kt!=null&&(Kt[0]=kt),_t[0]+=18,gt[0]-=18,Pr[0]=1}gt=0}}if(vt=vt[0],mt=mt[0],gt!=0)return gt;if(_t=!!(2&mt),!Bt&&vt)return 3;if(ve!=null&&(ve[0]=!!(16&mt)),be!=null&&(be[0]=_t),Ce!=null&&(Ce[0]=0),be=Ue[0],mt=lt[0],vt&&_t&&Be==null){gt=0;break}if(4>G){gt=7;break}if(Bt&&vt||!Bt&&!vt&&!r(_,T[0],"ALPH")){G=[G],ut.na=[ut.na],ut.P=[ut.P],ut.Sa=[ut.Sa];e:{_r=_,gt=T,Bt=G;var Pr=ut.gb;Xt=ut.na,Kt=ut.P,Lr=ut.Sa,gn=22,t(_r!=null),t(Bt!=null),kt=gt[0];var On=Bt[0];for(t(Xt!=null),t(Lr!=null),Xt[0]=null,Kt[0]=null,Lr[0]=0;;){if(gt[0]=kt,Bt[0]=On,8>On){gt=7;break e}var di=Ee(_r,kt+4);if(4294967286<di){gt=3;break e}var vn=8+di+1&-2;if(gn+=vn,0<Pr&&gn>Pr){gt=3;break e}if(!r(_r,kt,"VP8 ")||!r(_r,kt,"VP8L")){gt=0;break e}if(On[0]<vn){gt=7;break e}r(_r,kt,"ALPH")||(Xt[0]=_r,Kt[0]=kt+8,Lr[0]=di),kt+=vn,On-=vn}}if(G=G[0],ut.na=ut.na[0],ut.P=ut.P[0],ut.Sa=ut.Sa[0],gt!=0)break}G=[G],ut.Ja=[ut.Ja],ut.xa=[ut.xa];e:if(Pr=_,gt=T,Bt=G,Xt=ut.gb[0],Kt=ut.Ja,Lr=ut.xa,_r=gt[0],kt=!r(Pr,_r,"VP8 "),gn=!r(Pr,_r,"VP8L"),t(Pr!=null),t(Bt!=null),t(Kt!=null),t(Lr!=null),8>Bt[0])gt=7;else{if(kt||gn){if(Pr=Ee(Pr,_r+4),12<=Xt&&Pr>Xt-12){gt=3;break e}if(Qe&&Pr>Bt[0]-8){gt=7;break e}Kt[0]=Pr,gt[0]+=8,Bt[0]-=8,Lr[0]=gn}else Lr[0]=5<=Bt[0]&&Pr[_r+0]==47&&!(Pr[_r+4]>>5),Kt[0]=Bt[0];gt=0}if(G=G[0],ut.Ja=ut.Ja[0],ut.xa=ut.xa[0],T=T[0],gt!=0)break;if(4294967286<ut.Ja)return 3;if(Ce==null||_t||(Ce[0]=ut.xa?2:1),be=[be],mt=[mt],ut.xa){if(5>G){gt=7;break}Ce=be,Qe=mt,_t=ve,_==null||5>G?_=0:5<=G&&_[T+0]==47&&!(_[T+4]>>5)?(Bt=[0],Pr=[0],Xt=[0],D(Kt=new z,_,T,G),gs(Kt,Bt,Pr,Xt)?(Ce!=null&&(Ce[0]=Bt[0]),Qe!=null&&(Qe[0]=Pr[0]),_t!=null&&(_t[0]=Xt[0]),_=1):_=0):_=0}else{if(10>G){gt=7;break}Ce=mt,_==null||10>G||!np(_,T+3,G-3)?_=0:(Qe=_[T+0]|_[T+1]<<8|_[T+2]<<16,_t=16383&(_[T+7]<<8|_[T+6]),_=16383&(_[T+9]<<8|_[T+8]),1&Qe||3<(Qe>>1&7)||!(Qe>>4&1)||Qe>>5>=ut.Ja||!_t||!_?_=0:(be&&(be[0]=_t),Ce&&(Ce[0]=_),_=1))}if(!_||(be=be[0],mt=mt[0],vt&&(Ue[0]!=be||lt[0]!=mt)))return 3;Be!=null&&(Be[0]=ut,Be.offset=T-Be.w,t(4294967286>T-Be.w),t(Be.offset==Be.ha-G));break}return gt==0||gt==7&&vt&&Be==null?(ve!=null&&(ve[0]|=ut.na!=null&&0<ut.na.length),J!=null&&(J[0]=be),ue!=null&&(ue[0]=mt),0):gt}function gl(_,T,G){var J=T.width,ue=T.height,ve=0,be=0,Ce=J,Be=ue;if(T.Da=_!=null&&0<_.Da,T.Da&&(Ce=_.cd,Be=_.bd,ve=_.v,be=_.j,11>G||(ve&=-2,be&=-2),0>ve||0>be||0>=Ce||0>=Be||ve+Ce>J||be+Be>ue))return 0;if(T.v=ve,T.j=be,T.va=ve+Ce,T.o=be+Be,T.U=Ce,T.T=Be,T.da=_!=null&&0<_.da,T.da){if(!me(Ce,Be,G=[_.ib],ve=[_.hb]))return 0;T.ib=G[0],T.hb=ve[0]}return T.ob=_!=null&&_.ob,T.Kb=_==null||!_.Sd,T.da&&(T.ob=T.ib<3*J/4&&T.hb<3*ue/4,T.Kb=0),1}function vl(_){if(_==null)return 2;if(11>_.S){var T=_.f.RGBA;T.fb+=(_.height-1)*T.A,T.A=-T.A}else T=_.f.kb,_=_.height,T.O+=(_-1)*T.fa,T.fa=-T.fa,T.N+=(_-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(_-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(_-1)*T.lb,T.lb=-T.lb);return 0}function fp(_,T,G,J){if(J==null||0>=_||0>=T)return 2;if(G!=null){if(G.Da){var ue=G.cd,ve=G.bd,be=-2&G.v,Ce=-2&G.j;if(0>be||0>Ce||0>=ue||0>=ve||be+ue>_||Ce+ve>T)return 2;_=ue,T=ve}if(G.da){if(!me(_,T,ue=[G.ib],ve=[G.hb]))return 2;_=ue[0],T=ve[0]}}J.width=_,J.height=T;e:{var Be=J.width,Ue=J.height;if(_=J.S,0>=Be||0>=Ue||!(_>=DN&&13>_))_=2;else{if(0>=J.Rd&&J.sd==null){be=ve=ue=T=0;var lt=(Ce=Be*zQ[_])*Ue;if(11>_||(ve=(Ue+1)/2*(T=(Be+1)/2),_==12&&(be=(ue=Be)*Ue)),(Ue=i(lt+2*ve+be))==null){_=1;break e}J.sd=Ue,11>_?((Be=J.f.RGBA).eb=Ue,Be.fb=0,Be.A=Ce,Be.size=lt):((Be=J.f.kb).y=Ue,Be.O=0,Be.fa=Ce,Be.Fd=lt,Be.f=Ue,Be.N=0+lt,Be.Ab=T,Be.Cd=ve,Be.ea=Ue,Be.W=0+lt+ve,Be.Db=T,Be.Ed=ve,_==12&&(Be.F=Ue,Be.J=0+lt+2*ve),Be.Tc=be,Be.lb=ue)}if(T=1,ue=J.S,ve=J.width,be=J.height,ue>=DN&&13>ue)if(11>ue)_=J.f.RGBA,T&=(Ce=Math.abs(_.A))*(be-1)+ve<=_.size,T&=Ce>=ve*zQ[ue],T&=_.eb!=null;else{_=J.f.kb,Ce=(ve+1)/2,lt=(be+1)/2,Be=Math.abs(_.fa),Ue=Math.abs(_.Ab);var vt=Math.abs(_.Db),Qe=Math.abs(_.lb),ut=Qe*(be-1)+ve;T&=Be*(be-1)+ve<=_.Fd,T&=Ue*(lt-1)+Ce<=_.Cd,T=(T&=vt*(lt-1)+Ce<=_.Ed)&Be>=ve&Ue>=Ce&vt>=Ce,T&=_.y!=null,T&=_.f!=null,T&=_.ea!=null,ue==12&&(T&=Qe>=ve,T&=ut<=_.Tc,T&=_.F!=null)}else T=0;_=T?0:2}}return _!=0||G!=null&&G.fd&&(_=vl(J)),_}var Cu=64,rA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],j1=24,nA=32,Ts=8,iP=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xt("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(_){return _},E.Predictor2=function(_,T,G){return T[G+0]},E.Predictor3=function(_,T,G){return T[G+1]},E.Predictor4=function(_,T,G){return T[G-1]},E.Predictor5=function(_,T,G){return le(le(_,T[G+1]),T[G+0])},E.Predictor6=function(_,T,G){return le(_,T[G-1])},E.Predictor7=function(_,T,G){return le(_,T[G+0])},E.Predictor8=function(_,T,G){return le(T[G-1],T[G+0])},E.Predictor9=function(_,T,G){return le(T[G+0],T[G+1])},E.Predictor10=function(_,T,G){return le(le(_,T[G-1]),le(T[G+0],T[G+1]))},E.Predictor11=function(_,T,G){var J=T[G+0];return 0>=je(J>>24&255,_>>24&255,(T=T[G-1])>>24&255)+je(J>>16&255,_>>16&255,T>>16&255)+je(J>>8&255,_>>8&255,T>>8&255)+je(255&J,255&_,255&T)?J:_},E.Predictor12=function(_,T,G){var J=T[G+0];return(Fe((_>>24&255)+(J>>24&255)-((T=T[G-1])>>24&255))<<24|Fe((_>>16&255)+(J>>16&255)-(T>>16&255))<<16|Fe((_>>8&255)+(J>>8&255)-(T>>8&255))<<8|Fe((255&_)+(255&J)-(255&T)))>>>0},E.Predictor13=function(_,T,G){var J=T[G-1];return(ze((_=le(_,T[G+0]))>>24&255,J>>24&255)<<24|ze(_>>16&255,J>>16&255)<<16|ze(_>>8&255,J>>8&255)<<8|ze(255&_,255&J))>>>0};var Su=E.PredictorAdd0;E.PredictorAdd1=De,xt("Predictor2","PredictorAdd2"),xt("Predictor3","PredictorAdd3"),xt("Predictor4","PredictorAdd4"),xt("Predictor5","PredictorAdd5"),xt("Predictor6","PredictorAdd6"),xt("Predictor7","PredictorAdd7"),xt("Predictor8","PredictorAdd8"),xt("Predictor9","PredictorAdd9"),xt("Predictor10","PredictorAdd10"),xt("Predictor11","PredictorAdd11"),xt("Predictor12","PredictorAdd12"),xt("Predictor13","PredictorAdd13");var _u=E.PredictorAdd2;Te("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Te("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var jx,N1=E.ColorIndexInverseTransform,Nx=E.MapARGB,Cx=E.VP8LColorIndexInverseTransformAlpha,Ap=E.MapAlpha,mp=E.VP8LPredictorsAdd=[];mp.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Uh,C1,Kl,Eu,Oa,Da,Is,Os,Qh,Sx,Bu,S1,hQ,fQ,AQ,mQ,pQ,xQ,gQ,vQ,yQ,wQ,bQ,jQ,_1,NQ,CQ,SQ,_Q=i(511),EQ=i(2041),BQ=i(225),FQ=i(767),PQ=0,oP=EQ,ON=BQ,ql=FQ,Pc=_Q,DN=0,LN=1,kQ=2,RN=3,MN=4,lP=5,TQ=6,cP=7,dP=8,UN=9,uP=10,Ume=[2,3,7],Qme=[3,3,11],IQ=[280,256,256,256,40],$me=[0,1,1,1,0],Hme=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zme=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Vme=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kme=8,hP=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fP=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],E1=null,qme=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wme=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OQ=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gme=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xme=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Yme=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jme=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],aA=[],_d=[],$h=[],Zme=1,DQ=2,sA=[],kc=[];Sd("UpsampleRgbLinePair",Mh,3),Sd("UpsampleBgrLinePair",yx,3),Sd("UpsampleRgbaLinePair",IN,4),Sd("UpsampleBgraLinePair",wx,4),Sd("UpsampleArgbLinePair",TN,4),Sd("UpsampleRgba4444LinePair",Lo,2),Sd("UpsampleRgb565LinePair",y1,2);var epe=E.UpsampleRgbLinePair,tpe=E.UpsampleBgrLinePair,LQ=E.UpsampleRgbaLinePair,RQ=E.UpsampleBgraLinePair,MQ=E.UpsampleArgbLinePair,UQ=E.UpsampleRgba4444LinePair,rpe=E.UpsampleRgb565LinePair,QN=16,$N=1<<QN-1,B1=-227,AP=482,QQ=6,npe=(256<<QQ)-1,$Q=0,ape=i(256),spe=i(256),ipe=i(256),ope=i(256),lpe=i(AP-B1),cpe=i(AP-B1);Fc("YuvToRgbRow",Mh,3),Fc("YuvToBgrRow",yx,3),Fc("YuvToRgbaRow",IN,4),Fc("YuvToBgraRow",wx,4),Fc("YuvToArgbRow",TN,4),Fc("YuvToRgba4444Row",Lo,2),Fc("YuvToRgb565Row",y1,2);var HQ=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],HN=[0,2,8],dpe=[8,7,6,4,4,2,2,2,1,1,1,1],upe=1;this.WebPDecodeRGBA=function(_,T,G,J,ue){var ve=LN,be=new Dr,Ce=new Dt;be.ba=Ce,Ce.S=ve,Ce.width=[Ce.width],Ce.height=[Ce.height];var Be=Ce.width,Ue=Ce.height,lt=new ot;if(lt==null||_==null)var vt=2;else t(lt!=null),vt=bx(_,T,G,lt.width,lt.height,lt.Pd,lt.Qd,lt.format,null);if(vt!=0?Be=0:(Be!=null&&(Be[0]=lt.width[0]),Ue!=null&&(Ue[0]=lt.height[0]),Be=1),Be){Ce.width=Ce.width[0],Ce.height=Ce.height[0],J!=null&&(J[0]=Ce.width),ue!=null&&(ue[0]=Ce.height);e:{if(J=new ji,(ue=new an).data=_,ue.w=T,ue.ha=G,ue.kd=1,T=[0],t(ue!=null),((_=bx(ue.data,ue.w,ue.ha,null,null,null,T,null,ue))==0||_==7)&&T[0]&&(_=4),(T=_)==0){if(t(be!=null),J.data=ue.data,J.w=ue.w+ue.offset,J.ha=ue.ha-ue.offset,J.put=ar,J.ac=zt,J.bc=is,J.ma=be,ue.xa){if((_=_e())==null){be=1;break e}if(function(Qe,ut){var mt=[0],_t=[0],gt=[0];t:for(;;){if(Qe==null)return 0;if(ut==null)return Qe.a=2,0;if(Qe.l=ut,Qe.a=0,D(Qe.m,ut.data,ut.w,ut.ha),!gs(Qe.m,mt,_t,gt)){Qe.a=3;break t}if(Qe.xb=DQ,ut.width=mt[0],ut.height=_t[0],!Ye(mt[0],_t[0],1,Qe,null))break t;return 1}return t(Qe.a!=0),0}(_,J)){if(J=(T=fp(J.width,J.height,be.Oa,be.ba))==0){t:{J=_;r:for(;;){if(J==null){J=0;break t}if(t(J.s.yc!=null),t(J.s.Ya!=null),t(0<J.s.Wb),t((G=J.l)!=null),t((ue=G.ma)!=null),J.xb!=0){if(J.ca=ue.ba,J.tb=ue.tb,t(J.ca!=null),!gl(ue.Oa,G,RN)){J.a=2;break r}if(!Ve(J,G.width)||G.da)break r;if((G.da||pe(J.ca.S))&&hp(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&hp()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!ee(J.s.vb,J.s.Wa.Xa)){J.a=1;break r}J.xb=0}if(!q(J,J.V,J.Ba,J.c,J.i,G.o,we))break r;ue.Dc=J.Ma,J=1;break t}t(J.a!=0),J=0}J=!J}J&&(T=_.a)}else T=_.a}else{if((_=new o1)==null){be=1;break e}if(_.Fa=ue.na,_.P=ue.P,_.qc=ue.Sa,bu(_,J)){if((T=fp(J.width,J.height,be.Oa,be.ba))==0){if(_.Aa=0,G=be.Oa,t((ue=_)!=null),G!=null){if(0<(Be=0>(Be=G.Md)?0:100<Be?255:255*Be/100)){for(Ue=lt=0;4>Ue;++Ue)12>(vt=ue.pb[Ue]).lc&&(vt.ia=Be*dpe[0>vt.lc?0:vt.lc]>>3),lt|=vt.ia;lt&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=G.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Qe,ut){if(Qe==null)return 0;if(ut==null)return vs(Qe,2,"NULL VP8Io parameter in VP8Decode().");if(!Qe.cb&&!bu(Qe,ut))return 0;if(t(Qe.cb),ut.ac==null||ut.ac(ut)){ut.ob&&(Qe.L=0);var mt=HN[Qe.L];if(Qe.L==2?(Qe.yb=0,Qe.zb=0):(Qe.yb=ut.v-mt>>4,Qe.zb=ut.j-mt>>4,0>Qe.yb&&(Qe.yb=0),0>Qe.zb&&(Qe.zb=0)),Qe.Va=ut.o+15+mt>>4,Qe.Hb=ut.va+15+mt>>4,Qe.Hb>Qe.za&&(Qe.Hb=Qe.za),Qe.Va>Qe.Ub&&(Qe.Va=Qe.Ub),0<Qe.L){var _t=Qe.ed;for(mt=0;4>mt;++mt){var gt;if(Qe.Qa.Cb){var Bt=Qe.Qa.Lb[mt];Qe.Qa.Fb||(Bt+=_t.Tb)}else Bt=_t.Tb;for(gt=0;1>=gt;++gt){var kt=Qe.gd[mt][gt],Xt=Bt;if(_t.Pc&&(Xt+=_t.vd[0],gt&&(Xt+=_t.od[0])),0<(Xt=0>Xt?0:63<Xt?63:Xt)){var Kt=Xt;0<_t.wb&&(Kt=4<_t.wb?Kt>>2:Kt>>1)>9-_t.wb&&(Kt=9-_t.wb),1>Kt&&(Kt=1),kt.dd=Kt,kt.tc=2*Xt+Kt,kt.ld=40<=Xt?2:15<=Xt?1:0}else kt.tc=0;kt.La=gt}}}mt=0}else vs(Qe,6,"Frame setup failed"),mt=Qe.a;if(mt=mt==0){if(mt){Qe.$c=0,0<Qe.Aa||(Qe.Ic=upe);t:{mt=Qe.Ic,_t=4*(Kt=Qe.za);var Lr=32*Kt,_r=Kt+1,gn=0<Qe.L?Kt*(0<Qe.Aa?2:1):0,Pr=(Qe.Aa==2?2:1)*Kt;if((kt=_t+832+(gt=3*(16*mt+HN[Qe.L])/2*Lr)+(Bt=Qe.Fa!=null&&0<Qe.Fa.length?Qe.Kc.c*Qe.Kc.i:0))!=kt)mt=0;else{if(kt>Qe.Vb){if(Qe.Vb=0,Qe.Ec=i(kt),Qe.Fc=0,Qe.Ec==null){mt=vs(Qe,1,"no memory during frame initialization.");break t}Qe.Vb=kt}kt=Qe.Ec,Xt=Qe.Fc,Qe.Ac=kt,Qe.Bc=Xt,Xt+=_t,Qe.Gd=o(Lr,Qi),Qe.Hd=0,Qe.rb=o(_r+1,ta),Qe.sb=1,Qe.wa=gn?o(gn,un):null,Qe.Y=0,Qe.D.Nb=0,Qe.D.wa=Qe.wa,Qe.D.Y=Qe.Y,0<Qe.Aa&&(Qe.D.Y+=Kt),t(!0),Qe.oc=kt,Qe.pc=Xt,Xt+=832,Qe.ya=o(Pr,ia),Qe.aa=0,Qe.D.ya=Qe.ya,Qe.D.aa=Qe.aa,Qe.Aa==2&&(Qe.D.aa+=Kt),Qe.R=16*Kt,Qe.B=8*Kt,Kt=(Lr=HN[Qe.L])*Qe.R,Lr=Lr/2*Qe.B,Qe.sa=kt,Qe.ta=Xt+Kt,Qe.qa=Qe.sa,Qe.ra=Qe.ta+16*mt*Qe.R+Lr,Qe.Ha=Qe.qa,Qe.Ia=Qe.ra+8*mt*Qe.B+Lr,Qe.$c=0,Xt+=gt,Qe.mb=Bt?kt:null,Qe.nb=Bt?Xt:null,t(Xt+Bt<=Qe.Fc+Qe.Vb),ap(Qe),s(Qe.Ac,Qe.Bc,0,_t),mt=1}}if(mt){if(ut.ka=0,ut.y=Qe.sa,ut.O=Qe.ta,ut.f=Qe.qa,ut.N=Qe.ra,ut.ea=Qe.Ha,ut.Vd=Qe.Ia,ut.fa=Qe.R,ut.Rc=Qe.B,ut.F=null,ut.J=0,!PQ){for(mt=-255;255>=mt;++mt)_Q[255+mt]=0>mt?-mt:mt;for(mt=-1020;1020>=mt;++mt)EQ[1020+mt]=-128>mt?-128:127<mt?127:mt;for(mt=-112;112>=mt;++mt)BQ[112+mt]=-16>mt?-16:15<mt?15:mt;for(mt=-255;510>=mt;++mt)FQ[255+mt]=0>mt?0:255<mt?255:mt;PQ=1}Is=PN,Os=KF,Sx=qF,Bu=ju,S1=FN,Qh=VF,hQ=K,fQ=he,AQ=ft,mQ=Pt,pQ=$e,xQ=at,gQ=qt,vQ=Fr,yQ=p1,wQ=up,bQ=x1,jQ=g1,_d[0]=eP,_d[1]=c1,_d[2]=JF,_d[3]=ZF,_d[4]=tP,_d[5]=Dh,_d[6]=Oh,_d[7]=rP,_d[8]=mx,_d[9]=nP,aA[0]=Jf,aA[1]=GF,aA[2]=XF,aA[3]=d1,aA[4]=YF,aA[5]=op,aA[6]=u1,$h[0]=xx,$h[1]=WF,$h[2]=h1,$h[3]=lp,$h[4]=f1,$h[5]=aP,$h[6]=A1,mt=1}else mt=0}mt&&(mt=function(On,di){for(On.M=0;On.M<On.Va;++On.M){var vn,kr=On.Jc[On.M&On.Xb],ur=On.m,Ds=On;for(vn=0;vn<Ds.za;++vn){var hn=ur,Hn=Ds,za=Hn.Ac,Hi=Hn.Bc+4*vn,Ro=Hn.zc,ys=Hn.ya[Hn.aa+vn];if(Hn.Qa.Bb?ys.$b=Ae(hn,Hn.Pa.jb[0])?2+Ae(hn,Hn.Pa.jb[2]):Ae(hn,Hn.Pa.jb[1]):ys.$b=0,Hn.kc&&(ys.Ad=Ae(hn,Hn.Bd)),ys.Za=!Ae(hn,145)+0,ys.Za){var co=ys.Ob,Mo=0;for(Hn=0;4>Hn;++Hn){var ui,Wn=Ro[0+Hn];for(ui=0;4>ui;++ui){Wn=Xme[za[Hi+ui]][Wn];for(var ha=OQ[Ae(hn,Wn[0])];0<ha;)ha=OQ[2*ha+Ae(hn,Wn[ha])];Wn=-ha,za[Hi+ui]=Wn}a(co,Mo,za,Hi,4),Mo+=4,Ro[0+Hn]=Wn}}else Wn=Ae(hn,156)?Ae(hn,128)?1:3:Ae(hn,163)?2:0,ys.Ob[0]=Wn,s(za,Hi,Wn,4),s(Ro,0,Wn,4);ys.Dd=Ae(hn,142)?Ae(hn,114)?Ae(hn,183)?1:3:2:0}if(Ds.m.Ka)return vs(On,7,"Premature end-of-partition0 encountered.");for(;On.ja<On.za;++On.ja){if(Ds=kr,hn=(ur=On).rb[ur.sb-1],za=ur.rb[ur.sb+ur.ja],vn=ur.ya[ur.aa+ur.ja],Hi=ur.kc?vn.Ad:0)hn.la=za.la=0,vn.Za||(hn.Na=za.Na=0),vn.Hc=0,vn.Gc=0,vn.ia=0;else{var ws,fa;if(hn=za,za=Ds,Hi=ur.Pa.Xc,Ro=ur.ya[ur.aa+ur.ja],ys=ur.pb[Ro.$b],Hn=Ro.ad,co=0,Mo=ur.rb[ur.sb-1],Wn=ui=0,s(Hn,co,0,384),Ro.Za)var zi=0,Ed=Hi[3];else{ha=i(16);var Ls=hn.Na+Mo.Na;if(Ls=E1(za,Hi[1],Ls,ys.Eb,0,ha,0),hn.Na=Mo.Na=(0<Ls)+0,1<Ls)Is(ha,0,Hn,co);else{var yl=ha[0]+3>>3;for(ha=0;256>ha;ha+=16)Hn[co+ha]=yl}zi=1,Ed=Hi[0]}var Ea=15&hn.la,hi=15&Mo.la;for(ha=0;4>ha;++ha){var Wl=1&hi;for(yl=fa=0;4>yl;++yl)Ea=Ea>>1|(Wl=(Ls=E1(za,Ed,Ls=Wl+(1&Ea),ys.Sc,zi,Hn,co))>zi)<<7,fa=fa<<2|(3<Ls?3:1<Ls?2:Hn[co+0]!=0),co+=16;Ea>>=4,hi=hi>>1|Wl<<7,ui=(ui<<8|fa)>>>0}for(Ed=Ea,zi=hi>>4,ws=0;4>ws;ws+=2){for(fa=0,Ea=hn.la>>4+ws,hi=Mo.la>>4+ws,ha=0;2>ha;++ha){for(Wl=1&hi,yl=0;2>yl;++yl)Ls=Wl+(1&Ea),Ea=Ea>>1|(Wl=0<(Ls=E1(za,Hi[2],Ls,ys.Qc,0,Hn,co)))<<3,fa=fa<<2|(3<Ls?3:1<Ls?2:Hn[co+0]!=0),co+=16;Ea>>=2,hi=hi>>1|Wl<<5}Wn|=fa<<4*ws,Ed|=Ea<<4<<ws,zi|=(240&hi)<<ws}hn.la=Ed,Mo.la=zi,Ro.Hc=ui,Ro.Gc=Wn,Ro.ia=43690&Wn?0:ys.ia,Hi=!(ui|Wn)}if(0<ur.L&&(ur.wa[ur.Y+ur.ja]=ur.gd[vn.$b][vn.Za],ur.wa[ur.Y+ur.ja].La|=!Hi),Ds.Ka)return vs(On,7,"Premature end-of-file encountered.")}if(ap(On),ur=di,Ds=1,vn=(kr=On).D,hn=0<kr.L&&kr.M>=kr.zb&&kr.M<=kr.Va,kr.Aa==0)t:{if(vn.M=kr.M,vn.uc=hn,tA(kr,vn),Ds=1,vn=(fa=kr.D).Nb,hn=(Wn=HN[kr.L])*kr.R,za=Wn/2*kr.B,ha=16*vn*kr.R,yl=8*vn*kr.B,Hi=kr.sa,Ro=kr.ta-hn+ha,ys=kr.qa,Hn=kr.ra-za+yl,co=kr.Ha,Mo=kr.Ia-za+yl,hi=(Ea=fa.M)==0,ui=Ea>=kr.Va-1,kr.Aa==2&&tA(kr,fa),fa.uc)for(Wl=(Ls=kr).D.M,t(Ls.D.uc),fa=Ls.yb;fa<Ls.Hb;++fa){zi=fa,Ed=Wl;var Uo=(Gl=(Vi=Ls).D).Nb;ws=Vi.R;var Gl=Gl.wa[Gl.Y+zi],Xl=Vi.sa,wl=Vi.ta+16*Uo*ws+16*zi,Yl=Gl.dd,La=Gl.tc;if(La!=0)if(t(3<=La),Vi.L==1)0<zi&&wQ(Xl,wl,ws,La+4),Gl.La&&jQ(Xl,wl,ws,La),0<Ed&&yQ(Xl,wl,ws,La+4),Gl.La&&bQ(Xl,wl,ws,La);else{var Jl=Vi.B,Bd=Vi.qa,pp=Vi.ra+8*Uo*Jl+8*zi,Hh=Vi.Ha,Vi=Vi.Ia+8*Uo*Jl+8*zi;Uo=Gl.ld,0<zi&&(fQ(Xl,wl,ws,La+4,Yl,Uo),mQ(Bd,pp,Hh,Vi,Jl,La+4,Yl,Uo)),Gl.La&&(xQ(Xl,wl,ws,La,Yl,Uo),vQ(Bd,pp,Hh,Vi,Jl,La,Yl,Uo)),0<Ed&&(hQ(Xl,wl,ws,La+4,Yl,Uo),AQ(Bd,pp,Hh,Vi,Jl,La+4,Yl,Uo)),Gl.La&&(pQ(Xl,wl,ws,La,Yl,Uo),gQ(Bd,pp,Hh,Vi,Jl,La,Yl,Uo))}}if(kr.ia&&alert("todo:DitherRow"),ur.put!=null){if(fa=16*Ea,Ea=16*(Ea+1),hi?(ur.y=kr.sa,ur.O=kr.ta+ha,ur.f=kr.qa,ur.N=kr.ra+yl,ur.ea=kr.Ha,ur.W=kr.Ia+yl):(fa-=Wn,ur.y=Hi,ur.O=Ro,ur.f=ys,ur.N=Hn,ur.ea=co,ur.W=Mo),ui||(Ea-=Wn),Ea>ur.o&&(Ea=ur.o),ur.F=null,ur.J=null,kr.Fa!=null&&0<kr.Fa.length&&fa<Ea&&(ur.J=$i(kr,ur,fa,Ea-fa),ur.F=kr.mb,ur.F==null&&ur.F.length==0)){Ds=vs(kr,3,"Could not decode alpha data.");break t}fa<ur.j&&(Wn=ur.j-fa,fa=ur.j,t(!(1&Wn)),ur.O+=kr.R*Wn,ur.N+=kr.B*(Wn>>1),ur.W+=kr.B*(Wn>>1),ur.F!=null&&(ur.J+=ur.width*Wn)),fa<Ea&&(ur.O+=ur.v,ur.N+=ur.v>>1,ur.W+=ur.v>>1,ur.F!=null&&(ur.J+=ur.v),ur.ka=fa-ur.j,ur.U=ur.va-ur.v,ur.T=Ea-fa,Ds=ur.put(ur))}vn+1!=kr.Ic||ui||(a(kr.sa,kr.ta-hn,Hi,Ro+16*kr.R,hn),a(kr.qa,kr.ra-za,ys,Hn+8*kr.B,za),a(kr.Ha,kr.Ia-za,co,Mo+8*kr.B,za))}if(!Ds)return vs(On,6,"Output aborted.")}return 1}(Qe,ut)),ut.bc!=null&&ut.bc(ut),mt&=1}return mt?(Qe.cb=0,mt):0})(_,J)||(T=_.a)}}else T=_.a}T==0&&be.Oa!=null&&be.Oa.fd&&(T=vl(be.ba))}be=T}ve=be!=0?null:11>ve?Ce.f.RGBA.eb:Ce.f.kb.y}else ve=null;return ve};var zQ=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,L){for(var N="",I=0;I<4;I++)N+=String.fromCharCode(E[L++]);return N}function u(E,L){return E[L+0]|E[L+1]<<8}function h(E,L){return(E[L+0]|E[L+1]<<8|E[L+2]<<16)>>>0}function f(E,L){return(E[L+0]|E[L+1]<<8|E[L+2]<<16|E[L+3]<<24)>>>0}new c;var A=[0],p=[0],m=[],x=new c,g=e,v=function(E,L){var N={},I=0,M=!1,O=0,k=0;if(N.frames=[],!function(S,z){for(var Q=0;Q<4;Q++)if(S[z+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(E,L)){for(f(E,L+=4),L+=8;L<E.length;){var P=d(E,L),R=f(E,L+=4);L+=4;var V=R+(1&R);switch(P){case"VP8 ":case"VP8L":N.frames[I]===void 0&&(N.frames[I]={}),(ne=N.frames[I]).src_off=M?k:L-8,ne.src_size=O+R+8,I++,M&&(M=!1,O=0,k=0);break;case"VP8X":(ne=N.header={}).feature_flags=E[L];var D=L+4;ne.canvas_width=1+h(E,D),D+=3,ne.canvas_height=1+h(E,D),D+=3;break;case"ALPH":M=!0,O=V+8,k=L-8;break;case"ANIM":(ne=N.header).bgcolor=f(E,L),D=L+4,ne.loop_count=u(E,D),D+=2;break;case"ANMF":var Y,ne;(ne=N.frames[I]={}).offset_x=2*h(E,L),L+=3,ne.offset_y=2*h(E,L),L+=3,ne.width=1+h(E,L),L+=3,ne.height=1+h(E,L),L+=3,ne.duration=h(E,L),L+=3,Y=E[L++],ne.dispose=1&Y,ne.blend=Y>>1&1}P!="ANMF"&&(L+=V)}return N}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,j=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,A=[y.canvas_height],p=[y.canvas_width];for(var b=0;b<j.length&&j[b].blend!=0;b++);}var w=j[0],C=x.WebPDecodeRGBA(g,w.src_off,w.src_size,p,A);w.rgba=C,w.imgwidth=p[0],w.imgheight=A[0];for(var F=0;F<p[0]*A[0]*4;F++)m[F]=C[F];return this.width=p,this.height=A,this.data=m,this}(function(e){var t,r,a,s,i,o,l,c,d,u=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new c,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new o,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new o,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=S;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ee){Q=!!Ee}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ee){W=!!Ee}});var U=0;Object.defineProperty(this,"posX",{get:function(){return U},set:function(Ee){isNaN(Ee)||(U=Ee)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(Ee){isNaN(Ee)||(re=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ee){var ee;typeof Ee=="number"?ee=[Ee,Ee,Ee,Ee]:((ee=new Array(4))[0]=Ee[0],ee[1]=Ee.length>=2?Ee[1]:ee[0],ee[2]=Ee.length>=3?Ee[2]:ee[0],ee[3]=Ee.length>=4?Ee[3]:ee[1]),d.margin=ee}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Ee){de=Ee}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ee){ae=Ee}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(Ee){Ae=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ee){Ee instanceof u&&(d=Ee)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ee){d.path=Ee}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Ee){Me=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ee;ee=f(Ee),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ee=f(Ee);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var H=null,Oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Oe},set:function(Ee){H=null,Oe=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ee;if(this.ctx.font=Ee,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var st=ee[1];ee[2];var se=ee[3],me=ee[4];ee[5];var nt=ee[6],Nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(Nt==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:Nt==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var xt=function(He){var Te,dr,Pe=[],X=He.trim();if(X==="")return Uk;if(X in PH)return[PH[X]];for(;X!=="";){switch(dr=null,Te=(X=TH(X)).charAt(0)){case'"':case"'":dr=zSe(X.substring(1),Te);break;default:dr=VSe(X)}if(dr===null||(Pe.push(dr[0]),(X=TH(dr[1]))!==""&&X.charAt(0)!==","))return Uk;X=X.replace(/^,/,"")}return Pe}(nt);if(this.fontFaces){var Ne=function(He,Te){if(H===null){var dr=function(Pe){var X=[];return Object.keys(Pe).forEach(function(We){Pe[We].forEach(function(wt){var Ct=null;switch(wt){case"bold":Ct={family:We,weight:"bold"};break;case"italic":Ct={family:We,style:"italic"};break;case"bolditalic":Ct={family:We,weight:"bold",style:"italic"};break;case"":case"normal":Ct={family:We}}Ct!==null&&(Ct.ref={name:We,style:wt},X.push(Ct))})}),X}(He.getFontList());H=function(Pe){for(var X={},We=0;We<Pe.length;++We){var wt=Mk(Pe[We]),Ct=wt.family,Qt=wt.stretch,pe=wt.style,dt=wt.weight;X[Ct]=X[Ct]||{},X[Ct][Qt]=X[Ct][Qt]||{},X[Ct][Qt][pe]=X[Ct][Qt][pe]||{},X[Ct][Qt][pe][dt]=wt}return X}(dr.concat(Te))}return H}(this.pdf,this.fontFaces),le=xt.map(function(He){return{family:He,stretch:"normal",weight:se,style:st}}),Fe=function(He,Te,dr){for(var Pe=(dr=dr||{}).defaultFontFamily||"times",X=Object.assign({},HSe,dr.genericFontFamilies||{}),We=null,wt=null,Ct=0;Ct<Te.length;++Ct)if(X[(We=Mk(Te[Ct])).family]&&(We.family=X[We.family]),He.hasOwnProperty(We.family)){wt=He[We.family];break}if(!(wt=wt||He[Pe]))throw new Error("Could not find a font-family for the rule '"+kH(We)+"' and default family '"+Pe+"'.");if(wt=function(Qt,pe){if(pe[Qt])return pe[Qt];var dt=oI[Qt],Rt=dt<=oI.normal?-1:1,Dt=FH(pe,dse,dt,Rt);if(!Dt)throw new Error("Could not find a matching font-stretch value for "+Qt);return Dt}(We.stretch,wt),wt=function(Qt,pe){if(pe[Qt])return pe[Qt];for(var dt=cse[Qt],Rt=0;Rt<dt.length;++Rt)if(pe[dt[Rt]])return pe[dt[Rt]];throw new Error("Could not find a matching font-style for "+Qt)}(We.style,wt),!(wt=function(Qt,pe){if(pe[Qt])return pe[Qt];if(Qt===400&&pe[500])return pe[500];if(Qt===500&&pe[400])return pe[400];var dt=$Se[Qt],Rt=FH(pe,use,dt,Qt<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+Qt);return Rt}(We.weight,wt)))throw new Error("Failed to resolve a font for the rule '"+kH(We)+"'.");return wt}(Ne,le);this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var ze="";(se==="bold"||parseInt(se,10)>=700||st==="bold")&&(ze="bold"),st==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var je="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<xt.length;Ke++){if(this.pdf.internal.getFont(xt[Ke],ze,{noFallback:!0,disableWarning:!0})!==void 0){je=xt[Ke];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(xt[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)je=xt[Ke],ze="bold";else if(this.pdf.internal.getFont(xt[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){je=xt[Ke],ze="normal";break}}if(je===""){for(var At=0;At<xt.length;At++)if(De[xt[At]]){je=De[xt[At]];break}}je=je===""?"Times":je,this.pdf.setFont(je,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};h.prototype.setLineDash=function(S){this.lineDash=S},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(S,z){if(isNaN(S)||isNaN(z))throw Ba.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(S,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(S,z)},h.prototype.closePath=function(){var S=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&va(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){S=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(S.x,S.y)},h.prototype.lineTo=function(S,z){if(isNaN(S)||isNaN(z))throw Ba.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(S,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(S,z,Q,W){if(isNaN(Q)||isNaN(W)||isNaN(S)||isNaN(z))throw Ba.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var U=this.ctx.transform.applyToPoint(new o(Q,W)),re=this.ctx.transform.applyToPoint(new o(S,z));this.path.push({type:"qct",x1:re.x,y1:re.y,x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},h.prototype.bezierCurveTo=function(S,z,Q,W,U,re){if(isNaN(U)||isNaN(re)||isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W))throw Ba.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(U,re)),ae=this.ctx.transform.applyToPoint(new o(S,z)),Ae=this.ctx.transform.applyToPoint(new o(Q,W));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Ae.x,y2:Ae.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.arc=function(S,z,Q,W,U,re){if(isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W)||isNaN(U))throw Ba.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o(S,z));S=de.x,z=de.y;var ae=this.ctx.transform.applyToPoint(new o(0,Q)),Ae=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ae.x-Ae.x,2)+Math.pow(ae.y-Ae.y,2))}Math.abs(U-W)>=2*Math.PI&&(W=0,U=2*Math.PI),this.path.push({type:"arc",x:S,y:z,radius:Q,startAngle:W,endAngle:U,counterclockwise:re})},h.prototype.arcTo=function(S,z,Q,W,U){throw new Error("arcTo not implemented.")},h.prototype.rect=function(S,z,Q,W){if(isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W))throw Ba.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,z),this.lineTo(S+Q,z),this.lineTo(S+Q,z+W),this.lineTo(S,z+W),this.lineTo(S,z),this.lineTo(S+Q,z),this.lineTo(S,z)},h.prototype.fillRect=function(S,z,Q,W){if(isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W))throw Ba.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var U={};this.lineCap!=="butt"&&(U.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(U.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,z,Q,W),this.fill(),U.hasOwnProperty("lineCap")&&(this.lineCap=U.lineCap),U.hasOwnProperty("lineJoin")&&(this.lineJoin=U.lineJoin)}},h.prototype.strokeRect=function(S,z,Q,W){if(isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W))throw Ba.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(S,z,Q,W),this.stroke())},h.prototype.clearRect=function(S,z,Q,W){if(isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W))throw Ba.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,z,Q,W))},h.prototype.save=function(S){S=typeof S!="boolean"||S;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},h.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(S){var z,Q,W,U;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))z=0,Q=0,W=0,U=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(re!==null)z=parseInt(re[1]),Q=parseInt(re[2]),W=parseInt(re[3]),U=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)z=parseInt(re[1]),Q=parseInt(re[2]),W=parseInt(re[3]),U=parseFloat(re[4]);else{if(U=1,typeof S=="string"&&S.charAt(0)!=="#"){var de=new rse(S);S=de.ok?de.toHex():"#000000"}S.length===4?(z=S.substring(1,2),z+=z,Q=S.substring(2,3),Q+=Q,W=S.substring(3,4),W+=W):(z=S.substring(1,3),Q=S.substring(3,5),W=S.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),W=parseInt(W,16)}}return{r:z,g:Q,b:W,a:U,style:S}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(S,z,Q,W){if(isNaN(z)||isNaN(Q)||typeof S!="string")throw Ba.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!A.call(this)){var U=V(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;I.call(this,{text:S,x:z,y:Q,scale:re,angle:U,align:this.textAlign,maxWidth:W})}},h.prototype.strokeText=function(S,z,Q,W){if(isNaN(z)||isNaN(Q)||typeof S!="string")throw Ba.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){W=isNaN(W)?void 0:W;var U=V(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;I.call(this,{text:S,x:z,y:Q,scale:re,renderingMode:"stroke",angle:U,align:this.textAlign,maxWidth:W})}},h.prototype.measureText=function(S){if(typeof S!="string")throw Ba.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,W=z.internal.getFontSize(),U=z.getStringUnitWidth(S)*W/z.internal.scaleFactor;return new function(re){var de=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:U*=Math.round(96*Q/72*1e4)/1e4})},h.prototype.scale=function(S,z){if(isNaN(S)||isNaN(z))throw Ba.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(S,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.rotate=function(S){if(isNaN(S))throw Ba.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(S,z){if(isNaN(S)||isNaN(z))throw Ba.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,S,z);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.transform=function(S,z,Q,W,U,re){if(isNaN(S)||isNaN(z)||isNaN(Q)||isNaN(W)||isNaN(U)||isNaN(re))throw Ba.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(S,z,Q,W,U,re);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(S,z,Q,W,U,re){S=isNaN(S)?1:S,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,W=isNaN(W)?1:W,U=isNaN(U)?0:U,re=isNaN(re)?0:re,this.ctx.transform=new c(S,z,Q,W,U,re)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(S,z,Q,W,U,re,de,ae,Ae){var Me=this.pdf.getImageProperties(S),H=1,Oe=1,Ee=1,ee=1;W!==void 0&&ae!==void 0&&(Ee=ae/W,ee=Ae/U,H=Me.width/W*ae/W,Oe=Me.height/U*Ae/U),re===void 0&&(re=z,de=Q,z=0,Q=0),W!==void 0&&ae===void 0&&(ae=W,Ae=U),W===void 0&&ae===void 0&&(ae=Me.width,Ae=Me.height);for(var st,se=this.ctx.transform.decompose(),me=V(se.rotate.shx),nt=new c,Nt=(nt=(nt=(nt=nt.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new l(re-z*Ee,de-Q*ee,W*H,U*Oe)),xt=x.call(this,Nt),Ne=[],le=0;le<xt.length;le+=1)Ne.indexOf(xt[le])===-1&&Ne.push(xt[le]);if(y(Ne),this.autoPaging)for(var Fe=Ne[0],ze=Ne[Ne.length-1],je=Fe;je<ze+1;je++){this.pdf.setPage(je);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=je===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=je===1?0:At+(je-2)*He;if(this.ctx.clip_path.length!==0){var dr=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(st,this.posX+this.margin[3],-Te+Ke+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=dr}var Pe=JSON.parse(JSON.stringify(Nt));Pe=v([Pe],this.posX+this.margin[3],-Te+Ke+this.ctx.prevPageLastElemOffset)[0];var X=(je>Fe||je<ze)&&m.call(this);X&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,He,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,me),X&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,me)};var x=function(S,z,Q){var W=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var U=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":W.push(Math.floor((S.y+U)/Q)+1);break;case"arc":W.push(Math.floor((S.y+U-S.radius)/Q)+1),W.push(Math.floor((S.y+U+S.radius)/Q)+1);break;case"qct":var re=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);W.push(Math.floor((re.y+U)/Q)+1),W.push(Math.floor((re.y+re.h+U)/Q)+1);break;case"bct":var de=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);W.push(Math.floor((de.y+U)/Q)+1),W.push(Math.floor((de.y+de.h+U)/Q)+1);break;case"rect":W.push(Math.floor((S.y+U)/Q)+1),W.push(Math.floor((S.y+S.h+U)/Q)+1)}for(var ae=0;ae<W.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<W[ae];)g.call(this);return W},g=function(){var S=this.fillStyle,z=this.strokeStyle,Q=this.font,W=this.lineCap,U=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=z,this.font=Q,this.lineCap=W,this.lineWidth=U,this.lineJoin=re},v=function(S,z,Q){for(var W=0;W<S.length;W++)switch(S[W].type){case"bct":S[W].x2+=z,S[W].y2+=Q;case"qct":S[W].x1+=z,S[W].y1+=Q;default:S[W].x+=z,S[W].y+=Q}return S},y=function(S){return S.sort(function(z,Q){return z-Q})},j=function(S,z){for(var Q,W,U=this.fillStyle,re=this.strokeStyle,de=this.lineCap,ae=this.lineWidth,Ae=Math.abs(ae*this.ctx.transform.scaleX),Me=this.lineJoin,H=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),Ee=[],ee=0;ee<Oe.length;ee++)if(Oe[ee].x!==void 0)for(var st=x.call(this,Oe[ee]),se=0;se<st.length;se+=1)Ee.indexOf(st[se])===-1&&Ee.push(st[se]);for(var me=0;me<Ee.length;me++)for(;this.pdf.internal.getNumberOfPages()<Ee[me];)g.call(this);if(y(Ee),this.autoPaging)for(var nt=Ee[0],Nt=Ee[Ee.length-1],xt=nt;xt<Nt+1;xt++){this.pdf.setPage(xt),this.fillStyle=U,this.strokeStyle=re,this.lineCap=de,this.lineWidth=Ae,this.lineJoin=Me;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],le=xt===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=xt===1?0:Fe+(xt-2)*ze;if(this.ctx.clip_path.length!==0){var De=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Q,this.posX+this.margin[3],-je+le+this.ctx.prevPageLastElemOffset),b.call(this,S,!0),this.path=De}if(W=JSON.parse(JSON.stringify(H)),this.path=v(W,this.posX+this.margin[3],-je+le+this.ctx.prevPageLastElemOffset),z===!1||xt===0){var Ke=(xt>nt||xt<Nt)&&m.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,ze,null).clip().discardPath()),b.call(this,S,z),Ke&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Ae,b.call(this,S,z),this.lineWidth=ae;this.path=H},b=function(S,z){if((S!=="stroke"||z||!p.call(this))&&(S==="stroke"||z||!A.call(this))){for(var Q,W,U=[],re=this.path,de=0;de<re.length;de++){var ae=re[de];switch(ae.type){case"begin":U.push({begin:!0});break;case"close":U.push({close:!0});break;case"mt":U.push({start:ae,deltas:[],abs:[]});break;case"lt":var Ae=U.length;if(re[de-1]&&!isNaN(re[de-1].x)&&(Q=[ae.x-re[de-1].x,ae.y-re[de-1].y],Ae>0)){for(;Ae>=0;Ae--)if(U[Ae-1].close!==!0&&U[Ae-1].begin!==!0){U[Ae-1].deltas.push(Q),U[Ae-1].abs.push(ae);break}}break;case"bct":Q=[ae.x1-re[de-1].x,ae.y1-re[de-1].y,ae.x2-re[de-1].x,ae.y2-re[de-1].y,ae.x-re[de-1].x,ae.y-re[de-1].y],U[U.length-1].deltas.push(Q);break;case"qct":var Me=re[de-1].x+2/3*(ae.x1-re[de-1].x),H=re[de-1].y+2/3*(ae.y1-re[de-1].y),Oe=ae.x+2/3*(ae.x1-ae.x),Ee=ae.y+2/3*(ae.y1-ae.y),ee=ae.x,st=ae.y;Q=[Me-re[de-1].x,H-re[de-1].y,Oe-re[de-1].x,Ee-re[de-1].y,ee-re[de-1].x,st-re[de-1].y],U[U.length-1].deltas.push(Q);break;case"arc":U.push({deltas:[],abs:[],arc:!0}),Array.isArray(U[U.length-1].abs)&&U[U.length-1].abs.push(ae)}}W=z?null:S==="stroke"?"stroke":"fill";for(var se=!1,me=0;me<U.length;me++)if(U[me].arc)for(var nt=U[me].abs,Nt=0;Nt<nt.length;Nt++){var xt=nt[Nt];xt.type==="arc"?F.call(this,xt.x,xt.y,xt.radius,xt.startAngle,xt.endAngle,xt.counterclockwise,void 0,z,!se):M.call(this,xt.x,xt.y),se=!0}else if(U[me].close===!0)this.pdf.internal.out("h"),se=!1;else if(U[me].begin!==!0){var Ne=U[me].start.x,le=U[me].start.y;O.call(this,U[me].deltas,Ne,le),se=!0}W&&E.call(this,W),z&&L.call(this)}},w=function(S){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-Q;case"top":return S+z-Q;case"hanging":return S+z-2*Q;case"middle":return S+z/2-Q;default:return S}},C=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(z,Q){this.colorStops.push([z,Q])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(S,z,Q,W,U,re,de,ae,Ae){for(var Me=P.call(this,Q,W,U,re),H=0;H<Me.length;H++){var Oe=Me[H];H===0&&(Ae?N.call(this,Oe.x1+S,Oe.y1+z):M.call(this,Oe.x1+S,Oe.y1+z)),k.call(this,S,z,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}ae?L.call(this):E.call(this,de)},E=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(S,z){this.pdf.internal.out(r(S)+" "+a(z)+" m")},I=function(S){var z;switch(S.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var Q=this.pdf.getTextDimensions(S.text),W=w.call(this,S.y),U=C.call(this,W)-Q.h,re=this.ctx.transform.applyToPoint(new o(S.x,W)),de=this.ctx.transform.decompose(),ae=new c;ae=(ae=(ae=ae.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ae,Me,H,Oe=this.ctx.transform.applyToRectangle(new l(S.x,W,Q.w,Q.h)),Ee=ae.applyToRectangle(new l(S.x,U,Q.w,Q.h)),ee=x.call(this,Ee),st=[],se=0;se<ee.length;se+=1)st.indexOf(ee[se])===-1&&st.push(ee[se]);if(y(st),this.autoPaging)for(var me=st[0],nt=st[st.length-1],Nt=me;Nt<nt+1;Nt++){this.pdf.setPage(Nt);var xt=Nt===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[2],Fe=le-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],je=ze-this.margin[3],De=Nt===1?0:Ne+(Nt-2)*Fe;if(this.ctx.clip_path.length!==0){var Ke=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Ae,this.posX+this.margin[3],-1*De+xt),b.call(this,"fill",!0),this.path=Ke}var At=v([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-De+xt+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*S.scale),H=this.lineWidth,this.lineWidth=H*S.scale);var He=this.autoPaging!=="text";if(He||At.y+At.h<=le){if(He||At.y>=xt&&At.x<=ze){var Te=He?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||ze-At.x)[0],dr=v([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-De+xt+this.ctx.prevPageLastElemOffset)[0],Pe=He&&(Nt>me||Nt<nt)&&m.call(this);Pe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],je,Fe,null).clip().discardPath()),this.pdf.text(Te,dr.x,dr.y,{angle:S.angle,align:z,renderingMode:S.renderingMode}),Pe&&this.pdf.restoreGraphicsState()}}else At.y<le&&(this.ctx.prevPageLastElemOffset+=le-At.y);S.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=H)}else S.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*S.scale),H=this.lineWidth,this.lineWidth=H*S.scale),this.pdf.text(S.text,re.x+this.posX,re.y+this.posY,{angle:S.angle,align:z,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=H)},M=function(S,z,Q,W){Q=Q||0,W=W||0,this.pdf.internal.out(r(S+Q)+" "+a(z+W)+" l")},O=function(S,z,Q){return this.pdf.lines(S,z,Q,null,null)},k=function(S,z,Q,W,U,re,de,ae){this.pdf.internal.out([t(s(Q+S)),t(i(W+z)),t(s(U+S)),t(i(re+z)),t(s(de+S)),t(i(ae+z)),"c"].join(" "))},P=function(S,z,Q,W){for(var U=2*Math.PI,re=Math.PI/2;z>Q;)z-=U;var de=Math.abs(Q-z);de<U&&W&&(de=U-de);for(var ae=[],Ae=W?-1:1,Me=z;de>1e-5;){var H=Me+Ae*Math.min(de,re);ae.push(R.call(this,S,Me,H)),de-=Math.abs(H-Me),Me=H}return ae},R=function(S,z,Q){var W=(Q-z)/2,U=S*Math.cos(W),re=S*Math.sin(W),de=U,ae=-re,Ae=de*de+ae*ae,Me=Ae+de*U+ae*re,H=4/3*(Math.sqrt(2*Ae*Me)-Me)/(de*re-ae*U),Oe=de-H*ae,Ee=ae+H*de,ee=Oe,st=-Ee,se=W+z,me=Math.cos(se),nt=Math.sin(se);return{x1:S*Math.cos(z),y1:S*Math.sin(z),x2:Oe*me-Ee*nt,y2:Oe*nt+Ee*me,x3:ee*me-st*nt,y3:ee*nt+st*me,x4:S*Math.cos(Q),y4:S*Math.sin(Q)}},V=function(S){return 180*S/Math.PI},D=function(S,z,Q,W,U,re){var de=S+.5*(Q-S),ae=z+.5*(W-z),Ae=U+.5*(Q-U),Me=re+.5*(W-re),H=Math.min(S,U,de,Ae),Oe=Math.max(S,U,de,Ae),Ee=Math.min(z,re,ae,Me),ee=Math.max(z,re,ae,Me);return new l(H,Ee,Oe-H,ee-Ee)},Y=function(S,z,Q,W,U,re,de,ae){var Ae,Me,H,Oe,Ee,ee,st,se,me,nt,Nt,xt,Ne,le,Fe=Q-S,ze=W-z,je=U-Q,De=re-W,Ke=de-U,At=ae-re;for(Me=0;Me<41;Me++)me=(st=(H=S+(Ae=Me/40)*Fe)+Ae*((Ee=Q+Ae*je)-H))+Ae*(Ee+Ae*(U+Ae*Ke-Ee)-st),nt=(se=(Oe=z+Ae*ze)+Ae*((ee=W+Ae*De)-Oe))+Ae*(ee+Ae*(re+Ae*At-ee)-se),Me==0?(Nt=me,xt=nt,Ne=me,le=nt):(Nt=Math.min(Nt,me),xt=Math.min(xt,nt),Ne=Math.max(Ne,me),le=Math.max(le,nt));return new l(Math.round(Nt),Math.round(xt),Math.round(Ne-Nt),Math.round(le-xt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,z,Q=(S=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Rr.API),function(e){var t=function(o){var l,c,d,u,h,f,A,p,m,x;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(f=(h=((h=((h=((h=(h-(x=h%85))/85)-(m=h%85))/85)-(p=h%85))/85)-(A=h%85))/85)%85,c.push(f+33,A+33,p+33,m+33,x+33)):c.push(122);return function(g,v){for(var y=v;y>0;y--)g.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,f=String,A="length",p=255,m="charCodeAt",x="slice",g="replace";for(o[x](-2),o=o[x](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[x](o[A]%5||5))[A];h>u;u+=5)c=52200625*(o[m](u)-33)+614125*(o[m](u+1)-33)+7225*(o[m](u+2)-33)+85*(o[m](u+3)-33)+(o[m](u+4)-33),d.push(p&c>>24,p&c>>16,p&c>>8,p&c);return function(v,y){for(var j=y;j>0;j--)v.pop()}(d,l[A]),f.fromCharCode.apply(f,d)},a=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=W6(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Rr.API),function(e){e.loadFile=function(t,r,a){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,f=0,A=function(p){var m=p.length,x=[],g=String.fromCharCode;for(f=0;f<m;f+=1)x.push(g(255&p.charCodeAt(f)));return x.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(A(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return A(h.responseText)}(s,i,o)}catch{}return l}(t,r,a)},e.loadImageFile=e.loadFile}(Rr.API),function(e){function t(){return(sn.html2canvas?Promise.resolve(sn.html2canvas):Jw(()=>Promise.resolve().then(()=>OPe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(sn.DOMPurify?Promise.resolve(sn.DOMPurify):Jw(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=va(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var A=0;A<u.length;++A){var p=u[A],m=p.src.find(function(x){return x.format==="truetype"});m&&d.addFont(m.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,d.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Rr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return d.updateProgress(null,u),f}).then(u,h).then(function(f){return d.updateProgress(1),f})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=d.call(h,l,c);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Rr.getPageSize=function(l,c,d){if(va(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,f=(""+d).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var p,m=0,x=0;if(A.hasOwnProperty(f))m=A[f][1]/h,x=A[f][0]/h;else try{m=d[1],x=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",x>m&&(p=x,x=m,m=p);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",m>x&&(p=x,x=m,m=p)}return{width:x,height:m,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Mk):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Rr.API),Rr.API.addJS=function(e){return OH=e,this.internal.events.subscribe("postPutResources",function(){kC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),IH=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OH+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kC!==void 0&&IH!==void 0&&this.internal.out("/Names <</JavaScript "+kC+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var A=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+A+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])}(Rr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,s,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var f,A=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,m={width:0,height:0,numcomponents:1},x=4;x<p;x+=2){if(x+=A,t.indexOf(h.charCodeAt(x+1))!==-1){f=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),m={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:f,numcomponents:h.charCodeAt(x+9)};break}A=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:a,alias:s}}return u}}(Rr.API),Rr.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=ESe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;s=d&&c===1?function(C){for(var F=C.width,E=C.height,L=C.data,N=C.palette,I=C.depth,M=!1,O=[],k=[],P=void 0,R=!1,V=0,D=0;D<N.length;D++){var Y=B9(N[D],4),ne=Y[0],S=Y[1],z=Y[2],Q=Y[3];O.push(ne,S,z),Q!=null&&(Q===0?(V++,k.length<1&&k.push(D)):Q<255&&(R=!0))}if(R||V>1){M=!0,k=void 0;var W=F*E;P=new Uint8Array(W);for(var U=new DataView(L.buffer),re=0;re<W;re++){var de=Qk(U,re,I),ae=B9(N[de],4)[3];P[re]=ae}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:L,alphaBytes:P,needSMask:M,palette:O,mask:k}}(i):c===2||c===4?function(C){for(var F=C.data,E=C.width,L=C.height,N=C.channels,I=C.depth,M=N===2?"DeviceGray":"DeviceRGB",O=N-1,k=E*L,P=O,R=k*P,V=1*k,D=Math.ceil(R*I/8),Y=Math.ceil(V*I/8),ne=new Uint8Array(D),S=new Uint8Array(Y),z=new DataView(F.buffer),Q=new DataView(ne.buffer),W=new DataView(S.buffer),U=!1,re=0;re<k;re++){for(var de=re*N,ae=0;ae<P;ae++)zH(Q,Qk(z,de+ae,I),re*P+ae,I);var Ae=Qk(z,de+P,I);Ae<(1<<I)-1&&(U=!0),zH(W,Ae,1*re,I)}return{colorSpace:M,colorsPerPixel:O,colorBytes:ne,alphaBytes:S,needSMask:U}}(i):function(C){var F=C.data,E=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:E,colorsPerPixel:E==="DeviceGray"?1:3,colorBytes:F instanceof Uint8Array?F:new Uint8Array(F.buffer),needSMask:!1}}(i);var h,f,A,p=s,m=p.colorSpace,x=p.colorsPerPixel,g=p.colorBytes,v=p.alphaBytes,y=p.needSMask,j=p.palette,b=p.mask,w=null;return a!==Rr.API.image_compression.NONE&&typeof W6=="function"?(w=function(C){var F;switch(C){case Rr.API.image_compression.FAST:F=11;break;case Rr.API.image_compression.MEDIUM:F=13;break;case Rr.API.image_compression.SLOW:F=14;break;default:F=12}return F}(a),h=this.decode.FLATE_DECODE,f="/Predictor ".concat(w," "),e=MH(g,o*x,x,a),y&&(A=MH(v,o,1,a))):(h=void 0,f="",e=g,y&&(A=v)),f+="/Colors ".concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:r,data:e,index:t,filter:h,decodeParameters:f,transparency:b,palette:j,sMask:A,predictor:w,width:o,height:l,bitsPerComponent:u,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,a,s){var i=new GSe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new $k(100).encode(d,100);return e.processJPEG.call(this,u,r,a,s)},e.processGIF87A=e.processGIF89A}(Rr.API),Pd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ba.log("bit decode error:"+r)}},Pd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Pd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Pd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Pd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=a*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Pd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=s*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Pd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},Pd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},Pd.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,a,s){var i=new Pd(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new $k(100).encode(c,100);return e.processJPEG.call(this,d,r,a,s)}}(Rr.API),KH.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,a,s){var i=new KH(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new $k(100).encode(c,100);return e.processJPEG.call(this,d,r,a,s)}}(Rr.API),Rr.API.processRGBA=function(e,t,r){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,d=0;d<s;d+=4){var u=a[d],h=a[d+1],f=a[d+2],A=a[d+3];i[l++]=u,i[l++]=h,i[l++]=f,o[c++]=A}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dx=Rr.API,TC=Dx.getCharWidthsArray=function(e,t){var r,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,f=0,A=e.length,p=0,m=l[0]||c,x=[];for(r=0;r<A;r++)a=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(f=h&&va(d[a])==="object"&&!isNaN(parseInt(d[a][p],10))?d[a][p]/u:0,x.push((l[a]||m)/c+f)),p=a;return x},DH=Dx.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Dx.processArabic&&(e=Dx.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,s)/r:TC.apply(this,arguments).reduce(function(i,o){return i+o},0)},LH=function(e,t,r,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},RH=function(e,t,r){r||(r={});var a,s,i,o,l,c,d,u=[],h=[u],f=r.textIndent||0,A=0,p=0,m=e.split(" "),x=TC.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),v=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?v=v.concat(j.map(function(b,w){return(w&&b.length?`
`:"")+b})):v.push(j[0])}),m=v,c=DH.apply(this,[g,r])}for(i=0,o=m.length;i<o;i++){var y=0;if(a=m[i],c&&a[0]==`
`&&(a=a.substr(1),y=1),f+A+(p=(s=TC.apply(this,[a,r])).reduce(function(j,b){return j+b},0))>t||y){if(p>t){for(l=LH.apply(this,[a,s,t-(f+A),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);p=s.slice(a.length-(u[0]?u[0].length:0)).reduce(function(j,b){return j+b},0)}else u=[a];h.push(u),f=p+c,A=x}else u.push(a),f+=A+p,A=x}return d=c?function(j,b){return(b?g:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(d)},Dx.splitTextToSize=function(e,t,r){var a,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return h.metadata[f]?{widths:h.metadata[f].widths||{0:1},kerning:h.metadata[f].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=a.length;l<c;l++)d=d.concat(RH.apply(this,[a[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},s={},i=0;i<16;i++)a[r[i]]=t[i],s[t[i]]=r[i];var o=function(f){return"0x"+parseInt(f,10).toString(16)},l=e.__fontmetrics__.compress=function(f){var A,p,m,x,g=["{"];for(var v in f){if(A=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=o(v).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof A=="number")A<0?(m=o(A).slice(3),x="-"):(m=o(A).slice(2),x=""),m=x+m.slice(0,-1)+s[m.slice(-1)];else{if(va(A)!=="object")throw new Error("Don't know what to do with value type "+va(A)+".");m=l(A)}g.push(p+m)}return g.push("}"),g.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,p,m,x,g={},v=1,y=g,j=[],b="",w="",C=f.length-1,F=1;F<C;F+=1)(x=f[F])=="'"?A?(m=A.join(""),A=void 0):A=[]:A?A.push(x):x=="{"?(j.push([y,m]),y={},m=void 0):x=="}"?((p=j.pop())[0][p[1]]=y,m=void 0,y=p[0]):x=="-"?v=-1:m===void 0?a.hasOwnProperty(x)?(b+=a[x],m=parseInt(b,16)*v,v=1,b=""):b+=x:a.hasOwnProperty(x)?(w+=a[x],y[m]=parseInt(w,16)*v,v=1,m=void 0,w=""):w+=x;return g},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var A=f.font,p=h.Unicode[A.postScriptName];p&&(A.metadata.Unicode={},A.metadata.Unicode.widths=p.widths,A.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[A.postScriptName];m&&(A.metadata.Unicode.encoding=m,A.encoding=m.codePages[0])}])}(Rr.API),function(e){var t=function(r){for(var a=r.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var a=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(iS(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])}(Rr),Rr.API.addSvgAsImage=function(e,t,r,a,s,i,o,l){if(isNaN(t)||isNaN(r))throw Ba.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Ba.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(sn.canvg?Promise.resolve(sn.canvg):Jw(()=>import("./index.es-KuK-Ia9m.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,a,s,o,l)})},Rr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,r);return this},Rr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function f(p,m){var x,g=!1;for(x=0;x<p.length;x+=1)p[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var A=l.length;for(h=0;h<A;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(va(e)==="object"){for(s in e)if(i=e[s],f(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&f(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(a=!1);a===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?m.push("/"+p+" /"+r[p].value):m.push("/"+p+" "+r[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Rr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,f=i.length;h<f;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},a=function(i){var o,l,c,d,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(i).sort(function(A,p){return A-p})).length;h<f;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),A="",p=0;p<f.length;p++)A+=String.fromCharCode(f[p]);var m=d();u({data:A,addLength1:!0,objectId:m}),c("endobj");var x=d();u({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+tg(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+tg(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+tg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",A=0;A<h.length;A++)f+=String.fromCharCode(h[A]);var p=d();u({data:f,addLength1:!0,objectId:p}),c("endobj");var m=d();u({data:a(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+tg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+tg(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},f=h.pdfEscape,A=h.activeFontKey,p=h.fonts,m=A,x="",g=0,v="",y=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(v=l,m=A,Array.isArray(l)&&(v=l[0]),g=0;g<v.length;g+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),o||v[g].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?x+=v[g]:x+="";var j="";return parseInt(m.slice(1))<14||y==="WinAnsiEncoding"?j=f(x,m).split("").map(function(b){return b.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(j=r(x,p[m])),h.isHex=!0,{text:j,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(Rr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Rr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,c,d,u,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var j=function(N){var I=N.charCodeAt(),M=I>>8,O=m[M];return O!==void 0?h[256*O+(255&I)]:M===252||M===253?"AL":g.test(M)?"L":M===8?"R":"N"},b=function(N){for(var I,M=0;M<N.length;M++){if((I=j(N.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},w=function(N,I,M,O){var k,P,R,V,D=I[O];switch(D){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(D="AN");break;case"AL":v=!0,D="R";break;case"WS":case"BN":D="N";break;case"CS":O<1||O+1>=I.length||(k=M[O-1])!=="EN"&&k!=="AN"||(P=I[O+1])!=="EN"&&P!=="AN"?D="N":v&&(P="AN"),D=P===k?P:"N";break;case"ES":D=(k=O>0?M[O-1]:"B")==="EN"&&O+1<I.length&&I[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&M[O-1]==="EN"){D="EN";break}if(v){D="N";break}for(R=O+1,V=I.length;R<V&&I[R]==="ET";)R++;D=R<V&&I[R]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=I.length,R=O+1;R<V&&I[R]==="NSM";)R++;if(R<V){var Y=N[O],ne=Y>=1425&&Y<=2303||Y===64286;if(k=I[R],ne&&(k==="R"||k==="AL")){D="R";break}}}D=O<1||(k=I[O-1])==="B"?"N":M[O-1];break;case"B":v=!1,s=!0,D=y;break;case"S":i=!0,D="N"}return D},C=function(N,I,M){var O=N.split("");return M&&F(O,M,{hiLevel:y}),O.reverse(),I&&I.reverse(),O.join("")},F=function(N,I,M){var O,k,P,R,V,D=-1,Y=N.length,ne=0,S=[],z=y?A:f,Q=[];for(v=!1,s=!1,i=!1,k=0;k<Y;k++)Q[k]=j(N[k]);for(P=0;P<Y;P++){if(V=ne,S[P]=w(N,Q,S,P),O=240&(ne=z[V][p[S[P]]]),ne&=15,I[P]=R=z[ne][5],O>0)if(O===16){for(k=D;k<P;k++)I[k]=1;D=-1}else D=-1;if(z[ne][6])D===-1&&(D=P);else if(D>-1){for(k=D;k<P;k++)I[k]=R;D=-1}Q[P]==="B"&&(I[P]=0),M.hiLevel|=R}i&&function(W,U,re){for(var de=0;de<re;de++)if(W[de]==="S"){U[de]=y;for(var ae=de-1;ae>=0&&W[ae]==="WS";ae--)U[ae]=y}}(Q,I,Y)},E=function(N,I,M,O,k){if(!(k.hiLevel<N)){if(N===1&&y===1&&!s)return I.reverse(),void(M&&M.reverse());for(var P,R,V,D,Y=I.length,ne=0;ne<Y;){if(O[ne]>=N){for(V=ne+1;V<Y&&O[V]>=N;)V++;for(D=ne,R=V-1;D<R;D++,R--)P=I[D],I[D]=I[R],I[R]=P,M&&(P=M[D],M[D]=M[R],M[R]=P);ne=V}ne++}}},L=function(N,I,M){var O=N.split(""),k={hiLevel:y};return M||(M=[]),F(O,M,k),function(P,R,V){if(V.hiLevel!==0&&u)for(var D,Y=0;Y<P.length;Y++)R[Y]===1&&(D=x.indexOf(P[Y]))>=0&&(P[Y]=x[D+1])}(O,M,k),E(2,O,I,M,k),E(1,O,I,M,k),O.join("")};return this.__bidiEngine__.doBidiReorder=function(N,I,M){if(function(k,P){if(P)for(var R=0;R<k.length;R++)P[R]=R;l===void 0&&(l=b(k)),d===void 0&&(d=b(k))}(N,I),o||!c||d)if(o&&c&&l^d)y=l?1:0,N=C(N,I,M);else if(!o&&c&&d)y=l?1:0,N=L(N,I,M),N=C(N,I);else if(!o||l||c||d){if(o&&!c&&l^d)N=C(N,I),l?(y=0,N=L(N,I,M)):(y=1,N=L(N,I,M),N=C(N,I));else if(o&&l&&!c&&d)y=1,N=L(N,I,M),N=C(N,I);else if(!o&&!c&&l^d){var O=u;l?(y=1,N=L(N,I,M),y=0,u=!1,N=L(N,I,M),u=O):(y=0,N=L(N,I,M),N=C(N,I),y=1,u=!1,N=L(N,I,M),u=O,N=C(N,I))}}else y=0,N=L(N,I,M);else y=l?1:0,N=L(N,I,M);return N},this.__bidiEngine__.setOptions=function(N){N&&(o=N.isInputVisual,c=N.isOutputVisual,l=N.isInputRtl,d=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);a.text=o}else a.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Rr),Rr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Om(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new d5e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new XSe(this.contents),this.head=new JSe(this),this.name=new n5e(this),this.cmap=new fse(this),this.toUnicode={},this.hhea=new ZSe(this),this.maxp=new a5e(this),this.hmtx=new s5e(this),this.post=new t5e(this),this.os2=new e5e(this),this.loca=new c5e(this),this.glyf=new i5e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var gu,Om=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,s;for(s=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,s,i,o,l,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)r=t[a],i.push(this.writeByte(r));return i},e}(),XSe=function(){var e;function t(r){var a,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,s,i,o,l,c,d,u,h,f,A,p,m;for(m in A=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(A)/c),o=Math.floor(h/c),u=16*A-h,(s=new Om).writeInt(this.scalarType),s.writeShort(A),s.writeShort(h),s.writeShort(o),s.writeShort(u),i=16*A,d=s.pos+i,l=null,p=[],r)for(f=r[m],s.writeString(m),s.writeInt(e(f)),s.writeInt(d),s.writeInt(f.length),p=p.concat(f),m==="head"&&(l=d),d+=f.length;d%4;)p.push(0),d++;return s.write(p),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(r){var a,s,i,o;for(r=Ase.call(r);r.length%4;)r.push(0);for(i=new Om(r),s=0,a=0,o=r.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t}(),YSe={}.hasOwnProperty,Nh=function(e,t){for(var r in t)YSe.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};gu=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var JSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Om).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),qH=function(){function e(t,r){var a,s,i,o,l,c,d,u,h,f,A,p,m,x,g,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(A=t.readUInt16(),f=A/2,t.pos+=6,i=function(){var j,b;for(b=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)b.push(t.readUInt16());return b}(),t.pos+=2,m=function(){var j,b;for(b=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)b.push(t.readUInt16());return b}(),d=function(){var j,b;for(b=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)b.push(t.readUInt16());return b}(),u=function(){var j,b;for(b=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)b.push(t.readUInt16());return b}(),s=(this.length-t.pos+this.offset)/2,l=function(){var j,b;for(b=[],c=j=0;0<=s?j<s:j>s;c=0<=s?++j:--j)b.push(t.readUInt16());return b}(),c=g=0,y=i.length;g<y;c=++g)for(x=i[c],a=v=p=m[c];p<=x?v<=x:v>=x;a=p<=x?++v:--v)u[c]===0?o=a+d[c]:(o=l[u[c]/2+(a-p)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[a]=65535&o}t.pos=h}return e.encode=function(t,r){var a,s,i,o,l,c,d,u,h,f,A,p,m,x,g,v,y,j,b,w,C,F,E,L,N,I,M,O,k,P,R,V,D,Y,ne,S,z,Q,W,U,re,de,ae,Ae,Me,H;switch(O=new Om,o=Object.keys(t).sort(function(Oe,Ee){return Oe-Ee}),r){case"macroman":for(m=0,x=function(){var Oe=[];for(p=0;p<256;++p)Oe.push(0);return Oe}(),v={0:0},i={},k=0,D=o.length;k<D;k++)v[ae=t[s=o[k]]]==null&&(v[ae]=++m),i[s]={old:t[s],new:v[t[s]]},x[s]=v[t[s]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(x),{charMap:i,subtable:O.data,maxGlyphID:m+1};case"unicode":for(I=[],h=[],y=0,v={},a={},g=d=null,P=0,Y=o.length;P<Y;P++)v[b=t[s=o[P]]]==null&&(v[b]=++y),a[s]={old:b,new:v[b]},l=v[b]-s,g!=null&&l===d||(g&&h.push(g),I.push(s),d=l),g=s;for(g&&h.push(g),h.push(65535),I.push(65535),L=2*(E=I.length),F=2*Math.pow(Math.log(E)/Math.LN2,2),f=Math.log(F/2)/Math.LN2,C=2*E-F,c=[],w=[],A=[],p=R=0,ne=I.length;R<ne;p=++R){if(N=I[p],u=h[p],N===65535){c.push(0),w.push(0);break}if(N-(M=a[N].new)>=32768)for(c.push(0),w.push(2*(A.length+E-p)),s=V=N;N<=u?V<=u:V>=u;s=N<=u?++V:--V)A.push(a[s].new);else c.push(M-N),w.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*E+2*A.length),O.writeUInt16(0),O.writeUInt16(L),O.writeUInt16(F),O.writeUInt16(f),O.writeUInt16(C),re=0,S=h.length;re<S;re++)s=h[re],O.writeUInt16(s);for(O.writeUInt16(0),de=0,z=I.length;de<z;de++)s=I[de],O.writeUInt16(s);for(Ae=0,Q=c.length;Ae<Q;Ae++)l=c[Ae],O.writeUInt16(l);for(Me=0,W=w.length;Me<W;Me++)j=w[Me],O.writeUInt16(j);for(H=0,U=A.length;H<U;H++)m=A[H],O.writeUInt16(m);return{charMap:a,subtable:O.data,maxGlyphID:y+1}}},e}(),fse=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r=new qH(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,s;return r==null&&(r="macroman"),a=qH.encode(t,r),(s=new Om).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),ZSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),e5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),t5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),r5e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},n5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,s,i,o,l,c,d,u,h,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,h=a.length;u<h;i=++u)s=a[i],t.pos=s.offset,d=t.readString(s.length),o=new r5e(d,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),a5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),s5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,h,f;for(f=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],f.push(i.advance);return f}).call(this),a=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Ase=[].slice,i5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,s,i,o,l,c,d,u,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(l=new Om(r.read(s))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new l5e(l,d,h,c,u):new o5e(l,o,d,h,c,u),this.cache[t]))},e.prototype.encode=function(t,r,a){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},e}(),o5e=function(){function e(t,r,a,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),l5e=function(){function e(t,r,a,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new Om(Ase.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),c5e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Nh(e,gu),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<r.length&&r[i]==o){++i,a[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var d=new Array(4*a.length),u=0;u<a.length;++u)d[4*u+3]=255&a[u],d[4*u+2]=(65280&a[u])>>8,d[4*u+1]=(16711680&a[u])>>16,d[4*u]=(4278190080&a[u])>>24;return d},e}(),d5e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=s[a];return t},e.prototype.glyphsFor=function(t){var r,a,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(a=s[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],s[i]=a;return s},e.prototype.encode=function(t,r){var a,s,i,o,l,c,d,u,h,f,A,p,m,x,g;for(s in a=fse.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),A={0:0},g=a.charMap)A[(c=g[s]).old]=c.new;for(p in f=a.maxGlyphID,o)p in A||(A[p]=f++);return u=function(v){var y,j;for(y in j={},v)j[v[y]]=y;return j}(A),h=Object.keys(u).sort(function(v,y){return v-y}),m=function(){var v,y,j;for(j=[],v=0,y=h.length;v<y;v++)l=h[v],j.push(u[l]);return j}(),i=this.font.glyf.encode(o,m,A),d=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Rr.API.PDFObject=function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,s,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)a=r[l],d.push(t.convert(a));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lI=function(e,t){return lI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},lI(e,t)};function vu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lI(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cI=function(){return cI=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cI.apply(this,arguments)};function zo(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((a=a.apply(e,[])).next())})}function vo(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function IC(e,t,r){if(arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||t)}var Of=function(){function e(t,r,a,s){this.left=t,this.top=r,this.width=a,this.height=s}return e.prototype.add=function(t,r,a,s){return new e(this.left+t,this.top+r,this.width+a,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var a=Array.from(r).find(function(s){return s.width!==0});return a?new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),jB=function(e,t){return Of.fromClientRect(e,t.getBoundingClientRect())},u5e=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var a=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Of(0,0,a,s)},NB=function(e){for(var t=[],r=0,a=e.length;r<a;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<a){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Us=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var a=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===r||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},WH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var OC=0;OC<WH.length;OC++)h5e[WH.charCodeAt(OC)]=OC;var GH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var DC=0;DC<GH.length;DC++)jw[GH.charCodeAt(DC)]=DC;var f5e=function(e){var t=e.length*.75,r=e.length,a,s=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<r;a+=4)i=jw[e.charCodeAt(a)],o=jw[e.charCodeAt(a+1)],l=jw[e.charCodeAt(a+2)],c=jw[e.charCodeAt(a+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|l>>2,u[s++]=(l&3)<<6|c&63;return d},A5e=function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r.push(e[a+1]<<8|e[a]);return r},m5e=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return r},c0=5,r8=11,Hk=2,p5e=r8-c0,mse=65536>>c0,x5e=1<<c0,zk=x5e-1,g5e=1024>>c0,v5e=mse+g5e,y5e=v5e,w5e=32,b5e=y5e+w5e,j5e=65536>>r8,N5e=1<<p5e,C5e=N5e-1,XH=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},S5e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},_5e=function(e,t){var r=f5e(e),a=Array.isArray(r)?m5e(r):new Uint32Array(r),s=Array.isArray(r)?A5e(r):new Uint16Array(r),i=24,o=XH(s,i/2,a[4]/2),l=a[5]===2?XH(s,(i+a[4])/2):S5e(a,Math.ceil((i+a[4])/4));return new E5e(a[0],a[1],a[2],a[3],o,l)},E5e=function(){function e(t,r,a,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>c0],r=(r<<Hk)+(t&zk),this.data[r];if(t<=65535)return r=this.index[mse+(t-55296>>c0)],r=(r<<Hk)+(t&zk),this.data[r];if(t<this.highStart)return r=b5e-j5e+(t>>r8),r=this.index[r],r+=t>>c0&C5e,r=this.index[r],r=(r<<Hk)+(t&zk),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),YH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var LC=0;LC<YH.length;LC++)B5e[YH.charCodeAt(LC)]=LC;var F5e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",JH=50,P5e=1,pse=2,xse=3,k5e=4,T5e=5,ZH=7,gse=8,ez=9,YA=10,dI=11,tz=12,uI=13,I5e=14,Nw=15,hI=16,RC=17,W1=18,O5e=19,rz=20,fI=21,G1=22,Vk=23,Lx=24,ec=25,Cw=26,Sw=27,Rx=28,D5e=29,kp=30,L5e=31,MC=32,UC=33,AI=34,mI=35,pI=36,Cj=37,xI=38,uS=39,hS=40,Kk=41,vse=42,R5e=43,M5e=[9001,65288],yse="!",Tn="",QC="",gI=_5e(F5e),Gh=[kp,pI],vI=[P5e,pse,xse,T5e],wse=[YA,gse],nz=[Sw,Cw],U5e=vI.concat(wse),az=[xI,uS,hS,AI,mI],Q5e=[Nw,uI],$5e=function(e,t){t===void 0&&(t="strict");var r=[],a=[],s=[];return e.forEach(function(i,o){var l=gI.get(i);if(l>JH?(s.push(!0),l-=JH):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),r.push(hI);if(l===k5e||l===dI){if(o===0)return a.push(o),r.push(kp);var c=r[o-1];return U5e.indexOf(c)===-1?(a.push(a[o-1]),r.push(c)):(a.push(o),r.push(kp))}if(a.push(o),l===L5e)return r.push(t==="strict"?fI:Cj);if(l===vse||l===D5e)return r.push(kp);if(l===R5e)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Cj):r.push(kp);r.push(l)}),[a,r,s]},qk=function(e,t,r,a){var s=a[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=r;i<=a.length;){i++;var o=a[i];if(o===t)return!0;if(o!==YA)break}if(s===YA)for(var i=r;i>0;){i--;var l=a[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=a.length;){c++;var o=a[c];if(o===t)return!0;if(o!==YA)break}if(l!==YA)break}return!1},sz=function(e,t){for(var r=e;r>=0;){var a=t[r];if(a===YA)r--;else return a}return 0},H5e=function(e,t,r,a,s){if(r[a]===0)return Tn;var i=a-1;if(Array.isArray(s)&&s[i]===!0)return Tn;var o=i-1,l=i+1,c=t[i],d=o>=0?t[o]:0,u=t[l];if(c===pse&&u===xse)return Tn;if(vI.indexOf(c)!==-1)return yse;if(vI.indexOf(u)!==-1||wse.indexOf(u)!==-1)return Tn;if(sz(i,t)===gse)return QC;if(gI.get(e[i])===dI||(c===MC||c===UC)&&gI.get(e[l])===dI||c===ZH||u===ZH||c===ez||[YA,uI,Nw].indexOf(c)===-1&&u===ez||[RC,W1,O5e,Lx,Rx].indexOf(u)!==-1||sz(i,t)===G1||qk(Vk,G1,i,t)||qk([RC,W1],fI,i,t)||qk(tz,tz,i,t))return Tn;if(c===YA)return QC;if(c===Vk||u===Vk)return Tn;if(u===hI||c===hI)return QC;if([uI,Nw,fI].indexOf(u)!==-1||c===I5e||d===pI&&Q5e.indexOf(c)!==-1||c===Rx&&u===pI||u===rz||Gh.indexOf(u)!==-1&&c===ec||Gh.indexOf(c)!==-1&&u===ec||c===Sw&&[Cj,MC,UC].indexOf(u)!==-1||[Cj,MC,UC].indexOf(c)!==-1&&u===Cw||Gh.indexOf(c)!==-1&&nz.indexOf(u)!==-1||nz.indexOf(c)!==-1&&Gh.indexOf(u)!==-1||[Sw,Cw].indexOf(c)!==-1&&(u===ec||[G1,Nw].indexOf(u)!==-1&&t[l+1]===ec)||[G1,Nw].indexOf(c)!==-1&&u===ec||c===ec&&[ec,Rx,Lx].indexOf(u)!==-1)return Tn;if([ec,Rx,Lx,RC,W1].indexOf(u)!==-1)for(var h=i;h>=0;){var f=t[h];if(f===ec)return Tn;if([Rx,Lx].indexOf(f)!==-1)h--;else break}if([Sw,Cw].indexOf(u)!==-1)for(var h=[RC,W1].indexOf(c)!==-1?o:i;h>=0;){var f=t[h];if(f===ec)return Tn;if([Rx,Lx].indexOf(f)!==-1)h--;else break}if(xI===c&&[xI,uS,AI,mI].indexOf(u)!==-1||[uS,AI].indexOf(c)!==-1&&[uS,hS].indexOf(u)!==-1||[hS,mI].indexOf(c)!==-1&&u===hS||az.indexOf(c)!==-1&&[rz,Cw].indexOf(u)!==-1||az.indexOf(u)!==-1&&c===Sw||Gh.indexOf(c)!==-1&&Gh.indexOf(u)!==-1||c===Lx&&Gh.indexOf(u)!==-1||Gh.concat(ec).indexOf(c)!==-1&&u===G1&&M5e.indexOf(e[l])===-1||Gh.concat(ec).indexOf(u)!==-1&&c===W1)return Tn;if(c===Kk&&u===Kk){for(var A=r[i],p=1;A>0&&(A--,t[A]===Kk);)p++;if(p%2!==0)return Tn}return c===MC&&u===UC?Tn:QC},z5e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=$5e(e,t.lineBreak),a=r[0],s=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[ec,kp,vse].indexOf(l)!==-1?Cj:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[a,s,o]},V5e=function(){function e(t,r,a,s){this.codePoints=t,this.required=r===yse,this.start=a,this.end=s}return e.prototype.slice=function(){return Us.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),K5e=function(e,t){var r=NB(e),a=z5e(r,t),s=a[0],i=a[1],o=a[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Tn;d<l&&(u=H5e(r,i,s,++d,o))===Tn;);if(u!==Tn||d===l){var h=new V5e(r,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},q5e=1,W5e=2,Z2=4,iz=8,j5=10,oz=47,lb=92,G5e=9,X5e=32,$C=34,X1=61,Y5e=35,J5e=36,Z5e=37,HC=39,zC=40,Y1=41,e_e=95,Cl=45,t_e=33,r_e=60,n_e=62,a_e=64,s_e=91,i_e=93,o_e=61,l_e=123,VC=63,c_e=125,lz=124,d_e=126,u_e=128,cz=65533,Wk=42,Hp=43,h_e=44,f_e=58,A_e=59,Sj=46,m_e=0,p_e=8,x_e=11,g_e=14,v_e=31,y_e=127,Tu=-1,bse=48,jse=97,Nse=101,w_e=102,b_e=117,j_e=122,Cse=65,Sse=69,_se=70,N_e=85,C_e=90,bo=function(e){return e>=bse&&e<=57},S_e=function(e){return e>=55296&&e<=57343},Mx=function(e){return bo(e)||e>=Cse&&e<=_se||e>=jse&&e<=w_e},__e=function(e){return e>=jse&&e<=j_e},E_e=function(e){return e>=Cse&&e<=C_e},B_e=function(e){return __e(e)||E_e(e)},F_e=function(e){return e>=u_e},KC=function(e){return e===j5||e===G5e||e===X5e},N5=function(e){return B_e(e)||F_e(e)||e===e_e},dz=function(e){return N5(e)||bo(e)||e===Cl},P_e=function(e){return e>=m_e&&e<=p_e||e===x_e||e>=g_e&&e<=v_e||e===y_e},SA=function(e,t){return e!==lb?!1:t!==j5},qC=function(e,t,r){return e===Cl?N5(t)||SA(t,r):N5(e)?!0:!!(e===lb&&SA(e,t))},Gk=function(e,t,r){return e===Hp||e===Cl?bo(t)?!0:t===Sj&&bo(r):bo(e===Sj?t:e)},k_e=function(e){var t=0,r=1;(e[t]===Hp||e[t]===Cl)&&(e[t]===Cl&&(r=-1),t++);for(var a=[];bo(e[t]);)a.push(e[t++]);var s=a.length?parseInt(Us.apply(void 0,a),10):0;e[t]===Sj&&t++;for(var i=[];bo(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(Us.apply(void 0,i),10):0;(e[t]===Sse||e[t]===Nse)&&t++;var c=1;(e[t]===Hp||e[t]===Cl)&&(e[t]===Cl&&(c=-1),t++);for(var d=[];bo(e[t]);)d.push(e[t++]);var u=d.length?parseInt(Us.apply(void 0,d),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,c*u)},T_e={type:2},I_e={type:3},O_e={type:4},D_e={type:13},L_e={type:8},R_e={type:21},M_e={type:9},U_e={type:10},Q_e={type:11},$_e={type:12},H_e={type:14},WC={type:23},z_e={type:1},V_e={type:25},K_e={type:24},q_e={type:26},W_e={type:27},G_e={type:28},X_e={type:29},Y_e={type:31},yI={type:32},Ese=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(NB(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==yI;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case $C:return this.consumeStringToken($C);case Y5e:var r=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(dz(r)||SA(a,s)){var i=qC(r,a,s)?W5e:q5e,o=this.consumeName();return{type:5,value:o,flags:i}}break;case J5e:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),D_e;break;case HC:return this.consumeStringToken(HC);case zC:return T_e;case Y1:return I_e;case Wk:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),H_e;break;case Hp:if(Gk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case h_e:return O_e;case Cl:var l=t,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Gk(l,c,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(qC(l,c,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Cl&&d===n_e)return this.consumeCodePoint(),this.consumeCodePoint(),K_e;break;case Sj:if(Gk(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case oz:if(this.peekCodePoint(0)===Wk)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Wk&&(u=this.consumeCodePoint(),u===oz))return this.consumeToken();if(u===Tu)return this.consumeToken()}break;case f_e:return q_e;case A_e:return W_e;case r_e:if(this.peekCodePoint(0)===t_e&&this.peekCodePoint(1)===Cl&&this.peekCodePoint(2)===Cl)return this.consumeCodePoint(),this.consumeCodePoint(),V_e;break;case a_e:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),A=this.peekCodePoint(2);if(qC(h,f,A)){var o=this.consumeName();return{type:7,value:o}}break;case s_e:return G_e;case lb:if(SA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case i_e:return X_e;case o_e:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),L_e;break;case l_e:return Q_e;case c_e:return $_e;case b_e:case N_e:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Hp&&(Mx(m)||m===VC)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case lz:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),M_e;if(this.peekCodePoint(0)===lz)return this.consumeCodePoint(),R_e;break;case d_e:if(this.peekCodePoint(0)===X1)return this.consumeCodePoint(),U_e;break;case Tu:return yI}return KC(t)?(this.consumeWhiteSpace(),Y_e):bo(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):N5(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Us(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Mx(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var a=!1;r===VC&&t.length<6;)t.push(r),r=this.consumeCodePoint(),a=!0;if(a){var s=parseInt(Us.apply(void 0,t.map(function(c){return c===VC?bse:c})),16),i=parseInt(Us.apply(void 0,t.map(function(c){return c===VC?_se:c})),16);return{type:30,start:s,end:i}}var o=parseInt(Us.apply(void 0,t),16);if(this.peekCodePoint(0)===Cl&&Mx(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Mx(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(Us.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===zC?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zC?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tu)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===HC||r===$C){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tu||this.peekCodePoint(0)===Y1)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),WC)}for(;;){var s=this.consumeCodePoint();if(s===Tu||s===Y1)return{type:22,value:Us.apply(void 0,t)};if(KC(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Tu||this.peekCodePoint(0)===Y1?(this.consumeCodePoint(),{type:22,value:Us.apply(void 0,t)}):(this.consumeBadUrlRemnants(),WC);if(s===$C||s===HC||s===zC||P_e(s))return this.consumeBadUrlRemnants(),WC;if(s===lb)if(SA(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),WC;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;KC(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Y1||t===Tu)return;SA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,a="";t>0;){var s=Math.min(r,t);a+=Us.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),a},e.prototype.consumeStringToken=function(t){var r="",a=0;do{var s=this._value[a];if(s===Tu||s===void 0||s===t)return r+=this.consumeStringSlice(a),{type:0,value:r};if(s===j5)return this._value.splice(0,a),z_e;if(s===lb){var i=this._value[a+1];i!==Tu&&i!==void 0&&(i===j5?(r+=this.consumeStringSlice(a),a=-1,this._value.shift()):SA(s,i)&&(r+=this.consumeStringSlice(a),r+=Us(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Z2,a=this.peekCodePoint(0);for((a===Hp||a===Cl)&&t.push(this.consumeCodePoint());bo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(a===Sj&&bo(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=iz;bo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===Sse||a===Nse)&&((s===Hp||s===Cl)&&bo(i)||bo(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=iz;bo(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[k_e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],a=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(qC(s,i,o)){var l=this.consumeName();return{type:15,number:r,flags:a,unit:l}}return s===Z5e?(this.consumeCodePoint(),{type:16,number:r,flags:a}):{type:17,number:r,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Mx(t)){for(var r=Us(t);Mx(this.peekCodePoint(0))&&r.length<6;)r+=Us(this.consumeCodePoint());KC(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(r,16);return a===0||S_e(a)||a>1114111?cz:a}return t===Tu?cz:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(dz(r))t+=Us(r);else if(SA(r,this.peekCodePoint(0)))t+=Us(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Bse=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new Ese;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},a=this.consumeToken();;){if(a.type===32||Z_e(a,t))return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?yI:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),eN=function(e){return e.type===15},Uy=function(e){return e.type===17},Sa=function(e){return e.type===20},J_e=function(e){return e.type===0},wI=function(e,t){return Sa(e)&&e.value===t},Fse=function(e){return e.type!==31},Ov=function(e){return e.type!==31&&e.type!==4},Ch=function(e){var t=[],r=[];return e.forEach(function(a){if(a.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}a.type!==31&&r.push(a)}),r.length&&t.push(r),t},Z_e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Dm=function(e){return e.type===17||e.type===15},ri=function(e){return e.type===16||Dm(e)},Pse=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ao={type:17,number:0,flags:Z2},n8={type:16,number:50,flags:Z2},JA={type:16,number:100,flags:Z2},_w=function(e,t,r){var a=e[0],s=e[1];return[Ua(a,t),Ua(typeof s<"u"?s:a,r)]},Ua=function(e,t){if(e.type===16)return e.number/100*t;if(eN(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},kse="deg",Tse="grad",Ise="rad",Ose="turn",CB={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case kse:return Math.PI*t.number/180;case Tse:return Math.PI/200*t.number;case Ise:return t.number;case Ose:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Dse=function(e){return e.type===15&&(e.unit===kse||e.unit===Tse||e.unit===Ise||e.unit===Ose)},Lse=function(e){var t=e.filter(Sa).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ao,ao];case"to top":case"bottom":return nd(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ao,JA];case"to right":case"left":return nd(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[JA,JA];case"to bottom":case"top":return nd(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[JA,ao];case"to left":case"right":return nd(270)}return 0},nd=function(e){return Math.PI*e/180},gm={name:"color",parse:function(e,t){if(t.type===18){var r=eEe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var a=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return ZA(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var a=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return ZA(parseInt(a+a,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var a=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return ZA(parseInt(a,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var a=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return ZA(parseInt(a,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=yf[t.value.toUpperCase()];if(typeof l<"u")return l}return yf.TRANSPARENT}},vm=function(e){return(255&e)===0},Ci=function(e){var t=255&e,r=255&e>>8,a=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+a+","+r+","+t/255+")":"rgb("+s+","+a+","+r+")"},ZA=function(e,t,r,a){return(e<<24|t<<16|r<<8|Math.round(a*255)<<0)>>>0},uz=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},hz=function(e,t){var r=t.filter(Ov);if(r.length===3){var a=r.map(uz),s=a[0],i=a[1],o=a[2];return ZA(s,i,o,1)}if(r.length===4){var l=r.map(uz),s=l[0],i=l[1],o=l[2],c=l[3];return ZA(s,i,o,c)}return 0};function Xk(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var fz=function(e,t){var r=t.filter(Ov),a=r[0],s=r[1],i=r[2],o=r[3],l=(a.type===17?nd(a.number):CB.parse(e,a))/(Math.PI*2),c=ri(s)?s.number/100:0,d=ri(i)?i.number/100:0,u=typeof o<"u"&&ri(o)?Ua(o,1):1;if(c===0)return ZA(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,f=d*2-h,A=Xk(f,h,l+1/3),p=Xk(f,h,l),m=Xk(f,h,l-1/3);return ZA(A*255,p*255,m*255,u)},eEe={hsl:fz,hsla:fz,rgb:hz,rgba:hz},cb=function(e,t){return gm.parse(e,Bse.create(t).parseComponentValue())},yf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tEe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Sa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rEe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SB=function(e,t){var r=gm.parse(e,t[0]),a=t[1];return a&&ri(a)?{color:r,stop:a}:{color:r,stop:null}},Az=function(e,t){var r=e[0],a=e[e.length-1];r.stop===null&&(r.stop=ao),a.stop===null&&(a.stop=JA);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=Ua(l,t);c>i?s.push(c):s.push(i),i=c}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var u=s[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,f=s[d-1],A=(u-f)/(h+1),p=1;p<=h;p++)s[d+p-1]=A*p;d=null}}return e.map(function(m,x){var g=m.color;return{color:g,stop:Math.max(Math.min(1,s[x]/t),0)}})},nEe=function(e,t,r){var a=t/2,s=r/2,i=Ua(e[0],t)-a,o=s-Ua(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},aEe=function(e,t,r){var a=typeof e=="number"?e:nEe(e,t,r),s=Math.abs(t*Math.sin(a))+Math.abs(r*Math.cos(a)),i=t/2,o=r/2,l=s/2,c=Math.sin(a-Math.PI/2)*l,d=Math.cos(a-Math.PI/2)*l;return[s,i-d,i+d,o-c,o+c]},Id=function(e,t){return Math.sqrt(e*e+t*t)},mz=function(e,t,r,a,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=Id(r-c,a-d);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},sEe=function(e,t,r,a,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-a),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-a)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)i=o=Math.min(Id(t,r),Id(t,r-s),Id(t-a,r),Id(t-a,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-a)),c=mz(a,s,t,r,!0),d=c[0],u=c[1];i=Id(d-t,(u-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-a),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-a)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)i=o=Math.max(Id(t,r),Id(t,r-s),Id(t-a,r),Id(t-a,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-a)),h=mz(a,s,t,r,!1),d=h[0],u=h[1];i=Id(d-t,(u-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Ua(e.size[0],a),o=e.size.length===2?Ua(e.size[1],s):i),[i,o]},iEe=function(e,t){var r=nd(180),a=[];return Ch(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){r=Lse(s);return}else if(Dse(o)){r=CB.parse(e,o);return}}var l=SB(e,s);a.push(l)}),{angle:r,stops:a,type:1}},GC=function(e,t){var r=nd(180),a=[];return Ch(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Lse(s);return}else if(Dse(o)){r=(CB.parse(e,o)+nd(270))%nd(360);return}}var l=SB(e,s);a.push(l)}),{angle:r,stops:a,type:1}},oEe=function(e,t){var r=nd(180),a=[],s=1,i=0,o=3,l=[];return Ch(t).forEach(function(c,d){var u=c[0];if(d===0){if(Sa(u)&&u.value==="linear"){s=1;return}else if(Sa(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=gm.parse(e,u.values[0]);a.push({stop:ao,color:h})}else if(u.name==="to"){var h=gm.parse(e,u.values[0]);a.push({stop:JA,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(Ov);if(f.length===2){var h=gm.parse(e,f[1]),A=f[0];Uy(A)&&a.push({stop:{type:16,number:A.number*100,flags:A.flags},color:h})}}}}),s===1?{angle:(r+nd(180))%nd(360),stops:a,type:s}:{size:o,shape:i,stops:a,position:l,type:s}},Rse="closest-side",Mse="farthest-side",Use="closest-corner",Qse="farthest-corner",$se="circle",Hse="ellipse",zse="cover",Vse="contain",lEe=function(e,t){var r=0,a=3,s=[],i=[];return Ch(t).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(h,f){if(d)if(Sa(f))switch(f.value){case"center":return i.push(n8),h;case"top":case"left":return i.push(ao),h;case"right":case"bottom":return i.push(JA),h}else(ri(f)||Dm(f))&&i.push(f);else if(Sa(f))switch(f.value){case $se:return r=0,!1;case Hse:return r=1,!1;case"at":return d=!0,!1;case Rse:return a=0,!1;case zse:case Mse:return a=1,!1;case Vse:case Use:return a=2,!1;case Qse:return a=3,!1}else if(Dm(f)||ri(f))return Array.isArray(a)||(a=[]),a.push(f),!1;return h},c)}if(c){var u=SB(e,o);s.push(u)}}),{size:a,shape:r,stops:s,position:i,type:2}},XC=function(e,t){var r=0,a=3,s=[],i=[];return Ch(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,h){if(Sa(h))switch(h.value){case"center":return i.push(n8),!1;case"top":case"left":return i.push(ao),!1;case"right":case"bottom":return i.push(JA),!1}else if(ri(h)||Dm(h))return i.push(h),!1;return u},c):l===1&&(c=o.reduce(function(u,h){if(Sa(h))switch(h.value){case $se:return r=0,!1;case Hse:return r=1,!1;case Vse:case Rse:return a=0,!1;case Mse:return a=1,!1;case Use:return a=2,!1;case zse:case Qse:return a=3,!1}else if(Dm(h)||ri(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return u},c)),c){var d=SB(e,o);s.push(d)}}),{size:a,shape:r,stops:s,position:i,type:2}},cEe=function(e){return e.type===1},dEe=function(e){return e.type===2},a8={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var a=Kse[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return a(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function uEe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Kse[e.name])}var Kse={"linear-gradient":iEe,"-moz-linear-gradient":GC,"-ms-linear-gradient":GC,"-o-linear-gradient":GC,"-webkit-linear-gradient":GC,"radial-gradient":lEe,"-moz-radial-gradient":XC,"-ms-radial-gradient":XC,"-o-radial-gradient":XC,"-webkit-radial-gradient":XC,"-webkit-gradient":oEe},hEe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(a){return Ov(a)&&uEe(a)}).map(function(a){return a8.parse(e,a)})}},fEe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Sa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},AEe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ch(t).map(function(r){return r.filter(ri)}).map(Pse)}},mEe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ch(t).map(function(r){return r.filter(Sa).map(function(a){return a.value}).join(" ")}).map(pEe)}},pEe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Gg;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Gg||(Gg={}));var xEe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ch(t).map(function(r){return r.filter(gEe)})}},gEe=function(e){return Sa(e)||ri(e)},_B=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},vEe=_B("top"),yEe=_B("right"),wEe=_B("bottom"),bEe=_B("left"),EB=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Pse(r.filter(ri))}}},jEe=EB("top-left"),NEe=EB("top-right"),CEe=EB("bottom-right"),SEe=EB("bottom-left"),BB=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_Ee=BB("top"),EEe=BB("right"),BEe=BB("bottom"),FEe=BB("left"),FB=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return eN(r)?r.number:0}}},PEe=FB("top"),kEe=FB("right"),TEe=FB("bottom"),IEe=FB("left"),OEe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},DEe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},LEe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Sa).reduce(function(r,a){return r|REe(a.value)},0)}},REe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},MEe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},UEe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},C5;(function(e){e.NORMAL="normal",e.STRICT="strict"})(C5||(C5={}));var QEe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return C5.STRICT;case"normal":default:return C5.NORMAL}}},$Ee={name:"line-height",initialValue:"normal",prefix:!1,type:4},pz=function(e,t){return Sa(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:ri(e)?Ua(e,t):t},HEe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:a8.parse(e,t)}},zEe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},bI={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},PB=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},VEe=PB("top"),KEe=PB("right"),qEe=PB("bottom"),WEe=PB("left"),GEe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Sa).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},XEe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},kB=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},YEe=kB("top"),JEe=kB("right"),ZEe=kB("bottom"),eBe=kB("left"),tBe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},rBe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},nBe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&wI(t[0],"none")?[]:Ch(t).map(function(r){for(var a={color:yf.TRANSPARENT,offsetX:ao,offsetY:ao,blur:ao},s=0,i=0;i<r.length;i++){var o=r[i];Dm(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:a.blur=o,s++):a.color=gm.parse(e,o)}return a})}},aBe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sBe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=lBe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},iBe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},oBe=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],a=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,a,s,i,o,l]:null},lBe={matrix:iBe,matrix3d:oBe},xz={type:16,number:50,flags:Z2},cBe=[xz,xz],dBe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(ri);return r.length!==2?cBe:[r[0],r[1]]}},uBe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},db;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(db||(db={}));var hBe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return db.BREAK_ALL;case"keep-all":return db.KEEP_ALL;case"normal":default:return db.NORMAL}}},fBe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Uy(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qse={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},ABe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Uy(t)?t.number:1}},mBe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pBe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Sa).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},xBe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],a=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:a.push(r.join(" ")),r.length=0;break}}),r.length&&a.push(r.join(" ")),a.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},gBe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vBe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Uy(t))return t.number;if(Sa(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},yBe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Sa).map(function(r){return r.value})}},wBe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xi=function(e,t){return(e&t)!==0},bBe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},jBe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var a=[],s=t.filter(Fse),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var c=l&&Uy(l)?l.number:1;a.push({counter:o.value,increment:c})}}return a}},NBe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],a=t.filter(Fse),s=0;s<a.length;s++){var i=a[s],o=a[s+1];if(Sa(i)&&i.value!=="none"){var l=o&&Uy(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},CBe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(eN).map(function(r){return qse.parse(e,r)})}},SBe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var a=[],s=t.filter(J_e);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;a.push({open:o,close:l})}return a}},gz=function(e,t,r){if(!e)return"";var a=e[Math.min(t,e.length-1)];return a?r?a.open:a.close:""},_Be={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&wI(t[0],"none")?[]:Ch(t).map(function(r){for(var a={color:255,offsetX:ao,offsetY:ao,blur:ao,spread:ao,inset:!1},s=0,i=0;i<r.length;i++){var o=r[i];wI(o,"inset")?a.inset=!0:Dm(o)?(s===0?a.offsetX=o:s===1?a.offsetY=o:s===2?a.blur=o:a.spread=o,s++):a.color=gm.parse(e,o)}return a})}},EBe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],a=[];return t.filter(Sa).forEach(function(s){switch(s.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),r.forEach(function(s){a.indexOf(s)===-1&&a.push(s)}),a}},BBe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},FBe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return eN(t)?t.number:0}},PBe=function(){function e(t,r){var a,s;this.animationDuration=br(t,CBe,r.animationDuration),this.backgroundClip=br(t,tEe,r.backgroundClip),this.backgroundColor=br(t,rEe,r.backgroundColor),this.backgroundImage=br(t,hEe,r.backgroundImage),this.backgroundOrigin=br(t,fEe,r.backgroundOrigin),this.backgroundPosition=br(t,AEe,r.backgroundPosition),this.backgroundRepeat=br(t,mEe,r.backgroundRepeat),this.backgroundSize=br(t,xEe,r.backgroundSize),this.borderTopColor=br(t,vEe,r.borderTopColor),this.borderRightColor=br(t,yEe,r.borderRightColor),this.borderBottomColor=br(t,wEe,r.borderBottomColor),this.borderLeftColor=br(t,bEe,r.borderLeftColor),this.borderTopLeftRadius=br(t,jEe,r.borderTopLeftRadius),this.borderTopRightRadius=br(t,NEe,r.borderTopRightRadius),this.borderBottomRightRadius=br(t,CEe,r.borderBottomRightRadius),this.borderBottomLeftRadius=br(t,SEe,r.borderBottomLeftRadius),this.borderTopStyle=br(t,_Ee,r.borderTopStyle),this.borderRightStyle=br(t,EEe,r.borderRightStyle),this.borderBottomStyle=br(t,BEe,r.borderBottomStyle),this.borderLeftStyle=br(t,FEe,r.borderLeftStyle),this.borderTopWidth=br(t,PEe,r.borderTopWidth),this.borderRightWidth=br(t,kEe,r.borderRightWidth),this.borderBottomWidth=br(t,TEe,r.borderBottomWidth),this.borderLeftWidth=br(t,IEe,r.borderLeftWidth),this.boxShadow=br(t,_Be,r.boxShadow),this.color=br(t,OEe,r.color),this.direction=br(t,DEe,r.direction),this.display=br(t,LEe,r.display),this.float=br(t,MEe,r.cssFloat),this.fontFamily=br(t,xBe,r.fontFamily),this.fontSize=br(t,gBe,r.fontSize),this.fontStyle=br(t,wBe,r.fontStyle),this.fontVariant=br(t,yBe,r.fontVariant),this.fontWeight=br(t,vBe,r.fontWeight),this.letterSpacing=br(t,UEe,r.letterSpacing),this.lineBreak=br(t,QEe,r.lineBreak),this.lineHeight=br(t,$Ee,r.lineHeight),this.listStyleImage=br(t,HEe,r.listStyleImage),this.listStylePosition=br(t,zEe,r.listStylePosition),this.listStyleType=br(t,bI,r.listStyleType),this.marginTop=br(t,VEe,r.marginTop),this.marginRight=br(t,KEe,r.marginRight),this.marginBottom=br(t,qEe,r.marginBottom),this.marginLeft=br(t,WEe,r.marginLeft),this.opacity=br(t,ABe,r.opacity);var i=br(t,GEe,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=br(t,XEe,r.overflowWrap),this.paddingTop=br(t,YEe,r.paddingTop),this.paddingRight=br(t,JEe,r.paddingRight),this.paddingBottom=br(t,ZEe,r.paddingBottom),this.paddingLeft=br(t,eBe,r.paddingLeft),this.paintOrder=br(t,EBe,r.paintOrder),this.position=br(t,rBe,r.position),this.textAlign=br(t,tBe,r.textAlign),this.textDecorationColor=br(t,mBe,(a=r.textDecorationColor)!==null&&a!==void 0?a:r.color),this.textDecorationLine=br(t,pBe,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=br(t,nBe,r.textShadow),this.textTransform=br(t,aBe,r.textTransform),this.transform=br(t,sBe,r.transform),this.transformOrigin=br(t,dBe,r.transformOrigin),this.visibility=br(t,uBe,r.visibility),this.webkitTextStrokeColor=br(t,BBe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=br(t,FBe,r.webkitTextStrokeWidth),this.wordBreak=br(t,hBe,r.wordBreak),this.zIndex=br(t,fBe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return vm(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return xi(this.display,4)||xi(this.display,33554432)||xi(this.display,268435456)||xi(this.display,536870912)||xi(this.display,67108864)||xi(this.display,134217728)},e}(),kBe=function(){function e(t,r){this.content=br(t,bBe,r.content),this.quotes=br(t,SBe,r.quotes)}return e}(),vz=function(){function e(t,r){this.counterIncrement=br(t,jBe,r.counterIncrement),this.counterReset=br(t,NBe,r.counterReset)}return e}(),br=function(e,t,r){var a=new Ese,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;a.write(s);var i=new Bse(a.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Sa(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return CB.parse(e,i.parseComponentValue());case"color":return gm.parse(e,i.parseComponentValue());case"image":return a8.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return Dm(l)?l:ao;case"length-percentage":var c=i.parseComponentValue();return ri(c)?c:ao;case"time":return qse.parse(e,i.parseComponentValue())}break}},TBe="data-html2canvas-debug",IBe=function(e){var t=e.getAttribute(TBe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},jI=function(e,t){var r=IBe(e);return r===1||t===r},Sh=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,jI(r,3))debugger;this.styles=new PBe(t,window.getComputedStyle(r,null)),SI(r)&&(this.styles.animationDuration.some(function(a){return a>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=jB(this.context,r),jI(r,4)&&(this.flags|=16)}return e}(),OBe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",yz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ew=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var YC=0;YC<yz.length;YC++)Ew[yz.charCodeAt(YC)]=YC;var DBe=function(e){var t=e.length*.75,r=e.length,a,s=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(a=0;a<r;a+=4)i=Ew[e.charCodeAt(a)],o=Ew[e.charCodeAt(a+1)],l=Ew[e.charCodeAt(a+2)],c=Ew[e.charCodeAt(a+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|l>>2,u[s++]=(l&3)<<6|c&63;return d},LBe=function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r.push(e[a+1]<<8|e[a]);return r},RBe=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return r},d0=5,s8=11,Yk=2,MBe=s8-d0,Wse=65536>>d0,UBe=1<<d0,Jk=UBe-1,QBe=1024>>d0,$Be=Wse+QBe,HBe=$Be,zBe=32,VBe=HBe+zBe,KBe=65536>>s8,qBe=1<<MBe,WBe=qBe-1,wz=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},GBe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},XBe=function(e,t){var r=DBe(e),a=Array.isArray(r)?RBe(r):new Uint32Array(r),s=Array.isArray(r)?LBe(r):new Uint16Array(r),i=24,o=wz(s,i/2,a[4]/2),l=a[5]===2?wz(s,(i+a[4])/2):GBe(a,Math.ceil((i+a[4])/4));return new YBe(a[0],a[1],a[2],a[3],o,l)},YBe=function(){function e(t,r,a,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=a,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>d0],r=(r<<Yk)+(t&Jk),this.data[r];if(t<=65535)return r=this.index[Wse+(t-55296>>d0)],r=(r<<Yk)+(t&Jk),this.data[r];if(t<this.highStart)return r=VBe-KBe+(t>>s8),r=this.index[r],r+=t>>d0&WBe,r=this.index[r],r=(r<<Yk)+(t&Jk),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),bz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JBe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var JC=0;JC<bz.length;JC++)JBe[bz.charCodeAt(JC)]=JC;var ZBe=1,Zk=2,e3=3,jz=4,Nz=5,eFe=7,Cz=8,t3=9,r3=10,Sz=11,_z=12,Ez=13,Bz=14,n3=15,tFe=function(e){for(var t=[],r=0,a=e.length;r<a;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<a){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},rFe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var a=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(s+1===r||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},nFe=XBe(OBe),Qc="",a3="",aFe=function(e){return nFe.get(e)},sFe=function(e,t,r){var a=r-2,s=t[a],i=t[r-1],o=t[r];if(i===Zk&&o===e3)return Qc;if(i===Zk||i===e3||i===jz||o===Zk||o===e3||o===jz)return a3;if(i===Cz&&[Cz,t3,Sz,_z].indexOf(o)!==-1||(i===Sz||i===t3)&&(o===t3||o===r3)||(i===_z||i===r3)&&o===r3||o===Ez||o===Nz||o===eFe||i===ZBe)return Qc;if(i===Ez&&o===Bz){for(;s===Nz;)s=t[--a];if(s===Bz)return Qc}if(i===n3&&o===n3){for(var l=0;s===n3;)l++,s=t[--a];if(l%2===0)return Qc}return a3},iFe=function(e){var t=tFe(e),r=t.length,a=0,s=0,i=t.map(aFe);return{next:function(){if(a>=r)return{done:!0,value:null};for(var o=Qc;a<r&&(o=sFe(t,i,++a))===Qc;);if(o!==Qc||a===r){var l=rFe.apply(null,t.slice(s,a));return s=a,{value:l,done:!1}}return{done:!0,value:null}}}},oFe=function(e){for(var t=iFe(e),r=[],a;!(a=t.next()).done;)a.value&&r.push(a.value.slice());return r},lFe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=t+"px",a.style.display="block",e.body.appendChild(a),r.selectNode(a);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(a),i===t)return!0}}return!1},cFe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=t.firstChild,s=NB(a.data).map(function(c){return Us(c)}),i=0,o={},l=s.every(function(c,d){r.setStart(a,i),r.setEnd(a,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var h=u.x>o.x||u.y>o.y;return o=u,d===0?!0:h});return e.body.removeChild(t),l},dFe=function(){return typeof new Image().crossOrigin<"u"},uFe=function(){return typeof new XMLHttpRequest().responseType=="string"},hFe=function(e){var t=new Image,r=e.createElement("canvas"),a=r.getContext("2d");if(!a)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},Fz=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},fFe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var a=t.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,r,r);var s=new Image,i=t.toDataURL();s.src=i;var o=NI(r,r,0,0,s);return a.fillStyle="red",a.fillRect(0,0,r,r),Pz(o).then(function(l){a.drawImage(l,0,0);var c=a.getImageData(0,0,r,r).data;a.fillStyle="red",a.fillRect(0,0,r,r);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",Fz(c)?Pz(NI(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return a.drawImage(l,0,0),Fz(a.getImageData(0,0,r,r).data)}).catch(function(){return!1})},NI=function(e,t,r,a,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},Pz=function(e){return new Promise(function(t,r){var a=new Image;a.onload=function(){return t(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ji={get SUPPORT_RANGE_BOUNDS(){var e=lFe(document);return Object.defineProperty(Ji,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ji.SUPPORT_RANGE_BOUNDS&&cFe(document);return Object.defineProperty(Ji,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=hFe(document);return Object.defineProperty(Ji,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?fFe(document):Promise.resolve(!1);return Object.defineProperty(Ji,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=dFe();return Object.defineProperty(Ji,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=uFe();return Object.defineProperty(Ji,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ji,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ji,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ub=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),AFe=function(e,t,r,a){var s=xFe(t,r),i=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ji.SUPPORT_RANGE_BOUNDS){var c=kz(a,o,l.length).getClientRects();if(c.length>1){var d=i8(l),u=0;d.forEach(function(f){i.push(new ub(f,Of.fromDOMRectList(e,kz(a,u+o,f.length).getClientRects()))),u+=f.length})}else i.push(new ub(l,Of.fromDOMRectList(e,c)))}else{var h=a.splitText(l.length);i.push(new ub(l,mFe(e,a))),a=h}else Ji.SUPPORT_RANGE_BOUNDS||(a=a.splitText(l.length));o+=l.length}),i},mFe=function(e,t){var r=t.ownerDocument;if(r){var a=r.createElement("html2canvaswrapper");a.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(a,t);var i=jB(e,a);return a.firstChild&&s.replaceChild(a.firstChild,a),i}}return Of.EMPTY},kz=function(e,t,r){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var s=a.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},i8=function(e){if(Ji.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return oFe(e)},pFe=function(e,t){if(Ji.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(a){return a.segment})}return vFe(e,t)},xFe=function(e,t){return t.letterSpacing!==0?i8(e):pFe(e,t)},gFe=[32,160,4961,65792,65793,4153,4241],vFe=function(e,t){for(var r=K5e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),a=[],s,i=function(){if(s.value){var o=s.value.slice(),l=NB(o),c="";l.forEach(function(d){gFe.indexOf(d)===-1?c+=Us(d):(c.length&&a.push(c),a.push(Us(d)),c="")}),c.length&&a.push(c)}};!(s=r.next()).done;)i();return a},yFe=function(){function e(t,r,a){this.text=wFe(r.data,a.textTransform),this.textBounds=AFe(t,this.text,a,r)}return e}(),wFe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(bFe,jFe);case 2:return e.toUpperCase();default:return e}},bFe=/(^|\s|:|-|\(|\))([a-z])/g,jFe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Gse=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s.src=a.currentSrc||a.src,s.intrinsicWidth=a.naturalWidth,s.intrinsicHeight=a.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Sh),Xse=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s.canvas=a,s.intrinsicWidth=a.width,s.intrinsicHeight=a.height,s}return t}(Sh),Yse=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this,i=new XMLSerializer,o=jB(r,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),s.intrinsicWidth=a.width.baseVal.value,s.intrinsicHeight=a.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Sh),Jse=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s.value=a.value,s}return t}(Sh),CI=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s.start=a.start,s.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,s}return t}(Sh),NFe=[{type:15,flags:0,unit:"px",number:3}],CFe=[{type:16,flags:0,number:50}],SFe=function(e){return e.width>e.height?new Of(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Of(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},_Fe=function(e){var t=e.type===EFe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},S5="checkbox",_5="radio",EFe="password",Tz=707406591,o8=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;switch(s.type=a.type.toLowerCase(),s.checked=a.checked,s.value=_Fe(a),(s.type===S5||s.type===_5)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=SFe(s.bounds)),s.type){case S5:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=NFe;break;case _5:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=CFe;break}return s}return t}(Sh),Zse=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this,i=a.options[a.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Sh),eie=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s.value=a.value,s}return t}(Sh),tie=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;s.src=a.src,s.width=parseInt(a.width,10)||0,s.height=parseInt(a.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){s.tree=nie(r,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?cb(r,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):yf.TRANSPARENT,o=a.contentWindow.document.body?cb(r,getComputedStyle(a.contentWindow.document.body).backgroundColor):yf.TRANSPARENT;s.backgroundColor=vm(i)?vm(o)?s.styles.backgroundColor:o:i}}catch{}return s}return t}(Sh),BFe=["OL","UL","MENU"],fS=function(e,t,r,a){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,aie(s)&&s.data.trim().length>0)r.textNodes.push(new yFe(e,s,r.styles));else if(vg(s))if(lie(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return fS(e,l,r,a)});else{var o=rie(e,s);o.styles.isVisible()&&(FFe(s,o,a)?o.flags|=4:PFe(o.styles)&&(o.flags|=2),BFe.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?fS(e,s.shadowRoot,o,a):!E5(s)&&!sie(s)&&!B5(s)&&fS(e,s,o,a))}},rie=function(e,t){return _I(t)?new Gse(e,t):iie(t)?new Xse(e,t):sie(t)?new Yse(e,t):kFe(t)?new Jse(e,t):TFe(t)?new CI(e,t):IFe(t)?new o8(e,t):B5(t)?new Zse(e,t):E5(t)?new eie(e,t):oie(t)?new tie(e,t):new Sh(e,t)},nie=function(e,t){var r=rie(e,t);return r.flags|=4,fS(e,t,r,r),r},FFe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||l8(e)&&r.styles.isTransparent()},PFe=function(e){return e.isPositioned()||e.isFloating()},aie=function(e){return e.nodeType===Node.TEXT_NODE},vg=function(e){return e.nodeType===Node.ELEMENT_NODE},SI=function(e){return vg(e)&&typeof e.style<"u"&&!AS(e)},AS=function(e){return typeof e.className=="object"},kFe=function(e){return e.tagName==="LI"},TFe=function(e){return e.tagName==="OL"},IFe=function(e){return e.tagName==="INPUT"},OFe=function(e){return e.tagName==="HTML"},sie=function(e){return e.tagName==="svg"},l8=function(e){return e.tagName==="BODY"},iie=function(e){return e.tagName==="CANVAS"},Iz=function(e){return e.tagName==="VIDEO"},_I=function(e){return e.tagName==="IMG"},oie=function(e){return e.tagName==="IFRAME"},Oz=function(e){return e.tagName==="STYLE"},DFe=function(e){return e.tagName==="SCRIPT"},E5=function(e){return e.tagName==="TEXTAREA"},B5=function(e){return e.tagName==="SELECT"},lie=function(e){return e.tagName==="SLOT"},Dz=function(e){return e.tagName.indexOf("-")>0},LFe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(a){return r.counters[a].pop()})},e.prototype.parse=function(t){var r=this,a=t.counterIncrement,s=t.counterReset,i=!0;a!==null&&a.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),Lz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Rz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RFe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},MFe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ux=function(e,t,r,a,s,i){return e<t||e>r?_j(e,s,i.length>0):a.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=a.values[c];return o},"")+i},cie=function(e,t,r,a){var s="";do r||e--,s=a(e)+s,e/=t;while(e*t>=t);return s},Rs=function(e,t,r,a,s){var i=r-t+1;return(e<0?"-":"")+(cie(Math.abs(e),i,a,function(o){return Us(Math.floor(o%i)+t)})+s)},xp=function(e,t,r){r===void 0&&(r=". ");var a=t.length;return cie(Math.abs(e),a,!1,function(s){return t[Math.floor(s%a)]})+r},rg=1,yA=2,wA=4,Bw=8,Xh=function(e,t,r,a,s,i){if(e<-9999||e>9999)return _j(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&xi(i,rg)&&l!==""?l=t[d]+l:d>1||d===1&&c===0||d===1&&c===1&&xi(i,yA)||d===1&&c===1&&xi(i,wA)&&e>100||d===1&&c>1&&xi(i,Bw)?l=t[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?a:"")+l},Mz="",Uz="",Qz="",s3="",_j=function(e,t,r){var a=r?". ":"",s=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Rs(e,48,57,!0,a);return l.length<4?"0"+l:l;case 4:return xp(e,"",s);case 6:return Ux(e,1,3999,Lz,3,a).toLowerCase();case 7:return Ux(e,1,3999,Lz,3,a);case 8:return Rs(e,945,969,!1,a);case 9:return Rs(e,97,122,!1,a);case 10:return Rs(e,65,90,!1,a);case 11:return Rs(e,1632,1641,!0,a);case 12:case 49:return Ux(e,1,9999,Rz,3,a);case 35:return Ux(e,1,9999,Rz,3,a).toLowerCase();case 13:return Rs(e,2534,2543,!0,a);case 14:case 30:return Rs(e,6112,6121,!0,a);case 15:return xp(e,"",s);case 16:return xp(e,"",s);case 17:case 48:return Xh(e,"",Mz,"",s,yA|wA|Bw);case 47:return Xh(e,"",Uz,"",s,rg|yA|wA|Bw);case 42:return Xh(e,"",Mz,"",s,yA|wA|Bw);case 41:return Xh(e,"",Uz,"",s,rg|yA|wA|Bw);case 26:return Xh(e,"","",Qz,s,0);case 25:return Xh(e,"","",Qz,s,rg|yA|wA);case 31:return Xh(e,"","",s3,i,rg|yA|wA);case 33:return Xh(e,"","",s3,i,0);case 32:return Xh(e,"","",s3,i,rg|yA|wA);case 18:return Rs(e,2406,2415,!0,a);case 20:return Ux(e,1,19999,MFe,3,a);case 21:return Rs(e,2790,2799,!0,a);case 22:return Rs(e,2662,2671,!0,a);case 22:return Ux(e,1,10999,RFe,3,a);case 23:return xp(e,"");case 24:return xp(e,"");case 27:return Rs(e,3302,3311,!0,a);case 28:return xp(e,"",s);case 29:return xp(e,"",s);case 34:return Rs(e,3792,3801,!0,a);case 37:return Rs(e,6160,6169,!0,a);case 38:return Rs(e,4160,4169,!0,a);case 39:return Rs(e,2918,2927,!0,a);case 40:return Rs(e,1776,1785,!0,a);case 43:return Rs(e,3046,3055,!0,a);case 44:return Rs(e,3174,3183,!0,a);case 45:return Rs(e,3664,3673,!0,a);case 46:return Rs(e,3872,3881,!0,a);case 3:default:return Rs(e,48,57,!0,a)}},die="data-html2canvas-ignore",$z=function(){function e(t,r,a){if(this.context=t,this.options=a,this.scrolledElements=[],this.referenceElement=r,this.counters=new LFe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var a=this,s=UFe(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,c=l.document,d=HFe(s).then(function(){return zo(a,void 0,void 0,function(){var u,h;return vo(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(qFe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,$Fe(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(VFe(document.doctype)+"<html></html>"),KFe(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(t){if(jI(t,2))debugger;if(iie(t))return this.createCanvasClone(t);if(Iz(t))return this.createVideoClone(t);if(Oz(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return _I(r)&&(_I(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Dz(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return i3(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var a=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=t.cloneNode(!1);return s.textContent=a,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var a=t.ownerDocument.createElement("img");try{return a.src=t.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var a=r.getContext("2d");try{return a&&(a.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||a.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,a){(!vg(r)||!DFe(r)&&!r.hasAttribute(die)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!vg(r)||!Oz(r))&&t.appendChild(this.cloneNode(r,a))},e.prototype.cloneChildNodes=function(t,r,a){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(vg(i)&&lie(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,a)})}else this.appendChildNode(r,i,a)},e.prototype.cloneNode=function(t,r){if(aie(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var a=t.ownerDocument.defaultView;if(a&&vg(t)&&(SI(t)||AS(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=a.getComputedStyle(t),o=a.getComputedStyle(t,":before"),l=a.getComputedStyle(t,":after");this.referenceElement===t&&SI(s)&&(this.clonedReferenceElement=s),l8(s)&&XFe(s);var c=this.counters.parse(new vz(this.context,i)),d=this.resolvePseudoContent(t,s,o,hb.BEFORE);Dz(t)&&(r=!0),Iz(t)||this.cloneChildNodes(t,s,r),d&&s.insertBefore(d,s.firstChild);var u=this.resolvePseudoContent(t,s,l,hb.AFTER);return u&&s.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||AS(t))&&!oie(t)||r)&&i3(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(E5(t)||B5(t))&&(E5(s)||B5(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,a,s){var i=this;if(a){var o=a.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new vz(this.context,a));var c=new kBe(this.context,a),d=l.createElement("html2canvaspseudoelement");i3(a,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var f=l.createElement("img");f.src=h.value,f.style.opacity="1",d.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var A=h.values.filter(Sa);A.length&&d.appendChild(l.createTextNode(t.getAttribute(A[0].value)||""))}else if(h.name==="counter"){var p=h.values.filter(Ov),m=p[0],x=p[1];if(m&&Sa(m)){var g=i.counters.getCounterValue(m.value),v=x&&Sa(x)?bI.parse(i.context,x.value):3;d.appendChild(l.createTextNode(_j(g,v,!1)))}}else if(h.name==="counters"){var y=h.values.filter(Ov),m=y[0],j=y[1],x=y[2];if(m&&Sa(m)){var b=i.counters.getCounterValues(m.value),w=x&&Sa(x)?bI.parse(i.context,x.value):3,C=j&&j.type===0?j.value:"",F=b.map(function(N){return _j(N,w,!1)}).join(C);d.appendChild(l.createTextNode(F))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(gz(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(gz(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=EI+" "+BI;var u=s===hb.BEFORE?" "+EI:" "+BI;return AS(r)?r.className.baseValue+=u:r.className+=u,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),hb;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(hb||(hb={}));var UFe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(die,"true"),e.body.appendChild(r),r},QFe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},$Fe=function(e){return Promise.all([].slice.call(e.images,0).map(QFe))},HFe=function(e){return new Promise(function(t,r){var a=e.contentWindow;if(!a)return r("No window assigned for iframe");var s=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},zFe=["all","d","content"],i3=function(e,t){for(var r=e.length-1;r>=0;r--){var a=e.item(r);zFe.indexOf(a)===-1&&t.style.setProperty(a,e.getPropertyValue(a))}return t},VFe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},KFe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},qFe=function(e){var t=e[0],r=e[1],a=e[2];t.scrollLeft=r,t.scrollTop=a},WFe=":before",GFe=":after",EI="___html2canvas___pseudoelement_before",BI="___html2canvas___pseudoelement_after",Hz=`{
    content: "" !important;
    display: none !important;
}`,XFe=function(e){YFe(e,"."+EI+WFe+Hz+`
         .`+BI+GFe+Hz)},YFe=function(e,t){var r=e.ownerDocument;if(r){var a=r.createElement("style");a.textContent=t,e.appendChild(a)}},uie=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),JFe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(l3(t)||rPe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return zo(this,void 0,void 0,function(){var r,a,s,i,o=this;return vo(this,function(l){switch(l.label){case 0:return r=uie.isSameOrigin(t),a=!o3(t)&&this._options.useCORS===!0&&Ji.SUPPORT_CORS_IMAGES&&!r,s=!o3(t)&&!r&&!l3(t)&&typeof this._options.proxy=="string"&&Ji.SUPPORT_CORS_XHR&&!a,!r&&this._options.allowTaint===!1&&!o3(t)&&!l3(t)&&!s&&!a?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(nPe(i)||a)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,o){var l=Ji.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return o(f)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=o;var d=a.indexOf("?")>-1?"&":"?";if(c.open("GET",""+a+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}c.send()})},e}(),ZFe=/^data:image\/svg\+xml/i,ePe=/^data:image\/.*;base64,/i,tPe=/^data:image\/.*/i,rPe=function(e){return Ji.SUPPORT_SVG_DRAWING||!aPe(e)},o3=function(e){return tPe.test(e)},nPe=function(e){return ePe.test(e)},l3=function(e){return e.substr(0,4)==="blob"},aPe=function(e){return e.substr(-3).toLowerCase()==="svg"||ZFe.test(e)},vr=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Qx=function(e,t,r){return new vr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},ZC=function(){function e(t,r,a,s){this.type=1,this.start=t,this.startControl=r,this.endControl=a,this.end=s}return e.prototype.subdivide=function(t,r){var a=Qx(this.start,this.startControl,t),s=Qx(this.startControl,this.endControl,t),i=Qx(this.endControl,this.end,t),o=Qx(a,s,t),l=Qx(s,i,t),c=Qx(o,l,t);return r?new e(this.start,a,o,c):new e(c,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Gc=function(e){return e.type===1},sPe=function(){function e(t){var r=t.styles,a=t.bounds,s=_w(r.borderTopLeftRadius,a.width,a.height),i=s[0],o=s[1],l=_w(r.borderTopRightRadius,a.width,a.height),c=l[0],d=l[1],u=_w(r.borderBottomRightRadius,a.width,a.height),h=u[0],f=u[1],A=_w(r.borderBottomLeftRadius,a.width,a.height),p=A[0],m=A[1],x=[];x.push((i+c)/a.width),x.push((p+h)/a.width),x.push((o+m)/a.height),x.push((d+f)/a.height);var g=Math.max.apply(Math,x);g>1&&(i/=g,o/=g,c/=g,d/=g,h/=g,f/=g,p/=g,m/=g);var v=a.width-c,y=a.height-f,j=a.width-h,b=a.height-m,w=r.borderTopWidth,C=r.borderRightWidth,F=r.borderBottomWidth,E=r.borderLeftWidth,L=Ua(r.paddingTop,t.bounds.width),N=Ua(r.paddingRight,t.bounds.width),I=Ua(r.paddingBottom,t.bounds.width),M=Ua(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?rs(a.left+E/3,a.top+w/3,i-E/3,o-w/3,oa.TOP_LEFT):new vr(a.left+E/3,a.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?rs(a.left+v,a.top+w/3,c-C/3,d-w/3,oa.TOP_RIGHT):new vr(a.left+a.width-C/3,a.top+w/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?rs(a.left+j,a.top+y,h-C/3,f-F/3,oa.BOTTOM_RIGHT):new vr(a.left+a.width-C/3,a.top+a.height-F/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?rs(a.left+E/3,a.top+b,p-E/3,m-F/3,oa.BOTTOM_LEFT):new vr(a.left+E/3,a.top+a.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?rs(a.left+E*2/3,a.top+w*2/3,i-E*2/3,o-w*2/3,oa.TOP_LEFT):new vr(a.left+E*2/3,a.top+w*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?rs(a.left+v,a.top+w*2/3,c-C*2/3,d-w*2/3,oa.TOP_RIGHT):new vr(a.left+a.width-C*2/3,a.top+w*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?rs(a.left+j,a.top+y,h-C*2/3,f-F*2/3,oa.BOTTOM_RIGHT):new vr(a.left+a.width-C*2/3,a.top+a.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?rs(a.left+E*2/3,a.top+b,p-E*2/3,m-F*2/3,oa.BOTTOM_LEFT):new vr(a.left+E*2/3,a.top+a.height-F*2/3),this.topLeftBorderStroke=i>0||o>0?rs(a.left+E/2,a.top+w/2,i-E/2,o-w/2,oa.TOP_LEFT):new vr(a.left+E/2,a.top+w/2),this.topRightBorderStroke=i>0||o>0?rs(a.left+v,a.top+w/2,c-C/2,d-w/2,oa.TOP_RIGHT):new vr(a.left+a.width-C/2,a.top+w/2),this.bottomRightBorderStroke=h>0||f>0?rs(a.left+j,a.top+y,h-C/2,f-F/2,oa.BOTTOM_RIGHT):new vr(a.left+a.width-C/2,a.top+a.height-F/2),this.bottomLeftBorderStroke=p>0||m>0?rs(a.left+E/2,a.top+b,p-E/2,m-F/2,oa.BOTTOM_LEFT):new vr(a.left+E/2,a.top+a.height-F/2),this.topLeftBorderBox=i>0||o>0?rs(a.left,a.top,i,o,oa.TOP_LEFT):new vr(a.left,a.top),this.topRightBorderBox=c>0||d>0?rs(a.left+v,a.top,c,d,oa.TOP_RIGHT):new vr(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||f>0?rs(a.left+j,a.top+y,h,f,oa.BOTTOM_RIGHT):new vr(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=p>0||m>0?rs(a.left,a.top+b,p,m,oa.BOTTOM_LEFT):new vr(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?rs(a.left+E,a.top+w,Math.max(0,i-E),Math.max(0,o-w),oa.TOP_LEFT):new vr(a.left+E,a.top+w),this.topRightPaddingBox=c>0||d>0?rs(a.left+Math.min(v,a.width-C),a.top+w,v>a.width+C?0:Math.max(0,c-C),Math.max(0,d-w),oa.TOP_RIGHT):new vr(a.left+a.width-C,a.top+w),this.bottomRightPaddingBox=h>0||f>0?rs(a.left+Math.min(j,a.width-E),a.top+Math.min(y,a.height-F),Math.max(0,h-C),Math.max(0,f-F),oa.BOTTOM_RIGHT):new vr(a.left+a.width-C,a.top+a.height-F),this.bottomLeftPaddingBox=p>0||m>0?rs(a.left+E,a.top+Math.min(b,a.height-F),Math.max(0,p-E),Math.max(0,m-F),oa.BOTTOM_LEFT):new vr(a.left+E,a.top+a.height-F),this.topLeftContentBox=i>0||o>0?rs(a.left+E+M,a.top+w+L,Math.max(0,i-(E+M)),Math.max(0,o-(w+L)),oa.TOP_LEFT):new vr(a.left+E+M,a.top+w+L),this.topRightContentBox=c>0||d>0?rs(a.left+Math.min(v,a.width+E+M),a.top+w+L,v>a.width+E+M?0:c-E+M,d-(w+L),oa.TOP_RIGHT):new vr(a.left+a.width-(C+N),a.top+w+L),this.bottomRightContentBox=h>0||f>0?rs(a.left+Math.min(j,a.width-(E+M)),a.top+Math.min(y,a.height+w+L),Math.max(0,h-(C+N)),f-(F+I),oa.BOTTOM_RIGHT):new vr(a.left+a.width-(C+N),a.top+a.height-(F+I)),this.bottomLeftContentBox=p>0||m>0?rs(a.left+E+M,a.top+b,Math.max(0,p-(E+M)),m-(F+I),oa.BOTTOM_LEFT):new vr(a.left+E+M,a.top+a.height-(F+I))}return e}(),oa;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(oa||(oa={}));var rs=function(e,t,r,a,s){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=a*i,c=e+r,d=t+a;switch(s){case oa.TOP_LEFT:return new ZC(new vr(e,d),new vr(e,d-l),new vr(c-o,t),new vr(c,t));case oa.TOP_RIGHT:return new ZC(new vr(e,t),new vr(e+o,t),new vr(c,d-l),new vr(c,d));case oa.BOTTOM_RIGHT:return new ZC(new vr(c,t),new vr(c,t+l),new vr(e+o,d),new vr(e,d));case oa.BOTTOM_LEFT:default:return new ZC(new vr(c,d),new vr(c-o,d),new vr(e,t+l),new vr(e,t))}},F5=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},iPe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},P5=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},oPe=function(){function e(t,r,a){this.offsetX=t,this.offsetY=r,this.matrix=a,this.type=0,this.target=6}return e}(),e4=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),lPe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),cPe=function(e){return e.type===0},hie=function(e){return e.type===1},dPe=function(e){return e.type===2},zz=function(e,t){return e.length===t.length?e.some(function(r,a){return r===t[a]}):!1},uPe=function(e,t,r,a,s){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+a,r);case 2:return i.add(t+a,r+s);case 3:return i.add(t,r+s)}return i})},fie=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Aie=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new sPe(this.container),this.container.styles.opacity<1&&this.effects.push(new lPe(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new oPe(a,s,i))}if(this.container.styles.overflowX!==0){var o=F5(this.curves),l=P5(this.curves);zz(o,l)?this.effects.push(new e4(o,6)):(this.effects.push(new e4(o,2)),this.effects.push(new e4(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,s=this.effects.slice(0);a;){var i=a.effects.filter(function(c){return!hie(c)});if(r||a.container.styles.position!==0||!a.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=F5(a.curves),l=P5(a.curves);zz(o,l)||s.unshift(new e4(l,6))}}else s.unshift.apply(s,i);a=a.parent}return s.filter(function(c){return xi(c.target,t)})},e}(),FI=function(e,t,r,a){e.container.elements.forEach(function(s){var i=xi(s.flags,4),o=xi(s.flags,2),l=new Aie(s,e);xi(s.styles.display,2048)&&a.push(l);var c=xi(s.flags,8)?[]:a;if(i||o){var d=i||s.styles.isPositioned()?r:t,u=new fie(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;d.negativeZIndex.some(function(p,m){return h>p.element.container.styles.zIndex.order?(f=m,!1):f>0}),d.negativeZIndex.splice(f,0,u)}else if(h>0){var A=0;d.positiveZIndex.some(function(p,m){return h>=p.element.container.styles.zIndex.order?(A=m+1,!1):A>0}),d.positiveZIndex.splice(A,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);FI(l,u,i?u:r,c)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),FI(l,t,r,c);xi(s.flags,8)&&mie(s,c)})},mie=function(e,t){for(var r=e instanceof CI?e.start:1,a=e instanceof CI?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof Jse&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=_j(r,i.container.styles.listStyleType,!0),r+=a?-1:1}},hPe=function(e){var t=new Aie(e,null),r=new fie(t),a=[];return FI(t,r,r,a),mie(t.container,a),r},Vz=function(e,t){switch(t){case 0:return ad(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ad(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ad(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ad(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},fPe=function(e,t){switch(t){case 0:return ad(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ad(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ad(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ad(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},APe=function(e,t){switch(t){case 0:return ad(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ad(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ad(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ad(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},mPe=function(e,t){switch(t){case 0:return t4(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return t4(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return t4(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return t4(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},t4=function(e,t){var r=[];return Gc(e)?r.push(e.subdivide(.5,!1)):r.push(e),Gc(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ad=function(e,t,r,a){var s=[];return Gc(e)?s.push(e.subdivide(.5,!1)):s.push(e),Gc(r)?s.push(r.subdivide(.5,!0)):s.push(r),Gc(a)?s.push(a.subdivide(.5,!0).reverse()):s.push(a),Gc(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},pie=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},k5=function(e){var t=e.styles,r=e.bounds,a=Ua(t.paddingLeft,r.width),s=Ua(t.paddingRight,r.width),i=Ua(t.paddingTop,r.width),o=Ua(t.paddingBottom,r.width);return r.add(a+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+a+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},pPe=function(e,t){return e===0?t.bounds:e===2?k5(t):pie(t)},xPe=function(e,t){return e===0?t.bounds:e===2?k5(t):pie(t)},c3=function(e,t,r){var a=pPe(ng(e.styles.backgroundOrigin,t),e),s=xPe(ng(e.styles.backgroundClip,t),e),i=gPe(ng(e.styles.backgroundSize,t),r,a),o=i[0],l=i[1],c=_w(ng(e.styles.backgroundPosition,t),a.width-o,a.height-l),d=vPe(ng(e.styles.backgroundRepeat,t),c,i,a,s),u=Math.round(a.left+c[0]),h=Math.round(a.top+c[1]);return[d,u,h,o,l]},$x=function(e){return Sa(e)&&e.value===Gg.AUTO},r4=function(e){return typeof e=="number"},gPe=function(e,t,r){var a=t[0],s=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(ri(o)&&l&&ri(l))return[Ua(o,r.width),Ua(l,r.height)];var c=r4(i);if(Sa(o)&&(o.value===Gg.CONTAIN||o.value===Gg.COVER)){if(r4(i)){var d=r.width/r.height;return d<i!=(o.value===Gg.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=r4(a),h=r4(s),f=u||h;if($x(o)&&(!l||$x(l))){if(u&&h)return[a,s];if(!c&&!f)return[r.width,r.height];if(f&&c){var A=u?a:s*i,p=h?s:a/i;return[A,p]}var m=u?a:r.width,x=h?s:r.height;return[m,x]}if(c){var g=0,v=0;return ri(o)?g=Ua(o,r.width):ri(l)&&(v=Ua(l,r.height)),$x(o)?g=v*i:(!l||$x(l))&&(v=g/i),[g,v]}var y=null,j=null;if(ri(o)?y=Ua(o,r.width):l&&ri(l)&&(j=Ua(l,r.height)),y!==null&&(!l||$x(l))&&(j=u&&h?y/a*s:r.height),j!==null&&$x(o)&&(y=u&&h?j/s*a:r.width),y!==null&&j!==null)return[y,j];throw new Error("Unable to calculate background-size for element")},ng=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},vPe=function(e,t,r,a,s){var i=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new vr(Math.round(a.left),Math.round(a.top+o)),new vr(Math.round(a.left+a.width),Math.round(a.top+o)),new vr(Math.round(a.left+a.width),Math.round(c+a.top+o)),new vr(Math.round(a.left),Math.round(c+a.top+o))];case 3:return[new vr(Math.round(a.left+i),Math.round(a.top)),new vr(Math.round(a.left+i+l),Math.round(a.top)),new vr(Math.round(a.left+i+l),Math.round(a.height+a.top)),new vr(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new vr(Math.round(a.left+i),Math.round(a.top+o)),new vr(Math.round(a.left+i+l),Math.round(a.top+o)),new vr(Math.round(a.left+i+l),Math.round(a.top+o+c)),new vr(Math.round(a.left+i),Math.round(a.top+o+c))];default:return[new vr(Math.round(s.left),Math.round(s.top)),new vr(Math.round(s.left+s.width),Math.round(s.top)),new vr(Math.round(s.left+s.width),Math.round(s.height+s.top)),new vr(Math.round(s.left),Math.round(s.height+s.top))]}},yPe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Kz="Hidden Text",wPe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var a=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),s.src=yPe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Kz)),a.appendChild(i),a.appendChild(s);var l=s.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(Kz)),a.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var a=t+" "+r;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(t,r)),this._data[a]},e}(),xie=function(){function e(t,r){this.context=t,this.options=r}return e}(),bPe=1e4,jPe=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s._activeEffects=[],s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),a.canvas||(s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px"),s.fontMetrics=new wPe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),s}return t.prototype.applyEffects=function(r){for(var a=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return a.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),dPe(r)&&(this.ctx.globalAlpha=r.opacity),cPe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),hie(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return zo(this,void 0,void 0,function(){var a;return vo(this,function(s){switch(s.label){case 0:return a=r.element.container.styles,a.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return zo(this,void 0,void 0,function(){return vo(this,function(a){switch(a.label){case 0:if(xi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,a,s){var i=this;if(a===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=i8(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+s),l+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var a=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=EPe(r.fontFamily).join(", "),i=eN(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,a,r.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(r,a){return zo(this,void 0,void 0,function(){var s,i,o,l,c,d,u,h,f=this;return vo(this,function(A){return s=this.createFontStyle(a),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,h=a.paintOrder,r.textBounds.forEach(function(p){h.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=Ci(a.color),f.renderTextWithLetterSpacing(p,a.letterSpacing,d);var x=a.textShadow;x.length&&p.text.trim().length&&(x.slice(0).reverse().forEach(function(g){f.ctx.shadowColor=Ci(g.color),f.ctx.shadowOffsetX=g.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=g.offsetY.number*f.options.scale,f.ctx.shadowBlur=g.blur.number,f.renderTextWithLetterSpacing(p,a.letterSpacing,d)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),a.textDecorationLine.length&&(f.ctx.fillStyle=Ci(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(g){switch(g){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+d),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=Ci(a.webkitTextStrokeColor),f.ctx.lineWidth=a.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+d)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,a,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=k5(r),o=P5(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return zo(this,void 0,void 0,function(){var a,s,i,o,l,c,v,v,d,u,h,f,j,A,p,b,m,x,g,v,y,j,b;return vo(this,function(w){switch(w.label){case 0:this.applyEffects(r.getEffects(4)),a=r.container,s=r.curves,i=a.styles,o=0,l=a.textNodes,w.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:w.sent(),w.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof Gse))return[3,8];w.label=5;case 5:return w.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return v=w.sent(),this.renderReplacedElement(a,s,v),[3,8];case 7:return w.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof Xse&&this.renderReplacedElement(a,s,a.canvas),!(a instanceof Yse))return[3,12];w.label=9;case 9:return w.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return v=w.sent(),this.renderReplacedElement(a,s,v),[3,12];case 11:return w.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof tie&&a.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,d.render(a.tree)]):[3,14];case 13:u=w.sent(),a.width&&a.height&&this.ctx.drawImage(u,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),w.label=14;case 14:if(a instanceof o8&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===S5?a.checked&&(this.ctx.save(),this.path([new vr(a.bounds.left+h*.39363,a.bounds.top+h*.79),new vr(a.bounds.left+h*.16,a.bounds.top+h*.5549),new vr(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new vr(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new vr(a.bounds.left+h*.72983,a.bounds.top+h*.23),new vr(a.bounds.left+h*.84,a.bounds.top+h*.34085),new vr(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=Ci(Tz),this.ctx.fill(),this.ctx.restore()):a.type===_5&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ci(Tz),this.ctx.fill(),this.ctx.restore())),NPe(a)&&a.value.length){switch(f=this.createFontStyle(i),j=f[0],A=f[1],p=this.fontMetrics.getMetrics(j,A).baseline,this.ctx.font=j,this.ctx.fillStyle=Ci(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=SPe(a.styles.textAlign),b=k5(a),m=0,a.styles.textAlign){case 1:m+=b.width/2;break;case 2:m+=b.width;break}x=b.add(m,0,0,-b.height/2+1),this.ctx.save(),this.path([new vr(b.left,b.top),new vr(b.left+b.width,b.top),new vr(b.left+b.width,b.top+b.height),new vr(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ub(a.value,x),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xi(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(g=a.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,y=g.url,w.label=15;case 15:return w.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=w.sent(),this.ctx.drawImage(v,a.bounds.left-(v.width+10),a.bounds.top),[3,18];case 17:return w.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:r.listValue&&a.styles.listStyleType!==-1&&(j=this.createFontStyle(i)[0],this.ctx.font=j,this.ctx.fillStyle=Ci(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new Of(a.bounds.left,a.bounds.top+Ua(a.styles.paddingTop,a.bounds.width),a.bounds.width,pz(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ub(r.listValue,b),i.letterSpacing,pz(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),w.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return zo(this,void 0,void 0,function(){var a,s,g,i,o,g,l,c,g,d,u,g,h,f,g,A,p,g,m,x,g;return vo(this,function(v){switch(v.label){case 0:if(xi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),a=0,s=r.negativeZIndex,v.label=2;case 2:return a<s.length?(g=s[a],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),i=0,o=r.nonInlineLevel,v.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,v.label=11;case 11:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,v.label=15;case 15:return d<u.length?(g=u[d],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return d++,[3,15];case 18:h=0,f=r.inlineLevel,v.label=19;case 19:return h<f.length?(g=f[h],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:A=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return A<p.length?(g=p[A],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return A++,[3,23];case 26:m=0,x=r.positiveZIndex,v.label=27;case 27:return m<x.length?(g=x[m],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var a=this;r.forEach(function(s,i){var o=Gc(s)?s.start:s;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),Gc(s)&&a.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,a,s,i){this.path(r),this.ctx.fillStyle=a,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(r,a,s){var i;if(r.width===a&&r.height===s)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,a),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,a,s),l},t.prototype.renderBackgroundImage=function(r){return zo(this,void 0,void 0,function(){var a,s,i,o,l,c;return vo(this,function(d){switch(d.label){case 0:a=r.styles.backgroundImage.length-1,s=function(u){var h,f,A,L,P,R,M,O,F,p,L,P,R,M,O,m,x,g,v,y,j,b,w,C,F,E,L,N,I,M,O,k,P,R,V,D,Y,ne,S,z,Q,W;return vo(this,function(U){switch(U.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,U.label=1;case 1:return U.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=U.sent(),[3,4];case 3:return U.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(A=c3(r,a,[h.width,h.height,h.width/h.height]),L=A[0],P=A[1],R=A[2],M=A[3],O=A[4],F=i.ctx.createPattern(i.resizeImage(h,M,O),"repeat"),i.renderRepeat(L,F,P,R)),[3,6];case 5:cEe(u)?(p=c3(r,a,[null,null,null]),L=p[0],P=p[1],R=p[2],M=p[3],O=p[4],m=aEe(u.angle,M,O),x=m[0],g=m[1],v=m[2],y=m[3],j=m[4],b=document.createElement("canvas"),b.width=M,b.height=O,w=b.getContext("2d"),C=w.createLinearGradient(g,y,v,j),Az(u.stops,x).forEach(function(re){return C.addColorStop(re.stop,Ci(re.color))}),w.fillStyle=C,w.fillRect(0,0,M,O),M>0&&O>0&&(F=i.ctx.createPattern(b,"repeat"),i.renderRepeat(L,F,P,R))):dEe(u)&&(E=c3(r,a,[null,null,null]),L=E[0],N=E[1],I=E[2],M=E[3],O=E[4],k=u.position.length===0?[n8]:u.position,P=Ua(k[0],M),R=Ua(k[k.length-1],O),V=sEe(u,P,R,M,O),D=V[0],Y=V[1],D>0&&Y>0&&(ne=i.ctx.createRadialGradient(N+P,I+R,0,N+P,I+R,D),Az(u.stops,D*2).forEach(function(re){return ne.addColorStop(re.stop,Ci(re.color))}),i.path(L),i.ctx.fillStyle=ne,D!==Y?(S=r.bounds.left+.5*r.bounds.width,z=r.bounds.top+.5*r.bounds.height,Q=Y/D,W=1/Q,i.ctx.save(),i.ctx.translate(S,z),i.ctx.transform(1,0,0,Q,0,0),i.ctx.translate(-S,-z),i.ctx.fillRect(N,W*(I-z)+z,M,O*W),i.ctx.restore()):i.ctx.fill())),U.label=6;case 6:return a--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,s(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,a,s){return zo(this,void 0,void 0,function(){return vo(this,function(i){return this.path(Vz(s,a)),this.ctx.fillStyle=Ci(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,a,s,i){return zo(this,void 0,void 0,function(){var o,l;return vo(this,function(c){switch(c.label){case 0:return a<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=fPe(i,s),this.path(o),this.ctx.fillStyle=Ci(r),this.ctx.fill(),l=APe(i,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return zo(this,void 0,void 0,function(){var a,s,i,o,l,c,d,u,h=this;return vo(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),a=r.container.styles,s=!vm(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=CPe(ng(a.backgroundClip,0),r.curves),s||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),vm(a.backgroundColor)||(this.ctx.fillStyle=Ci(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(A){h.ctx.save();var p=F5(r.curves),m=A.inset?0:bPe,x=uPe(p,-m+(A.inset?1:-1)*A.spread.number,(A.inset?1:-1)*A.spread.number,A.spread.number*(A.inset?-2:2),A.spread.number*(A.inset?-2:2));A.inset?(h.path(p),h.ctx.clip(),h.mask(x)):(h.mask(p),h.ctx.clip(),h.path(x)),h.ctx.shadowOffsetX=A.offsetX.number+m,h.ctx.shadowOffsetY=A.offsetY.number,h.ctx.shadowColor=Ci(A.color),h.ctx.shadowBlur=A.blur.number,h.ctx.fillStyle=A.inset?Ci(A.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:l=0,c=0,d=i,f.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!vm(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,a,s,i,o){return zo(this,void 0,void 0,function(){var l,c,d,u,h,f,A,p,m,x,g,v,y,j,b,w,b,w;return vo(this,function(C){return this.ctx.save(),l=mPe(i,s),c=Vz(i,s),o===2&&(this.path(c),this.ctx.clip()),Gc(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),Gc(c[1])?(h=c[1].end.x,f=c[1].end.y):(h=c[1].x,f=c[1].y),s===0||s===2?A=Math.abs(d-h):A=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),p=a<3?a*3:a*2,m=a<3?a*2:a,o===3&&(p=a,m=a),x=!0,A<=p*2?x=!1:A<=p*2+m?(g=A/(2*p+m),p*=g,m*=g):(v=Math.floor((A+m)/(p+m)),y=(A-v*p)/(v-1),j=(A-(v+1)*p)/v,m=j<=0||Math.abs(m-y)<Math.abs(m-j)?y:j),x&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Ci(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Gc(c[0])&&(b=c[3],w=c[0],this.ctx.beginPath(),this.formatPath([new vr(b.end.x,b.end.y),new vr(w.start.x,w.start.y)]),this.ctx.stroke()),Gc(c[1])&&(b=c[1],w=c[2],this.ctx.beginPath(),this.formatPath([new vr(b.end.x,b.end.y),new vr(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return zo(this,void 0,void 0,function(){var a;return vo(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ci(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=hPe(r),[4,this.renderStack(a)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(xie),NPe=function(e){return e instanceof eie||e instanceof Zse?!0:e instanceof o8&&e.type!==_5&&e.type!==S5},CPe=function(e,t){switch(e){case 0:return F5(t);case 2:return iPe(t);case 1:default:return P5(t)}},SPe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_Pe=["-apple-system","system-ui"],EPe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return _Pe.indexOf(t)===-1}):e},BPe=function(e){vu(t,e);function t(r,a){var s=e.call(this,r,a)||this;return s.canvas=a.canvas?a.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=a,s.canvas.width=Math.floor(a.width*a.scale),s.canvas.height=Math.floor(a.height*a.scale),s.canvas.style.width=a.width+"px",s.canvas.style.height=a.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-a.x,-a.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),s}return t.prototype.render=function(r){return zo(this,void 0,void 0,function(){var a,s;return vo(this,function(i){switch(i.label){case 0:return a=NI(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,FPe(a)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ci(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(xie),FPe=function(e){return new Promise(function(t,r){var a=new Image;a.onload=function(){t(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},PPe=function(){function e(t){var r=t.id,a=t.enabled;this.id=r,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,IC([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,IC([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,IC([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,IC([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),kPe=function(){function e(t,r){var a;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new PPe({id:this.instanceName,enabled:t.logging}),this.cache=(a=t.cache)!==null&&a!==void 0?a:new JFe(this,t)}return e.instanceCount=1,e}(),gie=function(e,t){return t===void 0&&(t={}),TPe(e,t)};typeof window<"u"&&uie.setContext(window);var TPe=function(e,t){return zo(void 0,void 0,void 0,function(){var r,a,s,i,o,l,c,d,u,h,f,A,p,m,x,g,v,y,j,b,C,w,C,F,E,L,N,I,M,O,k,P,R,V,D,Y,ne,S,z,Q;return vo(this,function(W){switch(W.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(a=r.defaultView,!a)throw new Error("Document is not attached to a Window");return s={allowTaint:(F=t.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(E=t.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:t.proxy,useCORS:(L=t.useCORS)!==null&&L!==void 0?L:!1},i=cI({logging:(N=t.logging)!==null&&N!==void 0?N:!0,cache:t.cache},s),o={windowWidth:(I=t.windowWidth)!==null&&I!==void 0?I:a.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:a.innerHeight,scrollX:(O=t.scrollX)!==null&&O!==void 0?O:a.pageXOffset,scrollY:(k=t.scrollY)!==null&&k!==void 0?k:a.pageYOffset},l=new Of(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new kPe(i,l),d=(P=t.foreignObjectRendering)!==null&&P!==void 0?P:!1,u={allowTaint:(R=t.allowTaint)!==null&&R!==void 0?R:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new $z(c,e,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return A=W.sent(),p=l8(f)||OFe(f)?u5e(f.ownerDocument):jB(c,f),m=p.width,x=p.height,g=p.left,v=p.top,y=IPe(c,f,t.backgroundColor),j={canvas:t.canvas,backgroundColor:y,scale:(D=(V=t.scale)!==null&&V!==void 0?V:a.devicePixelRatio)!==null&&D!==void 0?D:1,x:((Y=t.x)!==null&&Y!==void 0?Y:0)+g,y:((ne=t.y)!==null&&ne!==void 0?ne:0)+v,width:(S=t.width)!==null&&S!==void 0?S:Math.ceil(m),height:(z=t.height)!==null&&z!==void 0?z:Math.ceil(x)},d?(c.logger.debug("Document cloned, using foreign object rendering"),C=new BPe(c,j),[4,C.render(f)]):[3,3];case 2:return b=W.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+g+","+v+" with size "+m+"x"+x+" using computed rendering"),c.logger.debug("Starting DOM parsing"),w=nie(c,f),y===w.styles.backgroundColor&&(w.styles.backgroundColor=yf.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),C=new jPe(c,j),[4,C.render(w)];case 4:b=W.sent(),W.label=5;case 5:return(!((Q=t.removeContainer)!==null&&Q!==void 0)||Q)&&($z.destroy(A)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,b]}})})},IPe=function(e,t,r){var a=t.ownerDocument,s=a.documentElement?cb(e,getComputedStyle(a.documentElement).backgroundColor):yf.TRANSPARENT,i=a.body?cb(e,getComputedStyle(a.body).backgroundColor):yf.TRANSPARENT,o=typeof r=="string"?cb(e,r):r===null?yf.TRANSPARENT:4294967295;return t===a.documentElement?vm(s)?vm(i)?o:i:s:o};const OPe=Object.freeze(Object.defineProperty({__proto__:null,default:gie},Symbol.toStringTag,{value:"Module"})),DPe="/assets/Folha_timbrada_Nexo2_(1).pdf_(4)_1768512028431-GkRLoRXo.png";class vie{constructor(){this.currentY=60,this.margin=20,this.topMargin=80,this.letterheadDataUrl=null,this.imageCache=new Map,this.doc=new Rr,this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight()}async loadLetterhead(){try{const t=await this.loadImageWithFallback(DPe);if(t){const r=document.createElement("canvas");r.width=t.naturalWidth,r.height=t.naturalHeight;const a=r.getContext("2d");a&&(a.drawImage(t,0,0),this.letterheadDataUrl=r.toDataURL("image/png"))}}catch(t){console.warn("Failed to load letterhead background:",t)}}applyLetterheadBackground(){if(this.letterheadDataUrl)try{this.doc.addImage(this.letterheadDataUrl,"PNG",0,0,this.pageWidth,this.pageHeight)}catch(t){console.warn("Failed to apply letterhead background:",t)}}addNewPageIfNeeded(t){this.currentY+t>this.pageHeight-this.margin&&(this.doc.addPage(),this.applyLetterheadBackground(),this.currentY=this.topMargin)}addHeader(t){this.doc.setFontSize(30),this.doc.setFont("helvetica","bold"),this.doc.text("ORAMENTO",this.pageWidth/2,this.currentY,{align:"center"}),this.currentY+=15,this.doc.setFontSize(12),this.doc.setFont("helvetica","normal"),this.doc.text(`Data: ${new Date(t.budget.createdAt).toLocaleDateString("pt-BR")}`,this.margin,this.currentY),this.currentY+=8,this.doc.text(`Nmero: ${t.budget.budgetNumber}`,this.margin,this.currentY),t.budget.validUntil&&(this.currentY+=8,this.doc.text(`Vlido at: ${new Date(t.budget.validUntil).toLocaleDateString("pt-BR")}`,this.margin,this.currentY)),t.budget.deliveryDeadline&&(this.currentY+=8,this.doc.text(`Prazo de entrega: ${new Date(t.budget.deliveryDeadline).toLocaleDateString("pt-BR")}`,this.margin,this.currentY)),this.currentY+=20}addClientVendorInfo(t){this.addNewPageIfNeeded(40),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("CLIENTE:",this.margin,this.currentY),this.doc.setFont("helvetica","normal"),this.currentY+=8,this.doc.text(t.client.name,this.margin,this.currentY),t.client.email&&(this.currentY+=6,this.doc.text(`Email: ${t.client.email}`,this.margin,this.currentY)),t.client.phone&&(this.currentY+=6,this.doc.text(`Telefone: ${t.client.phone}`,this.margin,this.currentY));const r=this.pageWidth/2+10;let a=this.currentY-(t.client.email?14:8)-(t.client.phone?6:0);a=Math.max(a,this.currentY-20),this.doc.setFont("helvetica","bold"),this.doc.text("VENDEDOR:",r,a),this.doc.setFont("helvetica","normal"),this.doc.text(t.vendor.name,r,a+8),t.vendor.email&&this.doc.text(`Email: ${t.vendor.email}`,r,a+14),t.vendor.phone&&this.doc.text(`Telefone: ${t.vendor.phone}`,r,a+(t.vendor.email?20:14)),this.currentY+=20}addBranchInfoTopRight(t){if(t.branch&&(t.branch.name||t.branch.cnpj||t.branch.address)){const r=this.pageWidth-this.margin;let a=18;this.doc.setFontSize(9),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(40,40,40);const s=t.branch.name||"Filial";this.doc.text(s,r,a,{align:"right"}),this.doc.setFont("helvetica","normal"),this.doc.setFontSize(8),this.doc.setTextColor(80,80,80),t.branch.phone&&(a+=5,this.doc.text(`Tel: ${t.branch.phone}`,r,a,{align:"right"})),t.branch.email&&(a+=4,this.doc.text(t.branch.email,r,a,{align:"right"})),t.branch.address&&(a+=4,this.doc.splitTextToSize(t.branch.address,70).forEach(o=>{this.doc.text(o,r,a,{align:"right"}),a+=4})),t.branch.cnpj&&(a+=1,this.doc.text(`CNPJ: ${t.branch.cnpj}`,r,a,{align:"right"})),this.doc.setTextColor(0,0,0)}}addBranchInfo(t){if(t.branch&&(t.branch.cnpj||t.branch.address)){this.addNewPageIfNeeded(30),this.doc.setFontSize(10),this.doc.setFont("helvetica","bold"),this.doc.text("FILIAL EMISSORA:",this.margin,this.currentY),this.doc.setFont("helvetica","normal");let r=6;if(this.doc.text(t.branch.name,this.margin,this.currentY+r),r+=6,t.branch.cnpj&&(this.doc.text(`CNPJ: ${t.branch.cnpj}`,this.margin,this.currentY+r),r+=6),t.branch.address){const a=this.doc.splitTextToSize(t.branch.address,this.pageWidth-2*this.margin);for(const s of a)this.doc.text(s,this.margin,this.currentY+r),r+=5}this.currentY+=r+10}}async loadAndCacheImage(t){if(this.imageCache.has(t))return this.imageCache.get(t)||null;try{let r=t;t.startsWith("/uploads/")&&(r=`${window.location.origin}${t}`);const a=await this.loadImageWithFallback(r);if(a){const s=document.createElement("canvas");s.width=a.naturalWidth,s.height=a.naturalHeight;const i=s.getContext("2d");if(i){i.drawImage(a,0,0);const o=s.toDataURL("image/jpeg",.4);return this.imageCache.set(t,o),o}}}catch(r){console.warn("Failed to load product image:",t,r)}return this.imageCache.set(t,null),null}renderProductThumbnail(t,r,a,s,i){t?this.doc.addImage(t,"JPEG",r,a,s,i):(this.doc.setDrawColor(200),this.doc.rect(r,a,s,i,"D"))}async addItems(t){this.addNewPageIfNeeded(50);const r=new Map;for(const l of t.items)if(l.product.imageLink){const c=await this.loadAndCacheImage(l.product.imageLink);r.set(l.id,c)}this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.text("ITENS DO ORAMENTO",this.margin,this.currentY),this.currentY+=15;const s=[22,68,20,35,40],i=this.margin;let o=i;this.doc.setFontSize(10),this.doc.setFont("helvetica","bold"),this.doc.text("Img",o+2,this.currentY),o+=s[0],this.doc.text("Produto",o+2,this.currentY),o+=s[1],this.doc.text("Qtd",o+2,this.currentY),o+=s[2],this.doc.text("Preo Unit.",o+2,this.currentY),o+=s[3],this.doc.text("Total",o+2,this.currentY),this.currentY+=10,this.doc.setFont("helvetica","normal");for(let l=0;l<t.items.length;l++){const c=t.items[l],d=c.hasItemCustomization&&c.itemCustomizationDescription,u=22;this.addNewPageIfNeeded(u+(d?15:0)+5),o=i;const h=r.get(c.id);this.renderProductThumbnail(h||null,o+1,this.currentY-3,18,18),o+=s[0];const f=c.product.name.length>40?c.product.name.substring(0,40)+"...":c.product.name;this.doc.text(f,o+2,this.currentY+5);const A=c.notes||c.product.description;if(A){this.doc.setFontSize(8),this.doc.setTextColor(100,100,100);const m=A.length>65?A.substring(0,65)+"...":A;this.doc.splitTextToSize(m,s[1]-4).forEach((g,v)=>{this.doc.text(g,o+2,this.currentY+10+v*4)}),this.doc.setFontSize(10),this.doc.setTextColor(0,0,0)}o+=s[1];const p=typeof c.quantity=="string"?parseInt(c.quantity):Math.round(c.quantity);if(this.doc.text(p.toString(),o+2,this.currentY+10),o+=s[2],this.doc.text(`R$ ${parseFloat(c.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,o+2,this.currentY+10),o+=s[3],this.doc.text(`R$ ${parseFloat(c.totalPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,o+2,this.currentY+10),this.currentY+=u,c.productWidth||c.productHeight||c.productDepth){this.doc.setFontSize(8),this.doc.setTextColor(100,100,100);let m="  Dimenses: ";const x=[];c.productWidth&&x.push(`L: ${c.productWidth}cm`),c.productHeight&&x.push(`A: ${c.productHeight}cm`),c.productDepth&&x.push(`P: ${c.productDepth}cm`),m+=x.join("  "),this.doc.text(m,i+2,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setTextColor(0,0,0)}d&&(this.doc.setFontSize(8),this.doc.setTextColor(100,100,100),this.doc.text(`  + Personalizao: ${c.itemCustomizationDescription}`,i+2,this.currentY),this.currentY+=5,this.doc.setFontSize(10),this.doc.setTextColor(0,0,0)),this.currentY+=5}this.currentY+=10}addTotal(t){this.addNewPageIfNeeded(60);const r=t.items.reduce((a,s)=>a+parseFloat(s.totalPrice),0);if(t.budget.hasDiscount,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text("Subtotal:",this.margin,this.currentY+5),this.doc.text(`R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,this.margin,this.currentY+10),t.budget.hasDiscount){this.doc.setTextColor(255,100,0),this.doc.text("Desconto:",this.margin,this.currentY+15);let a="";t.budget.discountType==="percentage"?a=`- R$ ${(r*parseFloat(t.budget.discountPercentage||"0")/100).toLocaleString("pt-BR",{minimumFractionDigits:2})} (${t.budget.discountPercentage}%)`:a=`- R$ ${parseFloat(t.budget.discountValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})}`,this.doc.text(a,this.margin,this.currentY+20),this.doc.setTextColor(0,0,0),this.currentY+=10}this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("TOTAL GERAL:",this.margin,this.currentY+15),this.doc.text(`R$ ${parseFloat(t.budget.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,this.margin,this.currentY+25),this.currentY+=40}addPaymentShippingInfo(t){var r,a;if(t.budget.paymentMethodId||t.budget.shippingMethodId){if(this.addNewPageIfNeeded(60),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("INFORMAES DE PAGAMENTO E FRETE",this.margin,this.currentY),this.currentY+=15,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),t.budget.paymentMethodId){const s=(r=t.paymentMethods)==null?void 0:r.find(i=>i.id===t.budget.paymentMethodId);s&&(this.doc.setFont("helvetica","bold"),this.doc.text("Forma de Pagamento:",this.margin,this.currentY),this.currentY+=8,this.doc.setFont("helvetica","normal"),this.doc.text(s.name,this.margin,this.currentY),this.currentY+=10,t.budget.installments&&t.budget.installments>1&&(this.doc.setFont("helvetica","bold"),this.doc.text("Parcelas:",this.margin,this.currentY),this.doc.setFont("helvetica","normal"),this.doc.text(`${t.budget.installments}x`,this.margin+20,this.currentY),this.currentY+=8),t.budget.downPayment&&parseFloat(t.budget.downPayment)>0&&(this.doc.setFont("helvetica","bold"),this.doc.text("Entrada:",this.margin,this.currentY),this.doc.setFont("helvetica","normal"),this.doc.text(`R$ ${parseFloat(t.budget.downPayment).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,this.margin+20,this.currentY),this.currentY+=8,this.doc.setFont("helvetica","bold"),this.doc.text("Restante:",this.margin,this.currentY),this.doc.setFont("helvetica","normal"),this.doc.text(`R$ ${parseFloat(t.budget.remainingAmount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})}`,this.margin+20,this.currentY),this.currentY+=10))}if(t.budget.shippingMethodId){const s=(a=t.shippingMethods)==null?void 0:a.find(i=>i.id===t.budget.shippingMethodId);s&&(this.doc.setFont("helvetica","bold"),this.doc.text("Mtodo de Frete:",this.margin,this.currentY),this.currentY+=8,this.doc.setFont("helvetica","normal"),this.doc.text(s.name,this.margin,this.currentY),this.currentY+=10,t.budget.shippingCost&&(this.doc.setFont("helvetica","bold"),this.doc.text("Valor do Frete:",this.margin,this.currentY),this.doc.setFont("helvetica","normal"),this.doc.text(`R$ ${parseFloat(t.budget.shippingCost).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,this.margin+30,this.currentY),this.currentY+=8))}if(t.budget.interestValue&&parseFloat(t.budget.interestValue)>0){this.doc.setFont("helvetica","bold"),this.doc.text("Juros do Carto:",this.margin,this.currentY),this.doc.setFont("helvetica","normal");const s=t.budget.interestRate?`(${t.budget.interestRate}% x ${t.budget.installments||1}x)`:"";this.doc.text(`R$ ${parseFloat(t.budget.interestValue).toLocaleString("pt-BR",{minimumFractionDigits:2})} ${s}`,this.margin,this.currentY),this.currentY+=8}this.currentY+=10}}addDescription(t){if(t.budget.description){this.addNewPageIfNeeded(30),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("OBSERVAES:",this.margin,this.currentY),this.currentY+=10,this.doc.setFont("helvetica","normal");const r=this.doc.splitTextToSize(t.budget.description,this.pageWidth-2*this.margin);this.doc.text(r,this.margin,this.currentY),this.currentY+=r.length*6}}async addProductCustomizationImages(t){var a,s,i;const r=t.items.filter(o=>o.customizationPhoto);if(r.length!==0){this.addNewPageIfNeeded(60),this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.text("PERSONALIZAES DOS PRODUTOS",this.margin,this.currentY),this.currentY+=20;for(let o=0;o<r.length;o++){const l=r[o];try{let c=l.customizationPhoto;l.customizationPhoto.startsWith("/uploads/")&&(c=`${window.location.origin}${l.customizationPhoto}`);const d=await this.loadImageWithFallback(c);if(d){this.addNewPageIfNeeded(120),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text(((a=l.product)==null?void 0:a.name)||"Produto",this.margin,this.currentY),this.currentY+=5,l.itemCustomizationDescription&&(this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.setTextColor(100,100,100),this.doc.text(`Personalizao: ${l.itemCustomizationDescription}`,this.margin,this.currentY),this.currentY+=5,this.doc.setTextColor(0,0,0)),this.currentY+=5;const u=120,h=90;let f=u,A=d.naturalHeight/d.naturalWidth*f;A>h&&(A=h,f=d.naturalWidth/d.naturalHeight*A);const p=this.margin+(this.pageWidth-2*this.margin-f)/2,m=document.createElement("canvas");m.width=d.naturalWidth,m.height=d.naturalHeight;const x=m.getContext("2d");if(x){x.drawImage(d,0,0);const g=m.toDataURL("image/jpeg",.9);this.doc.addImage(g,"JPEG",p,this.currentY,f,A),this.currentY+=A+15}}else this.doc.setFontSize(10),this.doc.setTextColor(150,150,150),this.doc.text(`Imagem de personalizao no disponvel para ${((s=l.product)==null?void 0:s.name)||"produto"}`,this.margin,this.currentY),this.currentY+=15,this.doc.setTextColor(0,0,0)}catch(c){console.error("Error adding product customization image to PDF:",c),this.doc.setFontSize(10),this.doc.setTextColor(150,150,150),this.doc.text(`Erro ao carregar imagem de ${((i=l.product)==null?void 0:i.name)||"produto"}`,this.margin,this.currentY),this.currentY+=15,this.doc.setTextColor(0,0,0)}}this.currentY+=10}}async loadImageWithFallback(t){return new Promise(r=>{const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{a.complete&&a.naturalWidth>0?r(a):r(null)},a.onerror=()=>{console.warn(`Failed to load image: ${t}`),r(null)},setTimeout(()=>{r(null)},5e3),a.src=t})}async generateBudgetPDF(t){var r,a;try{if(console.log("Starting PDF generation for budget:",(r=t.budget)==null?void 0:r.budgetNumber),console.log("PDF data received:",{hasBudget:!!t.budget,hasClient:!!t.client,hasVendor:!!t.vendor,hasItems:!!t.items&&t.items.length>0,itemCount:((a=t.items)==null?void 0:a.length)||0}),!t||typeof t!="object")throw new Error("Dados do PDF no foram fornecidos");if(!t.budget)throw new Error("Dados do oramento no encontrados na resposta da API");return t.client||(console.warn("Client data missing, using default values"),t.client={name:"Cliente no informado",email:"",phone:""}),t.vendor||(console.warn("Vendor data missing, using default values"),t.vendor={name:"Vendedor no informado",email:"",phone:""}),(!t.items||t.items.length===0)&&(console.warn("No items found, creating empty items array"),t.items=[]),console.log("Loading letterhead background..."),await this.loadLetterhead(),this.applyLetterheadBackground(),console.log("Adding branch info in top right..."),this.addBranchInfoTopRight(t),this.currentY=this.topMargin,console.log("Adding header..."),this.addHeader(t),console.log("Adding client and vendor info..."),this.addClientVendorInfo(t),console.log("Adding items..."),await this.addItems(t),console.log("Adding total..."),this.addTotal(t),console.log("Adding payment and shipping info..."),this.addPaymentShippingInfo(t),console.log("Adding description..."),this.addDescription(t),console.log("Generating PDF blob..."),new Promise(s=>{const i=this.doc.output("blob");console.log("PDF generated successfully, size:",i.size,"bytes"),s(i)})}catch(s){throw console.error("Error generating PDF:",s),new Error(`Falha ao gerar PDF: ${s instanceof Error?s.message:String(s)}`)}}loadImage(t){return new Promise((r,a)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>r(s),s.onerror=()=>a(new Error(`Failed to load image: ${t}`)),s.src=t})}async addImage(t,r,a,s,i){try{const o=await this.loadImage(t),l=document.createElement("canvas");l.width=s*4,l.height=i*4;const c=l.getContext("2d");if(c){c.drawImage(o,0,0,l.width,l.height);const d=l.toDataURL("image/jpeg",.8);this.doc.addImage(d,"JPEG",r,a,s,i)}}catch(o){console.warn("Failed to load product image:",o),this.doc.setDrawColor(200),this.doc.rect(r,a,s,i),this.doc.setFontSize(8),this.doc.text("Imagem no disponvel",r+s/2,a+i/2,{align:"center"})}}formatCurrency(t){const r=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)}formatDate(t){return new Date(t).toLocaleDateString("pt-BR")}async generateBudgetPDFFromElement(t,r="orcamento.pdf"){const a=await gie(t,{scale:2,useCORS:!0,logging:!1}),s=a.toDataURL("image/png"),i=new Rr,o=210,l=295,c=a.height*o/a.width;let d=c,u=0;for(i.addImage(s,"PNG",0,u,o,c),d-=l;d>=0;)u=d-c,i.addPage(),i.addImage(s,"PNG",0,u,o,c),d-=l;i.save(r)}}function c8({productCategory:e,quantity:t,selectedCustomization:r,onCustomizationChange:a,customizationValue:s=0,onCustomizationValueChange:i,customizationDescription:o="",onCustomizationDescriptionChange:l,onValidationError:c}){const[d,u]=B.useState(""),{data:h=[],isLoading:f,refetch:A}=pt({queryKey:["/api/settings/customization-options"],queryFn:async()=>{const m=await fetch("/api/settings/customization-options");return m.ok?(await m.json()).filter(g=>g.isActive):[]},refetchInterval:3e4}),p=h.filter(m=>{if(!d.trim())return!1;const x=m.category.toLowerCase().includes(d.toLowerCase()),g=m.minQuantity<=t;return x&&g});return p.find(m=>m.id===r),f?n.jsx("div",{className:"text-sm text-gray-500 p-4",children:"Carregando opes de personalizao..."}):n.jsx("div",{className:"w-full space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"w-full",children:[n.jsx(fe,{htmlFor:"category-filter",className:"text-sm font-semibold text-blue-900 mb-2 block",children:"Buscar por Categoria"}),n.jsx(ie,{id:"category-filter",placeholder:"Digite a categoria (ex: copo, mochila, mesa...)",value:d,onChange:m=>u(m.target.value),className:"w-full h-10 text-base"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Digite o tipo de produto para ver as personalizaes disponveis"})]}),d.trim()&&p.length>0&&n.jsxs("div",{className:"w-full",children:[n.jsxs(fe,{htmlFor:"customization-select",className:"text-sm font-semibold text-blue-900 mb-2 block",children:["Personalizaes Disponveis (",p.length,")"]}),n.jsxs($t,{value:r||"none",onValueChange:m=>{if(!m||m==="none"){a(null),i&&i(0),l&&l(""),c&&c("");return}const x=p.find(g=>g.id===m);if(x){if(t<x.minQuantity){const g=`Esta personalizao requer no mnimo ${x.minQuantity} unidades. Quantidade atual: ${t}`;c&&c(g);return}c&&c(""),a(x),i&&i(parseFloat(x.price)||0),l&&l(x.name)}},children:[n.jsx(Mt,{id:"customization-select",className:"w-full h-10",children:n.jsx(Ht,{placeholder:"Selecione uma personalizao (opcional)"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"none",children:n.jsx("span",{className:"text-gray-500 italic",children:"Nenhuma personalizao"})}),p.map(m=>n.jsx(ge,{value:m.id,children:n.jsxs("div",{className:"flex justify-between items-center w-full",children:[n.jsx("div",{className:"flex flex-col",children:n.jsx("span",{children:m.name})}),n.jsxs("span",{className:"text-sm text-gray-500",children:["R$ ",parseFloat(m.price).toLocaleString("pt-BR",{minimumFractionDigits:2}),m.minQuantity>1&&` (mn. ${m.minQuantity})`]})]})},m.id))]})]})]}),d.trim()&&p.length===0&&n.jsxs("div",{className:"w-full text-sm text-orange-700 bg-orange-100 p-3 rounded border border-orange-300",children:[n.jsx("strong",{children:"Nenhuma personalizao disponvel"}),' para a categoria "',d,'" com ',t," unidades.",n.jsx("br",{}),"As personalizaes disponveis podem exigir quantidade mnima maior que ",t," unidades.",n.jsx("br",{}),"Tente outras palavras como: copo, mochila, mesa, camiseta, etc."]}),!d.trim()&&n.jsxs("div",{className:"w-full text-sm text-blue-700 bg-blue-100 p-3 rounded border border-blue-300",children:[n.jsx("strong",{children:"Como funciona:"}),n.jsx("br",{}),"1. Digite uma categoria no campo acima",n.jsx("br",{}),"2. Escolha a personalizao disponvel"]})]})})}function zp(e){if(e==null)return NaN;if(typeof e=="number")return e;if(typeof e=="string"){const t=e.replace(",",".");return Number(t)}return Number(e)}function T5(e,t){const r=zp(e);return Number.isNaN(r)?t/100:r/100}function yg(e){return Math.round((e+Number.EPSILON)*100)/100}function LPe(e,t){let r=.28,a=.2;if(!e||e.length===0)return{marginRate:r,minimumMarginRate:a};const s=[...e].sort((i,o)=>{const l=i.order??null,c=o.order??null;if(l!==null&&c!==null)return l-c;const d=zp(i.minRevenue)||0,u=zp(o.minRevenue)||0;return d-u});for(const i of s){const o=zp(i.minRevenue),l=i.maxRevenue===null||i.maxRevenue===void 0||String(i.maxRevenue)===""?Number.POSITIVE_INFINITY:zp(i.maxRevenue),c=Number.isNaN(o)?0:o,d=Number.isNaN(l)?Number.POSITIVE_INFINITY:l;if(t>=c&&t<=d){r=T5(i.marginRate,28),a=T5(i.minimumMarginRate,20);break}}return{marginRate:r,minimumMarginRate:a}}function d8(e,t,r,a){if(!r||!e||e<=0)return{idealPrice:0,minimumPrice:0,marginApplied:0,minimumMarginApplied:0};const s=T5(r.taxRate,9),i=T5(r.commissionRate,15),{marginRate:o,minimumMarginRate:l}=LPe(a,t),c=1-(s+i+o),d=1-(s+i+l),u=c>0?e/c:0,h=d>0?e/d:0;return{idealPrice:yg(u),minimumPrice:yg(h),marginApplied:yg(o*100),minimumMarginApplied:yg(l*100)}}function Xg(e,t,r,a){const s=zp(e.costPrice),i=zp(e.basePrice),o=!Number.isNaN(i)&&i>0;if(!(!Number.isNaN(s)&&s>0))return{price:o?yg(i):0,source:"base"};if(o&&Math.abs(s-i)<1e-4)return{price:yg(i),source:"base"};const c=d8(s,t,r,a);return{price:c.idealPrice,source:"computed",details:c}}function qz(){var Gt,oe,ce,we,ye,ke,Ie;const[e,t]=B.useState(!1),[r,a]=B.useState("all"),[s,i]=B.useState(""),[o,l]=B.useState(""),[c,d]=B.useState("all"),[u,h]=B.useState(!1),[f,A]=B.useState(null),[p,m]=B.useState(null),[x,g]=B.useState(!1),[v,y]=B.useState(null),{toast:j}=en(),[b,w]=B.useState(null),[C,F]=B.useState(!1),[E,L]=B.useState(!1),[N,I]=B.useState("approve"),[M,O]=B.useState(""),[k,P]=B.useState({title:"",description:"",clientId:"",contactName:"",contactPhone:"",contactEmail:"",vendorId:"",branchId:"",validUntil:"",deliveryDeadline:"",deliveryType:"delivery",items:[],photos:[],hasDiscount:!1,discountType:"percentage",discountPercentage:0,discountValue:0,shippingCost:0,paymentMethodId:"",shippingMethodId:"",installments:1,downPayment:0,remainingAmount:0}),{data:R,isLoading:V}=pt({queryKey:["/api/budgets"],queryFn:async()=>{const q=await fetch("/api/budgets");if(!q.ok)throw new Error("Failed to fetch budgets");return q.json()}}),{data:D,isLoading:Y}=pt({queryKey:["/api/clients"],queryFn:async()=>{const q=await fetch("/api/clients");if(!q.ok)throw new Error("Failed to fetch clients");return(await q.json()).filter(_e=>_e.isActive!==!1)}}),{data:ne,isLoading:S}=pt({queryKey:["/api/vendors"],queryFn:async()=>{const q=await fetch("/api/users");if(!q.ok)throw new Error("Failed to fetch users");return(await q.json()).filter(_e=>_e.role==="vendor")}}),{data:z,isLoading:Q}=pt({queryKey:["/api/products/search",{search:o,category:c}],queryFn:async({queryKey:q})=>{const[,xe]=q;if(!xe.search&&xe.category==="all")return{products:[],total:0};const _e=new URLSearchParams;xe.search&&_e.append("search",xe.search),xe.category&&xe.category!=="all"&&_e.append("category",xe.category),_e.append("limit","1000");const Ye=await fetch(`/api/logistics/products?${_e}`);if(!Ye.ok)throw new Error("Failed to fetch products");return Ye.json()},enabled:o.length>=2||c!=="all"}),{data:W}=pt({queryKey:["/api/producers"],queryFn:async()=>{const q=await fetch("/api/producers");if(!q.ok)throw new Error("Failed to fetch producers");return q.json()}}),{data:U}=pt({queryKey:["/api/payment-methods"],queryFn:async()=>{const q=await fetch("/api/payment-methods");if(!q.ok)throw new Error("Failed to fetch payment methods");return q.json()}}),{data:re}=pt({queryKey:["/api/shipping-methods"],queryFn:async()=>{const q=await fetch("/api/shipping-methods");if(!q.ok)throw new Error("Failed to fetch shipping methods");return q.json()}}),{data:de}=pt({queryKey:["/api/branches"],queryFn:async()=>{const q=await fetch("/api/branches");if(!q.ok)throw new Error("Failed to fetch branches");return q.json()}}),{data:ae}=pt({queryKey:["/api/pricing/settings"],queryFn:async()=>{const q=await fetch("/api/pricing/settings");return q.ok?q.json():null}}),{data:Ae}=pt({queryKey:["/api/pricing/margin-tiers",ae==null?void 0:ae.id],queryFn:async()=>{if(!(ae!=null&&ae.id))return[];const q=await fetch(`/api/pricing/margin-tiers/${ae.id}`);return q.ok?q.json():[]},enabled:!!(ae!=null&&ae.id)}),Me=(q,xe=0)=>d8(q,xe,ae,Ae),{data:H}=pt({queryKey:["/api/auth/current"],queryFn:async()=>{const q=localStorage.getItem("authToken");if(!q)throw new Error("No auth token found");const xe=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${q}`}});if(!xe.ok)throw new Error("Failed to verify auth");return(await xe.json()).user},enabled:!!localStorage.getItem("authToken")}),Oe=(z==null?void 0:z.products)||[],Ee=["all",...Array.from(new Set((Oe||[]).map(q=>q.category).filter(Boolean)))];B.useEffect(()=>{if(de&&de.length>0&&!k.branchId){const q=de.find(xe=>xe.isHeadquarters)||de[0];q&&P(xe=>({...xe,branchId:q.id}))}},[de,k.branchId]),Oe.reduce((q,xe)=>{const _e=xe.producerId||"internal";return q[_e]||(q[_e]=[]),q[_e].push(xe),q},{});const ee=U==null?void 0:U.find(q=>q.id===k.paymentMethodId),st=re==null?void 0:re.find(q=>q.id===k.shippingMethodId),se=()=>{if(k.deliveryType==="pickup"||!st)return 0;const q=le();return st.type==="free"||st.freeShippingThreshold>0&&q>=st.freeShippingThreshold?0:st.type==="fixed"?parseFloat(st.basePrice):parseFloat(st.basePrice||"0")},me=async(q,xe)=>{var Ye;const _e=(Ye=q.target.files)==null?void 0:Ye[0];if(_e){if(_e.size>5*1024*1024){j({title:"Erro",description:"Imagem deve ter at 5MB",variant:"destructive"});return}try{const Ve=new FormData;Ve.append("file",_e),Ve.append("folder","product-customizations");const qe=await fetch("/api/upload",{method:"POST",body:Ve});if(!qe.ok)throw new Error("Upload failed");const{url:bt}=await qe.json();xt(xe,"customizationPhoto",bt),j({title:"Sucesso!",description:"Imagem enviada com sucesso"})}catch{j({title:"Erro",description:"Erro ao enviar imagem",variant:"destructive"})}}},nt=q=>{xt(q,"customizationPhoto","")},Nt=(q,xe)=>{var It;const _e=parseFloat(q.costPrice)||0,Ye=k.items.reduce((Wt,yr)=>Wt+yr.unitPrice*yr.quantity,0),Ve=Xg(q,Ye,ae,Ae),qe=Ve.price,bt=Ve.source==="computed"&&((It=Ve.details)==null?void 0:It.minimumPrice)||0,yt={productId:q.id,productName:q.name,producerId:xe||"internal",quantity:1,unitPrice:qe,basePriceWithMargin:qe,totalPrice:qe,costPrice:_e,minimumPrice:bt,priceSource:Ve.source,hasItemCustomization:!1,selectedCustomizationId:"",itemCustomizationValue:0,itemCustomizationDescription:"",additionalCustomizationNotes:"",customizationPhoto:"",productWidth:"",productHeight:"",productDepth:"",hasItemDiscount:!1,itemDiscountType:"percentage",itemDiscountPercentage:0,itemDiscountValue:0,hasGeneralCustomization:!1,generalCustomizationName:"",generalCustomizationValue:0,notes:q.description||""};P(Wt=>({...Wt,items:[...Wt.items,yt]})),w(null),F(!1)},xt=(q,xe,_e)=>{P(Ye=>{const Ve=[...Ye.items],qe={...Ve[q]},bt=yt=>{const It=yt.basePriceWithMargin||0,Wt=yt.hasItemCustomization&&parseFloat(yt.itemCustomizationValue)||0,yr=yt.hasGeneralCustomization&&parseFloat(yt.generalCustomizationValue)||0;return Math.round((It+Wt+yr)*100)/100};if(xe==="quantity"){const yt=parseInt(_e)||1;if(qe.quantity=yt,qe.priceSource==="computed"&&qe.costPrice&&qe.costPrice>0){const It=Ye.items.reduce((yr,In,un)=>{const ta=un===q?yt:In.quantity;return yr+In.unitPrice*ta},0),Wt=Me(qe.costPrice,It);qe.minimumPrice=Math.round(Wt.minimumPrice*100)/100,qe.basePriceWithMargin=Math.round(Wt.idealPrice*100)/100,qe.unitPrice=bt(qe)}qe.totalPrice=Fe({...qe,quantity:yt,unitPrice:qe.unitPrice})}else if(xe==="unitPrice"){const yt=parseFloat(_e)||0;qe.unitPrice=yt;const It=qe.hasItemCustomization&&parseFloat(qe.itemCustomizationValue)||0,Wt=qe.hasGeneralCustomization&&parseFloat(qe.generalCustomizationValue)||0;qe.basePriceWithMargin=Math.max(0,Math.round((yt-It-Wt)*100)/100),qe.totalPrice=Fe({...qe,unitPrice:yt}),qe.minimumPrice&&qe.minimumPrice>0&&qe.basePriceWithMargin<qe.minimumPrice&&j({title:"Ateno: Preo abaixo do mnimo!",description:`Preo base (R$ ${qe.basePriceWithMargin.toFixed(2)}) abaixo do mnimo permitido (R$ ${qe.minimumPrice.toFixed(2)}). Necessita aprovao.`,variant:"destructive"})}else if(xe==="itemCustomizationValue"||xe==="generalCustomizationValue"){qe[xe]=parseFloat(_e)||0;const yt={...qe,[xe]:parseFloat(_e)||0};qe.unitPrice=bt(yt),qe.totalPrice=Fe({...yt,unitPrice:qe.unitPrice})}else if(xe==="hasItemCustomization"||xe==="hasGeneralCustomization"){qe[xe]=!!_e;const yt={...qe,[xe]:!!_e};qe.unitPrice=bt(yt),qe.totalPrice=Fe({...yt,unitPrice:qe.unitPrice})}else qe[xe]=_e,(xe.includes("Discount")||xe.includes("discount"))&&(qe.totalPrice=Fe({...qe,[xe]:_e}));return Ve[q]=qe,{...Ye,items:Ve}})},Ne=q=>{P(xe=>({...xe,items:xe.items.filter((_e,Ye)=>Ye!==q)}))},le=()=>{const q=k.items.reduce((_e,Ye)=>_e+Fe(Ye),0),xe=k.items.length>0&&k.items.every(_e=>_e.minimumPrice>0&&(_e.basePriceWithMargin||_e.unitPrice)<=_e.minimumPrice);if(k.hasDiscount&&!xe){let _e=0;k.discountType==="percentage"?_e=q*k.discountPercentage/100:k.discountType==="value"&&(_e=k.discountValue);const Ye=k.items.reduce((qe,bt)=>{const yt=bt.minimumPrice>0?bt.minimumPrice:bt.basePriceWithMargin||bt.unitPrice,It=bt.hasItemCustomization&&parseFloat(bt.itemCustomizationValue)||0,Wt=bt.hasGeneralCustomization&&parseFloat(bt.generalCustomizationValue)||0,yr=yt+It+Wt;return qe+yr*bt.quantity},0),Ve=Math.max(0,q-_e);return Math.max(Ye,Ve)}return q},Fe=q=>{let _e=q.unitPrice*q.quantity;if(q.hasItemDiscount){const Ye=(q.basePriceWithMargin||q.unitPrice)*q.quantity;if(q.itemDiscountType==="percentage"){const Ve=Ye*(parseFloat(q.itemDiscountPercentage)||0)/100;_e=_e-Ve}else q.itemDiscountType==="value"&&(_e=_e-(parseFloat(q.itemDiscountValue)||0))}return Math.max(0,_e)},ze=()=>{if(!ee||ee.type!=="credit_card"||k.installments<=1)return 0;const q=parseFloat(ee.installmentInterest||"0");if(q===0)return 0;const xe=le(),_e=parseFloat(k.shippingCost)||se();return(xe+_e)*q*k.installments/100},je=()=>{const q=le(),xe=parseFloat(k.shippingCost)||se(),_e=ze();return q+xe+_e};B.useEffect(()=>{const q=je();if(q>0){const xe=Math.round(q*100/2)/100;P(_e=>({..._e,downPayment:xe,remainingAmount:Math.max(0,q-xe)}))}},[k.items,k.hasDiscount,k.discountPercentage,k.discountValue,k.shippingCost]),B.useEffect(()=>{k.hasDiscount&&k.items.length>0&&k.items.every(xe=>xe.minimumPrice>0&&(xe.basePriceWithMargin||xe.unitPrice)<=xe.minimumPrice)&&(P(xe=>({...xe,hasDiscount:!1,discountPercentage:0,discountValue:0})),j({title:"Desconto removido",description:"Todos os produtos esto no preo mnimo. O desconto foi desabilitado automaticamente.",variant:"destructive"}))},[k.items]);const De=()=>{P({title:"",description:"",clientId:"",contactName:"",contactPhone:"",contactEmail:"",vendorId:(H==null?void 0:H.id)||"",branchId:"",validUntil:"",deliveryDeadline:"",deliveryType:"delivery",items:[],photos:[],hasDiscount:!1,discountType:"percentage",discountPercentage:0,discountValue:0,shippingCost:0,paymentMethodId:"",shippingMethodId:"",installments:1,downPayment:0,remainingAmount:0}),h(!1),A(null),w(null),F(!1)},Ke=jt({mutationFn:async q=>{const xe=ze(),_e=(ee==null?void 0:ee.type)==="credit_card"?parseFloat((ee==null?void 0:ee.installmentInterest)||"0"):0,Ye={...q,vendorId:q.vendorId||(H==null?void 0:H.id)||"",totalValue:je().toFixed(2),interestRate:_e,interestValue:xe.toFixed(2)},Ve=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)});if(!Ve.ok)throw new Error("Erro ao criar oramento");return Ve.json()},onSuccess:q=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),ct.setQueryData(["/api/budgets"],xe=>xe?xe.find(Ye=>Ye.id===q.id)?xe.map(Ye=>Ye.id===q.id?q:Ye):[q,...xe]:[q]),t(!1),De(),l(""),d("all"),j({title:"Sucesso!",description:"Oramento criado com sucesso"})}}),At=jt({mutationFn:async q=>{const xe=ze(),_e=(ee==null?void 0:ee.type)==="credit_card"?parseFloat((ee==null?void 0:ee.installmentInterest)||"0"):0,Ye={...q,vendorId:q.vendorId||(H==null?void 0:H.id)||"",totalValue:je().toFixed(2),interestRate:_e,interestValue:xe.toFixed(2)},Ve=await fetch(`/api/budgets/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)});if(!Ve.ok)throw new Error("Erro ao atualizar oramento");return Ve.json()},onSuccess:q=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),ct.setQueryData(["/api/budgets"],xe=>xe?xe.map(_e=>_e.id===q.id?q:_e):[q]),t(!1),De(),l(""),d("all"),j({title:"Sucesso!",description:"Oramento atualizado com sucesso"})}});jt({mutationFn:async q=>{const xe=await fetch(`/api/budgets/${q}`,{method:"DELETE"});if(!xe.ok){const _e=await xe.json();throw new Error(_e.error||"Erro ao excluir oramento")}return xe.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),ct.setQueryData(["/api/budgets"],q=>q&&q.filter(xe=>xe.id!==budgetId)),j({title:"Sucesso!",description:"Oramento excludo com sucesso"})},onError:q=>{j({title:"Erro ao excluir",description:q.message,variant:"destructive"})}});const[He,Te]=B.useState(!1),[dr,Pe]=B.useState(null),[X,We]=B.useState(""),[wt,Ct]=B.useState(""),Qt=jt({mutationFn:async({budgetId:q,clientId:xe,deliveryDate:_e})=>{const Ye=await fetch(`/api/budgets/${q}/convert-to-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:xe,deliveryDate:_e})});if(!Ye.ok){const Ve=await Ye.text();throw new Error(`Erro ao converter oramento: ${Ve}`)}return Ye.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),ct.invalidateQueries({queryKey:["/api/production-orders"]}),ct.invalidateQueries({queryKey:["/api/finance/receivables"]}),ct.invalidateQueries({queryKey:["/api/finance/payables"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),Te(!1),Pe(null),We(""),Ct(""),j({title:"Sucesso!",description:"Oramento convertido em pedido com sucesso"})},onError:q=>{j({title:"Erro",description:q.message||"Erro ao converter oramento",variant:"destructive"})}}),pe=jt({mutationFn:async q=>{const xe=await fetch(`/api/budgets/${q}/send-whatsapp`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!xe.ok)throw new Error("Erro ao enviar oramento");return xe.json()},onSuccess:q=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),q.whatsappUrl&&window.open(q.whatsappUrl,"_blank"),j({title:"Sucesso!",description:"Oramento enviado via WhatsApp"})}}),dt=jt({mutationFn:async q=>{var Ye,Ve,qe;console.log("Starting PDF generation for budget:",q);const xe=await fetch(`/api/budgets/${q}/pdf-data`);if(!xe.ok){const bt=await xe.text();throw console.error("PDF data fetch failed:",xe.status,bt),new Error(`Erro ${xe.status}: ${bt}`)}const _e=await xe.json();return console.log("PDF data received successfully:",{budgetId:(Ye=_e.budget)==null?void 0:Ye.id,budgetNumber:(Ve=_e.budget)==null?void 0:Ve.budgetNumber,itemCount:((qe=_e.items)==null?void 0:qe.length)||0,hasClient:!!_e.client,hasVendor:!!_e.vendor}),_e},onSuccess:async q=>{var xe;try{if(console.log("Processing PDF generation..."),!q)throw new Error("Nenhum dado retornado da API");if(!q.budget)throw new Error("Dados do oramento no encontrados na resposta da API");console.log(`Generating PDF for budget ${q.budget.budgetNumber} with ${((xe=q.items)==null?void 0:xe.length)||0} items`);const Ye=await new vie().generateBudgetPDF(q),Ve=URL.createObjectURL(Ye),qe=document.createElement("a");qe.href=Ve,qe.download=`orcamento-${q.budget.budgetNumber||"sem-numero"}.pdf`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(Ve),j({title:"Sucesso!",description:"PDF gerado e baixado com sucesso!"})}catch(_e){console.error("Error generating PDF:",_e),console.error("Error details:",{message:_e.message,stack:_e.stack,data:q}),j({title:"Erro ao gerar PDF",description:`${_e.message}. Verifique o console para mais detalhes.`,variant:"destructive"})}},onError:q=>{console.error("PDF generation mutation error:",q),j({title:"Erro na requisio",description:`Erro ao buscar dados do oramento: ${q.message}`,variant:"destructive"})}}),Rt=q=>{Pe(q),Te(!0)},Dt=()=>{dr&&X&&wt&&Qt.mutate({budgetId:dr,clientId:X,deliveryDate:wt})},ot=jt({mutationFn:async q=>{const xe=await fetch(`/api/budgets/${q}`);if(!xe.ok)throw new Error("Erro ao buscar detalhes do oramento");return xe.json()},onSuccess:q=>{y(q),g(!0)},onError:q=>{j({title:"Erro",description:q.message,variant:"destructive"})}}),Ft=jt({mutationFn:async q=>{const xe=await fetch(`/api/budgets/${q}/admin-approve`,{method:"POST"});if(!xe.ok)throw new Error("Erro ao aprovar oramento");return xe.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),L(!1),g(!1),O(""),j({title:"Sucesso!",description:"Oramento autorizado com sucesso."})},onError:q=>{j({title:"Erro",description:q.message||"Erro ao aprovar oramento.",variant:"destructive"})}}),Er=jt({mutationFn:async({budgetId:q,reason:xe})=>{const _e=await fetch(`/api/budgets/${q}/admin-reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:xe})});if(!_e.ok)throw new Error("Erro ao rejeitar oramento");return _e.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets"]}),L(!1),g(!1),O(""),j({title:"Sucesso!",description:"Oramento no autorizado."})},onError:q=>{j({title:"Erro",description:q.message||"Erro ao rejeitar oramento.",variant:"destructive"})}}),xr=q=>{ot.mutate(q.id)},on=q=>{dt.mutate(q.id)},zt=q=>{if(q==null)return 0;if(typeof q=="number")return q;let xe=String(q).trim();if(xe=xe.replace("R$","").replace(/\s/g,""),!xe)return 0;if(xe.includes(","))xe=xe.replace(/\./g,""),xe=xe.replace(",",".");else{const Ye=xe.split(".");if(Ye.length>2){const Ve=Ye.pop();xe=Ye.join("")+"."+Ve}xe=xe.replace(/,/g,"")}const _e=Number(xe);return Number.isFinite(_e)?_e:0},ar=q=>{if(!q)return"";const xe=new Date(q);return isNaN(xe.getTime())?"":xe.toISOString().slice(0,10)},is=q=>q?new Date(q+"T00:00:00.000Z").toISOString():null,gs=async q=>{var xe,_e,Ye,Ve,qe;console.log("Editing budget:",q);try{const bt=await fetch(`/api/budgets/${q.id}`);if(!bt.ok)throw new Error("Erro ao buscar oramento");const yt=await bt.json();console.log("Budget items:",yt.items);const It=parseFloat(((xe=yt.paymentInfo)==null?void 0:xe.downPayment)||yt.downPayment||0),Wt=parseFloat(((_e=yt.paymentInfo)==null?void 0:_e.shippingCost)||yt.shippingCost||0),yr=(yt.items||[]).map(Qr=>{var np;let ia=Qr.producerId;if(!ia&&Qr.productId){const bu=Oe.find(Nd=>Nd.id===Qr.productId);ia=(bu==null?void 0:bu.producerId)||"internal"}ia||(ia="internal");const Ui=Oe.find(bu=>bu.id===Qr.productId),Qi=Ui&&parseFloat(Ui.costPrice)||0,zl=zt(Qr.unitPrice),ji=Qr.hasItemCustomization?zt(Qr.itemCustomizationValue):0,o1=Qr.hasGeneralCustomization?zt(Qr.generalCustomizationValue):0,vs=Math.max(0,Math.round((zl-ji-o1)*100)/100);return{productId:Qr.productId,productName:Qr.productName||((np=Qr.product)==null?void 0:np.name),producerId:ia,quantity:Math.max(1,Math.round(zt(Qr.quantity))),unitPrice:zl,basePriceWithMargin:vs,minimumPrice:0,costPrice:Qi,priceSource:Qi>0?"computed":"manual",totalPrice:zt(Qr.totalPrice),hasItemCustomization:!!Qr.hasItemCustomization,selectedCustomizationId:Qr.selectedCustomizationId||"",itemCustomizationValue:zt(Qr.itemCustomizationValue),itemCustomizationDescription:Qr.itemCustomizationDescription||"",additionalCustomizationNotes:Qr.additionalCustomizationNotes||"",customizationPhoto:Qr.customizationPhoto||"",productWidth:Qr.productWidth?Qr.productWidth.toString():"",productHeight:Qr.productHeight?Qr.productHeight.toString():"",productDepth:Qr.productDepth?Qr.productDepth.toString():"",hasItemDiscount:!!Qr.hasItemDiscount,itemDiscountType:Qr.itemDiscountType||"percentage",itemDiscountPercentage:zt(Qr.itemDiscountPercentage),itemDiscountValue:zt(Qr.itemDiscountValue),hasGeneralCustomization:!!Qr.hasGeneralCustomization,generalCustomizationName:Qr.generalCustomizationName||"",generalCustomizationValue:zt(Qr.generalCustomizationValue)}}),In=yr.reduce((Qr,ia)=>Qr+zt(ia.unitPrice)*ia.quantity,0);for(const Qr of yr)if(Qr.costPrice&&Qr.costPrice>0){const ia=Me(Qr.costPrice,In);Qr.minimumPrice=Math.round(ia.minimumPrice*100)/100}const un=yr.reduce((Qr,ia)=>{let Ui=zt(ia.unitPrice);if(ia.hasItemDiscount){const Qi=ia.basePriceWithMargin||Ui,zl=ia.itemDiscountType==="percentage"?Qi*ia.itemDiscountPercentage/100:ia.itemDiscountValue;Ui-=zl}return Qr+Math.max(0,Ui)*ia.quantity},0),ta=Math.max(0,un-It);P({title:yt.title,description:yt.description||"",clientId:yt.clientId||"",contactName:yt.contactName||"",contactPhone:yt.contactPhone||"",contactEmail:yt.contactEmail||"",vendorId:yt.vendorId||(H==null?void 0:H.id)||"",branchId:yt.branchId||"",validUntil:ar(yt.validUntil),deliveryDeadline:ar(yt.deliveryDeadline),deliveryType:yt.deliveryType||"delivery",items:yr,photos:yt.photos||[],paymentMethodId:((Ye=yt.paymentInfo)==null?void 0:Ye.paymentMethodId)||yt.paymentMethodId||"",shippingMethodId:((Ve=yt.paymentInfo)==null?void 0:Ve.shippingMethodId)||yt.shippingMethodId||"",installments:((qe=yt.paymentInfo)==null?void 0:qe.installments)||yt.installments||1,downPayment:zt(It),remainingAmount:zt(ta),shippingCost:zt(Wt),hasDiscount:!!yt.hasDiscount,discountType:yt.discountType||"percentage",discountPercentage:zt(yt.discountPercentage),discountValue:zt(yt.discountValue)}),h(!0),A(q.id),t(!0)}catch{j({title:"Erro",description:"Erro ao carregar oramento para edio",variant:"destructive"})}},te=q=>{if(q.preventDefault(),k.items.length===0){j({title:"Erro",description:"Adicione pelo menos um produto ao oramento",variant:"destructive"});return}const xe=new Date().toISOString().split("T")[0];if(k.validUntil&&k.validUntil<xe){j({title:"Erro de Validao",description:"A data de 'Vlido At' no pode ser anterior a hoje.",variant:"destructive"});return}if(!k.title){j({title:"Erro",description:"O ttulo do oramento  obrigatrio.",variant:"destructive"});return}if(!k.contactName){j({title:"Erro",description:"O nome de contato  obrigatrio.",variant:"destructive"});return}if(!k.paymentMethodId){j({title:"Erro",description:"A forma de pagamento  obrigatria.",variant:"destructive"});return}if(k.installments<1){j({title:"Erro",description:"O nmero de parcelas deve ser pelo menos 1.",variant:"destructive"});return}if(k.deliveryType!=="pickup"&&!k.shippingMethodId){j({title:"Erro",description:"O mtodo de frete  obrigatrio quando o tipo de entrega no  'Retirada no Local'.",variant:"destructive"});return}const _e=k.items.map(Ve=>({...Ve,quantity:Math.max(1,Math.round(zt(Ve.quantity))),unitPrice:zt(Ve.unitPrice),totalPrice:zt(Ve.totalPrice),itemCustomizationValue:zt(Ve.itemCustomizationValue),generalCustomizationValue:zt(Ve.generalCustomizationValue),itemDiscountPercentage:zt(Ve.itemDiscountPercentage),itemDiscountValue:zt(Ve.itemDiscountValue)})),Ye={...k,items:_e,validUntil:is(k.validUntil),deliveryDeadline:is(k.deliveryDeadline)};u?At.mutate(Ye):Ke.mutate(Ye)};Oe.filter(q=>{var Ye;const xe=!o||q.name.toLowerCase().includes(o.toLowerCase())||((Ye=q.description)==null?void 0:Ye.toLowerCase().includes(o.toLowerCase()))||q.id.toLowerCase().includes(o.toLowerCase()),_e=c==="all"||q.category===c;return xe&&_e});const Xe=q=>{const xe={draft:"status-badge status-pending",sent:"status-badge status-confirmed",approved:"status-badge status-production",rejected:"status-badge status-cancelled",converted:"status-badge status-completed",awaiting_approval:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",admin_approved:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",not_approved:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium"},_e={draft:"Rascunho",sent:"Enviado",approved:"Aprovado",rejected:"Rejeitado",converted:"Convertido",awaiting_approval:"Aguardando Autorizao",admin_approved:"Autorizado",not_approved:"No Autorizado"};return n.jsx("span",{className:xe[q]||"status-badge",children:_e[q]||q})},ht=R==null?void 0:R.filter(q=>{const xe=r==="all"||q.status===r,_e=s===""||q.budgetNumber.toLowerCase().includes(s.toLowerCase())||q.title.toLowerCase().includes(s.toLowerCase())||(q.contactName||q.clientName||"").toLowerCase().includes(s.toLowerCase());return xe&&_e});return V?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gesto de Oramentos - Admin"}),n.jsx("p",{className:"text-gray-600",children:"Crie e gerencie oramentos para todos os vendedores e clientes"})]}),n.jsxs(rr,{open:e,onOpenChange:q=>{t(q),q&&!u&&(De(),l(""),d("all"))},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>{h(!1),A(null),De(),l(""),d("all")},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Oramento"]})}),n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:u?"Editar Oramento":"Criar Novo Oramento"}),n.jsx(lr,{children:u?"Modifique os dados do oramento existente":"Crie um oramento personalizado com produtos do catlogo"})]}),n.jsxs("form",{onSubmit:te,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-title",children:"Ttulo do Oramento *"}),n.jsx(ie,{id:"admin-budget-title",value:k.title,onChange:q=>P({...k,title:q.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-validUntil",children:"Vlido At *"}),n.jsx(ie,{id:"admin-budget-validUntil",type:"date",value:k.validUntil,onChange:q=>{const xe=q.target.value,_e=new Date().toISOString().split("T")[0];if(xe<_e){j({title:"Data Invlida",description:"A data 'Vlido At' no pode ser anterior  data de hoje.",variant:"destructive"});return}P({...k,validUntil:xe})},min:new Date().toISOString().split("T")[0],required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-deliveryDeadline",children:"Prazo de Entrega *"}),n.jsxs($t,{value:k.deliveryDeadline?(()=>{var q;try{const xe=new Date,_e=new Date(k.deliveryDeadline);if(isNaN(_e.getTime()))return"";const Ye=_e.getTime()-xe.getTime(),Ve=Math.ceil(Ye/(1e3*60*60*24));return((q=[5,10,15,20,25,30,35,40,45,50,55,60].find(bt=>bt===Ve))==null?void 0:q.toString())||""}catch{return""}})():"",onValueChange:q=>{try{const xe=parseInt(q);if(isNaN(xe))return;const _e=new Date,Ye=new Date(_e);if(Ye.setDate(_e.getDate()+xe),isNaN(Ye.getTime()))return;P({...k,deliveryDeadline:Ye.toISOString().split("T")[0]})}catch(xe){console.error("Error setting delivery deadline:",xe)}},required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o prazo em dias"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"5",children:"5 dias"}),n.jsx(ge,{value:"10",children:"10 dias"}),n.jsx(ge,{value:"15",children:"15 dias"}),n.jsx(ge,{value:"20",children:"20 dias"}),n.jsx(ge,{value:"25",children:"25 dias"}),n.jsx(ge,{value:"30",children:"30 dias"}),n.jsx(ge,{value:"35",children:"35 dias"}),n.jsx(ge,{value:"40",children:"40 dias"}),n.jsx(ge,{value:"45",children:"45 dias"}),n.jsx(ge,{value:"50",children:"50 dias"}),n.jsx(ge,{value:"55",children:"55 dias"}),n.jsx(ge,{value:"60",children:"60 dias"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-delivery-type",children:"Tipo de Entrega *"}),n.jsxs($t,{value:k.deliveryType,onValueChange:q=>P({...k,deliveryType:q}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o tipo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"delivery",children:"Entrega com Frete"}),n.jsx(ge,{value:"pickup",children:"Retirada no Local"})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-branch",children:"Filial do Oramento *"}),n.jsxs($t,{value:k.branchId||((Gt=de==null?void 0:de.find(q=>q.isHeadquarters))==null?void 0:Gt.id)||((oe=de==null?void 0:de[0])==null?void 0:oe.id)||"",onValueChange:q=>P({...k,branchId:q}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a filial"})}),n.jsx(Ut,{children:de==null?void 0:de.map(q=>n.jsxs(ge,{value:q.id,children:[q.name," - ",q.city,q.isHeadquarters&&" (Matriz)"]},q.id))})]})]})}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-description",children:"Descrio"}),n.jsx(Jn,{id:"admin-budget-description",rows:2,value:k.description,onChange:q=>P({...k,description:q.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-contact-name",children:"Nome de Contato *"}),n.jsx(ie,{id:"admin-budget-contact-name",value:k.contactName,onChange:q=>P({...k,contactName:q.target.value}),required:!0,placeholder:"Nome do cliente/contato"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-contact-phone",children:"Telefone"}),n.jsx(ie,{id:"admin-budget-contact-phone",value:k.contactPhone,onChange:q=>P({...k,contactPhone:gB(q.target.value)}),placeholder:"(11) 99999-9999",maxLength:15})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-contact-email",children:"Email"}),n.jsx(ie,{id:"admin-budget-contact-email",type:"email",value:k.contactEmail,onChange:q=>P({...k,contactEmail:q.target.value}),placeholder:"cliente@email.com"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-client",children:"Cliente Cadastrado (Opcional)"}),n.jsxs($t,{value:k.clientId||"none",onValueChange:q=>P({...k,clientId:q==="none"?"":q}),disabled:Y,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:Y?"Carregando clientes...":"Selecione um cliente cadastrado (opcional)"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"none",children:"Nenhum cliente selecionado"}),D==null?void 0:D.filter(q=>q.isActive).map(q=>n.jsx(ge,{value:q.id,children:q.name},q.id))]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-budget-vendor",children:"Vendedor"}),n.jsxs($t,{value:k.vendorId,onValueChange:q=>P({...k,vendorId:q}),disabled:S,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:S?"Carregando vendedores...":"Selecione um vendedor"})}),n.jsx(Ut,{children:ne==null?void 0:ne.map(q=>n.jsx(ge,{value:q.id,children:q.name},q.id))})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Produtos do Oramento *"}),k.items.length>0&&n.jsx("div",{className:"space-y-4",children:k.items.map((q,xe)=>{var _e,Ye,Ve;return n.jsxs("div",{className:`p-4 border rounded-lg ${xe%2===0?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}`,children:[n.jsx("div",{className:"mb-3 p-2 bg-white/80 rounded-md border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(En,{className:"h-4 w-4 text-gray-600"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Produtor: ",q.producerId==="internal"?"Produtos Internos":((_e=W==null?void 0:W.find(qe=>qe.id===q.producerId))==null?void 0:_e.name)||"Produtor no encontrado"]})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-medium",children:q.productName}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{type:"button",title:"Editar descrio que sair no PDF",onClick:()=>m(p===xe?null:xe),className:`p-1.5 rounded-md border transition-colors ${p===xe?"bg-blue-100 border-blue-400 text-blue-700":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:n.jsx(Mn,{className:"h-3.5 w-3.5"})}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>Ne(xe),children:n.jsx(Bs,{className:"h-4 w-4"})})]})]}),p===xe?n.jsxs("div",{className:"mb-3 bg-white/80 rounded-md p-2 border border-blue-200",children:[n.jsxs(fe,{htmlFor:`admin-description-${xe}`,className:"text-xs text-blue-700 font-medium flex items-center gap-1 mb-1",children:[n.jsx(Mn,{className:"h-3 w-3"})," Descrio no PDF"]}),n.jsx(Jn,{id:`admin-description-${xe}`,value:q.notes||"",onChange:qe=>xt(xe,"notes",qe.target.value),rows:2,className:"text-sm",placeholder:"Descrio que aparecer para o cliente no PDF...",autoFocus:!0}),n.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"Clique no lpis para fechar"})]}):q.notes?n.jsxs("p",{className:"text-xs text-gray-500 mb-3 italic truncate",title:q.notes,children:[" ",q.notes]}):null,n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx(fe,{htmlFor:`admin-quantity-${xe}`,children:"Quantidade *"}),n.jsxs("button",{type:"button",title:q.hasItemCustomization?"Personalizao ativa":"Adicionar personalizao",onClick:()=>xt(xe,"hasItemCustomization",!q.hasItemCustomization),className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border transition-colors ${q.hasItemCustomization?"bg-blue-100 border-blue-400 text-blue-700":"bg-gray-100 border-gray-300 text-gray-500 hover:bg-blue-50"}`,children:[n.jsx(no,{className:"h-3 w-3"}),q.hasItemCustomization?"Personaliz.":"Personalizar"]})]}),n.jsx(ie,{id:`admin-quantity-${xe}`,type:"number",min:"1",value:q.quantity,onChange:qe=>xt(xe,"quantity",qe.target.value),required:!0})]}),n.jsxs("div",{className:"flex-1 min-w-[120px]",children:[n.jsx(fe,{className:"text-xs",children:"Preo Unitrio (R$)"}),n.jsx(ie,{placeholder:"R$ 0,00",value:q.unitPrice>0?Pi(q.unitPrice.toString().replace(".",",")):"",onChange:qe=>xt(xe,"unitPrice",ki(qe.target.value)),className:q.minimumPrice&&(q.basePriceWithMargin||q.unitPrice)<q.minimumPrice?"border-red-500 focus:ring-red-500":""}),n.jsx("div",{className:"flex justify-end mt-1 px-1",children:(()=>{const qe=q.basePriceWithMargin||q.unitPrice;return q.minimumPrice>0&&qe>0&&qe<q.minimumPrice?n.jsx("span",{className:"text-xs text-red-600 font-bold",children:"Abaixo do mn."}):null})()})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`admin-subtotal-${xe}`,children:"Subtotal (Qtd x Preo)"}),n.jsx(ie,{id:`admin-subtotal-${xe}`,value:`R$ ${(q.unitPrice*q.quantity).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`admin-width-${xe}`,children:"Largura (cm)"}),n.jsx(ie,{id:`admin-width-${xe}`,type:"number",step:"0.1",min:"0",value:q.productWidth,onChange:qe=>xt(xe,"productWidth",qe.target.value),placeholder:"Ex: 150.0"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`admin-height-${xe}`,children:"Altura (cm)"}),n.jsx(ie,{id:`admin-height-${xe}`,type:"number",step:"0.1",min:"0",value:q.productHeight,onChange:qe=>xt(xe,"productHeight",qe.target.value),placeholder:"Ex: 80.0"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`admin-depth-${xe}`,children:"Profundidade (cm)"}),n.jsx(ie,{id:`admin-depth-${xe}`,type:"number",step:"0.1",min:"0",value:q.productDepth,onChange:qe=>xt(xe,"productDepth",qe.target.value),placeholder:"Ex: 60.0"})]})]}),q.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-3 space-y-3",children:[n.jsx(c8,{productCategory:(Ye=Oe.find(qe=>qe.id===q.productId))==null?void 0:Ye.category,quantity:q.quantity,selectedCustomization:q.selectedCustomizationId,onCustomizationChange:qe=>{qe?(xt(xe,"selectedCustomizationId",qe.id),xt(xe,"itemCustomizationValue",qe.price),xt(xe,"itemCustomizationDescription",qe.name)):(xt(xe,"selectedCustomizationId",""),xt(xe,"itemCustomizationValue",0),xt(xe,"itemCustomizationDescription",""),xt(xe,"additionalCustomizationNotes",""))},customizationValue:q.itemCustomizationValue||0,onCustomizationValueChange:qe=>xt(xe,"itemCustomizationValue",qe),customizationDescription:q.itemCustomizationDescription||"",onCustomizationDescriptionChange:qe=>xt(xe,"itemCustomizationDescription",qe)}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{children:"Valor Unitrio (R$)"}),n.jsx(ie,{value:q.itemCustomizationValue>0?Pi(q.itemCustomizationValue.toString().replace(".",",")):"",onChange:qe=>{const bt=ki(qe.target.value);xt(xe,"itemCustomizationValue",bt)},placeholder:"0,00"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Total da Personalizao (R$)"}),n.jsx(ie,{value:Pi((q.quantity*(q.itemCustomizationValue||0)).toFixed(2).replace(".",",")),onChange:qe=>{const bt=ki(qe.target.value),yt=q.quantity>0?bt/q.quantity:0;xt(xe,"itemCustomizationValue",yt)},placeholder:"0,00"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[q.quantity,"  R$ ",(q.itemCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Observaes Adicionais (Opcional)"}),n.jsx(ie,{value:q.additionalCustomizationNotes||"",onChange:qe=>xt(xe,"additionalCustomizationNotes",qe.target.value),placeholder:"Observaes extras sobre a personalizao..."})]}),n.jsxs("div",{children:[n.jsxs(fe,{children:["Imagem da Personalizao - ",q.productName,n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",q.producerId==="internal"?"Produto Interno":((Ve=W==null?void 0:W.find(qe=>qe.id===q.producerId))==null?void 0:Ve.name)||"Produtor no encontrado",")"]})]}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center pt-2 pb-2",children:[n.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:n.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para enviar imagem"}),n.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Para: ",q.productName]})]}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:qe=>me(qe,xe)})]})}),q.customizationPhoto&&n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:q.customizationPhoto,alt:`Personalizao ${q.productName}`,className:"w-24 h-24 object-cover rounded-lg",onError:qe=>{console.error("Erro ao carregar imagem:",q.customizationPhoto),qe.currentTarget.style.display="none"}}),n.jsx(Z,{variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>nt(xe),type:"button",children:""})]})]})]}),n.jsx(as,{className:"my-4"}),n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(tl,{id:`admin-general-customization-${xe}`,checked:q.hasGeneralCustomization,onCheckedChange:qe=>xt(xe,"hasGeneralCustomization",qe)}),n.jsxs(fe,{htmlFor:`admin-general-customization-${xe}`,className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Personalizao Geral"]})]}),q.hasGeneralCustomization&&n.jsxs("div",{className:"bg-green-50 p-3 rounded mb-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`admin-general-customization-name-${xe}`,children:"Nome da Personalizao"}),n.jsx(ie,{id:`admin-general-customization-name-${xe}`,value:q.generalCustomizationName||"",onChange:qe=>xt(xe,"generalCustomizationName",qe.target.value),placeholder:"Ex: Bordado, Gravao, etc."})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`admin-general-customization-value-${xe}`,children:"Valor Unitrio (R$)"}),n.jsx(ie,{id:`admin-general-customization-value-${xe}`,value:q.generalCustomizationValue>0?Pi(q.generalCustomizationValue.toString().replace(".",",")):"",onChange:qe=>{const bt=ki(qe.target.value);xt(xe,"generalCustomizationValue",bt)},placeholder:"R$ 0,00"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Total da Personalizao Geral (R$)"}),n.jsx(ie,{value:Pi((q.quantity*(q.generalCustomizationValue||0)).toFixed(2).replace(".",",")),onChange:qe=>{const bt=ki(qe.target.value),yt=q.quantity>0?bt/q.quantity:0;xt(xe,"generalCustomizationValue",yt)},placeholder:"0,00"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[q.quantity,"  R$ ",(q.generalCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-1",children:[n.jsx("span",{children:"Custo Unitrio (c/ Personalizaes):"}),n.jsxs("span",{children:["R$ ",((q.costPrice||0)+(q.itemCustomizationValue||0)+(q.generalCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{className:"font-medium",children:["R$ ",Fe(q).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]},xe)})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"text-base flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"Adicionar Produtos ao Oramento *"]})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Digite nome ou cdigo do produto...",value:o,onChange:q=>l(q.target.value),className:"pl-9"})]}),n.jsxs($t,{value:c,onValueChange:d,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Categoria"})}),n.jsx(Ut,{children:Ee.map(q=>n.jsx(ge,{value:q,children:q==="all"?"Todas as Categorias":q},q))})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:(()=>{if(o.length<2&&c==="all")return n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Digite o nome ou cdigo do produto para buscar"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Mnimo 2 caracteres para iniciar a busca"})]});const q=Oe.filter(xe=>{var qe,bt,yt,It,Wt,yr;const _e=o.toLowerCase(),Ye=!o||((qe=xe.name)==null?void 0:qe.toLowerCase().includes(_e))||((bt=xe.description)==null?void 0:bt.toLowerCase().includes(_e))||((yt=xe.id)==null?void 0:yt.toLowerCase().includes(_e))||((It=xe.externalCode)==null?void 0:It.toLowerCase().includes(_e))||((Wt=xe.compositeCode)==null?void 0:Wt.toLowerCase().includes(_e))||((yr=xe.friendlyCode)==null?void 0:yr.toLowerCase().includes(_e)),Ve=c==="all"||xe.category===c;return Ye&&Ve});return q.length===0?n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsxs("p",{className:"text-gray-500",children:['Nenhum produto encontrado para "',o,'"']}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{l(""),d("all")},className:"mt-2",children:"Limpar busca"})]}):q.map(xe=>{const _e=xe.friendlyCode||xe.externalCode||xe.compositeCode;parseFloat(xe.costPrice);const Ye=k.items.reduce((bt,yt)=>bt+yt.unitPrice*yt.quantity,0),qe=Xg(xe,Ye,ae,Ae).price;return n.jsx("div",{className:"p-2 border rounded hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors",onClick:()=>{w(xe),F(!0)},children:n.jsxs("div",{className:"flex items-center gap-2",children:[xe.imageLink?n.jsx("img",{src:xe.imageLink,alt:xe.name,className:"w-10 h-10 object-cover rounded"}):n.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(gr,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:xe.name}),_e&&n.jsxs("p",{className:"text-xs text-purple-600 font-mono",children:["Cd: ",_e]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["R$ ",qe.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),xe.category&&n.jsxs("span",{className:"text-xs text-gray-400",children:[" ",xe.category]})]})]})]})},xe.id)})})()}),(o.length>=2||c!=="all")&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-2",children:[n.jsx("span",{children:(()=>{const q=o.toLowerCase();return`${Oe.filter(_e=>{var qe,bt,yt,It,Wt,yr;const Ye=!o||((qe=_e.name)==null?void 0:qe.toLowerCase().includes(q))||((bt=_e.description)==null?void 0:bt.toLowerCase().includes(q))||((yt=_e.id)==null?void 0:yt.toLowerCase().includes(q))||((It=_e.externalCode)==null?void 0:It.toLowerCase().includes(q))||((Wt=_e.compositeCode)==null?void 0:Wt.toLowerCase().includes(q))||((yr=_e.friendlyCode)==null?void 0:yr.toLowerCase().includes(q)),Ve=c==="all"||_e.category===c;return Ye&&Ve}).length} produto(s) encontrado(s)`})()}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{l(""),d("all")},children:"Limpar busca"})]})]}),C&&b&&n.jsx(rr,{open:C,onOpenChange:F,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Selecionar Produtor"}),n.jsxs(lr,{children:["Escolha qual produtor executar o produto: ",n.jsx("strong",{children:b.name})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>{Nt(b,"internal")},children:"Produtos Internos"}),W==null?void 0:W.map(q=>n.jsxs(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>{Nt(b,q.id)},children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),q.name," - ",q.specialty]},q.id))]})]})})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Pagamento e Frete"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-payment-method",children:"Forma de Pagamento *"}),n.jsxs($t,{value:k.paymentMethodId||"",onValueChange:q=>P({...k,paymentMethodId:q}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(Ut,{children:U==null?void 0:U.map(q=>n.jsx(ge,{value:q.id,children:q.name},q.id))})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-shipping-method",children:"Mtodo de Frete *"}),n.jsxs($t,{value:k.shippingMethodId||"",onValueChange:q=>P({...k,shippingMethodId:q}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o mtodo de frete"})}),n.jsx(Ut,{children:re==null?void 0:re.map(q=>n.jsx(ge,{value:q.id,children:q.name},q.id))})]})]})]}),ee&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Configurao de Pagamento"}),ee.type==="credit_card"&&n.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-installments",children:"Nmero de Parcelas *"}),n.jsxs($t,{value:((ce=k.installments)==null?void 0:ce.toString())||"1",onValueChange:q=>P({...k,installments:parseInt(q)}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsx(Ut,{children:Array.from({length:ee.maxInstallments},(q,xe)=>xe+1).map(q=>n.jsxs(ge,{value:q.toString(),children:[q,"x ",q>1&&ee.installmentInterest>0&&`(${ee.installmentInterest}% a.m.)`]},q))})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-down-payment",children:"Valor de Entrada (R$) *"}),n.jsx(ie,{id:"admin-down-payment",value:k.downPayment>0?Pi(k.downPayment.toString().replace(".",",")):"",onChange:q=>{const xe=ki(q.target.value);P({...k,downPayment:xe})},placeholder:"R$ 0,00",required:!0}),n.jsxs("div",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal dos Produtos:"}),n.jsxs("span",{children:["R$ ",le().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),k.deliveryType!=="pickup"&&k.shippingCost>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Frete:"}),n.jsxs("span",{children:["R$ ",k.shippingCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between font-medium text-green-700 pt-1 border-t",children:[n.jsx("span",{children:"Entrada para Iniciar:"}),n.jsxs("span",{children:["R$ ",(k.downPayment||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-remaining-amount",children:"Valor Restante (R$)"}),n.jsx(ie,{id:"admin-remaining-amount",value:`R$ ${(k.remainingAmount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor a pagar aps incio da produo"})]})]})]}),k.deliveryType==="pickup"?n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-800",children:"Retirada no Local"}),n.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"O cliente ir retirar o pedido no local. No h cobrana de frete."})]}):st&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Configurao de Frete"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-shipping-cost",children:"Valor do Frete (R$) *"}),n.jsx(ie,{id:"admin-shipping-cost",value:k.shippingCost>0?Pi(k.shippingCost.toString().replace(".",",")):"",onChange:q=>{const xe=ki(q.target.value);P({...k,shippingCost:xe})},placeholder:"R$ 0,00",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor do frete ser somado ao total do oramento"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Prazo Estimado de Entrega"}),n.jsx(ie,{placeholder:"Ex: 15 dias",value:k.deliveryDeadline,onChange:q=>P({...k,deliveryDeadline:q.target.value})})]})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[(()=>{const q=k.items.length>0&&k.items.every(xe=>xe.minimumPrice>0&&xe.unitPrice<=xe.minimumPrice);return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tl,{id:"admin-has-discount",checked:k.hasDiscount,onCheckedChange:xe=>{if(xe&&q){j({title:"Desconto no permitido",description:"Todos os produtos j esto no preo mnimo. No  possvel aplicar desconto.",variant:"destructive"});return}P({...k,hasDiscount:xe})},disabled:q}),n.jsxs(fe,{htmlFor:"admin-has-discount",className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Aplicar Desconto"]}),q&&n.jsx("span",{className:"text-xs text-red-500 ml-2",children:"Produtos j no preo mnimo"})]})})})(),k.hasDiscount&&n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg space-y-3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-discount-type",children:"Tipo de Desconto"}),n.jsxs($t,{value:k.discountType,onValueChange:q=>P({...k,discountType:q}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"percentage",children:"Porcentagem (%)"}),n.jsx(ge,{value:"value",children:"Valor Fixo (R$)"})]})]})]}),k.discountType==="percentage"?n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-discount-percentage",children:"Desconto (%)"}),n.jsx(ie,{id:"admin-discount-percentage",type:"number",step:"0.01",min:"0",max:"100",value:k.discountPercentage,onChange:q=>P({...k,discountPercentage:parseFloat(q.target.value)||0}),placeholder:"Ex: 10.50"})]}):n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"admin-discount-value",children:"Desconto (R$)"}),n.jsx(ie,{id:"admin-discount-value",type:"number",step:"0.01",min:"0",value:k.discountValue,onChange:q=>P({...k,discountValue:parseFloat(q.target.value)||0}),placeholder:"Ex: 150.00"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Valor do Desconto"}),n.jsxs("p",{className:"text-lg font-semibold text-orange-600 mt-2",children:["R$ ",(()=>{const q=k.items.reduce((xe,_e)=>xe+(parseFloat(_e.unitPrice)||0)*(parseInt(_e.quantity)||1),0);return k.discountType==="percentage"?(q*(parseFloat(k.discountPercentage)||0)/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):(parseFloat(k.discountValue)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})})()]}),(()=>{const q=k.items.reduce((Ve,qe)=>Ve+(parseFloat(qe.unitPrice)||0)*(parseInt(qe.quantity)||1),0),xe=k.items.reduce((Ve,qe)=>{const bt=qe.minimumPrice>0?qe.minimumPrice:qe.basePriceWithMargin||qe.unitPrice,yt=qe.hasItemCustomization&&parseFloat(qe.itemCustomizationValue)||0,It=qe.hasGeneralCustomization&&parseFloat(qe.generalCustomizationValue)||0,Wt=bt+yt+It;return Ve+Wt*(parseInt(qe.quantity)||1)},0);let _e=0;return k.discountType==="percentage"?_e=q*(parseFloat(k.discountPercentage)||0)/100:_e=parseFloat(k.discountValue)||0,q-_e<xe&&k.items.length>0?n.jsx("p",{className:"text-xs text-orange-600 mt-1 font-semibold",children:" Desconto abaixo do preo mnimo - Oramento ser enviado para autorizao"}):null})()]})]})})]}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal dos Produtos:"}),n.jsxs("span",{children:["R$ ",k.items.reduce((xe,_e)=>xe+_e.unitPrice*_e.quantity,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),k.hasDiscount&&n.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[n.jsx("span",{children:"Desconto:"}),n.jsxs("span",{children:["- R$ ",(()=>{const q=k.items.reduce((xe,_e)=>xe+_e.unitPrice*_e.quantity,0);return k.discountType==="percentage"?(q*k.discountPercentage/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):k.discountValue.toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal com Desconto:"}),n.jsxs("span",{children:["R$ ",le().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor da Entrada:"}),n.jsxs("span",{children:["R$ ",k.downPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor do Frete:"}),n.jsx("span",{children:k.deliveryType==="pickup"?"R$ 0,00":`R$ ${(parseFloat(k.shippingCost)||se()).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),ze()>0&&n.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[n.jsxs("span",{children:["Juros do Carto (",ee==null?void 0:ee.installmentInterest,"% x ",k.installments,"x):"]}),n.jsxs("span",{children:["R$ ",ze().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm font-medium text-blue-600 bg-blue-50 p-2 rounded",children:[n.jsx("span",{children:"Entrada + Frete (para financeiro):"}),n.jsxs("span",{children:["R$ ",(k.downPayment+(k.deliveryType==="pickup"?0:parseFloat(k.shippingCost)||se())).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[n.jsx("span",{children:"Total do Oramento:"}),n.jsxs("span",{className:"text-blue-600",children:["R$ ",je().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",type:"button",onClick:()=>{t(!1),De(),l(""),d("all")},children:"Cancelar"}),n.jsx(Z,{type:"submit",disabled:(u?At.isPending:Ke.isPending)||k.items.length===0,children:u?At.isPending?"Atualizando...":"Atualizar Oramento":Ke.isPending?"Criando...":"Criar Oramento"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Oramentos"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(R==null?void 0:R.length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx(td,{className:"h-6 w-6 text-gray-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enviados"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(R==null?void 0:R.filter(q=>q.status==="sent").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Rg,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprovados"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(R==null?void 0:R.filter(q=>q.status==="approved"||q.status==="converted").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Ur,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),n.jsxs("p",{className:"text-lg font-bold gradient-text",children:["R$ ",(R==null?void 0:R.reduce((q,xe)=>q+parseFloat(xe.totalValue),0).toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold",children:"R$"})})]})})})]}),n.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-center",children:[n.jsx("div",{className:"flex gap-2",children:n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-48",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"draft",children:"Rascunho"}),n.jsx(ge,{value:"sent",children:"Enviado"}),n.jsx(ge,{value:"approved",children:"Aprovado"}),n.jsx(ge,{value:"rejected",children:"Rejeitado"}),n.jsx(ge,{value:"converted",children:"Convertido"}),n.jsx(ge,{value:"awaiting_approval",children:"Aguardando Autorizao"}),n.jsx(ge,{value:"admin_approved",children:"Autorizado"}),n.jsx(ge,{value:"not_approved",children:"No Autorizado"})]})]})}),n.jsx("div",{className:"flex-1",children:n.jsx(ie,{placeholder:"Buscar por ttulo, descrio ou cliente...",value:s,onChange:q=>i(q.target.value)})})]}),(R==null?void 0:R.filter(q=>q.status==="approved"||q.status==="admin_approved").length)>0&&n.jsxs("div",{className:"mb-6 bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"font-bold text-orange-800 mb-3 flex items-center gap-2",children:[n.jsx(rte,{className:"h-5 w-5"})," Solicitaes Pendentes - Oramentos Aprovados"]}),n.jsx("div",{className:"space-y-2",children:R.filter(q=>q.status==="approved"||q.status==="admin_approved").map(q=>n.jsxs("div",{className:"bg-white p-3 rounded border flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:q.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",q.contactName]}),n.jsxs("p",{className:"text-sm text-green-600",children:["Total: R$ ",parseFloat(q.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>xr(q),children:"Ver Detalhes"}),n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>{g(!1),Rt(q.id)},children:" Converter em Pedido"})]})]},q.id))})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Lista de Oramentos (",(ht==null?void 0:ht.length)||0,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendedor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ht==null?void 0:ht.map(q=>n.jsxs("tr",{className:q.hasVendorNotification?"bg-blue-50":"",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q.budgetNumber}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[q.title,q.hasVendorNotification&&n.jsx(Yt,{className:"bg-blue-100 text-blue-800 text-xs",children:"Nova Resposta!"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.contactName||q.clientName||"Nome no informado"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.vendorName||"Admin"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(q.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-2",children:[Xe(q.status),q.clientObservations&&n.jsx("div",{className:`text-xs p-1 rounded ${q.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.clientObservations}),q.status==="not_approved"&&q.adminRejectionReason&&n.jsxs("div",{className:"text-xs p-1 rounded bg-red-100 text-red-700 max-w-[200px] truncate",title:q.adminRejectionReason,children:["Motivo: ",q.adminRejectionReason]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>xr(q),"data-testid":`button-view-${q.id}`,children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver"]}),(q.status==="draft"||q.status==="sent"||q.status==="not_approved")&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-900",onClick:()=>gs(q),"data-testid":`button-edit-${q.id}`,children:[n.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Editar"]}),n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>on(q),"data-testid":`button-pdf-${q.id}`,children:[n.jsx(Pn,{className:"h-4 w-4 mr-1"}),"PDF"]}),(q.status==="draft"||q.status==="sent")&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-900",onClick:()=>pe.mutate(q.id),disabled:pe.isPending,"data-testid":`button-send-${q.id}`,children:[n.jsx(Rg,{className:"h-4 w-4 mr-1"}),"Enviar"]}),q.status!=="converted"&&q.status!=="awaiting_approval"&&q.status!=="not_approved"&&n.jsxs(Z,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{g(!1),Rt(q.id)},"data-testid":`button-convert-${q.id}`,children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),"Converter"]}),q.status==="awaiting_approval"&&n.jsx("span",{className:"text-xs text-orange-600 font-semibold",children:" Aguardando Autorizao"})]})})]},q.id))})]})})})]}),n.jsx(rr,{open:x,onOpenChange:g,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Oramento"}),n.jsxs(lr,{children:["Visualizao completa do oramento ",v==null?void 0:v.budgetNumber]})]}),v&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Nmero do Oramento"}),n.jsx("p",{className:"text-lg",children:v.budgetNumber})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Status"}),n.jsx("div",{className:"mt-1",children:Xe(v.status)})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Nome de Contato"}),n.jsx("p",{children:v.contactName})]}),v.contactPhone&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Telefone"}),n.jsx("p",{children:v.contactPhone})]}),v.contactEmail&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Email"}),n.jsx("p",{children:v.contactEmail})]}),v.clientName&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Cliente Cadastrado"}),n.jsx("p",{children:v.clientName})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Data de Criao"}),n.jsx("p",{children:new Date(v.createdAt).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Vlido At"}),n.jsx("p",{children:v.validUntil?new Date(v.validUntil).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Prazo de Entrega"}),n.jsx("p",{children:v.deliveryDeadline?new Date(v.deliveryDeadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Tipo de Entrega"}),n.jsx("p",{className:v.deliveryType==="pickup"?"text-blue-600 font-medium":"text-green-600 font-medium",children:v.deliveryType==="pickup"?"Retirada no Local":"Entrega com Frete"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Valor Total"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(v.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),v.items&&v.items.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Itens do Oramento (",v.items.length,")"]}),n.jsx("div",{className:"space-y-3",children:v.items.map((q,xe)=>n.jsxs("div",{className:"p-4 rounded-lg border bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:q.productName})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Quantidade:"}),n.jsx("p",{className:"font-medium",children:Number(q.quantity).toLocaleString("pt-BR",{maximumFractionDigits:0})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor Unit.:"}),n.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(q.unitPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses:"}),n.jsx("p",{className:"font-medium",children:q.productWidth&&q.productHeight&&q.productDepth?`${q.productWidth}${q.productHeight}${q.productDepth}cm`:"No informado"})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(q.totalPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),q.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-2",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-blue-700 font-medium",children:" Personalizao do Item"})}),n.jsx("p",{className:"text-blue-600 font-medium",children:q.itemCustomizationDescription||"Personalizao especial"}),q.itemCustomizationValue>0&&n.jsxs("p",{className:"text-sm text-blue-500",children:["Valor: +R$ ",parseFloat(q.itemCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})," por unidade"]}),q.additionalCustomizationNotes&&n.jsxs("p",{className:"text-sm text-blue-500 mt-1",children:[n.jsx("strong",{children:"Observaes:"})," ",q.additionalCustomizationNotes]}),q.customizationPhoto&&n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-xs text-blue-600 block mb-1",children:"Imagem de referncia:"}),n.jsx("img",{src:q.customizationPhoto,alt:"Personalizao do produto",className:"w-20 h-20 object-cover rounded border cursor-pointer",onClick:()=>window.open(q.customizationPhoto,"_blank")})]})]}),q.hasGeneralCustomization&&n.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-green-700 font-medium",children:" Personalizao Geral"})}),n.jsx("p",{className:"text-green-600 font-medium",children:q.generalCustomizationName||"Personalizao geral"}),q.generalCustomizationValue>0&&n.jsxs("p",{className:"text-sm text-green-500",children:["Valor: +R$ ",parseFloat(q.generalCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})," por unidade"]})]})]},xe))})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Ttulo"}),n.jsx("p",{className:"mt-1",children:v.title})]}),v.description&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Descrio"}),n.jsx("p",{className:"mt-1",children:v.description})]}),(v.paymentMethodId||v.shippingMethodId)&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Informaes de Pagamento e Frete"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[v.paymentMethodId&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Forma de Pagamento"}),n.jsx("p",{children:((we=U==null?void 0:U.find(q=>q.id===v.paymentMethodId))==null?void 0:we.name)||"No especificado"}),v.installments>1&&n.jsxs("p",{className:"text-sm text-gray-600",children:[v.installments,"x"]}),v.downPayment>0&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Entrada:"})," R$ ",parseFloat(v.downPayment||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Restante:"})," R$ ",parseFloat(v.remainingAmount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),v.shippingMethodId&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Mtodo de Frete"}),n.jsx("p",{children:((ye=re==null?void 0:re.find(q=>q.id===v.shippingMethodId))==null?void 0:ye.name)||"No especificado"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",parseFloat(v.shippingCost||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),v.hasDiscount&&n.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Desconto Aplicado"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"font-medium",children:"Tipo de Desconto"}),n.jsx("p",{children:v.discountType==="percentage"?"Porcentagem":"Valor Fixo"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-medium",children:"Valor do Desconto"}),n.jsx("p",{className:"text-orange-600 font-semibold",children:v.discountType==="percentage"?`${v.discountPercentage}%`:`R$ ${parseFloat(v.discountValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]}),((ke=v.items)==null?void 0:ke.some(q=>q.customizationPhoto))&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Fotos de Personalizao por Produto"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(Ie=v.items)==null?void 0:Ie.filter(q=>q.customizationPhoto).map((q,xe)=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-lg mb-3",children:q.productName}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("img",{src:q.customizationPhoto,alt:`Personalizao ${q.productName}`,className:"w-full max-w-sm h-64 object-contain rounded-lg border",onError:_e=>{console.error("Erro ao carregar imagem:",q.customizationPhoto),_e.currentTarget.style.display="none"}}),q.itemCustomizationDescription&&n.jsx("p",{className:"text-sm text-gray-600 mt-3 text-center",children:q.itemCustomizationDescription})]})]},xe))})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[n.jsxs(Z,{variant:"outline",onClick:()=>dt.mutate(v.id),disabled:dt.isPending,children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),dt.isPending?"Gerando...":"Baixar PDF"]}),v.status==="not_approved"&&n.jsxs(Z,{variant:"outline",className:"text-orange-600 hover:text-orange-900",onClick:()=>{g(!1),gs(v)},children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Editar"]}),(v.status==="draft"||v.status==="sent")&&n.jsxs(Z,{variant:"outline",className:"text-blue-600 hover:text-blue-900",onClick:()=>{g(!1),pe.mutate(v.id)},disabled:pe.isPending,children:[n.jsx(Rg,{className:"h-4 w-4 mr-2"}),pe.isPending?"Enviando...":"Enviar WhatsApp"]}),v.status!=="converted"&&v.status!=="awaiting_approval"&&v.status!=="not_approved"&&n.jsxs(Z,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{g(!1),Rt(v.id)},children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),"Converter"]}),v.status==="awaiting_approval"&&n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm text-orange-600 font-semibold flex items-center gap-1 justify-center w-full my-2",children:[n.jsx(Ll,{className:"h-4 w-4"}),"Aguardando autorizao - Preo abaixo do mnimo"]}),n.jsxs("div",{className:"flex w-full gap-2 mt-2",children:[n.jsxs(Z,{variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",onClick:()=>{I("reject"),L(!0)},children:[n.jsx(fd,{className:"h-4 w-4 mr-2"}),"No Autorizar"]}),n.jsxs(Z,{className:"flex-1 bg-green-600 hover:bg-green-700 text-white",onClick:()=>{I("approve"),L(!0)},children:[n.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Autorizar Oramento"]})]})]}),n.jsx(Z,{variant:"outline",onClick:()=>{g(!1),y(null)},className:"ml-auto",children:"Fechar"})]})]})]})}),n.jsx(rr,{open:He,onOpenChange:Te,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Converter Oramento em Pedido"}),n.jsx(lr,{children:"Para converter em pedido,  necessrio associar um cliente cadastrado e definir a data de entrega."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"convert-client",children:"Cliente *"}),n.jsxs($t,{value:X,onValueChange:We,disabled:Y,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:Y?"Carregando clientes...":"Selecione o cliente"})}),n.jsx(Ut,{children:D==null?void 0:D.filter(q=>q.isActive).map(q=>n.jsx(ge,{value:q.id,children:q.name},q.id))})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"convert-delivery-date",children:"Data de Entrega *"}),n.jsx(ie,{id:"convert-delivery-date",type:"date",value:wt,onChange:q=>Ct(q.target.value),min:new Date().toISOString().split("T")[0]})]}),dr&&(()=>{const q=R==null?void 0:R.find(_e=>_e.id===dr);if(!(q!=null&&q.items))return null;const xe=new Set;return q.items.forEach(_e=>{if(_e.producerId&&_e.producerId!=="internal"){const Ye=W==null?void 0:W.find(Ve=>Ve.id===_e.producerId);Ye&&xe.add(`${Ye.name} - ${Ye.specialty}`)}else _e.producerId==="internal"&&xe.add("Produtos Internos")}),xe.size>0?n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx(fe,{className:"text-sm font-medium text-blue-800",children:"Produtores Envolvidos:"}),n.jsx("ul",{className:"text-sm text-blue-700 mt-1",children:Array.from(xe).map((_e,Ye)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1 h-1 bg-blue-600 rounded-full"}),_e]},Ye))})]}):null})()]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",onClick:()=>{Te(!1),Pe(null),We(""),Ct("")},className:"flex-1",children:"Cancelar"}),n.jsx(Z,{onClick:Dt,disabled:Qt.isPending||!X||!wt,className:"flex-1 gradient-bg text-white",children:Qt.isPending?"Convertendo...":"Converter em Pedido"})]})]})}),n.jsx(rr,{open:E,onOpenChange:L,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:N==="approve"?"Autorizar Oramento":"No Autorizar Oramento"}),n.jsx(lr,{children:N==="approve"?"Voc est prestes a autorizar este oramento que possui produtos com preo abaixo do mnimo estabelecido. O vendedor poder prosseguir com a converso em pedido.":"Voc est rejeitando este oramento. Informe o motivo para o vendedor."})]}),N==="approve"&&v&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-md my-4 space-y-2",children:[n.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Resumo Financeiro"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Total do Oramento:"}),n.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(v.totalValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:"Custo Total:"}),n.jsxs("span",{children:["R$ ",(v.items||[]).reduce((xe,_e)=>xe+(parseFloat(_e.costPrice)||0)*_e.quantity,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-medium pt-2 border-t mt-2",children:[n.jsx("span",{children:"Lucro Estimado:"}),n.jsxs("span",{children:["R$ ",(()=>{const q=(v.items||[]).reduce((_e,Ye)=>_e+(parseFloat(Ye.costPrice)||0)*Ye.quantity,0);return(parseFloat(v.totalValue||"0")-q).toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]})]}),N==="reject"&&n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"approval-reason",children:"Motivo da Rejeio *"}),n.jsx(Jn,{id:"approval-reason",placeholder:"Ex: O desconto aplicado  muito alto, reduza para no mximo 5%...",value:M,onChange:q=>O(q.target.value),className:"min-h-[100px]"})]})}),n.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[n.jsx(Z,{variant:"outline",onClick:()=>{L(!1),O("")},disabled:Ft.isPending||Er.isPending,children:"Cancelar"}),n.jsx(Z,{variant:N==="approve"?"default":"destructive",className:N==="approve"?"bg-green-600 hover:bg-green-700":"",disabled:Ft.isPending||Er.isPending||N==="reject"&&!M.trim(),onClick:()=>{N==="approve"?Ft.mutate(v.id):Er.mutate({budgetId:v.id,reason:M})},children:Ft.isPending||Er.isPending?"Processando...":N==="approve"?"Confirmar Autorizao":"Rejeitar Oramento"})]})]})})]})}const RPe=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional(),phone:Ge.string().min(10,"Telefone invlido").optional(),whatsapp:Ge.string().optional(),cpfCnpj:Ge.string().optional(),address:Ge.string().optional(),vendorId:Ge.string().optional(),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),nomeFantasia:Ge.string().optional(),razaoSocial:Ge.string().optional(),inscricaoEstadual:Ge.string().optional(),logradouro:Ge.string().optional(),numero:Ge.string().optional(),complemento:Ge.string().optional(),bairro:Ge.string().optional(),cidade:Ge.string().optional(),cep:Ge.string().optional(),emailBoleto:Ge.string().email("Email invlido").optional().or(Ge.literal("")),emailNF:Ge.string().email("Email invlido").optional().or(Ge.literal("")),nomeContato:Ge.string().optional(),emailContato:Ge.string().email("Email invlido").optional().or(Ge.literal("")),enderecoFaturamentoLogradouro:Ge.string().optional(),enderecoFaturamentoNumero:Ge.string().optional(),enderecoFaturamentoComplemento:Ge.string().optional(),enderecoFaturamentoBairro:Ge.string().optional(),enderecoFaturamentoCidade:Ge.string().optional(),enderecoFaturamentoCep:Ge.string().optional(),enderecoEntregaLogradouro:Ge.string().optional(),enderecoEntregaNumero:Ge.string().optional(),enderecoEntregaComplemento:Ge.string().optional(),enderecoEntregaBairro:Ge.string().optional(),enderecoEntregaCidade:Ge.string().optional(),enderecoEntregaCep:Ge.string().optional()}),MPe=RPe.extend({password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres").optional().or(Ge.literal(""))});function Wz(){var k;const[e,t]=B.useState(!1),[r,a]=B.useState(null),[s,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(""),[f,A]=B.useState(!1),[p,m]=B.useState(!1),{toast:x}=en(),g=()=>{F.setValue("enderecoFaturamentoLogradouro",F.getValues("logradouro")),F.setValue("enderecoFaturamentoNumero",F.getValues("numero")),F.setValue("enderecoFaturamentoComplemento",F.getValues("complemento")),F.setValue("enderecoFaturamentoBairro",F.getValues("bairro")),F.setValue("enderecoFaturamentoCidade",F.getValues("cidade")),F.setValue("enderecoFaturamentoCep",F.getValues("cep"))},v=()=>{F.setValue("enderecoEntregaLogradouro",F.getValues("logradouro")),F.setValue("enderecoEntregaNumero",F.getValues("numero")),F.setValue("enderecoEntregaComplemento",F.getValues("complemento")),F.setValue("enderecoEntregaBairro",F.getValues("bairro")),F.setValue("enderecoEntregaCidade",F.getValues("cidade")),F.setValue("enderecoEntregaCep",F.getValues("cep"))},y=()=>{const P=Date.now().toString().slice(-6),R=Math.random().toString(36).substring(2,6).toUpperCase();return`CLI${P}${R}`};B.useEffect(()=>{e&&h(y())},[e]);const{data:j,isLoading:b}=pt({queryKey:["/api/clients"],refetchOnMount:"always"}),{data:w}=pt({queryKey:["/api/vendors"]}),{data:C}=pt({queryKey:["/api/clients",r,"orders"],queryFn:async()=>{if(!r)return[];const P=await fetch(`/api/clients/${r}/orders`);if(!P.ok)throw new Error("Failed to fetch client orders");return P.json()},enabled:!!r&&s}),F=Pa({resolver:ka(MPe),defaultValues:{name:"",email:"",phone:"",whatsapp:"",cpfCnpj:"",address:"",vendorId:"",password:"",nomeFantasia:"",razaoSocial:"",inscricaoEstadual:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",emailBoleto:"",emailNF:"",nomeContato:"",emailContato:"",enderecoFaturamentoLogradouro:"",enderecoFaturamentoNumero:"",enderecoFaturamentoComplemento:"",enderecoFaturamentoBairro:"",enderecoFaturamentoCidade:"",enderecoFaturamentoCep:"",enderecoEntregaLogradouro:"",enderecoEntregaNumero:"",enderecoEntregaComplemento:"",enderecoEntregaBairro:"",enderecoEntregaCidade:"",enderecoEntregaCep:""}}),E=jt({mutationFn:async P=>{const R=u||y(),V={...P,userCode:R};console.log("Sending client data with userCode:",V);const D=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!D.ok)throw new Error("Erro ao criar cliente");return D.json()},onSuccess:P=>{ct.invalidateQueries({queryKey:["/api/clients"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),t(!1),F.reset(),x({title:"Sucesso!",description:`Cliente criado com sucesso! Cdigo de acesso: ${u}`})}}),L=jt({mutationFn:async P=>{const R=await fetch(`/api/clients/${P}`,{method:"DELETE"}),V=await R.json();if(!R.ok)throw new Error(V.error||"Erro ao excluir cliente");return V},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/clients"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),x({title:"Sucesso!",description:"Cliente excludo com sucesso!"})},onError:P=>{x({title:"Erro ao excluir",description:P.message,variant:"destructive"})}}),N=jt({mutationFn:async({id:P,data:R})=>{const V=await fetch(`/api/clients/${P}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!V.ok)throw new Error("Erro ao atualizar cliente");return V.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/clients"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),d(!1),a(null),F.reset(),x({title:"Sucesso!",description:"Cliente atualizado com sucesso!"})},onError:P=>{x({title:"Erro ao atualizar",description:P.message,variant:"destructive"})}}),I=(P,R)=>{confirm(`Tem certeza que deseja excluir o cliente "${R}"?`)&&L.mutate(P)},M=P=>{if(r&&c){const R={...P};(!R.password||R.password.trim()==="")&&delete R.password,(!R.vendorId||R.vendorId.trim()==="")&&(R.vendorId=null),N.mutate({id:r,data:R})}else{if(!P.password||P.password.trim()===""){x({title:"Erro",description:"Senha  obrigatria para criar novo cliente",variant:"destructive"});return}E.mutate(P)}},O=P=>{a(P.id),F.reset({name:P.name||"",email:P.email||"",phone:P.phone||"",whatsapp:P.whatsapp||"",cpfCnpj:P.cpfCnpj||"",address:P.address||"",vendorId:P.vendorId||"",password:"",nomeFantasia:P.nomeFantasia||"",razaoSocial:P.razaoSocial||"",inscricaoEstadual:P.inscricaoEstadual||"",logradouro:P.logradouro||"",numero:P.numero||"",complemento:P.complemento||"",bairro:P.bairro||"",cidade:P.cidade||"",cep:P.cep||"",emailBoleto:P.emailBoleto||"",emailNF:P.emailNF||"",nomeContato:P.nomeContato||"",emailContato:P.emailContato||"",enderecoFaturamentoLogradouro:P.enderecoFaturamentoLogradouro||"",enderecoFaturamentoNumero:P.enderecoFaturamentoNumero||"",enderecoFaturamentoComplemento:P.enderecoFaturamentoComplemento||"",enderecoFaturamentoBairro:P.enderecoFaturamentoBairro||"",enderecoFaturamentoCidade:P.enderecoFaturamentoCidade||"",enderecoFaturamentoCep:P.enderecoFaturamentoCep||"",enderecoEntregaLogradouro:P.enderecoEntregaLogradouro||"",enderecoEntregaNumero:P.enderecoEntregaNumero||"",enderecoEntregaComplemento:P.enderecoEntregaComplemento||"",enderecoEntregaBairro:P.enderecoEntregaBairro||"",enderecoEntregaCidade:P.enderecoEntregaCidade||"",enderecoEntregaCep:P.enderecoEntregaCep||""}),d(!0)};return b?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gerenciar Clientes"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre e gerencie clientes do sistema"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})}),n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Cliente"}),n.jsx(lr,{children:"Preencha os dados completos do cliente"})]}),n.jsx(ya,{...F,children:n.jsxs("form",{onSubmit:F.handleSubmit(M),className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Acesso do Cliente"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:u})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Este cdigo ser usado para login no sistema"})]}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>h(y()),className:"border-blue-300 text-blue-600 hover:bg-blue-100",children:n.jsx(oi,{className:"h-4 w-4"})})]})}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informaes Bsicas"}),n.jsx(tt,{control:F.control,name:"name",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Silva",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"password",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma senha",...P})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Senha que o cliente usar para acessar o sistema"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"nomeFantasia",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Fantasia"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Empresa Ltda",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"razaoSocial",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Razo Social"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Empresa Comercial Ltda",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"cpfCnpj",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CPF/CNPJ"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789-00 ou 00.000.000/0001-00",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"inscricaoEstadual",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Inscrio Estadual"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789.012 (se for Indstria ou Comrcio)",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo Principal"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:F.control,name:"logradouro",render:({field:P})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"numero",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"complemento",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"bairro",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"cidade",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"cep",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo de Faturamento"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f,onChange:P=>{A(P.target.checked),P.target.checked&&g()},className:"w-4 h-4 cursor-pointer"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Usar endereo principal"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoFaturamentoLogradouro",render:({field:P})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoFaturamentoNumero",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoFaturamentoComplemento",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoFaturamentoBairro",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoFaturamentoCidade",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoFaturamentoCep",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo de Entrega"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:p,onChange:P=>{m(P.target.checked),P.target.checked&&v()},className:"w-4 h-4 cursor-pointer"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Usar endereo principal"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoEntregaLogradouro",render:({field:P})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoEntregaNumero",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoEntregaComplemento",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoEntregaBairro",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoEntregaCidade",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoEntregaCep",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"phone",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"whatsapp",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"WhatsApp"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"nomeContato",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome da pessoa de contato",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"emailContato",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail do Contato"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@empresa.com",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"E-mails Comerciais"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"emailBoleto",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Envio de Boleto"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"financeiro@empresa.com",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"emailNF",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Envio de NF"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"nf@empresa.com",...P})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:F.control,name:"email",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail Principal"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@empresa.com",...P})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:F.control,name:"vendorId",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Vendedor Responsvel"}),n.jsxs($t,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(et,{children:n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione um vendedor"})})}),n.jsx(Ut,{children:w==null?void 0:w.map(R=>n.jsx(ge,{value:R.id,children:R.name},R.id))})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:E.isPending,children:E.isPending?"Criando...":"Criar Cliente"})]})]})})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Lista de Clientes"})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefone"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPF/CNPJ"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j==null?void 0:j.map(P=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:P.name}),n.jsx("td",{className:"px-4 py-4 text-sm",children:n.jsx("span",{className:"text-xs font-mono text-blue-600 bg-blue-50 px-2 py-1 rounded",children:P.userCode??P.code??P.loginCode??P.accessCode??null??"N/A"})}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600 truncate",children:P.email||""}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:P.phone||""}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:P.cpfCnpj||""}),n.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{a(P.id),i(!0)},title:"Ver Pedidos",className:"hover:bg-blue-50 hover:text-blue-600",children:n.jsx(Pn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Ver Detalhes",onClick:()=>{a(P.id),l(!0)},children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Editar",onClick:()=>O(P),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Excluir",onClick:()=>I(P.id,P.name),disabled:L.isPending,children:n.jsx(Bs,{className:"h-4 w-4 text-red-600"})})]})})]},P.id))})]})})})]}),n.jsx(rr,{open:s,onOpenChange:P=>{i(P),P||a(null)},children:n.jsxs(Jt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Pedidos do Cliente"}),n.jsx(lr,{children:r&&((k=j==null?void 0:j.find(P=>P.id===r))==null?void 0:k.name)})]}),n.jsx("div",{className:"space-y-4",children:C&&C.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(P=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.orderNumber}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:P.product}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(P.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="delivered"?"bg-green-100 text-green-800":P.status==="production"?"bg-blue-100 text-blue-800":P.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.status==="delivered"?"Entregue":P.status==="production"?"Em Produo":P.status==="pending"?"Pendente":P.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(P.createdAt).toLocaleDateString("pt-BR")})]},P.id))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado para este cliente"})]})})]})}),n.jsx(rr,{open:o,onOpenChange:P=>{l(P),P||a(null)},children:n.jsxs(Jt,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Detalhes do Cliente"})}),r&&n.jsx("div",{className:"space-y-4",children:(()=>{const P=j==null?void 0:j.find(R=>R.id===r);return P?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Informaes Bsicas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome do Contato:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cdigo de Acesso:"}),n.jsx("p",{className:"text-sm font-mono font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:P.userCode??P.code??P.loginCode??P.accessCode??null??"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome Fantasia:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.nome_fantasia||P.nomeFantasia||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Razo Social:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.razao_social||P.razaoSocial||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CPF/CNPJ:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.cpfCnpj||P.cpf_cnpj||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Inscrio Estadual:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.inscricao_estadual||P.inscricaoEstadual||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Endereo Principal"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Logradouro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.logradouro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nmero:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.numero||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complemento:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.complemento||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bairro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.bairro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cidade:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.cidade||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CEP:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.cep||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Endereo de Faturamento"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Logradouro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoFaturamentoLogradouro||P.endereco_faturamento_logradouro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nmero:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoFaturamentoNumero||P.endereco_faturamento_numero||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complemento:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoFaturamentoComplemento||P.endereco_faturamento_complemento||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bairro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoFaturamentoBairro||P.endereco_faturamento_bairro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cidade:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoFaturamentoCidade||P.endereco_faturamento_cidade||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CEP:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoFaturamentoCep||P.endereco_faturamento_cep||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Endereo de Entrega"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Logradouro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoEntregaLogradouro||P.endereco_entrega_logradouro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nmero:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoEntregaNumero||P.endereco_entrega_numero||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complemento:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoEntregaComplemento||P.endereco_entrega_complemento||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bairro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoEntregaBairro||P.endereco_entrega_bairro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cidade:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoEntregaCidade||P.endereco_entrega_cidade||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CEP:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.enderecoEntregaCep||P.endereco_entrega_cep||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Telefone:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"WhatsApp:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.whatsapp||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome do Contato:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.nome_contato||P.nomeContato||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail do Contato:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.email_contato||P.emailContato||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"E-mails Comerciais"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail Principal:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail para Boleto:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.email_boleto||P.emailBoleto||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail para NF:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.email_nf||P.emailNF||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Estatsticas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total de Pedidos:"}),n.jsx("p",{className:"text-sm text-gray-900",children:P.ordersCount||0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Gasto:"}),n.jsxs("p",{className:"text-sm text-gray-900",children:["R$ ",(P.totalSpent||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}):null})()})]})}),n.jsx(rr,{open:c,onOpenChange:P=>{d(P),P||a(null)},children:n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Editar Cliente"})}),n.jsx(ya,{...F,children:n.jsxs("form",{onSubmit:F.handleSubmit(M),className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx(Je,{className:"text-gray-700",children:"Cdigo de Acesso do Cliente"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:(()=>{const P=j==null?void 0:j.find(V=>V.id===r);return P?P.userCode??P.code??P.loginCode??P.accessCode??null??"N/A":"N/A"})()})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Este cdigo no pode ser alterado"})]})})}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informaes Bsicas"}),n.jsx(tt,{control:F.control,name:"name",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Silva",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"password",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma nova senha",...P})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Deixe em branco para manter a senha atual"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"nomeFantasia",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Fantasia"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Empresa Ltda",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"razaoSocial",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Razo Social"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Empresa Comercial Ltda",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"cpfCnpj",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CPF/CNPJ"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789-00 ou 00.000.000/0001-00",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"inscricaoEstadual",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Inscrio Estadual"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789.012 (se for Indstria ou Comrcio)",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo Principal"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:F.control,name:"logradouro",render:({field:P})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"numero",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"complemento",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"bairro",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"cidade",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"cep",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo de Faturamento"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoFaturamentoLogradouro",render:({field:P})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoFaturamentoNumero",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoFaturamentoComplemento",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoFaturamentoBairro",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoFaturamentoCidade",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoFaturamentoCep",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Endereo de Entrega"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoEntregaLogradouro",render:({field:P})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro/Rua"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoEntregaNumero",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoEntregaComplemento",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 45, Bloco B",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoEntregaBairro",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"enderecoEntregaCidade",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"enderecoEntregaCep",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"01234-567",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"phone",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"whatsapp",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"WhatsApp"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...P})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"nomeContato",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome da pessoa de contato",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"emailContato",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail do Contato"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@empresa.com",...P})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"space-y-4 border-b pb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"E-mails Comerciais"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:F.control,name:"emailBoleto",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Envio de Boleto"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"financeiro@empresa.com",...P})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:F.control,name:"emailNF",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Envio de NF"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"nf@empresa.com",...P})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:F.control,name:"email",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail Principal"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@empresa.com",...P})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:F.control,name:"vendorId",render:({field:P})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Vendedor Responsvel"}),n.jsxs($t,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(et,{children:n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione um vendedor"})})}),n.jsx(Ut,{children:w==null?void 0:w.map(R=>n.jsx(ge,{value:R.id,children:R.name},R.id))})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>{d(!1),a(null)},children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:N.isPending,children:N.isPending?"Salvando...":"Salvar Alteraes"})]})]})})]})})]})}const UPe=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),phone:Ge.string().optional(),address:Ge.string().optional(),commissionRate:Ge.string().min(1,"Taxa de comisso  obrigatria"),branchId:Ge.string().optional(),isCommissioned:Ge.boolean().default(!0)}),QPe=UPe.extend({password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres").optional().or(Ge.literal(""))});function Gz(){var Y,ne;const[e,t]=B.useState(!1),[r,a]=B.useState(null),[s,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(""),{toast:f}=en(),A=()=>{const S=Date.now().toString().slice(-6),z=Math.random().toString(36).substring(2,6).toUpperCase();return`VEN${S}${z}`};B.useEffect(()=>{e&&h(A())},[e]);const[p,m]=B.useState(!1),[x,g]=B.useState(!1),[v,y]=B.useState(!1),j=Ge.object({newPassword:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:Ge.string().min(6,"Confirme a senha")}).refine(S=>S.newPassword===S.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]}),b=Pa({resolver:ka(j),defaultValues:{newPassword:"",confirmPassword:""}}),w=jt({mutationFn:async({id:S,newPassword:z})=>{const Q=await fetch(`/api/vendors/${S}/password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:z})});if(!Q.ok){const W=await Q.json();throw new Error(W.error||"Erro ao alterar senha")}return Q.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors"]}),m(!1),b.reset(),g(!1),y(!1),f({title:"Sucesso!",description:"Senha do vendedor alterada com sucesso!"})},onError:S=>{f({title:"Erro",description:S.message||"Erro ao alterar senha",variant:"destructive"})}}),C=S=>{a(S.id),b.reset({newPassword:"",confirmPassword:""}),g(!1),y(!1),m(!0)},F=S=>{r&&w.mutate({id:r,newPassword:S.newPassword})},{data:E,isLoading:L}=pt({queryKey:["/api/vendors"]}),{data:N}=pt({queryKey:["/api/branches"]}),{data:I}=pt({queryKey:["/api/vendors",r,"orders"],queryFn:async()=>{if(!r)return[];const S=await fetch(`/api/vendors/${r}/orders`);if(!S.ok)throw new Error("Failed to fetch vendor orders");return S.json()},enabled:!!r&&c}),M=Pa({resolver:ka(QPe),defaultValues:{name:"",email:"",password:"",phone:"",address:"",commissionRate:"10.00",branchId:"",isCommissioned:!0}}),O=jt({mutationFn:async S=>{const z={name:S.name,email:S.email||null,phone:S.phone||null,address:S.address||null,password:S.password,userCode:u,commissionRate:S.commissionRate,branchId:S.branchId==="default"?null:S.branchId,isCommissioned:S.isCommissioned!==!1},Q=await fetch("/api/vendors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!Q.ok){const W=await Q.json();throw new Error(W.error||"Erro ao criar vendedor")}return Q.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors"]}),t(!1),M.reset(),f({title:"Sucesso!",description:`Vendedor criado com sucesso! Cdigo de acesso: ${u}`})},onError:()=>{f({title:"Erro",description:"No foi possvel criar o vendedor",variant:"destructive"})}}),k=jt({mutationFn:async({id:S,data:z})=>{const Q=await fetch(`/api/vendors/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!Q.ok)throw new Error("Erro ao atualizar vendedor");return Q.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),l(!1),a(null),M.reset(),f({title:"Sucesso!",description:"Vendedor atualizado com sucesso!"})},onError:S=>{f({title:"Erro ao atualizar",description:S.message,variant:"destructive"})}}),P=jt({mutationFn:async S=>{const z=await fetch(`/api/vendors/${S}`,{method:"DELETE"}),Q=await z.json();if(!z.ok)throw new Error(Q.error||"Erro ao excluir vendedor");return Q},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),f({title:"Sucesso!",description:"Vendedor excludo com sucesso!"})},onError:S=>{f({title:"Erro ao excluir",description:S.message,variant:"destructive"})}}),R=(S,z)=>{confirm(`Tem certeza que deseja excluir o vendedor "${z}"?`)&&P.mutate(S)},V=S=>{var z;a(S.id),M.reset({name:S.name||"",email:S.email||"",phone:S.phone||"",address:S.address||"",commissionRate:((z=S.commissionRate)==null?void 0:z.toString())||"10.00",branchId:S.branchId||"",password:"",isCommissioned:S.isCommissioned!==!1}),l(!0)},D=S=>{if(r&&o){const z={...S};(!z.password||z.password.trim()==="")&&delete z.password,(!z.branchId||z.branchId.trim()===""||z.branchId==="default")&&(z.branchId=null),k.mutate({id:r,data:z})}else{if(!S.password||S.password.trim()===""){f({title:"Erro",description:"Senha  obrigatria para criar novo vendedor",variant:"destructive"});return}O.mutate(S)}};return L?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gerenciar Vendedores"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre e gerencie vendedores do sistema"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Vendedor"]})}),n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Vendedor"}),n.jsx(lr,{children:"Preencha os dados completos do vendedor"})]}),n.jsx(ya,{...M,children:n.jsxs("form",{onSubmit:M.handleSubmit(D),className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Acesso do Vendedor"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:u})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Este cdigo ser usado para login no sistema"})]}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>h(A()),className:"border-blue-300 text-blue-600 hover:bg-blue-100",children:n.jsx(oi,{className:"h-4 w-4"})})]})}),n.jsx(tt,{control:M.control,name:"name",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Maria Santos",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"password",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma senha",...S})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Senha que o vendedor usar para acessar o sistema"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:M.control,name:"email",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"maria@email.com",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"phone",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...S})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:M.control,name:"address",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores, 123, Centro, So Paulo, SP",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"isCommissioned",render:({field:S})=>n.jsxs(Ze,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4 bg-green-50",children:[n.jsx(et,{children:n.jsx(uu,{checked:S.value,onCheckedChange:S.onChange})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsxs(Je,{className:"text-green-800 flex items-center",children:[n.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Vendedor Comissionado"]}),n.jsx("p",{className:"text-xs text-green-600",children:"Se marcado, o sistema gera comisses automaticamente para este vendedor"})]})]})}),n.jsx(tt,{control:M.control,name:"commissionRate",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Taxa de Comisso (%)"}),n.jsx(et,{children:n.jsx(ie,{type:"number",step:"0.01",placeholder:"10.00",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"branchId",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Filial"}),n.jsxs($t,{onValueChange:S.onChange,defaultValue:S.value,children:[n.jsx(et,{children:n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a filial"})})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"default",children:"Matriz (Padro)"}),N==null?void 0:N.map(z=>n.jsx(ge,{value:z.id,children:n.jsxs("div",{className:"flex items-center",children:[z.isHeadquarters?n.jsx(si,{className:"h-4 w-4 mr-2 text-yellow-600"}):n.jsx(si,{className:"h-4 w-4 mr-2 text-blue-600"}),z.name," - ",z.city,z.isHeadquarters&&n.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Matriz"})]})},z.id))]})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:O.isPending,children:O.isPending?"Criando...":"Criar Vendedor"})]})]})})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Lista de Vendedores"})}),n.jsx(Re,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E==null?void 0:E.filter(S=>S&&S.id&&S.name).map(S=>n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),S.userCode&&n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(Yn,{className:"h-3 w-3 text-blue-600 mr-1"}),n.jsx("span",{className:"text-xs font-mono text-blue-600 bg-blue-50 px-2 py-1 rounded",children:S.userCode})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{a(S.id),d(!0)},title:"Ver Pedidos",children:n.jsx(Pn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Ver Detalhes",onClick:()=>{a(S.id),i(!0)},children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Alterar Senha",onClick:()=>C(S),children:n.jsx(ph,{className:"h-4 w-4 text-yellow-600"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Editar",onClick:()=>V(S),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Excluir",onClick:()=>R(S.id,S.name),disabled:P.isPending,children:n.jsx(Bs,{className:"h-4 w-4 text-red-600"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[S.email&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(rd,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:S.email})]}),S.phone&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ll,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:S.phone})]}),S.address&&n.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[n.jsx("div",{className:"h-4 w-4 mr-2 flex-shrink-0 mt-0.5",children:""}),n.jsx("span",{className:"line-clamp-2",children:S.address})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Comisso:"}),n.jsxs("span",{className:"font-medium",children:[S.commissionRate,"%"]})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`font-medium ${S.isActive?"text-green-600":"text-red-600"}`,children:S.isActive?"Ativo":"Inativo"})]})]})]})},S.id))})})]}),n.jsx(rr,{open:p,onOpenChange:S=>{m(S),S||(a(null),b.reset(),g(!1),y(!1))},children:n.jsxs(Jt,{className:"sm:max-w-[400px]",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(ph,{className:"h-5 w-5"}),"Alterar Senha do Vendedor"]}),n.jsxs(lr,{children:["Defina uma nova senha para o vendedor ",(Y=E==null?void 0:E.find(S=>S.id===r))==null?void 0:Y.name]})]}),n.jsx(ya,{...b,children:n.jsxs("form",{onSubmit:b.handleSubmit(F),className:"space-y-4",children:[n.jsx(tt,{control:b.control,name:"newPassword",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nova Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:x?"text":"password",placeholder:"Mnimo 6 caracteres",...S}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!x),children:x?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"confirmPassword",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Confirme a Nova Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:v?"text":"password",placeholder:"Repita a nova senha",...S}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!v),children:v?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:w.isPending,children:w.isPending?"Alterando...":"Alterar Senha"})]})]})})]})}),n.jsx(rr,{open:c,onOpenChange:S=>{d(S),S||a(null)},children:n.jsxs(Jt,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Pedidos do Vendedor"}),n.jsx(lr,{children:r&&((ne=E==null?void 0:E.find(S=>S.id===r))==null?void 0:ne.name)})]}),n.jsx("div",{className:"space-y-4",children:I&&I.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(S=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.orderNumber}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:S.clientName}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:S.product}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(S.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S.status==="delivered"?"bg-green-100 text-green-800":S.status==="production"?"bg-blue-100 text-blue-800":S.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:S.status==="delivered"?"Entregue":S.status==="production"?"Em Produo":S.status==="pending"?"Pendente":S.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(S.createdAt).toLocaleDateString("pt-BR")})]},S.id))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado para este vendedor"})]})})]})}),n.jsx(rr,{open:s,onOpenChange:S=>{i(S),S||a(null)},children:n.jsxs(Jt,{className:"max-w-2xl",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Detalhes do Vendedor"})}),r&&n.jsx("div",{className:"space-y-4",children:(()=>{const S=E==null?void 0:E.find(z=>z.id===r);return S?n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome:"}),n.jsx("p",{className:"text-sm text-gray-900",children:S.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cdigo de Acesso:"}),n.jsx("p",{className:"text-sm font-mono font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:S.userCode||S.username||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email:"}),n.jsx("p",{className:"text-sm text-gray-900",children:S.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Telefone:"}),n.jsx("p",{className:"text-sm text-gray-900",children:S.phone||"N/A"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Endereo:"}),n.jsx("p",{className:"text-sm text-gray-900",children:S.address||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Taxa de Comisso:"}),n.jsxs("p",{className:"text-sm text-gray-900",children:[S.commissionRate,"%"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status:"}),n.jsx("p",{className:`text-sm font-medium ${S.isActive?"text-green-600":"text-red-600"}`,children:S.isActive?"Ativo":"Inativo"})]})]}):null})()})]})}),n.jsx(rr,{open:o,onOpenChange:S=>{l(S),S||(a(null),M.reset())},children:n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Editar Vendedor"}),n.jsx(lr,{children:"Atualize os dados do vendedor"})]}),n.jsx(ya,{...M,children:n.jsxs("form",{onSubmit:M.handleSubmit(D),className:"space-y-4",children:[n.jsx(tt,{control:M.control,name:"name",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Maria Santos",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"password",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso (deixe vazio para no alterar)"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma nova senha (opcional)",...S})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Deixe em branco se no deseja alterar a senha"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:M.control,name:"email",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"maria@email.com",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"phone",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...S})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:M.control,name:"address",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores, 123, Centro, So Paulo, SP",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"commissionRate",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Taxa de Comisso (%)"}),n.jsx(et,{children:n.jsx(ie,{type:"number",step:"0.01",placeholder:"10.00",...S})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"branchId",render:({field:S})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Filial"}),n.jsxs($t,{onValueChange:S.onChange,value:S.value,children:[n.jsx(et,{children:n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a filial"})})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"default",children:"Matriz (Padro)"}),N==null?void 0:N.map(z=>n.jsx(ge,{value:z.id,children:n.jsxs("div",{className:"flex items-center",children:[z.isHeadquarters?n.jsx(si,{className:"h-4 w-4 mr-2 text-yellow-600"}):n.jsx(si,{className:"h-4 w-4 mr-2 text-blue-600"}),z.name," - ",z.city,z.isHeadquarters&&n.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Matriz"})]})},z.id))]})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:k.isPending,children:k.isPending?"Atualizando...":"Atualizar Vendedor"})]})]})})]})})]})}const $Pe=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido"),phone:Ge.string().min(10,"Telefone invlido"),specialty:Ge.string().min(2,"Especialidade  obrigatria"),address:Ge.string().min(5,"Endereo  obrigatrio"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres")}),HPe=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),phone:Ge.string().optional(),specialty:Ge.string().optional(),address:Ge.string().optional()}),zPe=Ge.object({newPassword:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:Ge.string().min(6,"Confirme a senha")}).refine(e=>e.newPassword===e.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]});function Xz(){var Q,W;const[e,t]=B.useState(!1),[r,a]=B.useState(""),[s,i]=B.useState(null),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(!1),[f,A]=B.useState(!1),[p,m]=B.useState(null),[x,g]=B.useState(!1),[v,y]=B.useState(!1),{toast:j}=en(),b=()=>{const U=Date.now().toString().slice(-8),re=Math.random().toString(36).substring(2,8).toUpperCase();return`PRO${U}${re}`};B.useEffect(()=>{e&&a(b())},[e]);const{data:w,isLoading:C}=pt({queryKey:["/api/producers"],queryFn:async()=>{const U=await fetch("/api/producers");if(!U.ok)throw new Error("Failed to fetch producers");return U.json()}}),{data:F}=pt({queryKey:["/api/logistics/producer-stats"],queryFn:async()=>{const U=await fetch("/api/logistics/producer-stats");if(!U.ok)throw new Error("Failed to fetch producer stats");return U.json()}}),{data:E}=pt({queryKey:["/api/products/producer",s],queryFn:async()=>{if(!s)return[];const U=await fetch(`/api/products/producer/${s}`);if(!U.ok)throw new Error("Failed to fetch producer products");return U.json()},enabled:!!s&&o}),{data:L}=pt({queryKey:["/api/production-orders/producer",s],queryFn:async()=>{if(!s)return[];const U=await fetch(`/api/production-orders/producer/${s}`);if(!U.ok)throw new Error("Failed to fetch producer orders");return U.json()},enabled:!!s&&c}),N=Pa({resolver:ka($Pe),defaultValues:{name:"",email:"",phone:"",specialty:"",address:"",password:""}}),I=jt({mutationFn:async U=>{const re={...U,username:r,userCode:r};console.log("Creating producer with data:",re);const de=await fetch("/api/producers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!de.ok){const ae=await de.json();throw console.error("Error creating producer:",ae),new Error(ae.error||"Erro ao criar produtor")}return de.json()},onSuccess:U=>{ct.invalidateQueries({queryKey:["/api/producers"]}),ct.invalidateQueries({queryKey:["/api/logistics/producer-stats"]}),t(!1),N.reset(),j({title:" Produtor Cadastrado com Sucesso!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",r]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Senha:"})," ",U.password]}),n.jsx("p",{className:"text-xs opacity-75",children:"O produtor pode usar essas credenciais para fazer login"})]}),duration:1e4}),console.log("Producer created successfully:",U)},onError:U=>{console.error("Producer creation failed:",U),j({title:"Erro",description:U.message||"Erro ao criar produtor",variant:"destructive"})}}),M=jt({mutationFn:async U=>{const re=await fetch(`/api/producers/${U}`,{method:"DELETE"}),de=await re.json();if(!re.ok)throw new Error(de.error||"Erro ao excluir produtor");return de},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/producers"]}),ct.invalidateQueries({queryKey:["/api/logistics/producer-stats"]}),j({title:"Sucesso!",description:"Produtor excludo com sucesso!"})},onError:U=>{j({title:"Erro ao excluir",description:U.message,variant:"destructive"})}}),O=Pa({resolver:ka(HPe),defaultValues:{name:"",email:"",phone:"",specialty:"",address:""}}),k=Pa({resolver:ka(zPe),defaultValues:{newPassword:"",confirmPassword:""}}),P=jt({mutationFn:async U=>(await _m("PATCH",`/api/producers/${U.id}`,{name:U.name,email:U.email||null,phone:U.phone||null,specialty:U.specialty||null,address:U.address||null})).json(),onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/producers"]}),h(!1),m(null),O.reset(),j({title:"Sucesso!",description:"Produtor atualizado com sucesso!"})},onError:U=>{j({title:"Erro",description:U.message||"Erro ao atualizar produtor",variant:"destructive"})}}),R=jt({mutationFn:async({id:U,newPassword:re})=>(await _m("PATCH",`/api/producers/${U}/password`,{newPassword:re})).json(),onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/producers"]}),A(!1),m(null),k.reset(),g(!1),y(!1),j({title:"Sucesso!",description:"Senha alterada com sucesso!"})},onError:U=>{j({title:"Erro",description:U.message||"Erro ao alterar senha",variant:"destructive"})}}),V=U=>{m(U),O.reset({name:U.name||"",email:U.email||"",phone:U.phone||"",specialty:U.specialty||"",address:U.address||""}),h(!0)},D=U=>{m(U),k.reset({newPassword:"",confirmPassword:""}),g(!1),y(!1),A(!0)},Y=U=>{p&&P.mutate({...U,id:p.id})},ne=U=>{p&&R.mutate({id:p.id,newPassword:U.newPassword})},S=(U,re)=>{const de=`Tem certeza que deseja excluir o produtor "${re}"?

Esta ao no pode ser desfeita e ir:
- Desativar todos os produtos associados
- Remover o acesso do produtor ao sistema

Somente produtores sem pedidos de produo ou pagamentos pendentes podem ser excludos.`;confirm(de)&&M.mutate(U)},z=U=>{I.mutate(U)};return C?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Produtores Terceirizados"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie sua rede de produtores e associe produtos"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produtor"]})}),n.jsxs(Jt,{className:"sm:max-w-[425px]",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Produtor"}),n.jsx(lr,{children:"Adicione um novo produtor  sua rede de terceirizados"})]}),n.jsx(ya,{...N,children:n.jsxs("form",{onSubmit:N.handleSubmit(z),className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Login do Produtor"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800 bg-white px-2 py-1 rounded border",children:r})]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[n.jsx("strong",{children:"Username para login:"})," ",r]})]}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>a(b()),className:"border-blue-300 text-blue-600 hover:bg-blue-100",title:"Gerar novo cdigo",children:n.jsx(oi,{className:"h-4 w-4"})})]})}),n.jsx(tt,{control:N.control,name:"name",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Empresa *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Marcenaria Santos",...U})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:N.control,name:"password",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma senha",...U})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Senha que o produtor usar para acessar o sistema"})]})}),n.jsx(tt,{control:N.control,name:"email",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"contato@marcenariasantos.com",...U})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:N.control,name:"phone",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...U})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:N.control,name:"specialty",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Especialidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Mveis sob medida",...U})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:N.control,name:"address",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua Industrial, 456",...U})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:I.isPending,children:I.isPending?"Criando...":"Criar Produtor"})]})]})})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w==null?void 0:w.map(U=>{const re=F==null?void 0:F.find(de=>de.producerId===U.id);return n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center mr-3",children:n.jsx(En,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U.name}),n.jsx("p",{className:"text-sm text-gray-600",children:U.specialty})]})]})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ll,{className:"h-4 w-4 mr-2"}),U.phone]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Cm,{className:"h-4 w-4 mr-2"}),U.address]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold gradient-text",children:(re==null?void 0:re.totalProducts)||0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Produtos"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold gradient-text",children:U.activeOrders||0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ativas"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold gradient-text",children:U.completedOrders||0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Concludas"})]})]}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-4 border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Cdigo de Login"}),n.jsx("p",{className:"font-mono font-bold text-gray-900",children:U.username})]}),n.jsxs("div",{className:"flex gap-1 flex-wrap",children:[n.jsx(Z,{variant:"outline",size:"sm",title:"Editar produtor",onClick:()=>V(U),className:"hover:bg-blue-50 hover:border-blue-200","data-testid":`button-edit-producer-${U.id}`,children:n.jsx(Mn,{className:"h-4 w-4 text-blue-600"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Alterar senha",onClick:()=>D(U),className:"hover:bg-yellow-50 hover:border-yellow-200","data-testid":`button-password-producer-${U.id}`,children:n.jsx(ph,{className:"h-4 w-4 text-yellow-600"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Ver produtos do produtor",onClick:()=>{i(U.id),l(!0)},children:n.jsx(ZS,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Ver pedidos em produo",onClick:()=>{i(U.id),d(!0)},children:n.jsx(io,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Excluir produtor",onClick:()=>S(U.id,U.name),disabled:M.isPending,className:"hover:bg-red-50 hover:border-red-200",children:n.jsx(Bs,{className:"h-4 w-4 text-red-600"})})]})]})}),re&&re.totalProducts>0&&n.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Catlogo:"}),n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(ZS,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{className:"font-medium",children:[re.activeProducts," ativos de ",re.totalProducts]})]})]})]})},U.id)})}),(w==null?void 0:w.length)===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(En,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Nenhum produtor cadastrado"}),n.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Cadastre produtores terceirizados para poder importar seus catlogos de produtos"}),n.jsx(Z,{onClick:()=>t(!0),className:"gradient-bg text-white",children:"Cadastrar Primeiro Produtor"})]})}),n.jsx(rr,{open:o,onOpenChange:U=>{l(U),U||i(null)},children:n.jsxs(Jt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Produtos do Produtor"}),n.jsx(lr,{children:s&&((Q=w==null?void 0:w.find(U=>U.id===s))==null?void 0:Q.name)})]}),n.jsx("div",{className:"space-y-4",children:E&&E.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(U=>n.jsx(Le,{className:"hover:shadow-md transition-shadow",children:n.jsxs(Re,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:U.name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U.description})]}),n.jsx(gr,{className:"h-6 w-6 text-gray-400 flex-shrink-0 ml-2"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Preo:"}),n.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",parseFloat(U.price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Categoria:"}),n.jsx("p",{className:"font-medium",children:U.category||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses:"}),n.jsx("p",{className:"font-medium text-xs",children:U.width&&U.height&&U.depth?`${U.width}${U.height}${U.depth}cm`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Status:"}),n.jsx("p",{className:`font-medium text-xs ${U.isActive?"text-green-600":"text-red-600"}`,children:U.isActive?"Ativo":"Inativo"})]})]})]})},U.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado para este produtor"})]})})]})}),n.jsx(rr,{open:c,onOpenChange:U=>{d(U),U||i(null)},children:n.jsxs(Jt,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Pedidos em Produo"}),n.jsx(lr,{children:s&&((W=w==null?void 0:w.find(U=>U.id===s))==null?void 0:W.name)})]}),n.jsx("div",{className:"space-y-4",children:L&&L.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prazo"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.orderNumber}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",U.id.slice(-6)]})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:U.clientName}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:U.product}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U.status==="ready"?"bg-green-100 text-green-800":U.status==="production"?"bg-blue-100 text-blue-800":U.status==="accepted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:U.status==="ready"?"Pronto":U.status==="production"?"Em Produo":U.status==="accepted"?"Aceito":U.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:U.deadline?new Date(U.deadline).toLocaleDateString("pt-BR"):"N/A"}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(U.producerValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},U.id))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(io,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado para este produtor"})]})})]})}),n.jsx(rr,{open:u,onOpenChange:U=>{h(U),U||(m(null),O.reset())},children:n.jsxs(Jt,{className:"sm:max-w-[500px]",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(Mn,{className:"h-5 w-5"}),"Editar Produtor"]}),n.jsxs(lr,{children:["Atualize as informaes do produtor ",p==null?void 0:p.name]})]}),n.jsx(ya,{...O,children:n.jsxs("form",{onSubmit:O.handleSubmit(Y),className:"space-y-4",children:[n.jsx(tt,{control:O.control,name:"name",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome do produtor",...U,"data-testid":"input-edit-name"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:O.control,name:"email",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"email@exemplo.com",...U,"data-testid":"input-edit-email"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:O.control,name:"phone",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...U,"data-testid":"input-edit-phone"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:O.control,name:"specialty",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Especialidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Especialidade do produtor",...U,"data-testid":"input-edit-specialty"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:O.control,name:"address",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Endereo do produtor",...U,"data-testid":"input-edit-address"})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:P.isPending,"data-testid":"button-save-edit",children:P.isPending?"Salvando...":"Salvar"})]})]})})]})}),n.jsx(rr,{open:f,onOpenChange:U=>{A(U),U||(m(null),k.reset(),g(!1),y(!1))},children:n.jsxs(Jt,{className:"sm:max-w-[400px]",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(ph,{className:"h-5 w-5"}),"Alterar Senha"]}),n.jsxs(lr,{children:["Defina uma nova senha para o produtor ",p==null?void 0:p.name]})]}),n.jsx(ya,{...k,children:n.jsxs("form",{onSubmit:k.handleSubmit(ne),className:"space-y-4",children:[n.jsx(tt,{control:k.control,name:"newPassword",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nova Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:x?"text":"password",placeholder:"Mnimo 6 caracteres",...U,"data-testid":"input-new-password"}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!x),children:x?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:k.control,name:"confirmPassword",render:({field:U})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Confirmar Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:v?"text":"password",placeholder:"Repita a nova senha",...U,"data-testid":"input-confirm-password"}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!v),children:v?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:R.isPending,"data-testid":"button-save-password",children:R.isPending?"Salvando...":"Alterar Senha"})]})]})})]})})]})}const VPe=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),phone:Ge.string().optional(),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres")}),KPe=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),phone:Ge.string().optional()}),qPe=Ge.object({newPassword:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:Ge.string().min(6,"Confirme a senha")}).refine(e=>e.newPassword===e.confirmPassword,{message:"As senhas no coincidem",path:["confirmPassword"]});function Yz(){const[e,t]=B.useState(!1),[r,a]=B.useState(""),[s,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(null),[u,h]=B.useState(!1),[f,A]=B.useState(!1),{toast:p}=en(),m=()=>{const k=Date.now().toString().slice(-8),P=Math.random().toString(36).substring(2,8).toUpperCase();return`LOG${k}${P}`};B.useEffect(()=>{e&&a(m())},[e]);const{data:x,isLoading:g}=pt({queryKey:["/api/logistics"],queryFn:async()=>{const k=await fetch("/api/logistics");if(!k.ok)throw new Error("Failed to fetch logistics users");return k.json()}}),v=Pa({resolver:ka(VPe),defaultValues:{name:"",email:"",phone:"",password:""}}),y=Pa({resolver:ka(KPe),defaultValues:{name:"",email:"",phone:""}}),j=Pa({resolver:ka(qPe),defaultValues:{newPassword:"",confirmPassword:""}}),b=jt({mutationFn:async k=>{const P={...k,username:r,userCode:r};console.log("Creating logistics user with data:",P);const R=await fetch("/api/logistics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!R.ok){const V=await R.json();throw console.error("Error creating logistics user:",V),new Error(V.error||"Erro ao criar usurio de logstica")}return R.json()},onSuccess:k=>{ct.invalidateQueries({queryKey:["/api/logistics"]}),t(!1),v.reset(),p({title:" Usurio de Logstica Cadastrado com Sucesso!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",r]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Senha:"})," ",k.password]}),n.jsx("p",{className:"text-xs opacity-75",children:"O usurio pode usar essas credenciais para fazer login"})]}),duration:1e4}),console.log("Logistics user created successfully:",k)},onError:k=>{console.error("Logistics user creation failed:",k),p({title:"Erro",description:k.message||"Erro ao criar usurio de logstica",variant:"destructive"})}}),w=jt({mutationFn:async k=>{const P=await fetch(`/api/logistics/${k}`,{method:"DELETE"}),R=await P.json();if(!P.ok)throw new Error(R.error||"Erro ao excluir usurio");return R},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/logistics"]}),p({title:"Sucesso!",description:"Usurio de logstica excludo com sucesso!"})},onError:k=>{p({title:"Erro ao excluir",description:k.message,variant:"destructive"})}}),C=jt({mutationFn:async k=>(await _m("PATCH",`/api/logistics/${k.id}`,{name:k.name,email:k.email||null,phone:k.phone||null})).json(),onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/logistics"]}),i(!1),d(null),y.reset(),p({title:"Sucesso!",description:"Usurio de logstica atualizado com sucesso!"})},onError:k=>{p({title:"Erro",description:k.message||"Erro ao atualizar usurio",variant:"destructive"})}}),F=jt({mutationFn:async({id:k,newPassword:P})=>(await _m("PATCH",`/api/logistics/${k}/password`,{newPassword:P})).json(),onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/logistics"]}),l(!1),d(null),j.reset(),h(!1),A(!1),p({title:"Sucesso!",description:"Senha alterada com sucesso!"})},onError:k=>{p({title:"Erro",description:k.message||"Erro ao alterar senha",variant:"destructive"})}}),E=(k,P)=>{confirm(`Tem certeza que deseja excluir o usurio "${P}"?`)&&w.mutate(k)},L=k=>{d(k),y.reset({name:k.name||"",email:k.email||"",phone:k.phone||""}),i(!0)},N=k=>{d(k),j.reset({newPassword:"",confirmPassword:""}),h(!1),A(!1),l(!0)},I=k=>{b.mutate(k)},M=k=>{c&&C.mutate({...k,id:c.id})},O=k=>{c&&F.mutate({id:c.id,newPassword:k.newPassword})};return g?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gerenciar Logstica"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre usurios para acessar o painel de logstica"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white","data-testid":"button-create-logistics",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Usurio de Logstica"]})}),n.jsxs(Jt,{className:"sm:max-w-[500px]",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Usurio de Logstica"}),n.jsx(lr,{children:"Crie um novo usurio para acessar o painel de logstica"})]}),n.jsx(ya,{...v,children:n.jsxs("form",{onSubmit:v.handleSubmit(I),className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Login"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:r})]})]}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(m()),title:"Gerar novo cdigo",children:n.jsx(oi,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Este cdigo ser usado para fazer login no sistema"})]}),n.jsx(tt,{control:v.control,name:"name",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome do usurio",...k,"data-testid":"input-name"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:v.control,name:"email",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"email@exemplo.com",...k,"data-testid":"input-email"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:v.control,name:"phone",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(00) 00000-0000",...k,"data-testid":"input-phone"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:v.control,name:"password",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Mnimo 6 caracteres",...k,"data-testid":"input-password"})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:b.isPending,"data-testid":"button-submit",children:b.isPending?"Criando...":"Criar Usurio"})]})]})})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x==null?void 0:x.map(k=>n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center mr-3",children:n.jsx(io,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.name}),n.jsx("p",{className:"text-sm text-gray-600",children:"Logstica"})]})]})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[k.email&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(rd,{className:"h-4 w-4 mr-2"}),k.email]}),k.phone&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ll,{className:"h-4 w-4 mr-2"}),k.phone]})]}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-4 border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Cdigo de Login"}),n.jsx("p",{className:"font-mono font-bold text-gray-900",children:k.username||k.userCode})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Z,{variant:"outline",size:"sm",title:"Editar usurio",onClick:()=>L(k),className:"hover:bg-blue-50 hover:border-blue-200","data-testid":`button-edit-${k.id}`,children:n.jsx(Mn,{className:"h-4 w-4 text-blue-600"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Alterar senha",onClick:()=>N(k),className:"hover:bg-yellow-50 hover:border-yellow-200","data-testid":`button-password-${k.id}`,children:n.jsx(ph,{className:"h-4 w-4 text-yellow-600"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Excluir usurio",onClick:()=>E(k.id,k.name),disabled:w.isPending,className:"hover:bg-red-50 hover:border-red-200","data-testid":`button-delete-${k.id}`,children:n.jsx(Bs,{className:"h-4 w-4 text-red-600"})})]})]})})]})},k.id))}),(x==null?void 0:x.length)===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(io,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Nenhum usurio de logstica cadastrado"}),n.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Cadastre usurios para gerenciar pedidos, produo e entregas"}),n.jsx(Z,{onClick:()=>t(!0),className:"gradient-bg text-white",children:"Cadastrar Primeiro Usurio"})]})}),n.jsx(rr,{open:s,onOpenChange:k=>{i(k),k||(d(null),y.reset())},children:n.jsxs(Jt,{className:"sm:max-w-[500px]",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(Mn,{className:"h-5 w-5"}),"Editar Usurio de Logstica"]}),n.jsxs(lr,{children:["Atualize as informaes do usurio ",c==null?void 0:c.name]})]}),n.jsx(ya,{...y,children:n.jsxs("form",{onSubmit:y.handleSubmit(M),className:"space-y-4",children:[n.jsx(tt,{control:y.control,name:"name",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome do usurio",...k,"data-testid":"input-edit-name"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:y.control,name:"email",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"email@exemplo.com",...k,"data-testid":"input-edit-email"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:y.control,name:"phone",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(00) 00000-0000",...k,"data-testid":"input-edit-phone"})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:C.isPending,"data-testid":"button-save-edit",children:C.isPending?"Salvando...":"Salvar"})]})]})})]})}),n.jsx(rr,{open:o,onOpenChange:k=>{l(k),k||(d(null),j.reset(),h(!1),A(!1))},children:n.jsxs(Jt,{className:"sm:max-w-[400px]",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(ph,{className:"h-5 w-5"}),"Alterar Senha"]}),n.jsxs(lr,{children:["Defina uma nova senha para o usurio ",c==null?void 0:c.name]})]}),n.jsx(ya,{...j,children:n.jsxs("form",{onSubmit:j.handleSubmit(O),className:"space-y-4",children:[n.jsx(tt,{control:j.control,name:"newPassword",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nova Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:u?"text":"password",placeholder:"Mnimo 6 caracteres",...k,"data-testid":"input-new-password"}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!u),children:u?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:j.control,name:"confirmPassword",render:({field:k})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Confirmar Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:f?"text":"password",placeholder:"Repita a nova senha",...k,"data-testid":"input-confirm-password"}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>A(!f),children:f?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:F.isPending,"data-testid":"button-save-password",children:F.isPending?"Salvando...":"Alterar Senha"})]})]})})]})})]})}const T0=B.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:mr("w-full caption-bottom text-sm",e),...t})}));T0.displayName="Table";const I0=B.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:mr("[&_tr]:border-b",e),...t}));I0.displayName="TableHeader";const O0=B.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:mr("[&_tr:last-child]:border-0",e),...t}));O0.displayName="TableBody";const WPe=B.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:mr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));WPe.displayName="TableFooter";const nl=B.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:mr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));nl.displayName="TableRow";const bn=B.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:mr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));bn.displayName="TableHead";const fn=B.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:mr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));fn.displayName="TableCell";const GPe=B.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:mr("mt-4 text-sm text-muted-foreground",e),...t}));GPe.displayName="TableCaption";var u8="Progress",h8=100,[XPe,vjt]=Ql(u8),[YPe,JPe]=XPe(u8),yie=B.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:s,getValueLabel:i=ZPe,...o}=e;(s||s===0)&&!Jz(s)&&console.error(eke(`${s}`,"Progress"));const l=Jz(s)?s:h8;a!==null&&!Zz(a,l)&&console.error(tke(`${a}`,"Progress"));const c=Zz(a,l)?a:null,d=I5(c)?i(c,l):void 0;return n.jsx(YPe,{scope:r,value:c,max:l,children:n.jsx(Kr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":I5(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":jie(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});yie.displayName=u8;var wie="ProgressIndicator",bie=B.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,s=JPe(wie,r);return n.jsx(Kr.div,{"data-state":jie(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});bie.displayName=wie;function ZPe(e,t){return`${Math.round(e/t*100)}%`}function jie(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function I5(e){return typeof e=="number"}function Jz(e){return I5(e)&&!isNaN(e)&&e>0}function Zz(e,t){return I5(e)&&!isNaN(e)&&e<=t&&e>=0}function eke(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${h8}\`.`}function tke(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${h8} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Nie=yie,rke=bie;const f8=B.forwardRef(({className:e,value:t,...r},a)=>n.jsx(Nie,{ref:a,className:mr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(rke,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));f8.displayName=Nie.displayName;function eV(){var Ee;const{toast:e}=en(),[t,r]=B.useState(""),[a,s]=B.useState(""),[i,o]=B.useState("all");B.useEffect(()=>{const ee=setTimeout(()=>{s(t),u(1)},500);return()=>clearTimeout(ee)},[t]);const[l,c]=B.useState("all"),[d,u]=B.useState(1),[h,f]=B.useState(20),[A,p]=B.useState(!1),[m,x]=B.useState(!1),[g,v]=B.useState(null),[y,j]=B.useState(null),[b,w]=B.useState(0),[C,F]=B.useState(""),E=B.useRef(null),[L,N]=B.useState({name:"",description:"",category:"",basePrice:"",unit:"un",isActive:!0,weight:"",height:"",width:"",depth:"",imageLink:"",mainColor:"",secondaryColor:"",producerId:"internal",type:"internal"}),I=pt({queryKey:["/api/logistics/products",{page:d,limit:h,search:a||void 0,category:i!=="all"?i:void 0,producer:l!=="all"?l:void 0}],queryFn:async({queryKey:ee})=>{const[,st]=ee,se=new URLSearchParams;st.page&&se.append("page",st.page.toString()),st.limit&&se.append("limit",st.limit.toString()),st.search&&se.append("search",st.search),st.category&&se.append("category",st.category),st.producer&&se.append("producer",st.producer);const me=await fetch(`/api/logistics/products?${se}`);if(!me.ok)throw new Error("Failed to fetch products");return await me.json()}}),M=pt({queryKey:["/api/producers"],queryFn:async()=>{const ee=await fetch("/api/producers");if(!ee.ok)throw new Error("Failed to fetch producers");return ee.json()}}),{data:O}=pt({queryKey:["/api/pricing/settings"]}),{data:k}=pt({queryKey:["/api/pricing/margin-tiers",O==null?void 0:O.id],enabled:!!(O!=null&&O.id)}),P=jt({mutationFn:async ee=>{const st=await fetch("/api/logistics/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!st.ok)throw new Error("Erro ao criar produto");return st.json()},onSuccess:()=>{e({title:"Sucesso",description:"Produto criado com sucesso!"}),ct.invalidateQueries({queryKey:["/api/logistics/products"]}),ne(),p(!1)}}),R=jt({mutationFn:async({id:ee,data:st})=>{const se=await fetch(`/api/logistics/products/${ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(st)});if(!se.ok)throw new Error("Erro ao atualizar produto");return se.json()},onSuccess:()=>{e({title:"Sucesso",description:"Produto atualizado com sucesso!"}),ct.invalidateQueries({queryKey:["/api/logistics/products"]}),ne(),v(null),p(!1)}}),V=jt({mutationFn:async ee=>{const st=await fetch(`/api/logistics/products/${ee}`,{method:"DELETE"});if(!st.ok)throw new Error("Erro ao deletar produto");return st.json()},onSuccess:()=>{e({title:"Sucesso",description:"Produto deletado com sucesso!"}),ct.invalidateQueries({queryKey:["/api/logistics/products"]})}}),D=jt({mutationFn:async({file:ee,producerId:st})=>{if(ee.size>50*1024*1024)throw new Error("Arquivo muito grande. O limite  de 50MB.");const se=new FormData;se.append("file",ee),se.append("producerId",st);const me=await fetch("/api/logistics/products/import",{method:"POST",body:se}),nt=await me.json();if(!me.ok)throw new Error(nt.error||"Erro ao importar produtos");return nt},onSuccess:ee=>{const st=ee.errors&&ee.errors.length>0;e({title:st?"Importao Concluda com Avisos":"Importao Concluda",description:st?`${ee.imported} de ${ee.total} produtos importados. ${ee.errors.length} produtos tiveram problemas.`:`${ee.imported} produtos importados com sucesso para o produtor!`}),ct.invalidateQueries({queryKey:["/api/logistics/products"]}),x(!1),j(null),w(0),F(""),st&&console.log("Import errors:",ee.errors)},onError:ee=>{w(0),e({title:"Erro na Importao",description:ee.message,variant:"destructive"})}}),Y=jt({mutationFn:async()=>{const ee=await fetch("/api/logistics/products/recalculate-prices",{method:"POST"});if(!ee.ok)throw new Error("Erro ao recalcular preos");return ee.json()},onSuccess:ee=>{e({title:"Preos Recalculados",description:`${ee.updated} produto(s) atualizado(s).`}),ct.invalidateQueries({queryKey:["/api/logistics/products"]})},onError:ee=>{e({title:"Erro",description:ee.message,variant:"destructive"})}}),ne=()=>{N({name:"",description:"",category:"",basePrice:"",unit:"un",isActive:!0,weight:"",height:"",width:"",depth:"",imageLink:"",mainColor:"",secondaryColor:"",producerId:"internal",type:"internal"})},S=ee=>{v(ee),N({...ee,producerId:ee.producerId||"internal",type:ee.type||(ee.producerId==="internal"?"internal":"external")}),p(!0)},z=ee=>{confirm("Tem certeza que deseja deletar este produto?")&&V.mutate(ee)},Q=ee=>{ee.preventDefault();const st={...L,producerId:L.producerId||"internal",type:L.producerId==="internal"||!L.producerId?"internal":"external"};g?R.mutate({id:g.id,data:st}):P.mutate(st)},W=()=>{y&&C&&(w(25),D.mutate({file:y,producerId:C}))},U=ee=>{var se;const st=(se=ee.target.files)==null?void 0:se[0];if(st){if(!st.type.includes("json")&&!st.name.toLowerCase().endsWith(".json")){e({title:"Arquivo Invlido",description:"Por favor, selecione um arquivo JSON (.json).",variant:"destructive"});return}if(st.size>50*1024*1024){e({title:"Arquivo Muito Grande",description:"O arquivo deve ter no mximo 50MB.",variant:"destructive"});return}if(st.size===0){e({title:"Arquivo Vazio",description:"O arquivo JSON no pode estar vazio.",variant:"destructive"});return}j(st),w(10)}},re=I.data,de=(re==null?void 0:re.products)||[],ae=(re==null?void 0:re.total)||0,Ae=(re==null?void 0:re.totalPages)||1,Me=M.data||[],H=de.map(ee=>{const st=Me.find(se=>se.id===ee.producerId);return{...ee,producerName:ee.producerId==="internal"?"Interno":(st==null?void 0:st.name)||"Produtor no encontrado"}}),Oe=["all",...new Set(de.map(ee=>ee.category).filter(Boolean))];return I.isLoading?n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Produtos"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie produtos internos e de produtores terceirizados"})]})}),n.jsxs(Le,{className:"shadow-xl border-0",children:[n.jsx(Tt,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Ot,{className:"text-xl font-semibold",children:"Catlogo de Produtos - Administrao"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{variant:"secondary",className:"bg-white/10 text-white hover:bg-white/20 border-white/20",onClick:()=>Y.mutate(),disabled:Y.isPending,children:[n.jsx(oi,{className:`h-4 w-4 mr-2 ${Y.isPending?"animate-spin":""}`}),"Recalcular Preos"]}),n.jsxs(rr,{open:m,onOpenChange:x,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{variant:"secondary",className:"bg-white/10 text-white hover:bg-white/20 border-white/20",children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar JSON"]})}),n.jsxs(Jt,{className:"max-w-md",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Importar Produtos para Produtor"}),n.jsx(lr,{children:"Faa upload de um arquivo JSON e associe ao produtor"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producer-select",children:"Produtor Responsvel"}),n.jsxs($t,{value:C,onValueChange:F,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o produtor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"internal",children:"Produtos Internos da Empresa"}),Me==null?void 0:Me.map(ee=>n.jsxs(ge,{value:ee.id,children:[ee.name," - ",ee.specialty]},ee.id))]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"file",children:"Arquivo JSON"}),n.jsx("input",{ref:E,type:"file",accept:".json,application/json",onChange:U,className:"w-full mt-1 p-2 border rounded-md"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Selecione um arquivo JSON com a estrutura de produtos"})]}),y&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-green-600",children:["Arquivo selecionado: ",y.name]}),b>0&&n.jsx(f8,{value:b,className:"w-full"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>{x(!1),j(null),w(0),F("")},children:"Cancelar"}),n.jsx(Z,{onClick:W,disabled:!y||!C||D.isPending,children:D.isPending?"Importando...":"Importar"})]})]})]})]}),n.jsxs(rr,{open:A,onOpenChange:ee=>{p(ee),ee||(v(null),ne())},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"bg-white text-blue-600 hover:bg-blue-50",onClick:()=>{ne(),N(ee=>({...ee,producerId:"internal",type:"internal"})),v(null)},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})}),n.jsxs(Jt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:g?"Editar Produto":"Novo Produto"}),n.jsx(lr,{children:g?"Edite as informaes do produto":"Cadastre um novo produto"})]}),n.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[n.jsxs(mu,{defaultValue:"basic",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-3",children:[n.jsx(Vn,{value:"basic",children:"Informaes Bsicas"}),n.jsx(Vn,{value:"details",children:"Detalhes"}),n.jsx(Vn,{value:"appearance",children:"Aparncia"})]}),n.jsxs(Kn,{value:"basic",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"name",children:"Nome do Produto"}),n.jsx(ie,{id:"name",value:L.name,onChange:ee=>N({...L,name:ee.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"category",children:"Categoria"}),n.jsx(ie,{id:"category",value:L.category,onChange:ee=>N({...L,category:ee.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"description",children:"Descrio"}),n.jsx(Jn,{id:"description",value:L.description,onChange:ee=>N({...L,description:ee.target.value}),rows:3})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"basePrice",children:"Preo (R$)"}),n.jsx(ie,{id:"basePrice",type:"number",step:"0.01",value:L.basePrice,onChange:ee=>N({...L,basePrice:ee.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"unit",children:"Unidade"}),n.jsxs($t,{value:L.unit,onValueChange:ee=>N({...L,unit:ee}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"un",children:"Unidade"}),n.jsx(ge,{value:"m",children:"Metro"}),n.jsx(ge,{value:"m2",children:"Metro"}),n.jsx(ge,{value:"m3",children:"Metro"}),n.jsx(ge,{value:"kg",children:"Quilograma"}),n.jsx(ge,{value:"l",children:"Litro"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[n.jsx(tl,{checked:L.isActive,onCheckedChange:ee=>N({...L,isActive:ee})}),n.jsx(fe,{children:"Produto Ativo"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producerId",children:"Produtor Responsvel"}),n.jsxs($t,{value:L.producerId,onValueChange:ee=>N({...L,producerId:ee,type:ee==="internal"?"internal":"external"}),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o produtor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"internal",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(gr,{className:"h-4 w-4 text-blue-500 mr-2"}),"Produtos Internos da Empresa"]})}),Me==null?void 0:Me.map(ee=>n.jsx(ge,{value:ee.id,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 text-purple-500 mr-2"}),ee.name," - ",ee.specialty]})},ee.id))]})]})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${L.producerId==="internal"?"bg-blue-50":"bg-purple-50"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[L.producerId==="internal"?n.jsx(gr,{className:"h-4 w-4 text-blue-600"}):n.jsx(En,{className:"h-4 w-4 text-purple-600"}),n.jsx(fe,{className:`font-medium ${L.producerId==="internal"?"text-blue-700":"text-purple-700"}`,children:"Tipo de Produto"})]}),n.jsx("p",{className:`text-sm ${L.producerId==="internal"?"text-blue-600":"text-purple-600"}`,children:L.producerId==="internal"?"Este produto ser cadastrado como PRODUTO INTERNO da empresa":`Este produto ser associado ao produtor ${((Ee=Me==null?void 0:Me.find(ee=>ee.id===L.producerId))==null?void 0:Ee.name)||"selecionado"}`})]})]}),n.jsxs(Kn,{value:"details",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"weight",children:"Peso (kg)"}),n.jsx(ie,{id:"weight",type:"number",step:"0.01",value:L.weight,onChange:ee=>N({...L,weight:ee.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"height",children:"Altura (cm)"}),n.jsx(ie,{id:"height",type:"number",step:"0.1",value:L.height,onChange:ee=>N({...L,height:ee.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"width",children:"Largura (cm)"}),n.jsx(ie,{id:"width",type:"number",step:"0.1",value:L.width,onChange:ee=>N({...L,width:ee.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"depth",children:"Profundidade (cm)"}),n.jsx(ie,{id:"depth",type:"number",step:"0.1",value:L.depth,onChange:ee=>N({...L,depth:ee.target.value})})]})]})]}),n.jsxs(Kn,{value:"appearance",className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"imageLink",children:"Link da Imagem"}),n.jsx(ie,{id:"imageLink",type:"url",value:L.imageLink,onChange:ee=>N({...L,imageLink:ee.target.value}),placeholder:"https://exemplo.com/imagem.jpg"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"mainColor",children:"Cor Principal"}),n.jsx(ie,{id:"mainColor",value:L.mainColor,onChange:ee=>N({...L,mainColor:ee.target.value}),placeholder:"Ex: Branco, Marrom, etc."})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"secondaryColor",children:"Cor Secundria"}),n.jsx(ie,{id:"secondaryColor",value:L.secondaryColor,onChange:ee=>N({...L,secondaryColor:ee.target.value}),placeholder:"Ex: Preto, Dourado, etc."})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),n.jsxs(Z,{type:"submit",disabled:P.isPending||R.isPending,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[g?"Atualizar":"Criar"," Produto"]})]})]})]})]})]})]})}),n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar produtos...",value:t,onChange:ee=>r(ee.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"min-w-48",children:n.jsxs($t,{value:i,onValueChange:ee=>{o(ee),u(1)},children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todas as categorias"})}),n.jsx(Ut,{children:Oe.map(ee=>n.jsx(ge,{value:ee,children:ee==="all"?"Todas as categorias":ee},ee))})]})}),n.jsx("div",{className:"min-w-48",children:n.jsxs($t,{value:l,onValueChange:ee=>{c(ee),u(1)},children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todos os produtores"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os produtores"}),n.jsx(ge,{value:"internal",children:"Produtos Internos"}),Me==null?void 0:Me.map(ee=>n.jsx(ge,{value:ee.id,children:ee.name},ee.id))]})]})})]}),de.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum produto encontrado"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Comece adicionando produtos internos ou importando de produtores."}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsxs(Z,{onClick:()=>p(!0),children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produto"]}),n.jsxs(Z,{variant:"outline",onClick:()=>x(!0),children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar JSON"]})]})]}):n.jsxs(T0,{children:[n.jsx(I0,{children:n.jsxs(nl,{children:[n.jsx(bn,{children:"Imagem"}),n.jsx(bn,{children:"Cdigo"}),n.jsx(bn,{children:"Produto"}),n.jsx(bn,{children:"Categoria"}),n.jsx(bn,{children:"Tipo/Produtor"}),n.jsx(bn,{children:"Preo"}),n.jsx(bn,{children:"Status"}),n.jsx(bn,{className:"text-right",children:"Aes"})]})}),n.jsx(O0,{children:H.map(ee=>n.jsxs(nl,{children:[n.jsx(fn,{children:ee.imageLink?n.jsx("img",{src:ee.imageLink,alt:ee.name,className:"w-12 h-12 object-cover rounded",onError:st=>{st.currentTarget.style.display="none"}}):n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(gr,{className:"h-6 w-6 text-gray-400"})})}),n.jsx(fn,{children:ee.friendlyCode?n.jsx(Yt,{variant:"outline",className:"font-mono text-[10px] py-0.5 px-2 text-purple-600 border-purple-200 bg-purple-50",children:ee.friendlyCode}):n.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),n.jsx(fn,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:ee.name}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:ee.description})]})}),n.jsx(fn,{children:n.jsx(Yt,{variant:"outline",children:ee.category||"Sem categoria"})}),n.jsx(fn,{children:ee.producerId==="internal"?n.jsxs("div",{className:"flex items-center",children:[n.jsx(gr,{className:"h-4 w-4 text-blue-500 mr-1"}),n.jsx(Yt,{className:"bg-blue-100 text-blue-800",children:"Interno"})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 text-purple-500 mr-1"}),n.jsx(Yt,{variant:"secondary",children:ee.producerName})]})}),n.jsxs(fn,{children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",Xg(ee,0,O,k).price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),ee.costPrice&&parseFloat(ee.costPrice)>0&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Custo R$ ",parseFloat(ee.costPrice).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["por ",ee.unit]})]}),n.jsx(fn,{children:n.jsx(Yt,{variant:ee.isActive?"default":"secondary",children:ee.isActive?"Ativo":"Inativo"})}),n.jsx(fn,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>S(ee),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>z(ee.id),children:n.jsx(Bs,{className:"h-4 w-4"})})]})})]},ee.id))})]}),Ae>1&&n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",(d-1)*h+1," a ",Math.min(d*h,ae)," de ",ae," produtos"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>u(Math.max(1,d-1)),disabled:d===1,children:"Anterior"}),n.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,Ae)},(ee,st)=>{const se=st+1;return n.jsx(Z,{variant:d===se?"default":"outline",size:"sm",onClick:()=>u(se),className:"w-8 h-8 p-0",children:se},se)}),Ae>5&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),n.jsx(Z,{variant:d===Ae?"default":"outline",size:"sm",onClick:()=>u(Ae),className:"w-8 h-8 p-0",children:Ae})]})]}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>u(Math.min(Ae,d+1)),disabled:d===Ae,children:"Prxima"})]})]})]})]})]})}function tV(){const{toast:e}=en(),t=JSON.parse(localStorage.getItem("user")||"{}"),[r,a]=B.useState(!1),[s,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(null),[f,A]=B.useState(null),[p,m]=B.useState(null),[x,g]=B.useState(!1),[v,y]=B.useState(!1),[j,b]=B.useState(!1),[w,C]=B.useState(!1),[F,E]=B.useState({name:"",type:"pix",maxInstallments:1,installmentInterest:0,isActive:!0}),[L,N]=B.useState({name:"",type:"fixed",basePrice:0,freeShippingThreshold:0,estimatedDays:5,isActive:!0}),[I,M]=B.useState({name:"",description:"",category:"",minQuantity:1,price:0,isActive:!0}),[O,k]=B.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{data:P}=pt({queryKey:["/api/settings/payment-methods"],queryFn:async()=>{const se=await fetch("/api/settings/payment-methods");if(!se.ok)throw new Error("Failed to fetch payment methods");return se.json()}}),{data:R}=pt({queryKey:["/api/settings/shipping-methods"],queryFn:async()=>{const se=await fetch("/api/settings/shipping-methods");if(!se.ok)throw new Error("Failed to fetch shipping methods");return se.json()}});pt({queryKey:["/api/settings/customization-options"],queryFn:async()=>{const se=await fetch("/api/settings/customization-options");if(!se.ok)throw new Error("Failed to fetch customization options");return se.json()}});const V=jt({mutationFn:async se=>{const me=await fetch("/api/settings/payment-methods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao criar forma de pagamento");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/payment-methods"]}),a(!1),W(),e({title:"Sucesso!",description:"Forma de pagamento criada com sucesso"})}}),D=jt({mutationFn:async se=>{const me=await fetch(`/api/settings/payment-methods/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao atualizar forma de pagamento");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/payment-methods"]}),a(!1),W(),e({title:"Sucesso!",description:"Forma de pagamento atualizada com sucesso"})}}),Y=jt({mutationFn:async se=>{const me=await fetch("/api/settings/shipping-methods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao criar mtodo de frete");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/shipping-methods"]}),i(!1),U(),e({title:"Sucesso!",description:"Mtodo de frete criado com sucesso"})}}),ne=jt({mutationFn:async se=>{const me=await fetch(`/api/settings/shipping-methods/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao atualizar mtodo de frete");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/shipping-methods"]}),i(!1),U(),e({title:"Sucesso!",description:"Mtodo de frete atualizado com sucesso"})}}),S=jt({mutationFn:async se=>{const me=await fetch(`/api/settings/payment-methods/${se}`,{method:"DELETE"});if(!me.ok)throw new Error("Erro ao excluir forma de pagamento");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/payment-methods"]}),e({title:"Sucesso!",description:"Forma de pagamento excluda com sucesso"})}}),z=jt({mutationFn:async se=>{const me=await fetch(`/api/settings/shipping-methods/${se}`,{method:"DELETE"});if(!me.ok)throw new Error("Erro ao excluir mtodo de frete");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/shipping-methods"]}),e({title:"Sucesso!",description:"Mtodo de frete excludo com sucesso"})}});jt({mutationFn:async se=>{const me=await fetch("/api/settings/customization-options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao criar opo de personalizao");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),l(!1),re(),e({title:"Sucesso!",description:"Opo de personalizao criada com sucesso"})}}),jt({mutationFn:async se=>{const me=await fetch(`/api/settings/customization-options/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao atualizar opo de personalizao");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),l(!1),re(),e({title:"Sucesso!",description:"Opo de personalizao atualizada com sucesso"})}}),jt({mutationFn:async se=>{const me=await fetch(`/api/settings/customization-options/${se}`,{method:"DELETE"});if(!me.ok)throw new Error("Erro ao excluir opo de personalizao");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),e({title:"Sucesso!",description:"Opo de personalizao excluda com sucesso"})}});const Q=jt({mutationFn:async se=>{const me=await fetch(`/api/users/${t==null?void 0:t.id}/change-password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error("Erro ao alterar senha");return me.json()},onSuccess:()=>{d(!1),de(),e({title:"Sucesso!",description:"Senha alterada com sucesso"})},onError:se=>{e({title:"Erro",description:se.message||"Erro ao alterar senha. Verifique a senha atual.",variant:"destructive"})}}),W=()=>{E({name:"",type:"pix",maxInstallments:1,installmentInterest:0,isActive:!0}),h(null)},U=()=>{N({name:"",type:"fixed",basePrice:0,freeShippingThreshold:0,estimatedDays:5,isActive:!0}),A(null)},re=()=>{M({name:"",description:"",category:"",minQuantity:1,price:0,isActive:!0}),m(null)},de=()=>{k({currentPassword:"",newPassword:"",confirmPassword:""})},ae=se=>{if(se.preventDefault(),O.newPassword!==O.confirmPassword){e({title:"Erro",description:"A nova senha e a confirmao no coincidem",variant:"destructive"});return}if(O.newPassword.length<6){e({title:"Erro",description:"A nova senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}Q.mutate({currentPassword:O.currentPassword,newPassword:O.newPassword})},Ae=se=>{E({name:se.name,type:se.type,maxInstallments:se.maxInstallments||1,installmentInterest:se.installmentInterest||0,isActive:se.isActive}),h(se),a(!0)},Me=se=>{N({name:se.name,type:se.type,basePrice:se.basePrice||0,freeShippingThreshold:se.freeShippingThreshold||0,estimatedDays:se.estimatedDays||5,isActive:se.isActive}),A(se),i(!0)},H=se=>{se.preventDefault(),u?D.mutate(F):V.mutate(F)},Oe=se=>{se.preventDefault(),f?ne.mutate(L):Y.mutate(L)},Ee=se=>({pix:"PIX",credit_card:"Carto de Crdito",boleto:"Boleto",transfer:"Transferncia Bancria"})[se]||se,ee=se=>({fixed:"Valor Fixo",calculated:"Calculado",free:"Grtis"})[se]||se,st=async()=>{try{C(!0);const se=await fetch("/api/admin/database/backup");if(!se.ok)throw new Error("Erro ao gerar backup");const me=se.headers.get("Content-Disposition"),nt=me?me.split("filename=")[1].replace(/"/g,""):`database_backup_${new Date().toISOString().split("T")[0]}.json`,Nt=await se.blob(),xt=window.URL.createObjectURL(Nt),Ne=document.createElement("a");Ne.href=xt,Ne.download=nt,document.body.appendChild(Ne),Ne.click(),window.URL.revokeObjectURL(xt),document.body.removeChild(Ne),e({title:"Backup criado com sucesso",description:`Arquivo ${nt} foi baixado.`})}catch(se){console.error("Erro ao fazer backup:",se),e({title:"Erro ao criar backup",description:"No foi possvel gerar o backup do banco de dados.",variant:"destructive"})}finally{C(!1)}};return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuraes Gerais"}),n.jsx("p",{className:"text-gray-600",children:"Configure formas de pagamento e mtodos de frete do sistema"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs(Le,{className:"lg:col-span-3",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(ph,{className:"h-5 w-5 mr-2"}),"Segurana do Administrador"]})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Alterar Senha do Admin"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Atualize sua senha para manter sua conta segura"})]}),n.jsxs(rr,{open:c,onOpenChange:d,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{variant:"outline",children:[n.jsx(ph,{className:"h-4 w-4 mr-2"}),"Alterar Senha"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Alterar Senha do Administrador"}),n.jsx(lr,{children:"Digite sua senha atual e a nova senha"})]}),n.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"current-password",children:"Senha Atual"}),n.jsxs("div",{className:"relative",children:[n.jsx(ie,{id:"current-password",type:x?"text":"password",value:O.currentPassword,onChange:se=>k({...O,currentPassword:se.target.value}),placeholder:"Digite sua senha atual",required:!0}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!x),children:x?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"new-password",children:"Nova Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(ie,{id:"new-password",type:v?"text":"password",value:O.newPassword,onChange:se=>k({...O,newPassword:se.target.value}),placeholder:"Digite sua nova senha",required:!0,minLength:6}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!v),children:v?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo de 6 caracteres"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"confirm-password",children:"Confirmar Nova Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(ie,{id:"confirm-password",type:j?"text":"password",value:O.confirmPassword,onChange:se=>k({...O,confirmPassword:se.target.value}),placeholder:"Confirme sua nova senha",required:!0,minLength:6}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!j),children:j?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",disabled:Q.isPending,className:"gradient-bg text-white",children:Q.isPending?"Alterando...":"Alterar Senha"})]})]})]})]})]})})]}),n.jsxs(Le,{className:"lg:col-span-1",children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(lo,{className:"h-5 w-5 mr-2"}),"Formas de Pagamento"]}),n.jsxs(rr,{open:r,onOpenChange:se=>{a(se),se||W()},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Nova Forma"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:u?"Editar Forma de Pagamento":"Nova Forma de Pagamento"}),n.jsx(lr,{children:"Configure as formas de pagamento disponveis no sistema"})]}),n.jsxs("form",{onSubmit:H,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-name",children:"Nome"}),n.jsx(ie,{id:"payment-name",value:F.name,onChange:se=>E({...F,name:se.target.value}),placeholder:"Ex: PIX, Carto de Crdito",required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-type",children:"Tipo"}),n.jsxs($t,{value:F.type,onValueChange:se=>E({...F,type:se}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pix",children:"PIX"}),n.jsx(ge,{value:"credit_card",children:"Carto de Crdito"}),n.jsx(ge,{value:"boleto",children:"Boleto"}),n.jsx(ge,{value:"transfer",children:"Transferncia Bancria"})]})]})]}),F.type==="credit_card"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"max-installments",children:"Mximo de Parcelas"}),n.jsx(ie,{id:"max-installments",type:"number",min:"1",max:"12",value:F.maxInstallments,onChange:se=>E({...F,maxInstallments:parseInt(se.target.value)})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"installment-interest",children:"Taxa de Juros (%)"}),n.jsx(ie,{id:"installment-interest",type:"number",step:"0.01",min:"0",value:F.installmentInterest,onChange:se=>E({...F,installmentInterest:parseFloat(se.target.value)})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tl,{id:"payment-active",checked:F.isActive,onCheckedChange:se=>E({...F,isActive:se})}),n.jsx(fe,{htmlFor:"payment-active",children:"Ativo"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",disabled:V.isPending||D.isPending,children:u?"Atualizar":"Criar"})]})]})]})]})]})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-3",children:[P==null?void 0:P.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:se.name}),n.jsx("p",{className:"text-sm text-gray-500",children:Ee(se.type)}),se.type==="credit_card"&&n.jsxs("p",{className:"text-xs text-gray-400",children:["At ",se.maxInstallments,"x  ",se.installmentInterest,"% juros"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${se.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:se.isActive?"Ativo":"Inativo"}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Ae(se),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>S.mutate(se.id),children:n.jsx(Bs,{className:"h-4 w-4 text-red-500"})})]})]},se.id)),!(P!=null&&P.length)&&n.jsx("p",{className:"text-center text-gray-500 py-8",children:"Nenhuma forma de pagamento cadastrada"})]})})]}),n.jsxs(Le,{className:"lg:col-span-1",children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(io,{className:"h-5 w-5 mr-2"}),"Mtodos de Frete"]}),n.jsxs(rr,{open:s,onOpenChange:se=>{i(se),se||U()},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Mtodo"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:f?"Editar Mtodo de Frete":"Novo Mtodo de Frete"}),n.jsx(lr,{children:"Configure os mtodos de frete disponveis no sistema"})]}),n.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"shipping-name",children:"Nome"}),n.jsx(ie,{id:"shipping-name",value:L.name,onChange:se=>N({...L,name:se.target.value}),placeholder:"Ex: Correios PAC, Transportadora",required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"shipping-type",children:"Tipo"}),n.jsxs($t,{value:L.type,onValueChange:se=>N({...L,type:se}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"fixed",children:"Valor Fixo"}),n.jsx(ge,{value:"calculated",children:"Calculado por CEP"}),n.jsx(ge,{value:"free",children:"Frete Grtis"})]})]})]}),L.type==="fixed"&&n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"base-price",children:"Valor (R$)"}),n.jsx(ie,{id:"base-price",type:"number",step:"0.01",min:"0",value:L.basePrice,onChange:se=>N({...L,basePrice:parseFloat(se.target.value)})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"free-threshold",children:"Frete Grtis Acima de (R$)"}),n.jsx(ie,{id:"free-threshold",type:"number",step:"0.01",min:"0",value:L.freeShippingThreshold,onChange:se=>N({...L,freeShippingThreshold:parseFloat(se.target.value)}),placeholder:"0 = sem frete grtis"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"estimated-days",children:"Prazo Estimado (dias)"}),n.jsx(ie,{id:"estimated-days",type:"number",min:"1",value:L.estimatedDays,onChange:se=>N({...L,estimatedDays:parseInt(se.target.value)})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tl,{id:"shipping-active",checked:L.isActive,onCheckedChange:se=>N({...L,isActive:se})}),n.jsx(fe,{htmlFor:"shipping-active",children:"Ativo"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",disabled:Y.isPending||ne.isPending,children:f?"Atualizar":"Criar"})]})]})]})]})]})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-3",children:[R==null?void 0:R.map(se=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:se.name}),n.jsx("p",{className:"text-sm text-gray-500",children:ee(se.type)}),n.jsxs("div",{className:"text-xs text-gray-400",children:[se.type==="fixed"&&`R$ ${parseFloat(se.basePrice||"0").toFixed(2)}  `,parseFloat(se.freeShippingThreshold||"0")>0&&`Grtis acima de R$ ${parseFloat(se.freeShippingThreshold||"0").toFixed(2)}  `,se.estimatedDays," dias"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${se.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:se.isActive?"Ativo":"Inativo"}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Me(se),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>z.mutate(se.id),children:n.jsx(Bs,{className:"h-4 w-4 text-red-500"})})]})]},se.id)),!(R!=null&&R.length)&&n.jsx("p",{className:"text-center text-gray-500 py-8",children:"Nenhum mtodo de frete cadastrado"})]})})]}),n.jsxs(Le,{className:"lg:col-span-3",children:[n.jsxs(Tt,{children:[n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(ste,{className:"h-5 w-5"}),"Backup do Banco de Dados"]}),n.jsx(Ug,{children:"Faa o download completo de todos os dados do sistema"})]}),n.jsxs(Re,{className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_6,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"O backup inclui:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Todos os usurios (sem senhas)"}),n.jsx("li",{children:"Clientes, produtos e oramentos"}),n.jsx("li",{children:"Pedidos e ordens de produo"}),n.jsx("li",{children:"Pagamentos e comisses"}),n.jsx("li",{children:"Configuraes do sistema"})]})]})]})}),n.jsx(Z,{onClick:st,disabled:w,className:"w-full",children:w?n.jsxs(n.Fragment,{children:[n.jsx(iye,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando backup..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Baixar Backup Completo do Banco"]})})]})]})]})]})}function nke(){const{toast:e}=en(),[t,r]=B.useState(!1),[a,s]=B.useState(null),[i,o]=B.useState(null),[l,c]=B.useState({taxRate:"",commissionRate:"",cashDiscount:""}),[d,u]=B.useState({minRevenue:"",maxRevenue:"",marginRate:"",minimumMarginRate:"",displayOrder:1}),[h,f]=B.useState({productCost:"",quantity:""}),{data:A,isLoading:p}=pt({queryKey:["/api/pricing/settings"],queryFn:async()=>{const I=await fetch("/api/pricing/settings");if(!I.ok)throw new Error("Erro ao carregar configuraes");return I.json()}}),{data:m,isLoading:x}=pt({queryKey:["/api/pricing/margin-tiers",A==null?void 0:A.id],queryFn:async()=>{if(!(A!=null&&A.id))return[];const I=await fetch(`/api/pricing/margin-tiers/${A.id}`);if(!I.ok)throw new Error("Erro ao carregar faixas de margem");return I.json()},enabled:!!(A!=null&&A.id)}),g=jt({mutationFn:async I=>{const M=await fetch(`/api/pricing/settings/${A==null?void 0:A.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!M.ok)throw new Error("Erro ao salvar configuraes");return M.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/pricing/settings"]}),e({title:"Sucesso!",description:"Configuraes salvas com sucesso"})},onError:()=>{e({title:"Erro",description:"Falha ao salvar configuraes",variant:"destructive"})}}),v=jt({mutationFn:async I=>{const M=await fetch("/api/pricing/margin-tiers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...I,settingsId:A==null?void 0:A.id})});if(!M.ok)throw new Error("Erro ao criar faixa");return M.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/pricing/margin-tiers",A==null?void 0:A.id]}),r(!1),w(),e({title:"Sucesso!",description:"Faixa de margem criada"})}}),y=jt({mutationFn:async I=>{const M=await fetch(`/api/pricing/margin-tiers/${a==null?void 0:a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!M.ok)throw new Error("Erro ao atualizar faixa");return M.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/pricing/margin-tiers",A==null?void 0:A.id]}),r(!1),w(),e({title:"Sucesso!",description:"Faixa de margem atualizada"})}}),j=jt({mutationFn:async I=>{const M=await fetch(`/api/pricing/margin-tiers/${I}`,{method:"DELETE"});if(!M.ok)throw new Error("Erro ao excluir faixa");return M.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/pricing/margin-tiers",A==null?void 0:A.id]}),e({title:"Sucesso!",description:"Faixa de margem excluda"})}}),b=jt({mutationFn:async I=>{const M=await fetch("/api/pricing/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!M.ok)throw new Error("Erro ao calcular preo");return M.json()},onSuccess:I=>{o(I)},onError:()=>{e({title:"Erro",description:"Falha ao calcular preo",variant:"destructive"})}}),w=()=>{u({minRevenue:"",maxRevenue:"",marginRate:"",minimumMarginRate:"",displayOrder:1}),s(null)},C=I=>{var M,O;s(I),u({minRevenue:((M=I.minRevenue)==null?void 0:M.toString())||"0",maxRevenue:((O=I.maxRevenue)==null?void 0:O.toString())||"",marginRate:I.marginRate,minimumMarginRate:I.minimumMarginRate||"20.00",displayOrder:I.displayOrder}),r(!0)},F=()=>{const I={minRevenue:d.minRevenue||"0",maxRevenue:d.maxRevenue||null,marginRate:d.marginRate,minimumMarginRate:d.minimumMarginRate,displayOrder:d.displayOrder,minQuantity:0,maxQuantity:null};a?y.mutate(I):v.mutate(I)},E=()=>{if(!h.productCost){e({title:"Ateno",description:"Informe o custo do produto",variant:"destructive"});return}b.mutate({productCost:parseFloat(h.productCost),quantity:parseInt(h.quantity)||1,revenue:0})},L=()=>{g.mutate({taxRate:l.taxRate||(A==null?void 0:A.taxRate),commissionRate:l.commissionRate||(A==null?void 0:A.commissionRate),cashDiscount:l.cashDiscount||(A==null?void 0:A.cashDiscount)})},N=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I);return p?n.jsxs("div",{className:"p-6 flex items-center justify-center",children:[n.jsx(oi,{className:"w-6 h-6 animate-spin mr-2"}),n.jsx("span",{children:"Carregando configuraes..."})]}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Formao de Preo"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure as regras de precificao e margem de lucro"})]})}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(Le,{children:[n.jsxs(Tt,{children:[n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(WA,{className:"w-5 h-5"}),"Configuraes Gerais"]}),n.jsx(Ug,{children:"Taxas fixas aplicadas em todos os clculos de preo"})]}),n.jsxs(Re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"taxRate",children:"Taxa de Imposto (%)"}),n.jsx(ie,{id:"taxRate",type:"number",step:"0.01",placeholder:(A==null?void 0:A.taxRate)||"9.00",value:l.taxRate,onChange:I=>c({...l,taxRate:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"commissionRate",children:"Comisso Vendedor (%)"}),n.jsx(ie,{id:"commissionRate",type:"number",step:"0.01",placeholder:(A==null?void 0:A.commissionRate)||"15.00",value:l.commissionRate,onChange:I=>c({...l,commissionRate:I.target.value})})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"cashDiscount",children:"Desconto  Vista (%)"}),n.jsx(ie,{id:"cashDiscount",type:"number",step:"0.01",placeholder:(A==null?void 0:A.cashDiscount)||"5.00",value:l.cashDiscount,onChange:I=>c({...l,cashDiscount:I.target.value})})]}),n.jsxs(Z,{onClick:L,className:"w-full",disabled:g.isPending,children:[n.jsx(Lg,{className:"w-4 h-4 mr-2"}),g.isPending?"Salvando...":"Salvar Configuraes"]}),n.jsxs("div",{className:"bg-muted p-3 rounded-lg text-sm",children:[n.jsx("p",{className:"font-medium mb-1",children:"Valores Atuais:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 text-muted-foreground",children:[n.jsxs("span",{children:["Imposto: ",A==null?void 0:A.taxRate,"%"]}),n.jsxs("span",{children:["Comisso: ",A==null?void 0:A.commissionRate,"%"]}),n.jsxs("span",{children:["Desc.  Vista: ",A==null?void 0:A.cashDiscount,"%"]})]})]})]})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{children:[n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(td,{className:"w-5 h-5"}),"Simulador de Preo"]}),n.jsx(Ug,{children:"Calcule o preo de venda ideal baseado nas regras configuradas"})]}),n.jsxs(Re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"productCost",children:"Custo do Produto (R$)"}),n.jsx(ie,{id:"productCost",type:"number",step:"0.01",placeholder:"0.00",value:h.productCost,onChange:I=>f({...h,productCost:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"quantity",children:"Quantidade"}),n.jsx(ie,{id:"quantity",type:"number",placeholder:"1",value:h.quantity,onChange:I=>f({...h,quantity:I.target.value})})]})]}),n.jsxs(Z,{onClick:E,className:"w-full",disabled:b.isPending,children:[n.jsx(td,{className:"w-4 h-4 mr-2"}),b.isPending?"Calculando...":"Calcular Preo"]}),i&&n.jsxs("div",{className:"space-y-3 mt-4",children:[n.jsx(as,{}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Resultado do Clculo"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Custo Total:"}),n.jsx("span",{className:"ml-2 font-medium",children:N(i.totalCost)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Margem Aplicada:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[i.marginApplied,"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Margem Mnima:"}),n.jsxs("span",{className:"ml-2 font-medium",children:[i.minimumMarginApplied,"%"]})]})]}),n.jsx(as,{className:"my-3"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-white dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Preo Ideal (unitrio)"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:N(i.idealPrice)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Total: ",N(i.totalIdeal)]})]}),n.jsxs("div",{className:"text-center p-3 bg-white dark:bg-gray-800 rounded-lg",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Preo Mnimo (unitrio)"}),n.jsx("p",{className:"text-lg font-bold text-orange-600",children:N(i.minimumPrice)}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Total: ",N(i.totalMinimum)]})]})]})]})]})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(sye,{className:"w-5 h-5"}),"Faixas de Margem por Faturamento"]}),n.jsx(Ug,{children:"Defina margens diferentes baseadas no valor total do oramento (faturamento)"})]}),n.jsxs(rr,{open:t,onOpenChange:r,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{onClick:()=>{w(),r(!0)},children:[n.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Nova Faixa"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:a?"Editar Faixa":"Nova Faixa de Margem"}),n.jsx(lr,{children:"Configure a margem para uma faixa de faturamento"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"minRevenue",children:"Faturamento Mnimo (R$)"}),n.jsx(ie,{id:"minRevenue",type:"number",step:"0.01",value:d.minRevenue,onChange:I=>u({...d,minRevenue:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"maxRevenue",children:"Faturamento Mximo (R$)"}),n.jsx(ie,{id:"maxRevenue",type:"number",step:"0.01",placeholder:"Ilimitado",value:d.maxRevenue,onChange:I=>u({...d,maxRevenue:I.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"marginRate",children:"Margem de Lucro (%)"}),n.jsx(ie,{id:"marginRate",type:"number",step:"0.01",value:d.marginRate,onChange:I=>u({...d,marginRate:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"minimumMarginRate",children:"Margem Mnima (%)"}),n.jsx(ie,{id:"minimumMarginRate",type:"number",step:"0.01",value:d.minimumMarginRate,onChange:I=>u({...d,minimumMarginRate:I.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{htmlFor:"displayOrder",children:"Ordem"}),n.jsx(ie,{id:"displayOrder",type:"number",value:d.displayOrder,onChange:I=>u({...d,displayOrder:parseInt(I.target.value)||1})})]})]}),n.jsxs(Am,{children:[n.jsx(Z,{variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),n.jsx(Z,{onClick:F,disabled:v.isPending||y.isPending,children:a?"Salvar":"Criar"})]})]})]})]})}),n.jsxs(Re,{children:[x?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(oi,{className:"w-5 h-5 animate-spin mr-2"}),n.jsx("span",{children:"Carregando faixas..."})]}):n.jsxs(T0,{children:[n.jsx(I0,{children:n.jsxs(nl,{children:[n.jsx(bn,{children:"Faixa de Faturamento (R$)"}),n.jsx(bn,{children:"Margem de Lucro"}),n.jsx(bn,{children:"Margem Mnima"}),n.jsx(bn,{children:"Ordem"}),n.jsx(bn,{className:"text-right",children:"Aes"})]})}),n.jsx(O0,{children:(m==null?void 0:m.length)===0?n.jsx(nl,{children:n.jsx(fn,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"Nenhuma faixa de margem configurada"})}):m==null?void 0:m.map(I=>n.jsxs(nl,{children:[n.jsx(fn,{children:n.jsxs(Yt,{variant:"outline",className:"font-mono",children:["R$ ",parseFloat(I.minRevenue||"0").toLocaleString("pt-BR",{minimumFractionDigits:0})," - ",I.maxRevenue?`R$ ${parseFloat(I.maxRevenue).toLocaleString("pt-BR",{minimumFractionDigits:0})}`:""]})}),n.jsx(fn,{children:n.jsxs(Yt,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[n.jsx(no,{className:"w-3 h-3 mr-1"}),I.marginRate,"%"]})}),n.jsx(fn,{children:n.jsxs(Yt,{className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:[n.jsx(no,{className:"w-3 h-3 mr-1"}),I.minimumMarginRate,"%"]})}),n.jsx(fn,{children:I.displayOrder}),n.jsxs(fn,{className:"text-right",children:[n.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>C(I),children:n.jsx(Mn,{className:"w-4 h-4"})}),n.jsx(Z,{variant:"ghost",size:"icon",className:"text-red-600",onClick:()=>{confirm("Tem certeza que deseja excluir esta faixa?")&&j.mutate(I.id)},children:n.jsx(Bs,{className:"w-4 h-4"})})]})]},I.id))})]}),n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg text-sm",children:[n.jsxs("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:[n.jsx(td,{className:"w-4 h-4 inline mr-1"}),"Frmula de Clculo (Markup Divisor)"]}),n.jsx("code",{className:"block bg-white dark:bg-gray-800 p-2 rounded text-xs",children:"Preo de Venda = Custo do Produto / (1 - Imposto% - Comisso% - Margem%)"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Exemplo: Custo R$ 10 / (1 - 0.11 - 0.04 - 0.28) = R$ 17,54"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"A margem  selecionada automaticamente pela faixa de faturamento do oramento"})]})]})]})]})}const ake=Ge.object({commissionRate:Ge.string().min(1,"Taxa de comisso  obrigatria")}),ske=Ge.object({name:Ge.string().min(1,"Nome  obrigatrio"),email:Ge.string().email("Email invlido"),username:Ge.string().min(3,"Username deve ter pelo menos 3 caracteres"),commissionRate:Ge.string().min(1,"Taxa de comisso  obrigatria")}),ike=Ge.object({name:Ge.string().min(1,"Nome  obrigatrio")});function oke(){const[e,t]=B.useState(null),[r,a]=B.useState(null),[s,i]=B.useState(null),[o,l]=B.useState(!1),[c,d]=B.useState(new Set),[u,h]=B.useState("all"),[f,A]=B.useState("all"),[p,m]=B.useState(""),{toast:x}=en(),{data:g,isLoading:v}=pt({queryKey:["/api/commissions"]}),{data:y,isLoading:j}=pt({queryKey:["/api/vendors"]}),{data:b,isLoading:w}=pt({queryKey:["/api/partners"]}),C=Pa({resolver:ka(ake),defaultValues:{commissionRate:""}}),F=Pa({resolver:ka(ske),defaultValues:{name:"",email:"",username:"",commissionRate:"15.00"}}),E=Pa({resolver:ka(ike),defaultValues:{name:""}}),L=jt({mutationFn:async({vendorId:H,commissionRate:Oe})=>{const Ee=await fetch(`/api/vendors/${H}/commission`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({commissionRate:Oe})});if(!Ee.ok)throw new Error("Erro ao atualizar comisso");return Ee.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors"]}),t(null),C.reset(),x({title:"Sucesso!",description:"Comisso do vendedor atualizada"})},onError:()=>{x({title:"Erro",description:"No foi possvel atualizar a comisso",variant:"destructive"})}}),N=jt({mutationFn:async({partnerId:H,commissionRate:Oe})=>{const Ee=await fetch(`/api/partners/${H}/commission`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({commissionRate:Oe})});if(!Ee.ok)throw new Error("Erro ao atualizar comisso");return Ee.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/partners"]}),a(null),C.reset(),x({title:"Sucesso!",description:"Comisso do scio atualizada"})},onError:()=>{x({title:"Erro",description:"No foi possvel atualizar a comisso",variant:"destructive"})}}),I=jt({mutationFn:async({partnerId:H,name:Oe})=>{const Ee=await fetch(`/api/partners/${H}/name`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Oe})});if(!Ee.ok)throw new Error("Erro ao atualizar nome do scio");return Ee.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/partners"]}),i(null),E.reset(),x({title:"Sucesso!",description:"Nome do scio atualizado"})},onError:()=>{x({title:"Erro",description:"No foi possvel atualizar o nome",variant:"destructive"})}});jt({mutationFn:async H=>{const Oe=await fetch("/api/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!Oe.ok)throw new Error("Erro ao criar scio");return Oe.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/partners"]}),l(!1),F.reset(),x({title:"Sucesso!",description:"Scio criado com sucesso"})},onError:()=>{x({title:"Erro",description:"No foi possvel criar o scio",variant:"destructive"})}});const M=jt({mutationFn:async({commissionId:H,status:Oe})=>{const Ee=await fetch(`/api/commissions/${H}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:Oe})});if(!Ee.ok)throw new Error("Erro ao atualizar status");return Ee.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),x({title:"Sucesso!",description:"Status da comisso atualizado"})},onError:()=>{x({title:"Erro",description:"No foi possvel atualizar o status",variant:"destructive"})}}),O=jt({mutationFn:async H=>{const Oe=await fetch(`/api/commissions/${H}`,{method:"DELETE"});if(!Oe.ok)throw new Error("Erro ao excluir comisso");return Oe.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),x({title:"Sucesso!",description:"Comisso excluda com sucesso"})},onError:()=>{x({title:"Erro",description:"No foi possvel excluir a comisso",variant:"destructive"})}}),k=jt({mutationFn:async H=>{const Ee=(await Promise.all(H.map(ee=>fetch(`/api/commissions/${ee}`,{method:"DELETE"})))).filter(ee=>!ee.ok);if(Ee.length>0)throw new Error(`${Ee.length} excluses falharam`);return!0},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),d(new Set),x({title:"Sucesso!",description:"Comisses excludas com sucesso"})},onError:H=>{x({title:"Erro",description:H.message||"No foi possvel excluir as comisses",variant:"destructive"})}}),P=jt({mutationFn:async H=>{const Ee=(await Promise.all(H.map(ee=>fetch(`/api/commissions/${ee}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paid"})})))).filter(ee=>!ee.ok);if(Ee.length>0)throw new Error(`${Ee.length} atualizaes falharam`);return!0},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),d(new Set),x({title:"Sucesso!",description:"Comisses marcadas como pagas"})},onError:H=>{x({title:"Erro",description:H.message||"No foi possvel atualizar as comisses",variant:"destructive"})}}),R=H=>{t(H.id),C.setValue("commissionRate",H.commissionRate)},V=H=>{a(H.id),C.setValue("commissionRate",H.commissionRate)},D=H=>{i(H.id),E.setValue("name",H.name)},Y=H=>{s&&I.mutate({partnerId:s,name:H.name})},ne=H=>{e?L.mutate({vendorId:e,commissionRate:H.commissionRate}):r&&N.mutate({partnerId:r,commissionRate:H.commissionRate})},S=(g==null?void 0:g.filter(H=>H.amount&&(H.vendorName||H.partnerName)&&H.orderNumber))||[],z=B.useMemo(()=>S.filter(H=>{var Oe,Ee;if(u!=="all"&&H.status!==u||f!=="all"&&H.type!==f)return!1;if(p){const ee=p.toLowerCase(),st=(Oe=H.orderNumber)==null?void 0:Oe.toLowerCase().includes(ee),se=(Ee=H.vendorName||H.partnerName)==null?void 0:Ee.toLowerCase().includes(ee);if(!st&&!se)return!1}return!0}),[S,u,f,p]),Q=S.reduce((H,Oe)=>H+parseFloat(Oe.amount),0),W=S.filter(H=>H.status==="pending").reduce((H,Oe)=>H+parseFloat(Oe.amount),0),U=S.filter(H=>H.status==="paid").reduce((H,Oe)=>H+parseFloat(Oe.amount),0),re=()=>{c.size===z.length?d(new Set):d(new Set(z.map(H=>H.id)))},de=H=>{const Oe=new Set(c);Oe.has(H)?Oe.delete(H):Oe.add(H),d(Oe)},ae=()=>{c.size!==0&&confirm(`Tem certeza que deseja excluir ${c.size} comisso(es)? Esta ao no pode ser desfeita.`)&&k.mutate(Array.from(c))},Ae=()=>{if(c.size===0)return;const H=Array.from(c).filter(ee=>{const st=z.find(se=>se.id===ee);return st&&st.status==="confirmed"});if(H.length===0){x({title:"Aviso",description:"Nenhuma comisso elegvel para marcar como paga. Apenas comisses com status 'Confirmada' podem ser marcadas como pagas.",variant:"destructive"});return}const Oe=c.size-H.length,Ee=Oe>0?`Marcar ${H.length} comisso(es) como paga(s)? (${Oe} no elegveis sero ignoradas)`:`Marcar ${H.length} comisso(es) como paga(s)?`;confirm(Ee)&&P.mutate(H)},Me=()=>{h("all"),A("all"),m("")};return v||j||w?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((H,Oe)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},Oe))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(td,{className:"h-8 w-8 gradient-text mr-3"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gesto de Comisses"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie comisses de vendedores e scios"})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Comisses"}),n.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["R$ ",Q.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:["R$ ",W.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(no,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pagas"}),n.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",U.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-green-600"})})]})})})]}),n.jsxs(mu,{defaultValue:"vendors",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-3",children:[n.jsx(Vn,{value:"vendors",children:"Vendedores"}),n.jsx(Vn,{value:"partners",children:"Scios"}),n.jsx(Vn,{value:"commissions",children:"Histrico"})]}),n.jsx(Kn,{value:"vendors",className:"space-y-6",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Comisses dos Vendedores"})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:y==null?void 0:y.map(H=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:H.name}),n.jsx("p",{className:"text-sm text-gray-600",children:H.email})]}),n.jsx("div",{className:"flex items-center space-x-4",children:e===H.id?n.jsx(ya,{...C,children:n.jsxs("form",{onSubmit:C.handleSubmit(ne),className:"flex items-center space-x-2",children:[n.jsx(tt,{control:C.control,name:"commissionRate",render:({field:Oe})=>n.jsxs(Ze,{children:[n.jsx(et,{children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ie,{type:"number",step:"0.01",className:"w-20",...Oe}),n.jsx("span",{className:"text-sm text-gray-500",children:"%"})]})}),n.jsx(rt,{})]})}),n.jsx(Z,{type:"submit",size:"sm",className:"gradient-bg text-white",children:n.jsx(Lg,{className:"h-4 w-4"})}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>t(null),children:"Cancelar"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg font-bold gradient-text",children:[H.commissionRate,"%"]}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>R(H),children:n.jsx(Mn,{className:"h-4 w-4"})})]})})]},H.id))})})]})}),n.jsx(Kn,{value:"partners",className:"space-y-6",children:n.jsxs(Le,{children:[n.jsxs(Tt,{children:[n.jsx(Ot,{children:"Scios do Sistema (3 scios - comisso dividida igualmente)"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Comisses dos scios so confirmadas quando o cliente paga o pedido. Em caso de cancelamento, o valor ser descontado dos prximos pedidos."})]}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-4",children:[b==null?void 0:b.map(H=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsx("div",{className:"flex-1",children:s===H.id?n.jsx(ya,{...E,children:n.jsxs("form",{onSubmit:E.handleSubmit(Y),className:"flex items-center space-x-2",children:[n.jsx(tt,{control:E.control,name:"name",render:({field:Oe})=>n.jsxs(Ze,{children:[n.jsx(et,{children:n.jsx(ie,{className:"w-40",...Oe})}),n.jsx(rt,{})]})}),n.jsx(Z,{type:"submit",size:"sm",className:"gradient-bg text-white",children:n.jsx(Lg,{className:"h-4 w-4"})}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>i(null),children:"Cancelar"})]})}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:H.name}),n.jsx("p",{className:"text-sm text-gray-600",children:H.email})]}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>D(H),title:"Editar nome",children:n.jsx(Mn,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"flex items-center space-x-4",children:r===H.id?n.jsx(ya,{...C,children:n.jsxs("form",{onSubmit:C.handleSubmit(ne),className:"flex items-center space-x-2",children:[n.jsx(tt,{control:C.control,name:"commissionRate",render:({field:Oe})=>n.jsxs(Ze,{children:[n.jsx(et,{children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ie,{type:"number",step:"0.01",className:"w-20",...Oe}),n.jsx("span",{className:"text-sm text-gray-500",children:"%"})]})}),n.jsx(rt,{})]})}),n.jsx(Z,{type:"submit",size:"sm",className:"gradient-bg text-white",children:n.jsx(Lg,{className:"h-4 w-4"})}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>a(null),children:"Cancelar"})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg font-bold gradient-text",children:[H.commissionRate,"%"]}),n.jsx("span",{className:"text-sm text-gray-500",children:"(de cada pedido)"}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>V(H),children:n.jsx(Mn,{className:"h-4 w-4"})})]})})]},H.id)),(!b||b.length===0)&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Carregando scios..."})]})]})})]})}),n.jsx(Kn,{value:"commissions",className:"space-y-6",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Histrico de Comisses"}),n.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[z.length," de ",S.length," comisses"]})]})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fy,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtros:"})]}),n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsx(ie,{placeholder:"Buscar por pedido ou beneficirio...",value:p,onChange:H=>m(H.target.value),className:"h-9","data-testid":"input-search-commissions"})}),n.jsxs($t,{value:u,onValueChange:h,children:[n.jsx(Mt,{className:"w-[180px] h-9","data-testid":"select-status-filter",children:n.jsx(Ht,{placeholder:"Status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"confirmed",children:"Confirmada"}),n.jsx(ge,{value:"paid",children:"Paga"}),n.jsx(ge,{value:"cancelled",children:"Cancelada"}),n.jsx(ge,{value:"deducted",children:"Abatida"})]})]}),n.jsxs($t,{value:f,onValueChange:A,children:[n.jsx(Mt,{className:"w-[150px] h-9","data-testid":"select-type-filter",children:n.jsx(Ht,{placeholder:"Tipo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Tipos"}),n.jsx(ge,{value:"vendor",children:"Vendedor"}),n.jsx(ge,{value:"partner",children:"Scio"})]})]}),(u!=="all"||f!=="all"||p)&&n.jsxs(Z,{variant:"ghost",size:"sm",onClick:Me,className:"h-9",children:[n.jsx(fd,{className:"h-4 w-4 mr-1"}),"Limpar"]})]}),c.size>0&&n.jsxs("div",{className:"flex items-center gap-4 mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[c.size," selecionada(s)"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{size:"sm",variant:"outline",onClick:Ae,disabled:P.isPending,className:"h-8","data-testid":"button-bulk-mark-paid",children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Marcar como Paga"]}),n.jsxs(Z,{size:"sm",variant:"destructive",onClick:ae,disabled:k.isPending,className:"h-8","data-testid":"button-bulk-delete",children:[n.jsx(Bs,{className:"h-4 w-4 mr-1"}),"Excluir"]})]}),n.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>d(new Set),className:"h-8 ml-auto",children:"Cancelar seleo"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-3 text-left",children:n.jsx(uu,{checked:z.length>0&&c.size===z.length,onCheckedChange:re,"data-testid":"checkbox-select-all"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beneficirio"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"%"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comisso"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z==null?void 0:z.map(H=>n.jsxs("tr",{className:c.has(H.id)?"bg-blue-50":"",children:[n.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:n.jsx(uu,{checked:c.has(H.id),onCheckedChange:()=>de(H.id),"data-testid":`checkbox-commission-${H.id}`})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(H.createdAt).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:H.orderNumber}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H.type==="vendor"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:H.type==="vendor"?"Vendedor":"Scio"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.vendorName||H.partnerName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(H.orderValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[parseFloat(H.percentage),"%"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:["R$ ",parseFloat(H.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${H.status==="paid"?"bg-green-100 text-green-800":H.status==="confirmed"?"bg-blue-100 text-blue-800":H.status==="pending"?"bg-yellow-100 text-yellow-800":H.status==="deducted"?"bg-gray-100 text-gray-800":H.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:H.status==="paid"?"Paga":H.status==="confirmed"?"Confirmada (A Pagar)":H.status==="pending"?"Pendente":H.status==="deducted"?"Abatida":H.status==="cancelled"?"Cancelada":H.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[H.status==="confirmed"&&n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>M.mutate({commissionId:H.id,status:"paid"}),children:"Marcar como Paga"}),H.status==="pending"&&n.jsx("span",{className:"text-sm text-gray-500",children:H.type==="vendor"?"Aguardando entrega do pedido":"Aguardando confirmao do pedido"}),n.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>{confirm("Tem certeza que deseja excluir esta comisso? Esta ao no pode ser desfeita.")&&O.mutate(H.id)},className:"ml-2",children:"Excluir"})]})})]},H.id))})]})}),(!S||S.length===0)&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhuma comisso encontrada"})]})]})]})})]})]})}const lke=Ge.object({commissionRate:Ge.string().min(1,"Taxa de comisso  obrigatria")});function cke(){const[e,t]=B.useState(null),{toast:r}=en(),{data:a=[],isLoading:s}=pt({queryKey:["/api/vendors"]}),i=Pa({resolver:ka(lke),defaultValues:{commissionRate:""}}),o=jt({mutationFn:async({vendorId:d,commissionRate:u})=>{const h=await fetch(`/api/vendors/${d}/commission`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({commissionRate:u})});if(!h.ok)throw new Error("Erro ao atualizar comisso");return h.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors"]}),t(null),i.reset(),r({title:"Sucesso!",description:"Comisso atualizada com sucesso"})},onError:()=>{r({title:"Erro",description:"No foi possvel atualizar a comisso",variant:"destructive"})}}),l=d=>{t(d.id),i.setValue("commissionRate",d.commissionRate)},c=d=>{e&&o.mutate({vendorId:e,commissionRate:d.commissionRate})};return s?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(WA,{className:"h-8 w-8 gradient-text mr-3"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configurao de Comisses"}),n.jsx("p",{className:"text-gray-600",children:"Configure as taxas de comisso individuais para cada vendedor"})]})]})}),n.jsx("div",{className:"grid gap-6",children:a.map(d=>n.jsxs(Le,{className:"card-hover",children:[n.jsx(Tt,{className:"pb-4",children:n.jsxs(Ot,{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.name}),n.jsx("p",{className:"text-sm text-gray-600",children:d.email})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`status-badge ${d.isActive?"status-confirmed":"status-cancelled"}`,children:d.isActive?"Ativo":"Inativo"})})]})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Taxa de Comisso"}),e===d.id?n.jsx(ya,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(c),className:"flex items-center space-x-2 mt-1",children:[n.jsx(tt,{control:i.control,name:"commissionRate",render:({field:u})=>n.jsxs(Ze,{children:[n.jsx(et,{children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ie,{type:"number",step:"0.01",className:"w-20",...u}),n.jsx("span",{className:"text-sm text-gray-500",children:"%"})]})}),n.jsx(rt,{})]})}),n.jsx(Z,{type:"submit",size:"sm",className:"gradient-bg text-white",disabled:o.isPending,children:n.jsx(Lg,{className:"h-4 w-4"})}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>t(null),children:"Cancelar"})]})}):n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsxs("span",{className:"text-2xl font-bold gradient-text",children:[d.commissionRate,"%"]}),n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>l(d),children:[n.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Editar"]})]})]})}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Username"}),n.jsx("p",{className:"font-medium",children:d.username})]})]})})]},d.id))}),a.length===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-8 text-center",children:[n.jsx(WA,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum vendedor encontrado"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre vendedores para configurar suas comisses"})]})})]})}var Cie="AlertDialog",[dke,yjt]=Ql(Cie,[Tne]),zf=Tne(),Sie=e=>{const{__scopeAlertDialog:t,...r}=e,a=zf(t);return n.jsx(Gne,{...a,...r,modal:!0})};Sie.displayName=Cie;var uke="AlertDialogTrigger",_ie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=zf(r);return n.jsx(Xne,{...s,...a,ref:t})});_ie.displayName=uke;var hke="AlertDialogPortal",Eie=e=>{const{__scopeAlertDialog:t,...r}=e,a=zf(t);return n.jsx(Yne,{...a,...r})};Eie.displayName=hke;var fke="AlertDialogOverlay",Bie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=zf(r);return n.jsx(RR,{...s,...a,ref:t})});Bie.displayName=fke;var Yg="AlertDialogContent",[Ake,mke]=dke(Yg),pke=Ave("AlertDialogContent"),Fie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...s}=e,i=zf(r),o=B.useRef(null),l=$n(t,o),c=B.useRef(null);return n.jsx(G2e,{contentName:Yg,titleName:Pie,docsSlug:"alert-dialog",children:n.jsx(Ake,{scope:r,cancelRef:c,children:n.jsxs(MR,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:fr(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(pke,{children:a}),n.jsx(gke,{contentRef:o})]})})})});Fie.displayName=Yg;var Pie="AlertDialogTitle",kie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=zf(r);return n.jsx(UR,{...s,...a,ref:t})});kie.displayName=Pie;var Tie="AlertDialogDescription",Iie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=zf(r);return n.jsx(QR,{...s,...a,ref:t})});Iie.displayName=Tie;var xke="AlertDialogAction",Oie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,s=zf(r);return n.jsx($R,{...s,...a,ref:t})});Oie.displayName=xke;var Die="AlertDialogCancel",Lie=B.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=mke(Die,r),i=zf(r),o=$n(t,s);return n.jsx($R,{...i,...a,ref:o})});Lie.displayName=Die;var gke=({contentRef:e})=>{const t=`\`${Yg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yg}\` by passing a \`${Tie}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return B.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vke=Sie,yke=_ie,wke=Eie,Rie=Bie,Mie=Fie,Uie=Oie,Qie=Lie,$ie=kie,Hie=Iie;const zie=vke,Vie=yke,bke=wke,Kie=B.forwardRef(({className:e,...t},r)=>n.jsx(Rie,{className:mr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Kie.displayName=Rie.displayName;const A8=B.forwardRef(({className:e,...t},r)=>n.jsxs(bke,{children:[n.jsx(Kie,{}),n.jsx(Mie,{ref:r,className:mr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));A8.displayName=Mie.displayName;const m8=({className:e,...t})=>n.jsx("div",{className:mr("flex flex-col space-y-2 text-center sm:text-left",e),...t});m8.displayName="AlertDialogHeader";const p8=({className:e,...t})=>n.jsx("div",{className:mr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p8.displayName="AlertDialogFooter";const x8=B.forwardRef(({className:e,...t},r)=>n.jsx($ie,{ref:r,className:mr("text-lg font-semibold",e),...t}));x8.displayName=$ie.displayName;const g8=B.forwardRef(({className:e,...t},r)=>n.jsx(Hie,{ref:r,className:mr("text-sm text-muted-foreground",e),...t}));g8.displayName=Hie.displayName;const v8=B.forwardRef(({className:e,...t},r)=>n.jsx(Uie,{ref:r,className:mr(tj(),e),...t}));v8.displayName=Uie.displayName;const y8=B.forwardRef(({className:e,...t},r)=>n.jsx(Qie,{ref:r,className:mr(tj({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));y8.displayName=Qie.displayName;const jke=Ge.object({name:Ge.string().min(1,"Nome  obrigatrio"),email:Ge.string().email("Email invlido"),phone:Ge.string().optional(),username:Ge.string().min(1,"Nome de usurio  obrigatrio"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres")});function rV(){const[e,t]=B.useState(!1),[r,a]=B.useState(null),{toast:s}=en(),i=Z0(),{data:o,isLoading:l}=pt({queryKey:["/api/partners"]}),c=jt({mutationFn:async m=>{console.log("=== CREATING PARTNER ==="),console.log("Sending partner data:",m);const x=await fetch("/api/partners",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)});console.log("Response status:",x.status);const g=await x.json();if(console.log("Response data:",g),!x.ok)throw new Error(g.error||"Failed to create partner");return g},onSuccess:m=>{console.log("Partner created successfully:",m),i.invalidateQueries({queryKey:["/api/partners"]}),i.refetchQueries({queryKey:["/api/partners"]}),t(!1),h.reset(),s({title:"Sucesso",description:"Scio criado com sucesso!"})},onError:m=>{console.error("Error creating partner:",m),s({title:"Erro",description:m.message||"Erro ao criar scio",variant:"destructive"})}}),d=jt({mutationFn:async({id:m,...x})=>{const g=await fetch(`/api/partners/${m}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(x)});if(!g.ok)throw new Error("Failed to update partner");return g.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/partners"]}),t(!1),a(null),h.reset(),s({title:"Sucesso",description:"Scio atualizado com sucesso!"})},onError:()=>{s({title:"Erro",description:"Erro ao atualizar scio",variant:"destructive"})}}),u=jt({mutationFn:async m=>{console.log(`Attempting to delete partner: ${m}`);const x=await fetch(`/api/partners/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),g=await x.json();if(console.log("Delete response:",g),!x.ok)throw new Error(g.error||"Failed to delete partner");return g},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/partners"]}),i.refetchQueries({queryKey:["/api/partners"]}),s({title:"Sucesso",description:"Scio removido com sucesso!"})},onError:m=>{console.error("Error deleting partner:",m),s({title:"Erro",description:m.message||"Erro ao remover scio",variant:"destructive"})}}),h=Pa({resolver:ka(jke),defaultValues:{name:"",email:"",phone:"",username:"",password:""}}),f=h.watch("name");B.useEffect(()=>{if(f){const m=f.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,"");h.setValue("username",m)}},[f,h]);const A=m=>{a(m),h.reset({name:m.name,email:m.email,phone:m.phone||"",username:m.username,password:""}),t(!0)},p=m=>{m.preventDefault(),h.handleSubmit(()=>{const x=h.getValues();console.log("Submitting partner form:",x),r?d.mutate({id:r.id,...x}):c.mutate(x)})()};return l?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gerenciar Scios"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie os scios da empresa"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>{a(null),h.reset()},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Scio"]})}),n.jsxs(Jt,{className:"sm:max-w-[425px]",children:[n.jsx(Zt,{children:n.jsx(er,{children:r?"Editar Scio":"Novo Scio"})}),n.jsx(ya,{...h,children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsx(tt,{control:h.control,name:"name",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome completo",...m})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:h.control,name:"email",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"email@exemplo.com",type:"email",...m})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:h.control,name:"phone",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...m})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:h.control,name:"username",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome de usurio *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome sem espaos",...m})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:h.control,name:"password",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Senha para acesso",type:"password",...m})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:c.isPending||d.isPending,children:r?"Atualizar":"Criar"})]})]})})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(ca,{className:"h-5 w-5 mr-2"}),"Scios (",(o==null?void 0:o.length)||0,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(o==null?void 0:o.length)===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"Nenhum scio cadastrado"})}):o==null?void 0:o.map(m=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m.phone||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.username||m.userCode||"N/A"}),(m.userCode||m.username)&&n.jsxs("div",{className:"text-xs text-blue-600 font-mono",children:["#",m.userCode||m.username]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Yt,{variant:m.isActive?"default":"secondary",children:m.isActive?"Ativo":"Inativo"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>A(m),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsxs(zie,{children:[n.jsx(Vie,{asChild:!0,children:n.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:n.jsx(Bs,{className:"h-4 w-4"})})}),n.jsxs(A8,{children:[n.jsxs(m8,{children:[n.jsx(x8,{children:"Confirmar excluso"}),n.jsxs(g8,{children:['Tem certeza que deseja excluir o scio "',m.name,'"? Esta ao no pode ser desfeita.']})]}),n.jsxs(p8,{children:[n.jsx(y8,{children:"Cancelar"}),n.jsx(v8,{onClick:()=>u.mutate(m.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})})]},m.id))})]})})})]})]})}const Nke=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido"),username:Ge.string().min(3,"Username deve ter pelo menos 3 caracteres"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),phone:Ge.string().optional(),whatsapp:Ge.string().optional(),cpfCnpj:Ge.string().optional(),address:Ge.string().optional(),vendorId:Ge.string().optional()}),Cke=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido"),username:Ge.string().min(3,"Username deve ter pelo menos 3 caracteres"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),phone:Ge.string().optional(),commissionRate:Ge.string().min(1,"Taxa de comisso  obrigatria"),photoUrl:Ge.string().optional()}),Ske=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),username:Ge.string().min(3,"Username deve ter pelo menos 3 caracteres"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),phone:Ge.string().optional(),commissionRate:Ge.string().min(1,"Taxa de comisso  obrigatria")}),_ke=Ge.object({name:Ge.string().min(2,"Nome/Empresa deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),phone:Ge.string().min(10,"Telefone invlido"),specialty:Ge.string().min(2,"Especialidade  obrigatria"),address:Ge.string().min(5,"Endereo  obrigatrio")}),Eke=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional().or(Ge.literal("")),username:Ge.string().min(3,"Username deve ter pelo menos 3 caracteres"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),phone:Ge.string().optional()});function Bke(){const[e]=Hf(),[t,r]=B.useState("clients"),[a,s]=B.useState(!1),[i,o]=B.useState(!1),[l,c]=B.useState(!1),[d,u]=B.useState(!1),[h,f]=B.useState(!1),[A,p]=B.useState(""),[m,x]=B.useState(""),[g,v]=B.useState(""),[y,j]=B.useState(""),[b,w]=B.useState(""),{toast:C}=en(),[F,E]=B.useState(!1);B.useEffect(()=>{const nt=new URLSearchParams(window.location.search).get("tab");nt&&r(nt)},[e]);const{data:L,isLoading:N}=pt({queryKey:["/api/users"],queryFn:async()=>{const me=await fetch("/api/users");if(!me.ok)throw new Error("Failed to fetch users");return me.json()}}),{data:I}=pt({queryKey:["/api/vendors"]}),M=Pa({resolver:ka(Nke),defaultValues:{name:"",email:"",username:"",password:"",phone:"",whatsapp:"",cpfCnpj:"",address:"",vendorId:""}}),O=Pa({resolver:ka(Cke),defaultValues:{name:"",email:"",username:"",password:"",phone:"",commissionRate:"10.00",photoUrl:""}}),k=Pa({resolver:ka(Ske),defaultValues:{name:"",email:"",username:"",password:"",phone:"",commissionRate:"15.00"}}),P=Pa({resolver:ka(_ke),defaultValues:{name:"",email:"",password:"",phone:"",specialty:"",address:""}}),R=Pa({resolver:ka(Eke),defaultValues:{name:"",email:"",username:"",password:"",phone:""}}),V=jt({mutationFn:async me=>{const nt=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...me,role:"client"})});if(!nt.ok)throw new Error("Erro ao criar usurio cliente");const Nt=await nt.json();if(!(await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Nt.id,name:me.name,email:me.email,phone:me.phone,whatsapp:me.whatsapp,cpfCnpj:me.cpfCnpj,address:me.address,vendorId:me.vendorId})})).ok)throw new Error("Erro ao criar perfil do cliente");return Nt},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/users"]}),ct.invalidateQueries({queryKey:["/api/clients"]}),s(!1),M.reset(),C({title:"Sucesso!",description:"Cliente criado com sucesso"})}}),D=jt({mutationFn:async me=>{const nt=await fetch("/api/vendors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!nt.ok)throw new Error("Erro ao criar vendedor");return nt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/users"]}),ct.invalidateQueries({queryKey:["/api/vendors"]}),o(!1),O.reset(),C({title:"Sucesso!",description:"Vendedor criado com sucesso"})}}),Y=jt({mutationFn:async me=>{const nt={...me,username:g},Nt=await fetch("/api/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)});if(!Nt.ok)throw new Error("Erro ao criar parceiro");return Nt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/users"]}),c(!1),k.reset(),C({title:"Sucesso!",description:`Parceiro criado com sucesso! Cdigo de acesso: ${g}`})}}),ne=jt({mutationFn:async me=>{const nt={...me,username:y},Nt=await fetch("/api/producers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)});if(!Nt.ok)throw new Error("Erro ao criar produtor");return Nt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/users"]}),ct.invalidateQueries({queryKey:["/api/producers"]}),u(!1),P.reset(),C({title:"Sucesso!",description:`Produtor criado com sucesso! Cdigo de acesso: ${y}`})}}),S=jt({mutationFn:async me=>{const nt={...me,role:"finance",username:b},Nt=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)});if(!Nt.ok){const xt=await Nt.json();throw new Error(xt.error||"Erro ao criar usurio financeiro")}return Nt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/users"]}),f(!1),R.reset(),C({title:"Sucesso!",description:`Usurio financeiro criado com sucesso! Cdigo de acesso: ${b}`})}}),z=()=>{const me=Date.now().toString().slice(-6),nt=Math.random().toString(36).substring(2,6).toUpperCase();return`CLI${me}${nt}`},Q=()=>{const me=Date.now().toString().slice(-6),nt=Math.random().toString(36).substring(2,6).toUpperCase();return`VEN${me}${nt}`},W=()=>{const me=Date.now().toString().slice(-6),nt=Math.random().toString(36).substring(2,6).toUpperCase();return`PAR${me}${nt}`},U=()=>{const me=Date.now().toString().slice(-6),nt=Math.random().toString(36).substring(2,6).toUpperCase();return`PRO${me}${nt}`},re=()=>{const me=Date.now().toString().slice(-6),nt=Math.random().toString(36).substring(2,6).toUpperCase();return`FIN${me}${nt}`};B.useEffect(()=>{a&&p(z())},[a]),B.useEffect(()=>{i&&x(Q())},[i]),B.useEffect(()=>{l&&v(W())},[l]),B.useEffect(()=>{d&&j(U())},[d]),B.useEffect(()=>{if(h){const me=re();w(me),R.setValue("username",me)}},[h,R]);const de=me=>{V.mutate(me)},ae=me=>{D.mutate(me)},Ae=me=>{Y.mutate(me)},Me=me=>{ne.mutate(me)},H=me=>{S.mutate(me)},Oe=(L==null?void 0:L.filter(me=>me.role==="client"))||[],Ee=(L==null?void 0:L.filter(me=>me.role==="vendor"))||[],ee=(L==null?void 0:L.filter(me=>me.role==="partner"))||[],st=(L==null?void 0:L.filter(me=>me.role==="producer"))||[],se=(L==null?void 0:L.filter(me=>me.role==="finance"))||[];return N?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gerenciar Usurios"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre e gerencie todos os usurios do sistema"})]}),n.jsxs(mu,{value:t,onValueChange:r,className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-6",children:[n.jsxs(Vn,{value:"clients",className:"flex items-center",children:[n.jsx(ca,{className:"h-4 w-4 mr-2"}),"Clientes (",Oe.length,")"]}),n.jsxs(Vn,{value:"vendors",className:"flex items-center",children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),"Vendedores (",Ee.length,")"]}),n.jsxs(Vn,{value:"partners",className:"flex items-center",children:[n.jsx(rk,{className:"h-4 w-4 mr-2"}),"Scios (",ee.length,")"]}),n.jsxs(Vn,{value:"producers",className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 mr-2"}),"Produtores (",st.length,")"]}),n.jsxs(Vn,{value:"finance",className:"flex items-center",children:[n.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Financeiro (",se.length,")"]}),n.jsxs(Vn,{value:"overview",className:"flex items-center",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Viso Geral"]})]}),n.jsx(Kn,{value:"clients",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(ca,{className:"h-5 w-5 mr-2"}),"Clientes"]}),n.jsxs(rr,{open:a,onOpenChange:s,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})}),n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Cliente"}),n.jsx(lr,{children:"Preencha os dados do cliente para criar uma nova conta"})]}),n.jsx(ya,{...M,children:n.jsxs("form",{onSubmit:M.handleSubmit(de),className:"space-y-4",children:[n.jsx(tt,{control:M.control,name:"name",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Silva",...me})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:M.control,name:"email",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email *"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"joao@email.com",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"username",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Username *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"joao.silva",...me})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:M.control,name:"password",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:F?"text":"password",placeholder:"",...me}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>E(!F),children:F?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:M.control,name:"phone",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"whatsapp",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"WhatsApp"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...me})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:M.control,name:"cpfCnpj",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CPF/CNPJ"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789-00",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"address",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(Jn,{placeholder:"Rua das Flores, 123, Centro, So Paulo, SP",rows:3,...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:M.control,name:"vendorId",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Vendedor Responsvel"}),n.jsxs($t,{onValueChange:me.onChange,defaultValue:me.value,children:[n.jsx(et,{children:n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione um vendedor"})})}),n.jsx(Ut,{children:I==null?void 0:I.map(nt=>n.jsx(ge,{value:nt.id,children:nt.name},nt.id))})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:V.isPending,children:V.isPending?"Criando...":"Criar Cliente"})]})]})})]})]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Oe.map(me=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:me.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.username}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`status-badge ${me.isActive?"status-confirmed":"status-cancelled"}`,children:me.isActive?"Ativo":"Inativo"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx(Z,{variant:"ghost",size:"sm",className:"mr-2",children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600",children:n.jsx(Bs,{className:"h-4 w-4"})})]})]},me.id))})]})})})]})}),n.jsx(Kn,{value:"vendors",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(jn,{className:"h-5 w-5 mr-2"}),"Vendedores"]}),n.jsxs(rr,{open:i,onOpenChange:o,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Vendedor"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Vendedor"}),n.jsx(lr,{children:"Preencha os dados do vendedor para criar uma nova conta"})]}),n.jsx(ya,{...O,children:n.jsxs("form",{onSubmit:O.handleSubmit(ae),className:"space-y-4",children:[n.jsx(tt,{control:O.control,name:"name",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Maria Santos",...me})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:O.control,name:"email",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email *"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"maria@email.com",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:O.control,name:"username",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Username *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"maria.santos",...me})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:O.control,name:"password",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:F?"text":"password",placeholder:"",...me}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>E(!F),children:F?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:O.control,name:"phone",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:O.control,name:"commissionRate",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Taxa de Comisso (%) *"}),n.jsx(et,{children:n.jsx(ie,{type:"number",step:"0.01",placeholder:"10.00",...me})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:O.control,name:"photoUrl",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"URL da Foto"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"https://exemplo.com/foto.jpg",...me})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Cole o link de uma foto do vendedor"}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:D.isPending,children:D.isPending?"Criando...":"Criar Vendedor"})]})]})})]})]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.map(me=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:me.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.username}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`status-badge ${me.isActive?"status-confirmed":"status-cancelled"}`,children:me.isActive?"Ativo":"Inativo"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx(Z,{variant:"ghost",size:"sm",className:"mr-2",children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600",children:n.jsx(Bs,{className:"h-4 w-4"})})]})]},me.id))})]})})})]})}),n.jsx(Kn,{value:"partners",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(rk,{className:"h-5 w-5 mr-2"}),"Scios"]}),n.jsxs(rr,{open:l,onOpenChange:c,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Scio"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Scio"}),n.jsx(lr,{children:"Preencha os dados do scio para criar uma nova conta"})]}),n.jsx(ya,{...k,children:n.jsxs("form",{onSubmit:k.handleSubmit(Ae),className:"space-y-4",children:[n.jsx(tt,{control:k.control,name:"name",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Scio",...me})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:k.control,name:"email",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email *"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"joao@email.com",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:k.control,name:"username",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Username *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"joao.socio",...me})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:k.control,name:"password",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:F?"text":"password",placeholder:"",...me}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>E(!F),children:F?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:k.control,name:"phone",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:k.control,name:"commissionRate",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Taxa de Comisso (%) *"}),n.jsx(et,{children:n.jsx(ie,{type:"number",step:"0.01",placeholder:"15.00",...me})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:Y.isPending,children:Y.isPending?"Criando...":"Criar Scio"})]})]})})]})]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(me=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:me.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:me.username}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`status-badge ${me.isActive?"status-confirmed":"status-cancelled"}`,children:me.isActive?"Ativo":"Inativo"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx(Z,{variant:"ghost",size:"sm",className:"mr-2",children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600",children:n.jsx(Bs,{className:"h-4 w-4"})})]})]},me.id))})]})})})]})}),n.jsx(Kn,{value:"producers",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(En,{className:"h-5 w-5 mr-2"}),"Produtores"]}),n.jsxs(rr,{open:d,onOpenChange:u,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produtor"]})}),n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Produtor"}),n.jsx(lr,{children:"Preencha os dados completos do produtor"})]}),n.jsx(ya,{...P,children:n.jsxs("form",{onSubmit:P.handleSubmit(Me),className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Acesso do Produtor"}),n.jsxs("div",{className:"flex items-center mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:y})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Este cdigo ser usado para login no sistema"})]}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>j(U()),className:"border-blue-300 text-blue-600 hover:bg-blue-100",children:n.jsx(oi,{className:"h-4 w-4"})})]})}),n.jsx(tt,{control:P.control,name:"name",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Empresa *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Marcenaria Santos",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:P.control,name:"password",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma senha",...me})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Senha que o produtor usar para acessar o sistema"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:P.control,name:"email",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@marcenariasantos.com",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:P.control,name:"phone",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...me})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:P.control,name:"specialty",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"O que produz (Especialidade) *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Mveis sob medida, Cadeiras, Mesas...",...me})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:P.control,name:"address",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo Completo *"}),n.jsx(et,{children:n.jsx(Jn,{placeholder:"Rua Industrial, 456, Distrito Industrial, So Paulo, SP",rows:3,...me})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:ne.isPending,children:ne.isPending?"Criando...":"Criar Produtor"})]})]})})]})]})]})}),n.jsxs(Re,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:st==null?void 0:st.map(me=>n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:me.name}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600 mr-2"}),n.jsx("div",{className:"bg-blue-100 border border-blue-300 px-3 py-1.5 rounded-lg",children:n.jsx("span",{className:"text-sm font-mono font-bold text-blue-800",children:me.username})})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cdigo de acesso para login"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"ghost",size:"sm",title:"Ver Detalhes",children:n.jsx(Ur,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Editar",children:n.jsx(Mn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[me.email&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(rd,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:me.email})]}),me.phone&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ll,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:me.phone})]}),me.specialty&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(En,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:me.specialty})]}),me.address&&n.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[n.jsx(Cm,{className:"h-4 w-4 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"line-clamp-2",children:me.address})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`font-medium ${me.isActive?"text-green-600":"text-red-600"}`,children:me.isActive?"Ativo":"Inativo"})]})})]})},me.id))}),(st==null?void 0:st.length)===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(En,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhum produtor cadastrado"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Cadastre produtores para expandir sua rede de produo"}),n.jsxs(Z,{onClick:()=>u(!0),className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Produtor"]})]})]})]})}),n.jsx(Kn,{value:"finance",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(Mr,{className:"h-5 w-5 mr-2"}),"Usurios Financeiros"]}),n.jsxs(rr,{open:h,onOpenChange:f,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Usurio Financeiro"]})}),n.jsxs(Jt,{className:"sm:max-w-[500px]",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Usurio Financeiro"}),n.jsx(lr,{children:"Crie um novo acesso para o mdulo financeiro."})]}),n.jsx(ya,{...R,children:n.jsxs("form",{onSubmit:R.handleSubmit(H),className:"space-y-4",children:[n.jsx(tt,{control:R.control,name:"name",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome do responsvel",...me})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:R.control,name:"email",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"financeiro@empresa.com",...me})}),n.jsx(rt,{})]})}),n.jsxs(Ze,{children:[n.jsx(Je,{children:"Username (Gerado)"}),n.jsx(et,{children:n.jsx(ie,{...R.register("username"),value:b,readOnly:!0,className:"bg-gray-50"})})]})]}),n.jsx(tt,{control:R.control,name:"password",render:({field:me})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha *"}),n.jsx(et,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ie,{type:F?"text":"password",placeholder:"",...me}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>E(!F),children:F?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:S.isPending,children:S.isPending?"Cadastrando...":"Cadastrar Usurio"})]})]})})]})]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4",children:"Nome"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Usurio"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Email"}),n.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),n.jsx("th",{className:"text-right py-3 px-4",children:"Aes"})]})}),n.jsx("tbody",{children:Array.isArray(se)&&se.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-500 italic",children:"Nenhum usurio financeiro cadastrado."})}):se.map(me=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4 font-medium",children:me.name}),n.jsx("td",{className:"py-3 px-4",children:me.username}),n.jsx("td",{className:"py-3 px-4",children:me.email||"-"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Ativo"})}),n.jsxs("td",{className:"py-3 px-4 text-right space-x-2",children:[n.jsx(Z,{variant:"ghost",size:"icon",children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"icon",className:"text-red-500",children:n.jsx(Bs,{className:"h-4 w-4"})})]})]},me.id))})]})})})]})}),n.jsx(Kn,{value:"overview",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Clientes"}),n.jsx(ca,{className:"h-6 w-6 text-blue-600"})]}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:Oe.length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total de clientes cadastrados"})]})}),n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vendedores"}),n.jsx(jn,{className:"h-6 w-6 text-green-600"})]}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:Ee.length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Vendedores ativos no sistema"})]})}),n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Parceiros"}),n.jsx(rk,{className:"h-6 w-6 text-purple-600"})]}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:ee.length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Parceiros de negcio"})]})}),n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Produtores"}),n.jsx(En,{className:"h-6 w-6 text-orange-600"})]}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:st.length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Rede de produo terceirizada"})]})})]})})]})]})}var PI=["Enter"," "],Fke=["ArrowDown","PageUp","Home"],qie=["ArrowUp","PageDown","End"],Pke=[...Fke,...qie],kke={ltr:[...PI,"ArrowRight"],rtl:[...PI,"ArrowLeft"]},Tke={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tN="Menu",[Ej,Ike,Oke]=XE(tN),[rx,Wie]=Ql(tN,[Oke,Oy,xB]),TB=Oy(),Gie=xB(),[Dke,nx]=rx(tN),[Lke,rN]=rx(tN),Xie=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=TB(t),[c,d]=B.useState(null),u=B.useRef(!1),h=ko(i),f=tB(s);return B.useEffect(()=>{const A=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),n.jsx(wR,{...l,children:n.jsx(Dke,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(Lke,{scope:t,onClose:B.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:a})})})};Xie.displayName=tN;var Rke="MenuAnchor",w8=B.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=TB(r);return n.jsx(iB,{...s,...a,ref:t})});w8.displayName=Rke;var b8="MenuPortal",[Mke,Yie]=rx(b8,{forceMount:void 0}),Jie=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:s}=e,i=nx(b8,t);return n.jsx(Mke,{scope:t,forceMount:r,children:n.jsx(Bc,{present:r||i.open,children:n.jsx(Ey,{asChild:!0,container:s,children:a})})})};Jie.displayName=b8;var ld="MenuContent",[Uke,j8]=rx(ld),Zie=B.forwardRef((e,t)=>{const r=Yie(ld,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=nx(ld,e.__scopeMenu),o=rN(ld,e.__scopeMenu);return n.jsx(Ej.Provider,{scope:e.__scopeMenu,children:n.jsx(Bc,{present:a||i.open,children:n.jsx(Ej.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Qke,{...s,ref:t}):n.jsx($ke,{...s,ref:t})})})})}),Qke=B.forwardRef((e,t)=>{const r=nx(ld,e.__scopeMenu),a=B.useRef(null),s=$n(t,a);return B.useEffect(()=>{const i=a.current;if(i)return oB(i)},[]),n.jsx(N8,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$ke=B.forwardRef((e,t)=>{const r=nx(ld,e.__scopeMenu);return n.jsx(N8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Hke=Nm("MenuContent.ScrollLock"),N8=B.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:A,disableOutsideScroll:p,...m}=e,x=nx(ld,r),g=rN(ld,r),v=TB(r),y=Gie(r),j=Ike(r),[b,w]=B.useState(null),C=B.useRef(null),F=$n(t,C,x.onContentChange),E=B.useRef(0),L=B.useRef(""),N=B.useRef(0),I=B.useRef(null),M=B.useRef("right"),O=B.useRef(0),k=p?V2:B.Fragment,P=p?{as:Hke,allowPinchZoom:!0}:void 0,R=D=>{var re,de;const Y=L.current+D,ne=j().filter(ae=>!ae.disabled),S=document.activeElement,z=(re=ne.find(ae=>ae.ref.current===S))==null?void 0:re.textValue,Q=ne.map(ae=>ae.textValue),W=t3e(Q,Y,z),U=(de=ne.find(ae=>ae.textValue===W))==null?void 0:de.ref.current;(function ae(Ae){L.current=Ae,window.clearTimeout(E.current),Ae!==""&&(E.current=window.setTimeout(()=>ae(""),1e3))})(Y),U&&setTimeout(()=>U.focus())};B.useEffect(()=>()=>window.clearTimeout(E.current),[]),rB();const V=B.useCallback(D=>{var ne,S;return M.current===((ne=I.current)==null?void 0:ne.side)&&n3e(D,(S=I.current)==null?void 0:S.area)},[]);return n.jsx(Uke,{scope:r,searchRef:L,onItemEnter:B.useCallback(D=>{V(D)&&D.preventDefault()},[V]),onItemLeave:B.useCallback(D=>{var Y;V(D)||((Y=C.current)==null||Y.focus(),w(null))},[V]),onTriggerLeave:B.useCallback(D=>{V(D)&&D.preventDefault()},[V]),pointerGraceTimerRef:N,onPointerGraceIntentChange:B.useCallback(D=>{I.current=D},[]),children:n.jsx(k,{...P,children:n.jsx(H2,{asChild:!0,trapped:s,onMountAutoFocus:fr(i,D=>{var Y;D.preventDefault(),(Y=C.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(_y,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:A,children:n.jsx(hne,{asChild:!0,...y,dir:g.dir,orientation:"vertical",loop:a,currentTabStopId:b,onCurrentTabStopIdChange:w,onEntryFocus:fr(c,D=>{g.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(bR,{role:"menu","aria-orientation":"vertical","data-state":moe(x.open),"data-radix-menu-content":"",dir:g.dir,...v,...m,ref:F,style:{outline:"none",...m.style},onKeyDown:fr(m.onKeyDown,D=>{const ne=D.target.closest("[data-radix-menu-content]")===D.currentTarget,S=D.ctrlKey||D.altKey||D.metaKey,z=D.key.length===1;ne&&(D.key==="Tab"&&D.preventDefault(),!S&&z&&R(D.key));const Q=C.current;if(D.target!==Q||!Pke.includes(D.key))return;D.preventDefault();const U=j().filter(re=>!re.disabled).map(re=>re.ref.current);qie.includes(D.key)&&U.reverse(),Zke(U)}),onBlur:fr(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(E.current),L.current="")}),onPointerMove:fr(e.onPointerMove,Bj(D=>{const Y=D.target,ne=O.current!==D.clientX;if(D.currentTarget.contains(Y)&&ne){const S=D.clientX>O.current?"right":"left";M.current=S,O.current=D.clientX}}))})})})})})})});Zie.displayName=ld;var zke="MenuGroup",C8=B.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(Kr.div,{role:"group",...a,ref:t})});C8.displayName=zke;var Vke="MenuLabel",eoe=B.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(Kr.div,{...a,ref:t})});eoe.displayName=Vke;var O5="MenuItem",nV="menu.itemSelect",IB=B.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=B.useRef(null),o=rN(O5,e.__scopeMenu),l=j8(O5,e.__scopeMenu),c=$n(t,i),d=B.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(nV,{bubbles:!0,cancelable:!0});h.addEventListener(nV,A=>a==null?void 0:a(A),{once:!0}),aR(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(toe,{...s,ref:c,disabled:r,onClick:fr(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),d.current=!0},onPointerUp:fr(e.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:fr(e.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||PI.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});IB.displayName=O5;var toe=B.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,o=j8(O5,r),l=Gie(r),c=B.useRef(null),d=$n(t,c),[u,h]=B.useState(!1),[f,A]=B.useState("");return B.useEffect(()=>{const p=c.current;p&&A((p.textContent??"").trim())},[i.children]),n.jsx(Ej.ItemSlot,{scope:r,disabled:a,textValue:s??f,children:n.jsx(fne,{asChild:!0,...l,focusable:!a,children:n.jsx(Kr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:fr(e.onPointerMove,Bj(p=>{a?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fr(e.onPointerLeave,Bj(p=>o.onItemLeave(p))),onFocus:fr(e.onFocus,()=>h(!0)),onBlur:fr(e.onBlur,()=>h(!1))})})})}),Kke="MenuCheckboxItem",roe=B.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return n.jsx(ooe,{scope:e.__scopeMenu,checked:r,children:n.jsx(IB,{role:"menuitemcheckbox","aria-checked":D5(r)?"mixed":r,...s,ref:t,"data-state":_8(r),onSelect:fr(s.onSelect,()=>a==null?void 0:a(D5(r)?!0:!r),{checkForDefaultPrevented:!1})})})});roe.displayName=Kke;var noe="MenuRadioGroup",[qke,Wke]=rx(noe,{value:void 0,onValueChange:()=>{}}),aoe=B.forwardRef((e,t)=>{const{value:r,onValueChange:a,...s}=e,i=ko(a);return n.jsx(qke,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(C8,{...s,ref:t})})});aoe.displayName=noe;var soe="MenuRadioItem",ioe=B.forwardRef((e,t)=>{const{value:r,...a}=e,s=Wke(soe,e.__scopeMenu),i=r===s.value;return n.jsx(ooe,{scope:e.__scopeMenu,checked:i,children:n.jsx(IB,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":_8(i),onSelect:fr(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});ioe.displayName=soe;var S8="MenuItemIndicator",[ooe,Gke]=rx(S8,{checked:!1}),loe=B.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=Gke(S8,r);return n.jsx(Bc,{present:a||D5(i.checked)||i.checked===!0,children:n.jsx(Kr.span,{...s,ref:t,"data-state":_8(i.checked)})})});loe.displayName=S8;var Xke="MenuSeparator",coe=B.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(Kr.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});coe.displayName=Xke;var Yke="MenuArrow",doe=B.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=TB(r);return n.jsx(jR,{...s,...a,ref:t})});doe.displayName=Yke;var Jke="MenuSub",[wjt,uoe]=rx(Jke),Fw="MenuSubTrigger",hoe=B.forwardRef((e,t)=>{const r=nx(Fw,e.__scopeMenu),a=rN(Fw,e.__scopeMenu),s=uoe(Fw,e.__scopeMenu),i=j8(Fw,e.__scopeMenu),o=B.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=B.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return B.useEffect(()=>u,[u]),B.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(w8,{asChild:!0,...d,children:n.jsx(toe,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":moe(r.open),...e,ref:GE(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fr(e.onPointerMove,Bj(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:fr(e.onPointerLeave,Bj(h=>{var A,p;u();const f=(A=r.content)==null?void 0:A.getBoundingClientRect();if(f){const m=(p=r.content)==null?void 0:p.dataset.side,x=m==="right",g=x?-5:5,v=f[x?"left":"right"],y=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:v,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x:v,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fr(e.onKeyDown,h=>{var A;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||kke[a.dir].includes(h.key)&&(r.onOpenChange(!0),(A=r.content)==null||A.focus(),h.preventDefault())})})})});hoe.displayName=Fw;var foe="MenuSubContent",Aoe=B.forwardRef((e,t)=>{const r=Yie(ld,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=nx(ld,e.__scopeMenu),o=rN(ld,e.__scopeMenu),l=uoe(foe,e.__scopeMenu),c=B.useRef(null),d=$n(t,c);return n.jsx(Ej.Provider,{scope:e.__scopeMenu,children:n.jsx(Bc,{present:a||i.open,children:n.jsx(Ej.Slot,{scope:e.__scopeMenu,children:n.jsx(N8,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:fr(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fr(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:fr(e.onKeyDown,u=>{var A;const h=u.currentTarget.contains(u.target),f=Tke[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(A=l.trigger)==null||A.focus(),u.preventDefault())})})})})})});Aoe.displayName=foe;function moe(e){return e?"open":"closed"}function D5(e){return e==="indeterminate"}function _8(e){return D5(e)?"indeterminate":e?"checked":"unchecked"}function Zke(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function e3e(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function t3e(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=e3e(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function r3e(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>a!=u>a&&r<(d-l)*(a-c)/(u-c)+l&&(s=!s)}return s}function n3e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return r3e(r,t)}function Bj(e){return t=>t.pointerType==="mouse"?e(t):void 0}var a3e=Xie,s3e=w8,i3e=Jie,o3e=Zie,l3e=C8,c3e=eoe,d3e=IB,u3e=roe,h3e=aoe,f3e=ioe,A3e=loe,m3e=coe,p3e=doe,x3e=hoe,g3e=Aoe,E8="DropdownMenu",[v3e,bjt]=Ql(E8,[Wie]),xl=Wie(),[y3e,poe]=v3e(E8),xoe=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=xl(t),d=B.useRef(null),[u=!1,h]=Ah({prop:s,defaultProp:i,onChange:o});return n.jsx(y3e,{scope:t,triggerId:tu(),triggerRef:d,contentId:tu(),open:u,onOpenChange:h,onOpenToggle:B.useCallback(()=>h(f=>!f),[h]),modal:l,children:n.jsx(a3e,{...c,open:u,onOpenChange:h,dir:a,modal:l,children:r})})};xoe.displayName=E8;var goe="DropdownMenuTrigger",voe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=poe(goe,r),o=xl(r);return n.jsx(s3e,{asChild:!0,...o,children:n.jsx(Kr.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:GE(t,i.triggerRef),onPointerDown:fr(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:fr(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});voe.displayName=goe;var w3e="DropdownMenuPortal",yoe=e=>{const{__scopeDropdownMenu:t,...r}=e,a=xl(t);return n.jsx(i3e,{...a,...r})};yoe.displayName=w3e;var woe="DropdownMenuContent",boe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=poe(woe,r),i=xl(r),o=B.useRef(!1);return n.jsx(o3e,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:fr(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:fr(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});boe.displayName=woe;var b3e="DropdownMenuGroup",j3e=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(l3e,{...s,...a,ref:t})});j3e.displayName=b3e;var N3e="DropdownMenuLabel",joe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(c3e,{...s,...a,ref:t})});joe.displayName=N3e;var C3e="DropdownMenuItem",Noe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(d3e,{...s,...a,ref:t})});Noe.displayName=C3e;var S3e="DropdownMenuCheckboxItem",Coe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(u3e,{...s,...a,ref:t})});Coe.displayName=S3e;var _3e="DropdownMenuRadioGroup",E3e=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(h3e,{...s,...a,ref:t})});E3e.displayName=_3e;var B3e="DropdownMenuRadioItem",Soe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(f3e,{...s,...a,ref:t})});Soe.displayName=B3e;var F3e="DropdownMenuItemIndicator",_oe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(A3e,{...s,...a,ref:t})});_oe.displayName=F3e;var P3e="DropdownMenuSeparator",Eoe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(m3e,{...s,...a,ref:t})});Eoe.displayName=P3e;var k3e="DropdownMenuArrow",T3e=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(p3e,{...s,...a,ref:t})});T3e.displayName=k3e;var I3e="DropdownMenuSubTrigger",Boe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(x3e,{...s,...a,ref:t})});Boe.displayName=I3e;var O3e="DropdownMenuSubContent",Foe=B.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=xl(r);return n.jsx(g3e,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Foe.displayName=O3e;var D3e=xoe,L3e=voe,R3e=yoe,Poe=boe,koe=joe,Toe=Noe,Ioe=Coe,Ooe=Soe,Doe=_oe,Loe=Eoe,Roe=Boe,Moe=Foe;const Iu=D3e,Ou=L3e,M3e=B.forwardRef(({className:e,inset:t,children:r,...a},s)=>n.jsxs(Roe,{ref:s,className:mr("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[r,n.jsx(cR,{className:"ml-auto"})]}));M3e.displayName=Roe.displayName;const U3e=B.forwardRef(({className:e,...t},r)=>n.jsx(Moe,{ref:r,className:mr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));U3e.displayName=Moe.displayName;const Od=B.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(R3e,{children:n.jsx(Poe,{ref:a,sideOffset:t,className:mr("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Od.displayName=Poe.displayName;const ma=B.forwardRef(({className:e,inset:t,...r},a)=>n.jsx(Toe,{ref:a,className:mr("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));ma.displayName=Toe.displayName;const Q3e=B.forwardRef(({className:e,children:t,checked:r,...a},s)=>n.jsxs(Ioe,{ref:s,className:mr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Doe,{children:n.jsx(By,{className:"h-4 w-4"})})}),t]}));Q3e.displayName=Ioe.displayName;const $3e=B.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Ooe,{ref:a,className:mr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Doe,{children:n.jsx(aye,{className:"h-2 w-2 fill-current"})})}),t]}));$3e.displayName=Ooe.displayName;const H3e=B.forwardRef(({className:e,inset:t,...r},a)=>n.jsx(koe,{ref:a,className:mr("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));H3e.displayName=koe.displayName;const z3e=B.forwardRef(({className:e,...t},r)=>n.jsx(Loe,{ref:r,className:mr("-mx-1 my-1 h-px bg-muted",e),...t}));z3e.displayName=Loe.displayName;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var L5={};L5.version="0.18.5";var Uoe=1252,V3e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],B8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},F8=function(e){V3e.indexOf(e)!=-1&&(Uoe=B8[0]=e)};function K3e(){F8(1252)}var Gd=function(e){F8(e)};function P8(){Gd(1200),K3e()}function aV(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function q3e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Qoe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Pw=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?q3e(e.slice(2)):t==254&&r==255?Qoe(e.slice(2)):t==65279?e.slice(1):e},n4=function(t){return String.fromCharCode(t)},sV=function(t){return String.fromCharCode(t)},IA,em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Fj(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,a=e.charCodeAt(d++),o=(r&3)<<4|a>>4,s=e.charCodeAt(d++),l=(a&15)<<2|s>>6,c=s&63,isNaN(a)?l=c=64:isNaN(s)&&(c=64),t+=em.charAt(i)+em.charAt(o)+em.charAt(l)+em.charAt(c);return t}function Cc(e){var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=em.indexOf(e.charAt(d++)),o=em.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=em.indexOf(e.charAt(d++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=em.indexOf(e.charAt(d++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var _n=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Vf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Lm(e){return _n?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function iV(e){return _n?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var fc=function(t){return _n?Vf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function OB(e){if(typeof ArrayBuffer>"u")return fc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Wm(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function W3e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function k8(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return k8(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ii=_n?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Vf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function G3e(e){for(var t=[],r=0,a=e.length+250,s=Lm(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=Lm(65535),a=65530)}return t.push(s.slice(0,r)),Ii(t)}var cl=/\u0000/g,kw=/[\u0001-\u0006]/g;function Jg(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xd(e,t){var r=""+e;return r.length>=t?r:Ss("0",t-r.length)+r}function T8(e,t){var r=""+e;return r.length>=t?r:Ss(" ",t-r.length)+r}function R5(e,t){var r=""+e;return r.length>=t?r:r+Ss(" ",t-r.length)}function X3e(e,t){var r=""+Math.round(e);return r.length>=t?r:Ss("0",t-r.length)+r}function Y3e(e,t){var r=""+e;return r.length>=t?r:Ss("0",t-r.length)+r}var oV=Math.pow(2,32);function Hx(e,t){if(e>oV||e<-oV)return X3e(e,t);var r=Math.round(e);return Y3e(r,t)}function M5(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var lV=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],d3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function J3e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Yr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},cV={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Z3e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function U5(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(s);d<t&&(h=Math.floor(s),l=h*o+i,u=h*d+c,!(s-h<5e-8));)s=1/(s-h),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,a*l,u];var f=Math.floor(a*l/u);return[f,a*l-f*u,u]}function Vp(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=sTe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var $oe=new Date(1899,11,31,0,0,0),eTe=$oe.getTime(),tTe=new Date(1900,2,1,0,0,0);function Hoe(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=tTe&&(r+=24*60*60*1e3),(r-(eTe+(e.getTimezoneOffset()-$oe.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function I8(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rTe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nTe(e){var t=e<0?12:11,r=I8(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function aTe(e){var t=I8(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Pj(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=nTe(e):t===10?r=e.toFixed(10).substr(0,12):r=aTe(e),I8(rTe(r.toUpperCase()))}function D0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Pj(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return md(14,Hoe(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sTe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function iTe(e,t,r,a){var s="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return d3[r.m-1][1];case 5:return d3[r.m-1][0];default:return d3[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return lV[r.q][0];default:return lV[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xd(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Xd(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Xd(c,d):"";return u}function tm(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var zoe=/%/g;function oTe(e,t,r){var a=t.replace(zoe,""),s=t.length-a.length;return wf(e,a,r*Math.pow(10,2*s))+Ss("%",s)}function lTe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return wf(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Voe(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Voe(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Koe=/# (\?+)( ?)\/( ?)(\d+)/;function cTe(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?Ss(" ",e[1].length+1+e[4].length):T8(o,e[1].length)+e[2]+"/"+e[3]+Xd(l,e[4].length))}function dTe(e,t,r){return r+(t===0?"":""+t)+Ss(" ",e[1].length+2+e[4].length)}var qoe=/^#*0*\.([0#]+)/,Woe=/\).*[0#]/,Goe=/\(###\) ###\\?-####/;function Wo(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function dV(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function uV(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function uTe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function hTe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Lc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Woe)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lc("n",a,r):"("+Lc("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lTe(e,t,r);if(t.indexOf("%")!==-1)return oTe(e,t,r);if(t.indexOf("E")!==-1)return Voe(t,r);if(t.charCodeAt(0)===36)return"$"+Lc(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Hx(c,t.length);if(t.match(/^[#?]+$/))return s=Hx(r,0),s==="0"&&(s=""),s.length>t.length?s:Wo(t.substr(0,t.length-s.length))+s;if(i=t.match(Koe))return cTe(i,c,d);if(t.match(/^#+0+$/))return d+Hx(c,t.length-t.indexOf("0"));if(i=t.match(qoe))return s=dV(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Wo(i[1])).replace(/\.$/,"."+Wo(i[1])).replace(/\.(\d*)$/,function(p,m){return"."+m+Ss("0",Wo(i[1]).length-m.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+dV(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+tm(Hx(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lc(e,t,-r):tm(""+(Math.floor(r)+uTe(r,i[1].length)))+"."+Xd(uV(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Lc(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Jg(Lc(e,t.replace(/[\\-]/g,""),r)),o=0,Jg(Jg(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<s.length?s.charAt(o++):p==="0"?"0":""}));if(t.match(Goe))return s=Lc(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=U5(c,Math.pow(10,o)-1,!1),s=""+d,u=wf("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=R5(l[2],o),u.length<i[4].length&&(u=Wo(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=U5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?T8(l[1],o)+i[2]+"/"+i[3]+R5(l[2],o):Ss(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Hx(r,0),t.length<=s.length?s:Wo(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,f=t.length-s.length-h;return Wo(t.substr(0,h)+s+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=uV(r,i[1].length),r<0?"-"+Lc(e,t,-r):tm(hTe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Xd(0,3-p.length):"")+p})+"."+Xd(o,i[1].length);switch(t){case"###,##0.00":return Lc(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var A=tm(Hx(c,0));return A!=="0"?d+A:"";case"###,###.00":return Lc(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Lc(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function fTe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return wf(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function ATe(e,t,r){var a=t.replace(zoe,""),s=t.length-a.length;return wf(e,a,r*Math.pow(10,2*s))+Ss("%",s)}function Xoe(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Xoe(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ru(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Woe)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ru("n",a,r):"("+Ru("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fTe(e,t,r);if(t.indexOf("%")!==-1)return ATe(e,t,r);if(t.indexOf("E")!==-1)return Xoe(t,r);if(t.charCodeAt(0)===36)return"$"+Ru(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Xd(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:Wo(t.substr(0,t.length-s.length))+s;if(i=t.match(Koe))return dTe(i,c,d);if(t.match(/^#+0+$/))return d+Xd(c,t.length-t.indexOf("0"));if(i=t.match(qoe))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Wo(i[1])).replace(/\.$/,"."+Wo(i[1])),s=s.replace(/\.(\d*)$/,function(p,m){return"."+m+Ss("0",Wo(i[1]).length-m.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+tm(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ru(e,t,-r):tm(""+r)+"."+Ss("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ru(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Jg(Ru(e,t.replace(/[\\-]/g,""),r)),o=0,Jg(Jg(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<s.length?s.charAt(o++):p==="0"?"0":""}));if(t.match(Goe))return s=Ru(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=U5(c,Math.pow(10,o)-1,!1),s=""+d,u=wf("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=R5(l[2],o),u.length<i[4].length&&(u=Wo(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=U5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?T8(l[1],o)+i[2]+"/"+i[3]+R5(l[2],o):Ss(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:Wo(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=t.indexOf(".")-o,f=t.length-s.length-h;return Wo(t.substr(0,h)+s+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ru(e,t,-r):tm(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Xd(0,3-p.length):"")+p})+"."+Xd(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var A=tm(""+c);return A!=="0"?d+A:"";default:if(t.match(/\.[0#?]*$/))return Ru(e,t.slice(0,t.lastIndexOf(".")),r)+Wo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function wf(e,t,r){return(r|0)===r?Ru(e,t,r):Lc(e,t,r)}function mTe(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Yoe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Qy(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":M5(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(Yoe))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function pTe(e,t,r,a){for(var s=[],i="",o=0,l="",c="t",d,u,h,f="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!M5(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var A=e.charAt(++o),p=A==="("||A===")"?A:"t";s[s.length]={t:p,v:A},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Vp(t,r,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Vp(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=f),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(d==null&&(d=Vp(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(m.v=d.H>=12?"P":"A"),m.t="T",f="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(m.v=d.H>=12?"PM":"AM"),m.t="T",o+=5,f="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(m.v=d.H>=12?"":""),m.t="T",o+=5,f="h"):(m.t="t",++o),d==null&&m.t==="T")return"";s[s.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Yoe)){if(d==null&&(d=Vp(t,r),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Qy(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var x=0,g=0,v;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=f,c="h",x<1&&(x=1);break;case"s":(v=s[o].v.match(/\.0+$/))&&(g=Math.max(g,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&s[o].v.match(/[Hh]/)&&(x=1),x<2&&s[o].v.match(/[Mm]/)&&(x=2),x<3&&s[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var y="",j;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=iTe(s[o].t.charCodeAt(0),s[o].v,d,g),s[o].t="t";break;case"n":case"?":for(j=o+1;s[j]!=null&&((l=s[j].t)==="?"||l==="D"||(l===" "||l==="t")&&s[j+1]!=null&&(s[j+1].t==="?"||s[j+1].t==="t"&&s[j+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[j].v==="/"||s[j].v===" "&&s[j+1]!=null&&s[j+1].t=="?"));)s[o].v+=s[j].v,s[j]={v:"",t:";"},++j;y+=s[o].v,o=j-1;break;case"G":s[o].t="t",s[o].v=D0(t,r);break}var b="",w,C;if(y.length>0){y.charCodeAt(0)==40?(w=t<0&&y.charCodeAt(0)===45?-t:t,C=wf("n",y,w)):(w=t<0&&a>1?-t:t,C=wf("n",y,w),w<0&&s[0]&&s[0].t=="t"&&(C=C.substr(1),s[0].v="-"+s[0].v)),j=C.length-1;var F=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){F=o;break}var E=s.length;if(F===s.length&&C.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(j>=s[o].v.length-1?(j-=s[o].v.length,s[o].v=C.substr(j+1,s[o].v.length)):j<0?s[o].v="":(s[o].v=C.substr(0,j+1),j=-1),s[o].t="t",E=o);j>=0&&E<s.length&&(s[E].v=C.substr(0,j+1)+s[E].v)}else if(F!==s.length&&C.indexOf("E")===-1){for(j=C.indexOf(".")-1,o=F;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(u=s[o].v.indexOf(".")>-1&&o===F?s[o].v.indexOf(".")-1:s[o].v.length-1,b=s[o].v.substr(u+1);u>=0;--u)j>=0&&(s[o].v.charAt(u)==="0"||s[o].v.charAt(u)==="#")&&(b=C.charAt(j--)+b);s[o].v=b,s[o].t="t",E=o}for(j>=0&&E<s.length&&(s[E].v=C.substr(0,j+1)+s[E].v),j=C.indexOf(".")+1,o=F;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==F)){for(u=s[o].v.indexOf(".")>-1&&o===F?s[o].v.indexOf(".")+1:0,b=s[o].v.substr(0,u);u<s[o].v.length;++u)j<C.length&&(b+=C.charAt(j++));s[o].v=b,s[o].t="t",E=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(w=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=wf(s[o].t,s[o].v,w),s[o].t="t");var L="";for(o=0;o!==s.length;++o)s[o]!=null&&(L+=s[o].v);return L}var hV=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function fV(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xTe(e,t){var r=mTe(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(hV),l=r[1].match(hV);return fV(t,o)?[a,r[0]]:fV(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function md(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Yr)[e],a==null&&(a=r.table&&r.table[cV[e]]||Yr[cV[e]]),a==null&&(a=Z3e[e]||"General");break}if(M5(a,0))return D0(t,r);t instanceof Date&&(t=Hoe(t,r.date1904));var s=xTe(a,t);if(M5(s[1]))return D0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return pTe(s[1],t,r,s[0])}function bf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Yr[r]==null){t<0&&(t=r);continue}if(Yr[r]==e){t=r;break}}t<0&&(t=391)}return Yr[t]=e,t}function DB(e){for(var t=0;t!=392;++t)e[t]!==void 0&&bf(e[t],t)}function $y(){Yr=J3e()}var gTe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Joe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function vTe(e){var t=typeof e=="number"?Yr[e]:e;return t=t.replace(Joe,"(\\d+)"),new RegExp("^"+t+"$")}function yTe(e,t,r){var a=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(Joe)||[]).forEach(function(h,f){var A=parseInt(r[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=A;break;case"d":i=A;break;case"h":o=A;break;case"s":c=A;break;case"m":o>=0?l=A:s=A;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:a==-1&&s==-1&&i==-1?u:d+"T"+u}var wTe=function(){var e={};e.version="1.2.0";function t(){for(var C=0,F=new Array(256),E=0;E!=256;++E)C=E,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,F[E]=C;return typeof Int32Array<"u"?new Int32Array(F):F}var r=t();function a(C){var F=0,E=0,L=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)N[L]=C[L];for(L=0;L!=256;++L)for(E=C[L],F=256+L;F<4096;F+=256)E=N[F]=E>>>8^C[E&255];var I=[];for(L=1;L!=16;++L)I[L-1]=typeof Int32Array<"u"?N.subarray(L*256,L*256+256):N.slice(L*256,L*256+256);return I}var s=a(r),i=s[0],o=s[1],l=s[2],c=s[3],d=s[4],u=s[5],h=s[6],f=s[7],A=s[8],p=s[9],m=s[10],x=s[11],g=s[12],v=s[13],y=s[14];function j(C,F){for(var E=F^-1,L=0,N=C.length;L<N;)E=E>>>8^r[(E^C.charCodeAt(L++))&255];return~E}function b(C,F){for(var E=F^-1,L=C.length-15,N=0;N<L;)E=y[C[N++]^E&255]^v[C[N++]^E>>8&255]^g[C[N++]^E>>16&255]^x[C[N++]^E>>>24]^m[C[N++]]^p[C[N++]]^A[C[N++]]^f[C[N++]]^h[C[N++]]^u[C[N++]]^d[C[N++]]^c[C[N++]]^l[C[N++]]^o[C[N++]]^i[C[N++]]^r[C[N++]];for(L+=15;N<L;)E=E>>>8^r[(E^C[N++])&255];return~E}function w(C,F){for(var E=F^-1,L=0,N=C.length,I=0,M=0;L<N;)I=C.charCodeAt(L++),I<128?E=E>>>8^r[(E^I)&255]:I<2048?(E=E>>>8^r[(E^(192|I>>6&31))&255],E=E>>>8^r[(E^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,M=C.charCodeAt(L++)&1023,E=E>>>8^r[(E^(240|I>>8&7))&255],E=E>>>8^r[(E^(128|I>>2&63))&255],E=E>>>8^r[(E^(128|M>>6&15|(I&3)<<4))&255],E=E>>>8^r[(E^(128|M&63))&255]):(E=E>>>8^r[(E^(224|I>>12&15))&255],E=E>>>8^r[(E^(128|I>>6&63))&255],E=E>>>8^r[(E^(128|I&63))&255]);return~E}return e.table=r,e.bstr=j,e.buf=b,e.str=w,e}(),Hr=function(){var t={};t.version="1.2.1";function r(oe,ce){for(var we=oe.split("/"),ye=ce.split("/"),ke=0,Ie=0,q=Math.min(we.length,ye.length);ke<q;++ke){if(Ie=we[ke].length-ye[ke].length)return Ie;if(we[ke]!=ye[ke])return we[ke]<ye[ke]?-1:1}return we.length-ye.length}function a(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:a(oe.slice(0,-1));var ce=oe.lastIndexOf("/");return ce===-1?oe:oe.slice(0,ce+1)}function s(oe){if(oe.charAt(oe.length-1)=="/")return s(oe.slice(0,-1));var ce=oe.lastIndexOf("/");return ce===-1?oe:oe.slice(ce+1)}function i(oe,ce){typeof ce=="string"&&(ce=new Date(ce));var we=ce.getHours();we=we<<6|ce.getMinutes(),we=we<<5|ce.getSeconds()>>>1,oe.write_shift(2,we);var ye=ce.getFullYear()-1980;ye=ye<<4|ce.getMonth()+1,ye=ye<<5|ce.getDate(),oe.write_shift(2,ye)}function o(oe){var ce=oe.read_shift(2)&65535,we=oe.read_shift(2)&65535,ye=new Date,ke=we&31;we>>>=5;var Ie=we&15;we>>>=4,ye.setMilliseconds(0),ye.setFullYear(we+1980),ye.setMonth(Ie-1),ye.setDate(ke);var q=ce&31;ce>>>=5;var xe=ce&63;return ce>>>=6,ye.setHours(ce),ye.setMinutes(xe),ye.setSeconds(q<<1),ye}function l(oe){Zi(oe,0);for(var ce={},we=0;oe.l<=oe.length-4;){var ye=oe.read_shift(2),ke=oe.read_shift(2),Ie=oe.l+ke,q={};switch(ye){case 21589:we=oe.read_shift(1),we&1&&(q.mtime=oe.read_shift(4)),ke>5&&(we&2&&(q.atime=oe.read_shift(4)),we&4&&(q.ctime=oe.read_shift(4))),q.mtime&&(q.mt=new Date(q.mtime*1e3));break}oe.l=Ie,ce[ye]=q}return ce}var c;function d(){return c||(c={})}function u(oe,ce){if(oe[0]==80&&oe[1]==75)return dt(oe,ce);if((oe[0]|32)==109&&(oe[1]|32)==105)return ar(oe,ce);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var we=3,ye=512,ke=0,Ie=0,q=0,xe=0,_e=0,Ye=[],Ve=oe.slice(0,512);Zi(Ve,0);var qe=h(Ve);switch(we=qe[0],we){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(qe[1]==0)return dt(oe,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+we)}ye!==512&&(Ve=oe.slice(0,ye),Zi(Ve,28));var bt=oe.slice(0,ye);f(Ve,we);var yt=Ve.read_shift(4,"i");if(we===3&&yt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+yt);Ve.l+=4,q=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),xe=Ve.read_shift(4,"i"),ke=Ve.read_shift(4,"i"),_e=Ve.read_shift(4,"i"),Ie=Ve.read_shift(4,"i");for(var It=-1,Wt=0;Wt<109&&(It=Ve.read_shift(4,"i"),!(It<0));++Wt)Ye[Wt]=It;var yr=A(oe,ye);x(_e,Ie,yr,ye,Ye);var In=v(yr,q,Ye,ye);In[q].name="!Directory",ke>0&&xe!==M&&(In[xe].name="!MiniFAT"),In[Ye[0]].name="!FAT",In.fat_addrs=Ye,In.ssz=ye;var un={},ta=[],Qr=[],ia=[];y(q,In,yr,ta,ke,un,Qr,xe),p(Qr,ia,ta),ta.shift();var Ui={FileIndex:Qr,FullPaths:ia};return ce&&ce.raw&&(Ui.raw={header:bt,sectors:yr}),Ui}function h(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(O,"Header Signature: "),oe.l+=16;var ce=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),ce]}function f(oe,ce){var we=9;switch(oe.l+=2,we=oe.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+we);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+we);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+we)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function A(oe,ce){for(var we=Math.ceil(oe.length/ce)-1,ye=[],ke=1;ke<we;++ke)ye[ke-1]=oe.slice(ke*ce,(ke+1)*ce);return ye[we-1]=oe.slice(we*ce),ye}function p(oe,ce,we){for(var ye=0,ke=0,Ie=0,q=0,xe=0,_e=we.length,Ye=[],Ve=[];ye<_e;++ye)Ye[ye]=Ve[ye]=ye,ce[ye]=we[ye];for(;xe<Ve.length;++xe)ye=Ve[xe],ke=oe[ye].L,Ie=oe[ye].R,q=oe[ye].C,Ye[ye]===ye&&(ke!==-1&&Ye[ke]!==ke&&(Ye[ye]=Ye[ke]),Ie!==-1&&Ye[Ie]!==Ie&&(Ye[ye]=Ye[Ie])),q!==-1&&(Ye[q]=ye),ke!==-1&&ye!=Ye[ye]&&(Ye[ke]=Ye[ye],Ve.lastIndexOf(ke)<xe&&Ve.push(ke)),Ie!==-1&&ye!=Ye[ye]&&(Ye[Ie]=Ye[ye],Ve.lastIndexOf(Ie)<xe&&Ve.push(Ie));for(ye=1;ye<_e;++ye)Ye[ye]===ye&&(Ie!==-1&&Ye[Ie]!==Ie?Ye[ye]=Ye[Ie]:ke!==-1&&Ye[ke]!==ke&&(Ye[ye]=Ye[ke]));for(ye=1;ye<_e;++ye)if(oe[ye].type!==0){if(xe=ye,xe!=Ye[xe])do xe=Ye[xe],ce[ye]=ce[xe]+"/"+ce[ye];while(xe!==0&&Ye[xe]!==-1&&xe!=Ye[xe]);Ye[ye]=-1}for(ce[0]+="/",ye=1;ye<_e;++ye)oe[ye].type!==2&&(ce[ye]+="/")}function m(oe,ce,we){for(var ye=oe.start,ke=oe.size,Ie=[],q=ye;we&&ke>0&&q>=0;)Ie.push(ce.slice(q*I,q*I+I)),ke-=I,q=Tp(we,q*4);return Ie.length===0?St(0):Ii(Ie).slice(0,oe.size)}function x(oe,ce,we,ye,ke){var Ie=M;if(oe===M){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var q=we[oe],xe=(ye>>>2)-1;if(!q)return;for(var _e=0;_e<xe&&(Ie=Tp(q,_e*4))!==M;++_e)ke.push(Ie);x(Tp(q,ye-4),ce-1,we,ye,ke)}}function g(oe,ce,we,ye,ke){var Ie=[],q=[];ke||(ke=[]);var xe=ye-1,_e=0,Ye=0;for(_e=ce;_e>=0;){ke[_e]=!0,Ie[Ie.length]=_e,q.push(oe[_e]);var Ve=we[Math.floor(_e*4/ye)];if(Ye=_e*4&xe,ye<4+Ye)throw new Error("FAT boundary crossed: "+_e+" 4 "+ye);if(!oe[Ve])break;_e=Tp(oe[Ve],Ye)}return{nodes:Ie,data:CV([q])}}function v(oe,ce,we,ye){var ke=oe.length,Ie=[],q=[],xe=[],_e=[],Ye=ye-1,Ve=0,qe=0,bt=0,yt=0;for(Ve=0;Ve<ke;++Ve)if(xe=[],bt=Ve+ce,bt>=ke&&(bt-=ke),!q[bt]){_e=[];var It=[];for(qe=bt;qe>=0;){It[qe]=!0,q[qe]=!0,xe[xe.length]=qe,_e.push(oe[qe]);var Wt=we[Math.floor(qe*4/ye)];if(yt=qe*4&Ye,ye<4+yt)throw new Error("FAT boundary crossed: "+qe+" 4 "+ye);if(!oe[Wt]||(qe=Tp(oe[Wt],yt),It[qe]))break}Ie[bt]={nodes:xe,data:CV([_e])}}return Ie}function y(oe,ce,we,ye,ke,Ie,q,xe){for(var _e=0,Ye=ye.length?2:0,Ve=ce[oe].data,qe=0,bt=0,yt;qe<Ve.length;qe+=128){var It=Ve.slice(qe,qe+128);Zi(It,64),bt=It.read_shift(2),yt=Q8(It,0,bt-Ye),ye.push(yt);var Wt={name:yt,type:It.read_shift(1),color:It.read_shift(1),L:It.read_shift(4,"i"),R:It.read_shift(4,"i"),C:It.read_shift(4,"i"),clsid:It.read_shift(16),state:It.read_shift(4,"i"),start:0,size:0},yr=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);yr!==0&&(Wt.ct=j(It,It.l-8));var In=It.read_shift(2)+It.read_shift(2)+It.read_shift(2)+It.read_shift(2);In!==0&&(Wt.mt=j(It,It.l-8)),Wt.start=It.read_shift(4,"i"),Wt.size=It.read_shift(4,"i"),Wt.size<0&&Wt.start<0&&(Wt.size=Wt.type=0,Wt.start=M,Wt.name=""),Wt.type===5?(_e=Wt.start,ke>0&&_e!==M&&(ce[_e].name="!StreamData")):Wt.size>=4096?(Wt.storage="fat",ce[Wt.start]===void 0&&(ce[Wt.start]=g(we,Wt.start,ce.fat_addrs,ce.ssz)),ce[Wt.start].name=Wt.name,Wt.content=ce[Wt.start].data.slice(0,Wt.size)):(Wt.storage="minifat",Wt.size<0?Wt.size=0:_e!==M&&Wt.start!==M&&ce[_e]&&(Wt.content=m(Wt,ce[_e].data,(ce[xe]||{}).data))),Wt.content&&Zi(Wt.content,0),Ie[yt]=Wt,q.push(Wt)}}function j(oe,ce){return new Date((uc(oe,ce+4)/1e7*Math.pow(2,32)+uc(oe,ce)/1e7-11644473600)*1e3)}function b(oe,ce){return d(),u(c.readFileSync(oe),ce)}function w(oe,ce){var we=ce&&ce.type;switch(we||_n&&Buffer.isBuffer(oe)&&(we="buffer"),we||"base64"){case"file":return b(oe,ce);case"base64":return u(fc(Cc(oe)),ce);case"binary":return u(fc(oe),ce)}return u(oe,ce)}function C(oe,ce){var we=ce||{},ye=we.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=ye+"/",oe.FileIndex[0]={name:ye,type:5}),we.CLSID&&(oe.FileIndex[0].clsid=we.CLSID),F(oe)}function F(oe){var ce="Sh33tJ5";if(!Hr.find(oe,"/"+ce)){var we=St(4);we[0]=55,we[1]=we[3]=50,we[2]=54,oe.FileIndex.push({name:ce,type:2,content:we,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+ce),E(oe)}}function E(oe,ce){C(oe);for(var we=!1,ye=!1,ke=oe.FullPaths.length-1;ke>=0;--ke){var Ie=oe.FileIndex[ke];switch(Ie.type){case 0:ye?we=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(we=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(we=!0);break;default:we=!0;break}}if(!(!we&&!ce)){var q=new Date(1987,1,19),xe=0,_e=Object.create?Object.create(null):{},Ye=[];for(ke=0;ke<oe.FullPaths.length;++ke)_e[oe.FullPaths[ke]]=!0,oe.FileIndex[ke].type!==0&&Ye.push([oe.FullPaths[ke],oe.FileIndex[ke]]);for(ke=0;ke<Ye.length;++ke){var Ve=a(Ye[ke][0]);ye=_e[Ve],ye||(Ye.push([Ve,{name:s(Ve).replace("/",""),type:1,clsid:P,ct:q,mt:q,content:null}]),_e[Ve]=!0)}for(Ye.sort(function(yt,It){return r(yt[0],It[0])}),oe.FullPaths=[],oe.FileIndex=[],ke=0;ke<Ye.length;++ke)oe.FullPaths[ke]=Ye[ke][0],oe.FileIndex[ke]=Ye[ke][1];for(ke=0;ke<Ye.length;++ke){var qe=oe.FileIndex[ke],bt=oe.FullPaths[ke];if(qe.name=s(bt).replace("/",""),qe.L=qe.R=qe.C=-(qe.color=1),qe.size=qe.content?qe.content.length:0,qe.start=0,qe.clsid=qe.clsid||P,ke===0)qe.C=Ye.length>1?1:-1,qe.size=0,qe.type=5;else if(bt.slice(-1)=="/"){for(xe=ke+1;xe<Ye.length&&a(oe.FullPaths[xe])!=bt;++xe);for(qe.C=xe>=Ye.length?-1:xe,xe=ke+1;xe<Ye.length&&a(oe.FullPaths[xe])!=a(bt);++xe);qe.R=xe>=Ye.length?-1:xe,qe.type=1}else a(oe.FullPaths[ke+1]||"")==a(bt)&&(qe.R=ke+1),qe.type=2}}}function L(oe,ce){var we=ce||{};if(we.fileType=="mad")return is(oe,we);switch(E(oe),we.fileType){case"zip":return Dt(oe,we)}var ye=function(yt){for(var It=0,Wt=0,yr=0;yr<yt.FileIndex.length;++yr){var In=yt.FileIndex[yr];if(In.content){var un=In.content.length;un>0&&(un<4096?It+=un+63>>6:Wt+=un+511>>9)}}for(var ta=yt.FullPaths.length+3>>2,Qr=It+7>>3,ia=It+127>>7,Ui=Qr+Wt+ta+ia,Qi=Ui+127>>7,zl=Qi<=109?0:Math.ceil((Qi-109)/127);Ui+Qi+zl+127>>7>Qi;)zl=++Qi<=109?0:Math.ceil((Qi-109)/127);var ji=[1,zl,Qi,ia,ta,Wt,It,0];return yt.FileIndex[0].size=It<<6,ji[7]=(yt.FileIndex[0].start=ji[0]+ji[1]+ji[2]+ji[3]+ji[4]+ji[5])+(ji[6]+7>>3),ji}(oe),ke=St(ye[7]<<9),Ie=0,q=0;{for(Ie=0;Ie<8;++Ie)ke.write_shift(1,k[Ie]);for(Ie=0;Ie<8;++Ie)ke.write_shift(2,0);for(ke.write_shift(2,62),ke.write_shift(2,3),ke.write_shift(2,65534),ke.write_shift(2,9),ke.write_shift(2,6),Ie=0;Ie<3;++Ie)ke.write_shift(2,0);for(ke.write_shift(4,0),ke.write_shift(4,ye[2]),ke.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),ke.write_shift(4,0),ke.write_shift(4,4096),ke.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:M),ke.write_shift(4,ye[3]),ke.write_shift(-4,ye[1]?ye[0]-1:M),ke.write_shift(4,ye[1]),Ie=0;Ie<109;++Ie)ke.write_shift(-4,Ie<ye[2]?ye[1]+Ie:-1)}if(ye[1])for(q=0;q<ye[1];++q){for(;Ie<236+q*127;++Ie)ke.write_shift(-4,Ie<ye[2]?ye[1]+Ie:-1);ke.write_shift(-4,q===ye[1]-1?M:q+1)}var xe=function(yt){for(q+=yt;Ie<q-1;++Ie)ke.write_shift(-4,Ie+1);yt&&(++Ie,ke.write_shift(-4,M))};for(q=Ie=0,q+=ye[1];Ie<q;++Ie)ke.write_shift(-4,R.DIFSECT);for(q+=ye[2];Ie<q;++Ie)ke.write_shift(-4,R.FATSECT);xe(ye[3]),xe(ye[4]);for(var _e=0,Ye=0,Ve=oe.FileIndex[0];_e<oe.FileIndex.length;++_e)Ve=oe.FileIndex[_e],Ve.content&&(Ye=Ve.content.length,!(Ye<4096)&&(Ve.start=q,xe(Ye+511>>9)));for(xe(ye[6]+7>>3);ke.l&511;)ke.write_shift(-4,R.ENDOFCHAIN);for(q=Ie=0,_e=0;_e<oe.FileIndex.length;++_e)Ve=oe.FileIndex[_e],Ve.content&&(Ye=Ve.content.length,!(!Ye||Ye>=4096)&&(Ve.start=q,xe(Ye+63>>6)));for(;ke.l&511;)ke.write_shift(-4,R.ENDOFCHAIN);for(Ie=0;Ie<ye[4]<<2;++Ie){var qe=oe.FullPaths[Ie];if(!qe||qe.length===0){for(_e=0;_e<17;++_e)ke.write_shift(4,0);for(_e=0;_e<3;++_e)ke.write_shift(4,-1);for(_e=0;_e<12;++_e)ke.write_shift(4,0);continue}Ve=oe.FileIndex[Ie],Ie===0&&(Ve.start=Ve.size?Ve.start-1:M);var bt=Ie===0&&we.root||Ve.name;if(Ye=2*(bt.length+1),ke.write_shift(64,bt,"utf16le"),ke.write_shift(2,Ye),ke.write_shift(1,Ve.type),ke.write_shift(1,Ve.color),ke.write_shift(-4,Ve.L),ke.write_shift(-4,Ve.R),ke.write_shift(-4,Ve.C),Ve.clsid)ke.write_shift(16,Ve.clsid,"hex");else for(_e=0;_e<4;++_e)ke.write_shift(4,0);ke.write_shift(4,Ve.state||0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,Ve.start),ke.write_shift(4,Ve.size),ke.write_shift(4,0)}for(Ie=1;Ie<oe.FileIndex.length;++Ie)if(Ve=oe.FileIndex[Ie],Ve.size>=4096)if(ke.l=Ve.start+1<<9,_n&&Buffer.isBuffer(Ve.content))Ve.content.copy(ke,ke.l,0,Ve.size),ke.l+=Ve.size+511&-512;else{for(_e=0;_e<Ve.size;++_e)ke.write_shift(1,Ve.content[_e]);for(;_e&511;++_e)ke.write_shift(1,0)}for(Ie=1;Ie<oe.FileIndex.length;++Ie)if(Ve=oe.FileIndex[Ie],Ve.size>0&&Ve.size<4096)if(_n&&Buffer.isBuffer(Ve.content))Ve.content.copy(ke,ke.l,0,Ve.size),ke.l+=Ve.size+63&-64;else{for(_e=0;_e<Ve.size;++_e)ke.write_shift(1,Ve.content[_e]);for(;_e&63;++_e)ke.write_shift(1,0)}if(_n)ke.l=ke.length;else for(;ke.l<ke.length;)ke.write_shift(1,0);return ke}function N(oe,ce){var we=oe.FullPaths.map(function(_e){return _e.toUpperCase()}),ye=we.map(function(_e){var Ye=_e.split("/");return Ye[Ye.length-(_e.slice(-1)=="/"?2:1)]}),ke=!1;ce.charCodeAt(0)===47?(ke=!0,ce=we[0].slice(0,-1)+ce):ke=ce.indexOf("/")!==-1;var Ie=ce.toUpperCase(),q=ke===!0?we.indexOf(Ie):ye.indexOf(Ie);if(q!==-1)return oe.FileIndex[q];var xe=!Ie.match(kw);for(Ie=Ie.replace(cl,""),xe&&(Ie=Ie.replace(kw,"!")),q=0;q<we.length;++q)if((xe?we[q].replace(kw,"!"):we[q]).replace(cl,"")==Ie||(xe?ye[q].replace(kw,"!"):ye[q]).replace(cl,"")==Ie)return oe.FileIndex[q];return null}var I=64,M=-2,O="d0cf11e0a1b11ae1",k=[208,207,17,224,161,177,26,225],P="00000000000000000000000000000000",R={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:O,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:P,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(oe,ce,we){d();var ye=L(oe,we);c.writeFileSync(ce,ye)}function D(oe){for(var ce=new Array(oe.length),we=0;we<oe.length;++we)ce[we]=String.fromCharCode(oe[we]);return ce.join("")}function Y(oe,ce){var we=L(oe,ce);switch(ce&&ce.type||"buffer"){case"file":return d(),c.writeFileSync(ce.filename,we),we;case"binary":return typeof we=="string"?we:D(we);case"base64":return Fj(typeof we=="string"?we:D(we));case"buffer":if(_n)return Buffer.isBuffer(we)?we:Vf(we);case"array":return typeof we=="string"?fc(we):we}return we}var ne;function S(oe){try{var ce=oe.InflateRaw,we=new ce;if(we._processChunk(new Uint8Array([3,0]),we._finishFlushFlag),we.bytesRead)ne=oe;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function z(oe,ce){if(!ne)return Qt(oe,ce);var we=ne.InflateRaw,ye=new we,ke=ye._processChunk(oe.slice(oe.l),ye._finishFlushFlag);return oe.l+=ye.bytesRead,ke}function Q(oe){return ne?ne.deflateRawSync(oe):He(oe)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(oe){var ce=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var ae=typeof Uint8Array<"u",Ae=ae?new Uint8Array(256):[],Me=0;Me<256;++Me)Ae[Me]=de(Me);function H(oe,ce){var we=Ae[oe&255];return ce<=8?we>>>8-ce:(we=we<<8|Ae[oe>>8&255],ce<=16?we>>>16-ce:(we=we<<8|Ae[oe>>16&255],we>>>24-ce))}function Oe(oe,ce){var we=ce&7,ye=ce>>>3;return(oe[ye]|(we<=6?0:oe[ye+1]<<8))>>>we&3}function Ee(oe,ce){var we=ce&7,ye=ce>>>3;return(oe[ye]|(we<=5?0:oe[ye+1]<<8))>>>we&7}function ee(oe,ce){var we=ce&7,ye=ce>>>3;return(oe[ye]|(we<=4?0:oe[ye+1]<<8))>>>we&15}function st(oe,ce){var we=ce&7,ye=ce>>>3;return(oe[ye]|(we<=3?0:oe[ye+1]<<8))>>>we&31}function se(oe,ce){var we=ce&7,ye=ce>>>3;return(oe[ye]|(we<=1?0:oe[ye+1]<<8))>>>we&127}function me(oe,ce,we){var ye=ce&7,ke=ce>>>3,Ie=(1<<we)-1,q=oe[ke]>>>ye;return we<8-ye||(q|=oe[ke+1]<<8-ye,we<16-ye)||(q|=oe[ke+2]<<16-ye,we<24-ye)||(q|=oe[ke+3]<<24-ye),q&Ie}function nt(oe,ce,we){var ye=ce&7,ke=ce>>>3;return ye<=5?oe[ke]|=(we&7)<<ye:(oe[ke]|=we<<ye&255,oe[ke+1]=(we&7)>>8-ye),ce+3}function Nt(oe,ce,we){var ye=ce&7,ke=ce>>>3;return we=(we&1)<<ye,oe[ke]|=we,ce+1}function xt(oe,ce,we){var ye=ce&7,ke=ce>>>3;return we<<=ye,oe[ke]|=we&255,we>>>=8,oe[ke+1]=we,ce+8}function Ne(oe,ce,we){var ye=ce&7,ke=ce>>>3;return we<<=ye,oe[ke]|=we&255,we>>>=8,oe[ke+1]=we&255,oe[ke+2]=we>>>8,ce+16}function le(oe,ce){var we=oe.length,ye=2*we>ce?2*we:ce+5,ke=0;if(we>=ce)return oe;if(_n){var Ie=iV(ye);if(oe.copy)oe.copy(Ie);else for(;ke<oe.length;++ke)Ie[ke]=oe[ke];return Ie}else if(ae){var q=new Uint8Array(ye);if(q.set)q.set(oe);else for(;ke<we;++ke)q[ke]=oe[ke];return q}return oe.length=ye,oe}function Fe(oe){for(var ce=new Array(oe),we=0;we<oe;++we)ce[we]=0;return ce}function ze(oe,ce,we){var ye=1,ke=0,Ie=0,q=0,xe=0,_e=oe.length,Ye=ae?new Uint16Array(32):Fe(32);for(Ie=0;Ie<32;++Ie)Ye[Ie]=0;for(Ie=_e;Ie<we;++Ie)oe[Ie]=0;_e=oe.length;var Ve=ae?new Uint16Array(_e):Fe(_e);for(Ie=0;Ie<_e;++Ie)Ye[ke=oe[Ie]]++,ye<ke&&(ye=ke),Ve[Ie]=0;for(Ye[0]=0,Ie=1;Ie<=ye;++Ie)Ye[Ie+16]=xe=xe+Ye[Ie-1]<<1;for(Ie=0;Ie<_e;++Ie)xe=oe[Ie],xe!=0&&(Ve[Ie]=Ye[xe+16]++);var qe=0;for(Ie=0;Ie<_e;++Ie)if(qe=oe[Ie],qe!=0)for(xe=H(Ve[Ie],ye)>>ye-qe,q=(1<<ye+4-qe)-1;q>=0;--q)ce[xe|q<<qe]=qe&15|Ie<<4;return ye}var je=ae?new Uint16Array(512):Fe(512),De=ae?new Uint16Array(32):Fe(32);if(!ae){for(var Ke=0;Ke<512;++Ke)je[Ke]=0;for(Ke=0;Ke<32;++Ke)De[Ke]=0}(function(){for(var oe=[],ce=0;ce<32;ce++)oe.push(5);ze(oe,De,32);var we=[];for(ce=0;ce<=143;ce++)we.push(8);for(;ce<=255;ce++)we.push(9);for(;ce<=279;ce++)we.push(7);for(;ce<=287;ce++)we.push(8);ze(we,je,288)})();var At=function(){for(var ce=ae?new Uint8Array(32768):[],we=0,ye=0;we<re.length-1;++we)for(;ye<re[we+1];++ye)ce[ye]=we;for(;ye<32768;++ye)ce[ye]=29;var ke=ae?new Uint8Array(259):[];for(we=0,ye=0;we<U.length-1;++we)for(;ye<U[we+1];++ye)ke[ye]=we;function Ie(xe,_e){for(var Ye=0;Ye<xe.length;){var Ve=Math.min(65535,xe.length-Ye),qe=Ye+Ve==xe.length;for(_e.write_shift(1,+qe),_e.write_shift(2,Ve),_e.write_shift(2,~Ve&65535);Ve-- >0;)_e[_e.l++]=xe[Ye++]}return _e.l}function q(xe,_e){for(var Ye=0,Ve=0,qe=ae?new Uint16Array(32768):[];Ve<xe.length;){var bt=Math.min(65535,xe.length-Ve);if(bt<10){for(Ye=nt(_e,Ye,+(Ve+bt==xe.length)),Ye&7&&(Ye+=8-(Ye&7)),_e.l=Ye/8|0,_e.write_shift(2,bt),_e.write_shift(2,~bt&65535);bt-- >0;)_e[_e.l++]=xe[Ve++];Ye=_e.l*8;continue}Ye=nt(_e,Ye,+(Ve+bt==xe.length)+2);for(var yt=0;bt-- >0;){var It=xe[Ve];yt=(yt<<5^It)&32767;var Wt=-1,yr=0;if((Wt=qe[yt])&&(Wt|=Ve&-32768,Wt>Ve&&(Wt-=32768),Wt<Ve))for(;xe[Wt+yr]==xe[Ve+yr]&&yr<250;)++yr;if(yr>2){It=ke[yr],It<=22?Ye=xt(_e,Ye,Ae[It+1]>>1)-1:(xt(_e,Ye,3),Ye+=5,xt(_e,Ye,Ae[It-23]>>5),Ye+=3);var In=It<8?0:It-4>>2;In>0&&(Ne(_e,Ye,yr-U[It]),Ye+=In),It=ce[Ve-Wt],Ye=xt(_e,Ye,Ae[It]>>3),Ye-=3;var un=It<4?0:It-2>>1;un>0&&(Ne(_e,Ye,Ve-Wt-re[It]),Ye+=un);for(var ta=0;ta<yr;++ta)qe[yt]=Ve&32767,yt=(yt<<5^xe[Ve])&32767,++Ve;bt-=yr-1}else It<=143?It=It+48:Ye=Nt(_e,Ye,1),Ye=xt(_e,Ye,Ae[It]),qe[yt]=Ve&32767,++Ve}Ye=xt(_e,Ye,0)-1}return _e.l=(Ye+7)/8|0,_e.l}return function(_e,Ye){return _e.length<8?Ie(_e,Ye):q(_e,Ye)}}();function He(oe){var ce=St(50+Math.floor(oe.length*1.1)),we=At(oe,ce);return ce.slice(0,we)}var Te=ae?new Uint16Array(32768):Fe(32768),dr=ae?new Uint16Array(32768):Fe(32768),Pe=ae?new Uint16Array(128):Fe(128),X=1,We=1;function wt(oe,ce){var we=st(oe,ce)+257;ce+=5;var ye=st(oe,ce)+1;ce+=5;var ke=ee(oe,ce)+4;ce+=4;for(var Ie=0,q=ae?new Uint8Array(19):Fe(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,Ye=ae?new Uint8Array(8):Fe(8),Ve=ae?new Uint8Array(8):Fe(8),qe=q.length,bt=0;bt<ke;++bt)q[W[bt]]=Ie=Ee(oe,ce),_e<Ie&&(_e=Ie),Ye[Ie]++,ce+=3;var yt=0;for(Ye[0]=0,bt=1;bt<=_e;++bt)Ve[bt]=yt=yt+Ye[bt-1]<<1;for(bt=0;bt<qe;++bt)(yt=q[bt])!=0&&(xe[bt]=Ve[yt]++);var It=0;for(bt=0;bt<qe;++bt)if(It=q[bt],It!=0){yt=Ae[xe[bt]]>>8-It;for(var Wt=(1<<7-It)-1;Wt>=0;--Wt)Pe[yt|Wt<<It]=It&7|bt<<3}var yr=[];for(_e=1;yr.length<we+ye;)switch(yt=Pe[se(oe,ce)],ce+=yt&7,yt>>>=3){case 16:for(Ie=3+Oe(oe,ce),ce+=2,yt=yr[yr.length-1];Ie-- >0;)yr.push(yt);break;case 17:for(Ie=3+Ee(oe,ce),ce+=3;Ie-- >0;)yr.push(0);break;case 18:for(Ie=11+se(oe,ce),ce+=7;Ie-- >0;)yr.push(0);break;default:yr.push(yt),_e<yt&&(_e=yt);break}var In=yr.slice(0,we),un=yr.slice(we);for(bt=we;bt<286;++bt)In[bt]=0;for(bt=ye;bt<30;++bt)un[bt]=0;return X=ze(In,Te,286),We=ze(un,dr,30),ce}function Ct(oe,ce){if(oe[0]==3&&!(oe[1]&3))return[Lm(ce),2];for(var we=0,ye=0,ke=iV(ce||1<<18),Ie=0,q=ke.length>>>0,xe=0,_e=0;!(ye&1);){if(ye=Ee(oe,we),we+=3,ye>>>1)ye>>1==1?(xe=9,_e=5):(we=wt(oe,we),xe=X,_e=We);else{we&7&&(we+=8-(we&7));var Ye=oe[we>>>3]|oe[(we>>>3)+1]<<8;if(we+=32,Ye>0)for(!ce&&q<Ie+Ye&&(ke=le(ke,Ie+Ye),q=ke.length);Ye-- >0;)ke[Ie++]=oe[we>>>3],we+=8;continue}for(;;){!ce&&q<Ie+32767&&(ke=le(ke,Ie+32767),q=ke.length);var Ve=me(oe,we,xe),qe=ye>>>1==1?je[Ve]:Te[Ve];if(we+=qe&15,qe>>>=4,!(qe>>>8&255))ke[Ie++]=qe;else{if(qe==256)break;qe-=257;var bt=qe<8?0:qe-4>>2;bt>5&&(bt=0);var yt=Ie+U[qe];bt>0&&(yt+=me(oe,we,bt),we+=bt),Ve=me(oe,we,_e),qe=ye>>>1==1?De[Ve]:dr[Ve],we+=qe&15,qe>>>=4;var It=qe<4?0:qe-2>>1,Wt=re[qe];for(It>0&&(Wt+=me(oe,we,It),we+=It),!ce&&q<yt&&(ke=le(ke,yt+100),q=ke.length);Ie<yt;)ke[Ie]=ke[Ie-Wt],++Ie}}}return ce?[ke,we+7>>>3]:[ke.slice(0,Ie),we+7>>>3]}function Qt(oe,ce){var we=oe.slice(oe.l||0),ye=Ct(we,ce);return oe.l+=ye[1],ye[0]}function pe(oe,ce){if(oe)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function dt(oe,ce){var we=oe;Zi(we,0);var ye=[],ke=[],Ie={FileIndex:ye,FullPaths:ke};C(Ie,{root:ce.root});for(var q=we.length-4;(we[q]!=80||we[q+1]!=75||we[q+2]!=5||we[q+3]!=6)&&q>=0;)--q;we.l=q+4,we.l+=4;var xe=we.read_shift(2);we.l+=6;var _e=we.read_shift(4);for(we.l=_e,q=0;q<xe;++q){we.l+=20;var Ye=we.read_shift(4),Ve=we.read_shift(4),qe=we.read_shift(2),bt=we.read_shift(2),yt=we.read_shift(2);we.l+=8;var It=we.read_shift(4),Wt=l(we.slice(we.l+qe,we.l+qe+bt));we.l+=qe+bt+yt;var yr=we.l;we.l=It+4,Rt(we,Ye,Ve,Ie,Wt),we.l=yr}return Ie}function Rt(oe,ce,we,ye,ke){oe.l+=2;var Ie=oe.read_shift(2),q=oe.read_shift(2),xe=o(oe);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var _e=oe.read_shift(4),Ye=oe.read_shift(4),Ve=oe.read_shift(4),qe=oe.read_shift(2),bt=oe.read_shift(2),yt="",It=0;It<qe;++It)yt+=String.fromCharCode(oe[oe.l++]);if(bt){var Wt=l(oe.slice(oe.l,oe.l+bt));(Wt[21589]||{}).mt&&(xe=Wt[21589].mt),((ke||{})[21589]||{}).mt&&(xe=ke[21589].mt)}oe.l+=bt;var yr=oe.slice(oe.l,oe.l+Ye);switch(q){case 8:yr=z(oe,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+q)}var In=!1;Ie&8&&(_e=oe.read_shift(4),_e==134695760&&(_e=oe.read_shift(4),In=!0),Ye=oe.read_shift(4),Ve=oe.read_shift(4)),Ye!=ce&&pe(In,"Bad compressed size: "+ce+" != "+Ye),Ve!=we&&pe(In,"Bad uncompressed size: "+we+" != "+Ve),te(ye,yt,yr,{unsafe:!0,mt:xe})}function Dt(oe,ce){var we=ce||{},ye=[],ke=[],Ie=St(1),q=we.compression?8:0,xe=0,_e=0,Ye=0,Ve=0,qe=0,bt=oe.FullPaths[0],yt=bt,It=oe.FileIndex[0],Wt=[],yr=0;for(_e=1;_e<oe.FullPaths.length;++_e)if(yt=oe.FullPaths[_e].slice(bt.length),It=oe.FileIndex[_e],!(!It.size||!It.content||yt=="Sh33tJ5")){var In=Ve,un=St(yt.length);for(Ye=0;Ye<yt.length;++Ye)un.write_shift(1,yt.charCodeAt(Ye)&127);un=un.slice(0,un.l),Wt[qe]=wTe.buf(It.content,0);var ta=It.content;q==8&&(ta=Q(ta)),Ie=St(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,xe),Ie.write_shift(2,q),It.mt?i(Ie,It.mt):Ie.write_shift(4,0),Ie.write_shift(-4,Wt[qe]),Ie.write_shift(4,ta.length),Ie.write_shift(4,It.content.length),Ie.write_shift(2,un.length),Ie.write_shift(2,0),Ve+=Ie.length,ye.push(Ie),Ve+=un.length,ye.push(un),Ve+=ta.length,ye.push(ta),Ie=St(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,xe),Ie.write_shift(2,q),Ie.write_shift(4,0),Ie.write_shift(-4,Wt[qe]),Ie.write_shift(4,ta.length),Ie.write_shift(4,It.content.length),Ie.write_shift(2,un.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,In),yr+=Ie.l,ke.push(Ie),yr+=un.length,ke.push(un),++qe}return Ie=St(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,qe),Ie.write_shift(2,qe),Ie.write_shift(4,yr),Ie.write_shift(4,Ve),Ie.write_shift(2,0),Ii([Ii(ye),Ii(ke),Ie])}var ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ft(oe,ce){if(oe.ctype)return oe.ctype;var we=oe.name||"",ye=we.match(/\.([^\.]+)$/);return ye&&ot[ye[1]]||ce&&(ye=(we=ce).match(/[\.\\]([^\.\\])+$/),ye&&ot[ye[1]])?ot[ye[1]]:"application/octet-stream"}function Er(oe){for(var ce=Fj(oe),we=[],ye=0;ye<ce.length;ye+=76)we.push(ce.slice(ye,ye+76));return we.join(`\r
`)+`\r
`}function xr(oe){var ce=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Ve=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var we=[],ye=ce.split(`\r
`),ke=0;ke<ye.length;++ke){var Ie=ye[ke];if(Ie.length==0){we.push("");continue}for(var q=0;q<Ie.length;){var xe=76,_e=Ie.slice(q,q+xe);_e.charAt(xe-1)=="="?xe--:_e.charAt(xe-2)=="="?xe-=2:_e.charAt(xe-3)=="="&&(xe-=3),_e=Ie.slice(q,q+xe),q+=xe,q<Ie.length&&(_e+="="),we.push(_e)}}return we.join(`\r
`)}function on(oe){for(var ce=[],we=0;we<oe.length;++we){for(var ye=oe[we];we<=oe.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+oe[++we];ce.push(ye)}for(var ke=0;ke<ce.length;++ke)ce[ke]=ce[ke].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return fc(ce.join(`\r
`))}function zt(oe,ce,we){for(var ye="",ke="",Ie="",q,xe=0;xe<10;++xe){var _e=ce[xe];if(!_e||_e.match(/^\s*$/))break;var Ye=_e.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":ye=Ye[2].trim();break;case"content-type":Ie=Ye[2].trim();break;case"content-transfer-encoding":ke=Ye[2].trim();break}}switch(++xe,ke.toLowerCase()){case"base64":q=fc(Cc(ce.slice(xe).join("")));break;case"quoted-printable":q=on(ce.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ke)}var Ve=te(oe,ye.slice(we.length),q,{unsafe:!0});Ie&&(Ve.ctype=Ie)}function ar(oe,ce){if(D(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var we=ce&&ce.root||"",ye=(_n&&Buffer.isBuffer(oe)?oe.toString("binary"):D(oe)).split(`\r
`),ke=0,Ie="";for(ke=0;ke<ye.length;++ke)if(Ie=ye[ke],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),we||(we=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,we.length)!=we))for(;we.length>0&&(we=we.slice(0,we.length-1),we=we.slice(0,we.lastIndexOf("/")+1),Ie.slice(0,we.length)!=we););var q=(ye[1]||"").match(/boundary="(.*?)"/);if(!q)throw new Error("MAD cannot find boundary");var xe="--"+(q[1]||""),_e=[],Ye=[],Ve={FileIndex:_e,FullPaths:Ye};C(Ve);var qe,bt=0;for(ke=0;ke<ye.length;++ke){var yt=ye[ke];yt!==xe&&yt!==xe+"--"||(bt++&&zt(Ve,ye.slice(qe,ke),we),qe=ke)}return Ve}function is(oe,ce){var we=ce||{},ye=we.boundary||"SheetJS";ye="------="+ye;for(var ke=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Ie=oe.FullPaths[0],q=Ie,xe=oe.FileIndex[0],_e=1;_e<oe.FullPaths.length;++_e)if(q=oe.FullPaths[_e].slice(Ie.length),xe=oe.FileIndex[_e],!(!xe.size||!xe.content||q=="Sh33tJ5")){q=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yr){return"_x"+yr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yr){return"_u"+yr.charCodeAt(0).toString(16)+"_"});for(var Ye=xe.content,Ve=_n&&Buffer.isBuffer(Ye)?Ye.toString("binary"):D(Ye),qe=0,bt=Math.min(1024,Ve.length),yt=0,It=0;It<=bt;++It)(yt=Ve.charCodeAt(It))>=32&&yt<128&&++qe;var Wt=qe>=bt*4/5;ke.push(ye),ke.push("Content-Location: "+(we.root||"file:///C:/SheetJS/")+q),ke.push("Content-Transfer-Encoding: "+(Wt?"quoted-printable":"base64")),ke.push("Content-Type: "+Ft(xe,q)),ke.push(""),ke.push(Wt?xr(Ve):Er(Ve))}return ke.push(ye+`--\r
`),ke.join(`\r
`)}function gs(oe){var ce={};return C(ce,oe),ce}function te(oe,ce,we,ye){var ke=ye&&ye.unsafe;ke||C(oe);var Ie=!ke&&Hr.find(oe,ce);if(!Ie){var q=oe.FullPaths[0];ce.slice(0,q.length)==q?q=ce:(q.slice(-1)!="/"&&(q+="/"),q=(q+ce).replace("//","/")),Ie={name:s(ce),type:2},oe.FileIndex.push(Ie),oe.FullPaths.push(q),ke||Hr.utils.cfb_gc(oe)}return Ie.content=we,Ie.size=we?we.length:0,ye&&(ye.CLSID&&(Ie.clsid=ye.CLSID),ye.mt&&(Ie.mt=ye.mt),ye.ct&&(Ie.ct=ye.ct)),Ie}function Xe(oe,ce){C(oe);var we=Hr.find(oe,ce);if(we){for(var ye=0;ye<oe.FileIndex.length;++ye)if(oe.FileIndex[ye]==we)return oe.FileIndex.splice(ye,1),oe.FullPaths.splice(ye,1),!0}return!1}function ht(oe,ce,we){C(oe);var ye=Hr.find(oe,ce);if(ye){for(var ke=0;ke<oe.FileIndex.length;++ke)if(oe.FileIndex[ke]==ye)return oe.FileIndex[ke].name=s(we),oe.FullPaths[ke]=we,!0}return!1}function Gt(oe){E(oe,!0)}return t.find=N,t.read=w,t.parse=u,t.write=Y,t.writeFile=V,t.utils={cfb_new:gs,cfb_add:te,cfb_del:Xe,cfb_mov:ht,cfb_gc:Gt,ReadShift:fb,CheckField:yle,prep_blob:Zi,bconcat:Ii,use_zlib:S,_deflateRaw:He,_inflateRaw:Qt,consts:R},t}();function bTe(e){return typeof e=="string"?OB(e):Array.isArray(e)?W3e(e):e}function nN(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=OB(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Zu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var s=new Blob([bTe(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Wm(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function jTe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Ps(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function AV(e,t){for(var r=[],a=Ps(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function LB(e){for(var t=[],r=Ps(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function RB(e){for(var t=[],r=Ps(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function NTe(e){for(var t=[],r=Ps(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Q5=new Date(1899,11,30,0,0,0);function wi(e,t){var r=e.getTime(),a=Q5.getTime()+(e.getTimezoneOffset()-Q5.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var Zoe=new Date,CTe=Q5.getTime()+(Zoe.getTimezoneOffset()-Q5.getTimezoneOffset())*6e4,mV=Zoe.getTimezoneOffset();function MB(e){var t=new Date;return t.setTime(e*24*60*60*1e3+CTe),t.getTimezoneOffset()!==mV&&t.setTime(t.getTime()+(t.getTimezoneOffset()-mV)*6e4),t}function STe(e){var t=0,r=0,a=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(r=1,i>3&&(a=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[i],10)}return t}var pV=new Date("2017-02-19T19:06:09.000Z"),ele=isNaN(pV.getFullYear())?new Date("2/19/17"):pV,_Te=ele.getFullYear()==2017;function Za(e,t){var r=new Date(e);if(_Te)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(ele.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function L0(e,t){if(_n&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Zu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Zu(Qoe(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Zu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Zu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function es(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=es(e[r]));return t}function Ss(e,t){for(var r="";r.length<t;)r+=e;return r}function nu(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var ETe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Dv(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&ETe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var BTe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,s){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),o=[i[0]],l=1;l<i.length;++l)o.push(s),o.push(i[l]);return o}}();function tle(e){return e?e.content&&e.type?L0(e.content,!0):e.data?Pw(e.data):e.asNodeBuffer&&_n?Pw(e.asNodeBuffer().toString("binary")):e.asBinary?Pw(e.asBinary()):e._data&&e._data.getContent?Pw(L0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function rle(e){if(!e)return null;if(e.data)return aV(e.data);if(e.asNodeBuffer&&_n)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?aV(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function FTe(e){return e&&e.name.slice(-4)===".bin"?rle(e):tle(e)}function $c(e,t){for(var r=e.FullPaths||Ps(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),s=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||s==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function O8(e,t){var r=$c(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Zs(e,t,r){if(!r)return FTe(O8(e,t));if(!t)return null;try{return Zs(e,t)}catch{return null}}function Ac(e,t,r){if(!r)return tle(O8(e,t));if(!t)return null;try{return Ac(e,t)}catch{return null}}function PTe(e,t,r){return rle(O8(e,t))}function xV(e){for(var t=e.FullPaths||Ps(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function wn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return _n?a=Vf(r):a=G3e(r),Hr.utils.cfb_add(e,t,a)}Hr.utils.cfb_add(e,t,r)}else e.file(t,r)}function D8(){return Hr.utils.cfb_new()}function nle(e,t){switch(t.type){case"base64":return Hr.read(e,{type:"base64"});case"binary":return Hr.read(e,{type:"binary"});case"buffer":case"array":return Hr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Tw(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var s=a.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var Ws=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kTe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,gV=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,TTe=/<[^>]*>/g,Do=Ws.match(gV)?gV:TTe,ITe=/<\w*:/,OTe=/<(\/?)\w+:/;function rn(e,t,r){for(var a={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(t||(a[0]=e.slice(0,s)),s===e.length)return a;var o=e.match(kTe),l=0,c="",d=0,u="",h="",f=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(f=(s=h.charCodeAt(i+1))==34||s==39?1:0,c=h.slice(i+1+f,h.length-f),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),a[u]=c,a[u.toLowerCase()]=c;else{var A=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(a[A]&&u.slice(l-3,l)=="ext")continue;a[A]=c,a[A.toLowerCase()]=c}}return a}function _h(e){return e.replace(OTe,"<$1")}var ale={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},L8=LB(ale),Xn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var s=a+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(l,c){return ale[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=s.indexOf("]]>");return r(s.slice(0,i))+s.slice(i+9,o)+r(s.slice(o+3))}}(),R8=/[&<>'"]/g,DTe=/[\u0000-\u0008\u000b-\u001f]/g;function wa(e){var t=e+"";return t.replace(R8,function(r){return L8[r]}).replace(DTe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vV(e){return wa(e).replace(/ /g,"_x0020_")}var sle=/[\u0000-\u001f]/g;function M8(e){var t=e+"";return t.replace(R8,function(r){return L8[r]}).replace(/\n/g,"<br/>").replace(sle,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function LTe(e){var t=e+"";return t.replace(R8,function(r){return L8[r]}).replace(sle,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var yV=function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function RTe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ga(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function u3(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function wV(e){var t=Lm(2*e.length),r,a,s=1,i=0,o=0,l;for(a=0;a<e.length;a+=s)s=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function bV(e){return Vf(e,"binary").toString("utf8")}var a4="foo bar baz",_a=_n&&(bV(a4)==u3(a4)&&bV||wV(a4)==u3(a4)&&wV)||u3,Zu=_n?function(e){return Vf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},kj=function(){var e={};return function(r,a){var s=r+"|"+(a||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),ile=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),MTe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),UTe=/<\/?(?:vt:)?variant>/g,QTe=/<(?:vt:)([^>]*)>([\s\S]*)</;function jV(e,t){var r=rn(e),a=e.match(MTe(r.baseType))||[],s=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return s}return a.forEach(function(i){var o=i.replace(UTe,"").match(QTe);o&&s.push({v:_a(o[2]),t:o[1]})}),s}var ole=/(^\s|\s$|\n)/;function ro(e,t){return"<"+e+(t.match(ole)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Tj(e){return Ps(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function or(e,t,r){return"<"+e+(r!=null?Tj(r):"")+(t!=null?(t.match(ole)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function kI(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function $Te(e,t){switch(typeof e){case"string":var r=or("vt:lpwstr",wa(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return or((e|0)==e?"vt:i4":"vt:r8",wa(String(e)));case"boolean":return or("vt:bool",e?"true":"false")}if(e instanceof Date)return or("vt:filetime",kI(e));throw new Error("Unable to serialize "+e)}function U8(e){if(_n&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return _a(Wm(k8(e)));throw new Error("Bad input format: expected Buffer or string")}var Ij=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,gi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ax=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],dc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function HTe(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function zTe(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var NV=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},CV=_n?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Vf(t)})):NV(e)}:NV,SV=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(Af(e,s)));return a.join("").replace(cl,"")},Q8=_n?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(cl,""):SV(e,t,r)}:SV,_V=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},lle=_n?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_V(e,t,r)}:_V,EV=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(ag(e,s)));return a.join("")},aN=_n?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):EV(t,r,a)}:EV,cle=function(e,t){var r=uc(e,t);return r>0?aN(e,t+4,t+4+r-1):""},dle=cle,ule=function(e,t){var r=uc(e,t);return r>0?aN(e,t+4,t+4+r-1):""},hle=ule,fle=function(e,t){var r=2*uc(e,t);return r>0?aN(e,t+4,t+4+r-1):""},Ale=fle,mle=function(t,r){var a=uc(t,r);return a>0?Q8(t,r+4,r+4+a):""},ple=mle,xle=function(e,t){var r=uc(e,t);return r>0?aN(e,t+4,t+4+r):""},gle=xle,vle=function(e,t){return HTe(e,t)},$5=vle,$8=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};_n&&(dle=function(t,r){if(!Buffer.isBuffer(t))return cle(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},hle=function(t,r){if(!Buffer.isBuffer(t))return ule(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},Ale=function(t,r){if(!Buffer.isBuffer(t))return fle(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},ple=function(t,r){if(!Buffer.isBuffer(t))return mle(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},gle=function(t,r){if(!Buffer.isBuffer(t))return xle(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},$5=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):vle(t,r)},$8=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ag=function(e,t){return e[t]},Af=function(e,t){return e[t+1]*256+e[t]},VTe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},uc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Tp=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},KTe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function fb(e,t){var r="",a,s,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,_n&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Af(this,d)),d+=2;e*=2;break;case"utf8":r=aN(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Q8(this,this.l,this.l+e);break;case"wstr":return fb.call(this,e,"dbcs");case"lpstr-ansi":r=dle(this,this.l),e=4+uc(this,this.l);break;case"lpstr-cp":r=hle(this,this.l),e=4+uc(this,this.l);break;case"lpwstr":r=Ale(this,this.l),e=4+2*uc(this,this.l);break;case"lpp4":e=4+uc(this,this.l),r=ple(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+uc(this,this.l),r=gle(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=ag(this,this.l+e++))!==0;)i.push(n4(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Af(this,this.l+e))!==0;)i.push(n4(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=ag(this,d),this.l=d+1,l=fb.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(n4(Af(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=ag(this,d),this.l=d+1,l=fb.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(n4(ag(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return a=ag(this,this.l),this.l++,a;case 2:return a=(t==="i"?VTe:Af)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?Tp:KTe)(this,this.l),this.l+=4,a):(s=uc(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=$5(this,this.l):s=$5([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=lle(this,this.l,e);break}}return this.l+=e,r}var qTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},WTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},GTe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function XTe(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)GTe(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,qTe(this,t,this.l);break;case 8:if(a=8,r==="f"){zTe(this,t,this.l);break}case 16:break;case-4:a=4,WTe(this,t,this.l);break}return this.l+=a,this}function yle(e,t){var r=lle(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Zi(e,t){e.l=t,e.read_shift=fb,e.chk=yle,e.write_shift=XTe}function Oo(e,t){e.l+=t}function St(e){var t=Lm(e);return Zi(t,0),t}function Kf(e,t,r){if(e){var a,s,i;Zi(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=Uj[l]||Uj[65535];for(a=e.read_shift(1),i=a&127,s=1;s<4&&a&128;++s)i+=((a=e.read_shift(1))&127)<<7*s;c=e.l+i;var u=d.f&&d.f(e,i,r);if(e.l=c,t(u,d,l))return}}}function Ol(){var e=[],t=_n?256:2048,r=function(d){var u=St(d);return Zi(u,0),u},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(s(),a=r(Math.max(d+1,t)))},o=function(){return s(),Ii(e)},l=function(d){s(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Vt(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=Uj[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&$8(r)&&e.push(r)}}function Ab(e,t,r){var a=es(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function BV(e,t,r){var a=es(e);return a.s=Ab(a.s,t.s,r),a.e=Ab(a.e,t.s,r),a}function mb(e,t){if(e.cRel&&e.c<0)for(e=es(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=es(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Jr(e);return!e.cRel&&e.cRel!=null&&(r=ZTe(r)),!e.rRel&&e.rRel!=null&&(r=YTe(r)),r}function h3(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+fs(e.s.c)+":"+(e.e.cRel?"":"$")+fs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+qs(e.s.r)+":"+(e.e.rRel?"":"$")+qs(e.e.r):mb(e.s,t.biff)+":"+mb(e.e,t.biff)}function H8(e){return parseInt(JTe(e),10)-1}function qs(e){return""+(e+1)}function YTe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function JTe(e){return e.replace(/\$(\d+)$/,"$1")}function z8(e){for(var t=e6e(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function fs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ZTe(e){return e.replace(/^([A-Z])/,"$$$1")}function e6e(e){return e.replace(/^\$([A-Z])/,"$1")}function t6e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function As(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Jr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Rl(e){var t=e.indexOf(":");return t==-1?{s:As(e),e:As(e)}:{s:As(e.slice(0,t)),e:As(e.slice(t+1))}}function mn(e,t){return typeof t>"u"||typeof t=="number"?mn(e.s,e.e):(typeof e!="string"&&(e=Jr(e)),typeof t!="string"&&(t=Jr(t)),e==t?e:e+":"+t)}function Zn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function FV(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=md(e.z,r?wi(t):t)}catch{}try{return e.w=md((e.XF||{}).numFmtId||(r?14:0),r?wi(t):t)}catch{return""+t}}function Df(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?qf[e.v]||e.v:t==null?FV(e,e.v):FV(e,t))}function Gm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function wle(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?As(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Zn(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(!(typeof t[h][f]>"u")){var A={v:t[h][f]},p=o+h,m=l+f;if(d.s.r>p&&(d.s.r=p),d.s.c>m&&(d.s.c=m),d.e.r<p&&(d.e.r=p),d.e.c<m&&(d.e.c=m),t[h][f]&&typeof t[h][f]=="object"&&!Array.isArray(t[h][f])&&!(t[h][f]instanceof Date))A=t[h][f];else if(Array.isArray(A.v)&&(A.f=t[h][f][1],A.v=A.v[0]),A.v===null)if(A.f)A.t="n";else if(a.nullError)A.t="e",A.v=0;else if(a.sheetStubs)A.t="z";else continue;else typeof A.v=="number"?A.t="n":typeof A.v=="boolean"?A.t="b":A.v instanceof Date?(A.z=a.dateNF||Yr[14],a.cellDates?(A.t="d",A.w=md(A.z,wi(A.v))):(A.t="n",A.v=wi(A.v),A.w=md(A.z,A.v))):A.t="s";if(s)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(A.z=i[p][m].z),i[p][m]=A;else{var x=Jr({c:m,r:p});i[x]&&i[x].z&&(A.z=i[x].z),i[x]=A}}}return d.s.c<1e7&&(i["!ref"]=mn(d)),i}function Hy(e,t){return wle(null,e,t)}function r6e(e){return e.read_shift(4,"i")}function au(e,t){return t||(t=St(4)),t.write_shift(4,e),t}function Bo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Oi(e,t){var r=!1;return t==null&&(r=!0,t=St(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function n6e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function a6e(e,t){return t||(t=St(4)),t.write_shift(2,0),t.write_shift(2,0),t}function V8(e,t){var r=e.l,a=e.read_shift(1),s=Bo(e),i=[],o={t:s,h:s};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(n6e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function s6e(e,t){var r=!1;return t==null&&(r=!0,t=St(15+4*e.t.length)),t.write_shift(1,0),Oi(e.t,t),r?t.slice(0,t.l):t}var i6e=V8;function o6e(e,t){var r=!1;return t==null&&(r=!0,t=St(23+4*e.t.length)),t.write_shift(1,1),Oi(e.t,t),t.write_shift(4,1),a6e({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function yd(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sx(e,t){return t==null&&(t=St(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ix(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ox(e,t){return t==null&&(t=St(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var l6e=Bo,ble=Oi;function K8(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function H5(e,t){var r=!1;return t==null&&(r=!0,t=St(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var c6e=Bo,TI=K8,q8=H5;function W8(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?$5([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Tp(t,0)>>2;return r?s/100:s}function jle(e,t){t==null&&(t=St(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?a=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Nle(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function d6e(e,t){return t||(t=St(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var lx=Nle,zy=d6e;function _o(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function R0(e,t){return(t||St(8)).write_shift(8,e,"f")}function u6e(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var d=u0[s];d&&(t.rgb=Dj(d));break;case 2:t.rgb=Dj([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function z5(e,t){if(t||(t=St(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function h6e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function f6e(e,t){t||(t=St(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Cle(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function A6e(e){return Cle(e,1)}function m6e(e){return Cle(e,2)}var G8=2,Nl=3,s4=11,PV=12,V5=19,i4=64,p6e=65,x6e=71,g6e=4108,v6e=4126,_i=80,Sle=81,y6e=[_i,Sle],II={1:{n:"CodePage",t:G8},2:{n:"Category",t:_i},3:{n:"PresentationFormat",t:_i},4:{n:"ByteCount",t:Nl},5:{n:"LineCount",t:Nl},6:{n:"ParagraphCount",t:Nl},7:{n:"SlideCount",t:Nl},8:{n:"NoteCount",t:Nl},9:{n:"HiddenCount",t:Nl},10:{n:"MultimediaClipCount",t:Nl},11:{n:"ScaleCrop",t:s4},12:{n:"HeadingPairs",t:g6e},13:{n:"TitlesOfParts",t:v6e},14:{n:"Manager",t:_i},15:{n:"Company",t:_i},16:{n:"LinksUpToDate",t:s4},17:{n:"CharacterCount",t:Nl},19:{n:"SharedDoc",t:s4},22:{n:"HyperlinksChanged",t:s4},23:{n:"AppVersion",t:Nl,p:"version"},24:{n:"DigSig",t:p6e},26:{n:"ContentType",t:_i},27:{n:"ContentStatus",t:_i},28:{n:"Language",t:_i},29:{n:"Version",t:_i},255:{},2147483648:{n:"Locale",t:V5},2147483651:{n:"Behavior",t:V5},1919054434:{}},OI={1:{n:"CodePage",t:G8},2:{n:"Title",t:_i},3:{n:"Subject",t:_i},4:{n:"Author",t:_i},5:{n:"Keywords",t:_i},6:{n:"Comments",t:_i},7:{n:"Template",t:_i},8:{n:"LastAuthor",t:_i},9:{n:"RevNumber",t:_i},10:{n:"EditTime",t:i4},11:{n:"LastPrinted",t:i4},12:{n:"CreatedDate",t:i4},13:{n:"ModifiedDate",t:i4},14:{n:"PageCount",t:Nl},15:{n:"WordCount",t:Nl},16:{n:"CharCount",t:Nl},17:{n:"Thumbnail",t:x6e},18:{n:"Application",t:_i},19:{n:"DocSecurity",t:Nl},255:{},2147483648:{n:"Locale",t:V5},2147483651:{n:"Behavior",t:V5},1919054434:{}},kV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},w6e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function b6e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var j6e=b6e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),u0=es(j6e),qf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_le={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},DI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},o4={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function X8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function N6e(e){var t=X8();if(!e||!e.match)return t;var r={};if((e.match(Do)||[]).forEach(function(a){var s=rn(a);switch(s[0].replace(ITe,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[DI[s.ContentType]]!==void 0&&t[DI[s.ContentType]].push(s.PartName);break}}),t.xmlns!==gi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Ele(e,t){var r=NTe(DI),a=[],s;a[a.length]=Ws,a[a.length]=or("Types",null,{xmlns:gi.CT,"xmlns:xsd":gi.xsd,"xmlns:xsi":gi.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return or("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],a[a.length]=or("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:o4[c][t.bookType]||o4[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=or("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:o4[c][t.bookType]||o4[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=or("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Fn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Oj(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function pb(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(Do)||[]).forEach(function(s){var i=rn(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Tw(i.Target,t);r[l]=o,a[i.Id]=o}}),r["!id"]=a,r}function Zg(e){var t=[Ws,or("Relationships",null,{xmlns:gi.RELS})];return Ps(e["!id"]).forEach(function(r){t[t.length]=or("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ga(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[Fn.HLINK,Fn.XPATH,Fn.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}var C6e="application/vnd.oasis.opendocument.spreadsheet";function S6e(e,t){for(var r=U8(e),a,s;a=Ij.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(s=rn(a[0],!1),s.path=="/"&&s.type!==C6e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function _6e(e){var t=[Ws];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function TV(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function E6e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function B6e(e){var t=[Ws];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(TV(e[r][0],e[r][1])),t.push(E6e("",e[r][0]));return t.push(TV("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Ble(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+L5.version+"</meta:generator></office:meta></office:document-meta>"}var cd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],F6e=function(){for(var e=new Array(cd.length),t=0;t<cd.length;++t){var r=cd[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function Fle(e){var t={};e=_a(e);for(var r=0;r<cd.length;++r){var a=cd[r],s=e.match(F6e[r]);s!=null&&s.length>0&&(t[a[1]]=Xn(s[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=Za(t[a[1]]))}return t}function f3(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=wa(t),a[a.length]=r?or(e,t,r):ro(e,t))}function Ple(e,t){var r=t||{},a=[Ws,or("cp:coreProperties",null,{"xmlns:cp":gi.CORE_PROPS,"xmlns:dc":gi.dc,"xmlns:dcterms":gi.dcterms,"xmlns:dcmitype":gi.dcmitype,"xmlns:xsi":gi.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&f3("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:kI(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&f3("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:kI(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=cd.length;++i){var o=cd[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&f3(o[0],l,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var h0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],kle=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Tle(e,t,r,a){var s=[];if(typeof e=="string")s=jV(e,a);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?jV(t,a).map(function(u){return u.v}):t,l=0,c=0;if(o.length>0)for(var d=0;d!==s.length;d+=2){switch(c=+s[d+1].v,s[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function P6e(e,t,r){var a={};return t||(t={}),e=_a(e),h0.forEach(function(s){var i=(e.match(kj(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=Xn(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(a[s[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&Tle(a.HeadingPairs,a.TitlesOfParts,t,r),t}function Ile(e){var t=[],r=or;return e||(e={}),e.Application="SheetJS",t[t.length]=Ws,t[t.length]=or("Properties",null,{xmlns:gi.EXT_PROPS,"xmlns:vt":gi.vt}),h0.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=wa(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+wa(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var k6e=/<[^>]+>[^<]*/g;function T6e(e,t){var r={},a="",s=e.match(k6e);if(s)for(var i=0;i!=s.length;++i){var o=s[i],l=rn(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Xn(l.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=Xn(u);break;case"bool":r[a]=Ga(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(u);break;case"filetime":case"date":r[a]=Za(u);break;case"cy":case"error":r[a]=Xn(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function Ole(e){var t=[Ws,or("Properties",null,{xmlns:gi.CUST_PROPS,"xmlns:vt":gi.vt})];if(!e)return t.join("");var r=1;return Ps(e).forEach(function(s){++r,t[t.length]=or("property",$Te(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:wa(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var LI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},A3;function I6e(e,t,r){A3||(A3=LB(LI)),t=A3[t]||t,e[t]=r}function O6e(e,t){var r=[];return Ps(LI).map(function(a){for(var s=0;s<cd.length;++s)if(cd[s][1]==a)return cd[s];for(s=0;s<h0.length;++s)if(h0[s][1]==a)return h0[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(ro(LI[a[1]]||a[1],s))}}),or("DocumentProperties",r.join(""),{xmlns:dc.o})}function D6e(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&Ps(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<cd.length;++o)if(i==cd[o][1])return;for(o=0;o<h0.length;++o)if(i==h0[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(or(vV(i),l,{"dt:dt":c}))}}),t&&Ps(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(or(vV(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+dc.o+'">'+s.join("")+"</"+a+">"}function Y8(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function L6e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=St(8);return o.write_shift(4,a),o.write_shift(4,s),o}function Dle(e,t,r){var a=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return s}function Lle(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function Rle(e,t,r){return t===31?Lle(e):Dle(e,t,r)}function RI(e,t,r){return Rle(e,t,r===!1?0:4)}function R6e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Rle(e,t,0)}function M6e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var s=e.l;r[a]=e.read_shift(0,"lpwstr").replace(cl,""),e.l-s&2&&(e.l+=2)}return r}function U6e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(cl,"");return r}function Q6e(e){var t=e.l,r=K5(e,Sle);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=K5(e,Nl);return[r,a]}function $6e(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(Q6e(e));return r}function IV(e,t){for(var r=e.read_shift(4),a={},s=0;s!=r;++s){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(cl,"").replace(kw,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function Mle(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function H6e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function K5(e,t,r){var a=e.read_shift(2),s,i=r||{};if(e.l+=2,t!==PV&&a!==t&&y6e.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===PV?a:t){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return Dle(e,a,4).replace(cl,"");case 31:return Lle(e);case 64:return Y8(e);case 65:return Mle(e);case 71:return H6e(e);case 80:return RI(e,a,!i.raw).replace(cl,"");case 81:return R6e(e,a).replace(cl,"");case 4108:return $6e(e);case 4126:case 4127:return a==4127?M6e(e):U6e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function OV(e,t){var r=St(4),a=St(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=St(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=L6e(t);break;case 31:case 80:for(a=St(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ii([r,a])}function DV(e,t){var r=e.l,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=s;++o){var u=e.read_shift(4),h=e.read_shift(4);i[o]=[u,h+r]}i.sort(function(v,y){return v[1]-y[1]});var f={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var A=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,A=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],A=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],A=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(A=!1,e.l=i[o][1]),A)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[i[o][0]];if(f[p.n]=K5(e,p.t,{raw:!0}),p.p==="version"&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(f[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Gd(l=f[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[p.n])}}else if(i[o][0]===1){if(l=f.CodePage=K5(e,G8),Gd(l),c!==-1){var m=e.l;e.l=i[c][1],d=IV(e,l),e.l=m}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}d=IV(e,l)}else{var x=d[i[o][0]],g;switch(e[e.l]){case 65:e.l+=4,g=Mle(e);break;case 30:e.l+=4,g=RI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,g=RI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Ms(e,4);break;case 64:e.l+=4,g=Za(Y8(e));break;default:throw new Error("unparsed value: "+e[e.l])}f[x]=g}}return e.l=r+a,f}var Ule=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function z6e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function LV(e,t,r){var a=St(8),s=[],i=[],o=8,l=0,c=St(8),d=St(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),s.push(d),o+=8+c.length,!t){d=St(8),d.write_shift(4,0),s.unshift(d);var u=[St(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=St(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ii(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Ule.indexOf(e[l][0])>-1||kle.indexOf(e[l][0])>-1)&&e[l][1]!=null){var f=e[l][1],A=0;if(t){A=+t[e[l][0]];var p=r[A];if(p.p=="version"&&typeof f=="string"){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}c=OV(p.t,f)}else{var x=z6e(f);x==-1&&(x=31,f=String(f)),c=OV(x,f)}i.push(c),d=St(8),d.write_shift(4,t?A:2+l),s.push(d),o+=8+c.length}var g=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,g),g+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),Ii([a].concat(s).concat(i))}function RV(e,t,r){var a=e.content;if(!a)return{};Zi(a,0);var s,i,o,l,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),u=a.read_shift(16);if(u!==Hr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(s=a.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=a.read_shift(16),l=a.read_shift(4),s===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);s===2&&(o=a.read_shift(16),c=a.read_shift(4));var h=DV(a,t),f={SystemIdentifier:d};for(var A in h)f[A]=h[A];if(f.FMTID=i,s===1)return f;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var p;try{p=DV(a,null)}catch{}for(A in p)f[A]=p[A];return f.FMTID=[i,o],f}function MV(e,t,r,a,s,i){var o=St(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Hr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=LV(e,r,a);if(l.push(c),s){var d=LV(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ii(l)}function pA(e,t){return e.read_shift(t),null}function V6e(e,t){t||(t=St(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function K6e(e,t,r){for(var a=[],s=e.l+t;e.l<s;)a.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return a}function Ms(e,t){return e.read_shift(t)===1}function Go(e,t){return t||(t=St(2)),t.write_shift(2,+!!e),t}function ei(e){return e.read_shift(2,"u")}function Kc(e,t){return t||(t=St(2)),t.write_shift(2,e),t}function Qle(e,t){return K6e(e,t,ei)}function q6e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function $le(e,t,r){return r||(r=St(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function sN(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function W6e(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,s=r&8,i=1+(r&1),o=0,l,c={};s&&(o=e.read_shift(2)),a&&(l=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return s&&(e.l+=4*o),a&&(e.l+=l),c.t=u,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function G6e(e){var t=e.t||"",r=St(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=St(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return Ii(s)}function M0(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function iN(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):M0(e,a,r)}function cx(e,t,r){if(r.biff>5)return iN(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Hle(e,t,r){return r||(r=St(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function X6e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Y6e(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var s=e.read_shift((a?t-24:t)>>1,"utf16le").replace(cl,"");return a&&(e.l+=24),s}function J6e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(cl,"");return r+o}function Z6e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Y6e(e);case"0303000000000000c000000000000046":return J6e(e);default:throw new Error("Unsupported Moniker "+r)}}function l4(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(cl,""):"";return r}function UV(e,t){t||(t=St(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function eIe(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var s=e.read_shift(2);e.l+=2;var i,o,l,c,d="",u,h;s&16&&(i=l4(e,r-e.l)),s&128&&(o=l4(e,r-e.l)),(s&257)===257&&(l=l4(e,r-e.l)),(s&257)===1&&(c=Z6e(e,r-e.l)),s&8&&(d=l4(e,r-e.l)),s&32&&(u=e.read_shift(16)),s&64&&(h=Y8(e)),e.l=r;var f=o||l||c||"";f&&d&&(f+="#"+d),f||(f="#"+d),s&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var A={Target:f};return u&&(A.guid=u),h&&(A.time=h),i&&(A.Tooltip=i),A}function tIe(e){var t=St(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),UV(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&UV(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function zle(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);return[t,r,a,s]}function Vle(e,t){var r=zle(e);return r[3]=0,r}function Eh(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function U0(e,t,r,a){return a||(a=St(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function rIe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function nIe(e,t,r){return t===0?"":cx(e,t,r)}function aIe(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function Kle(e){var t=e.read_shift(2),r=W8(e);return[t,r]}function sIe(e,t,r){e.l+=4,t-=4;var a=e.l+t,s=sN(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,s}function UB(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function qle(e,t){return t||(t=St(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Wle(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1);return{s:{c:a,r:t},e:{c:s,r}}}var iIe=Wle;function Gle(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function oIe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function lIe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function xo(e){e.l+=2,e.l+=e.read_shift(2)}var cIe={0:xo,4:xo,5:xo,6:xo,7:lIe,8:xo,9:xo,10:xo,11:xo,12:xo,13:oIe,14:xo,15:xo,16:xo,17:xo,18:xo,19:xo,20:xo,21:Gle};function dIe(e,t){for(var r=e.l+t,a=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{a.push(cIe[s](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function c4(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function J8(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=St(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function uIe(e,t){return t===0||e.read_shift(2),1200}function hIe(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,s=cx(e,0,r);return e.read_shift(t+a-e.l),s}function fIe(e,t){var r=!t||t.biff==8,a=St(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function AIe(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function mIe(e,t,r){var a=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=sN(e,0,r);return o.length===0&&(o="Sheet1"),{pos:a,hs:s,dt:i,name:o}}function pIe(e,t){var r=!t||t.biff>=8?2:1,a=St(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function xIe(e,t){for(var r=e.l+t,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<r;++o)i.push(W6e(e));return i.Count=a,i.Unique=s,i}function gIe(e,t){var r=St(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=G6e(e[s]);var i=Ii([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function vIe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function yIe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function wIe(e){var t=rIe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function bIe(e){return e.read_shift(2),e.read_shift(4)}function QV(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(a=1-(s>>15),s&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,s]}function jIe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,s],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function NIe(){var e=St(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function CIe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function SIe(e){var t=St(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function _Ie(){}function EIe(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=sN(e,0,r),a}function BIe(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=St(s);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function FIe(e){var t=Eh(e);return t.isst=e.read_shift(4),t}function PIe(e,t,r,a){var s=St(10);return U0(e,t,a,s),s.write_shift(4,r),s}function kIe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,s=Eh(e);r.biff==2&&e.l++;var i=iN(e,a-e.l,r);return s.val=i,s}function TIe(e,t,r,a,s){var i=!s||s.biff==8,o=St(8+ +i+(1+i)*r.length);return U0(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function IIe(e,t,r){var a=e.read_shift(2),s=cx(e,0,r);return[a,s]}function OIe(e,t,r,a){var s=r&&r.biff==5;a||(a=St(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var DIe=cx;function $V(e,t,r){var a=e.l+t,s=r.biff==8||!r.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:l},e:{r:o,c}}}function LIe(e,t){var r=t.biff==8||!t.biff?4:2,a=St(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function RIe(e){var t=e.read_shift(2),r=e.read_shift(2),a=Kle(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function MIe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(Kle(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:a,c:s,C:o,rkrec:i}}function UIe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:a,c:s,C:o,ixfe:i}}function QIe(e,t,r,a){var s={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return s.patternType=w6e[l>>26],a.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function $Ie(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=QIe(e,t,a.fStyle,r),a}function HV(e,t,r,a){var s=r&&r.biff==5;a||(a=St(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function HIe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function zIe(e){var t=St(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function zV(e,t,r){var a=Eh(e);(r.biff==2||t==9)&&++e.l;var s=q6e(e);return a.val=s,a.t=s===!0||s===!1?"b":"e",a}function VIe(e,t,r,a,s,i){var o=St(8);return U0(e,t,a,o),$le(r,i,o),o}function KIe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=Eh(e),s=_o(e);return a.val=s,a}function qIe(e,t,r,a){var s=St(14);return U0(e,t,a,s),R0(r,s),s}var VV=nIe;function WIe(e,t,r){var a=e.l+t,s=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=M0(e,i),l=[];a>e.l;)l.push(iN(e));return[i,s,o,l]}function KV(e,t,r){var a=e.read_shift(2),s,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(s=sIe(e,t-2,r)),i.body=s||e.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var GIe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function qV(e,t,r){var a=e.l+t,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=M0(e,o,r);s&32&&(d=GIe[d.charCodeAt(0)]);var u=a-e.l;r&&r.biff==2&&--u;var h=a==e.l||l===0||!(u>0)?[]:d8e(e,u,r,l);return{chKey:i,Name:d,itab:c,rgce:h}}function Xle(e,t,r){if(r.biff<8)return XIe(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(aIe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function XIe(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=sN(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function YIe(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),s=e.read_shift(2),i=M0(e,a,r),o=M0(e,s,r);return[i,o]}function JIe(e,t,r){var a=Wle(e);e.l++;var s=e.read_shift(1);return t-=8,[u8e(e,t,r),s,a]}function WV(e,t,r){var a=iIe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,l8e(e,t,r)]}function ZIe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function eOe(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=cx(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:s},l,o,i]}}function tOe(e,t,r){return eOe(e,t,r)}function rOe(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(UB(e));return r}function nOe(e){var t=St(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)qle(e[r],t);return t}function aOe(e,t,r){if(r&&r.biff<8)return iOe(e,t,r);var a=Gle(e),s=dIe(e,t-22,a[1]);return{cmo:a,ft:s}}var sOe={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:a}}};function iOe(e,t,r){e.l+=4;var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((sOe[a]||Oo)(e,t,r)),{cmo:[s,a,i],ft:o}}function oOe(e,t,r){var a=e.l,s="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=X6e(e,6,r);var l=e.read_shift(2);e.read_shift(2),ei(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],h=M0(e,e.lens[d+1]-e.lens[d]-1);if(s+=h,s.length>=(u?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return e.l=a+t,{t:s}}catch{return e.l=a+t,{t:s}}}function lOe(e,t){var r=UB(e);e.l+=16;var a=eIe(e,t-24);return[r,a]}function cOe(e){var t=St(24),r=As(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return Ii([t,tIe(e[1])])}function dOe(e,t){e.read_shift(2);var r=UB(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(cl,""),[r,a]}function uOe(e){var t=e[1].Tooltip,r=St(10+2*(t.length+1));r.write_shift(2,2048);var a=As(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function hOe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=kV[r]||r,r=e.read_shift(2),t[1]=kV[r]||r,t}function fOe(e){return e||(e=St(4)),e.write_shift(2,1),e.write_shift(2,1),e}function AOe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Vle(e));return r}function mOe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Vle(e));return r}function pOe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Yle(e,t,r){if(!r.cellStyles)return Oo(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function xOe(e,t){var r=St(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function gOe(e,t){var r={};return t<32||(e.l+=16,r.header=_o(e),r.footer=_o(e),e.l+=2),r}function vOe(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var s=e.read_shift(1);return e.l+=3,s&16&&(a.area=!0),a}function yOe(e){for(var t=St(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var wOe=Eh,bOe=Qle,jOe=iN;function NOe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,s}function COe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=Eh(e);++e.l;var s=cx(e,t-7,r);return a.t="str",a.val=s,a}function SOe(e){var t=Eh(e);++e.l;var r=_o(e);return t.t="n",t.val=r,t}function _Oe(e,t,r){var a=St(15);return dN(a,e,t),a.write_shift(8,r,"f"),a}function EOe(e){var t=Eh(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function BOe(e,t,r){var a=St(9);return dN(a,e,t),a.write_shift(2,r),a}function FOe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function POe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function kOe(e,t,r){var a=e.l+t,s=Eh(e),i=e.read_shift(2),o=M0(e,i,r);return e.l=a,s.t="str",s.val=o,s}var TOe=[2,3,48,49,131,139,140,245],MI=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=LB({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=Lm(1);switch(c.type){case"base64":u=fc(Cc(l));break;case"binary":u=fc(l);break;case"buffer":case"array":u=l;break}Zi(u,0);var h=u.read_shift(1),f=!!(h&136),A=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:A=!0,f=!0;break;case 49:A=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var m=0,x=521;h==2&&(m=u.read_shift(2)),u.l+=3,h!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),h!=2&&(x=u.read_shift(2));var g=u.read_shift(2),v=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var y=[],j={},b=Math.min(u.length,h==2?521:x-10-(A?264:0)),w=p?32:11;u.l<b&&u[u.l]!=13;)switch(j={},j.name=IA.utils.decode(v,u.slice(u.l,u.l+w)).replace(/[\u0000\r\n].*$/g,""),u.l+=w,j.type=String.fromCharCode(u.read_shift(1)),h!=2&&!p&&(j.offset=u.read_shift(4)),j.len=u.read_shift(1),h==2&&(j.offset=u.read_shift(2)),j.dec=u.read_shift(1),j.name.length&&y.push(j),h!=2&&(u.l+=p?13:14),j.type){case"B":(!A||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var C=0,F=0;for(d[0]=[],F=0;F!=y.length;++F)d[0][F]=y[F].name;for(;m-- >0;){if(u[u.l]===42){u.l+=g;continue}for(++u.l,d[++C]=[],F=0,F=0;F!=y.length;++F){var E=u.slice(u.l,u.l+y[F].len);u.l+=y[F].len,Zi(E,0);var L=IA.utils.decode(v,E);switch(y[F].type){case"C":L.trim().length&&(d[C][F]=L.replace(/\s+$/,""));break;case"D":L.length===8?d[C][F]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):d[C][F]=L;break;case"F":d[C][F]=parseFloat(L.trim());break;case"+":case"I":d[C][F]=p?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":d[C][F]=!0;break;case"N":case"F":d[C][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[C][F]="##MEMO##"+(p?parseInt(L.trim(),10):E.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(d[C][F]=+L||0);break;case"@":d[C][F]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[C][F]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[C][F]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[C][F]=-E.read_shift(-8,"f");break;case"B":if(A&&y[F].len==8){d[C][F]=E.read_shift(8,"f");break}case"G":case"P":E.l+=y[F].len;break;case"0":if(y[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[F].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=y,d}function a(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Hy(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function s(l,c){try{return Gm(a(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&Gd(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ol(),h=G5(l,{header:1,raw:!0,cellDates:!0}),f=h[0],A=h.slice(1),p=l["!cols"]||[],m=0,x=0,g=0,v=1;for(m=0;m<f.length;++m){if(((p[m]||{}).DBF||{}).name){f[m]=p[m].DBF.name,++g;continue}if(f[m]!=null){if(++g,typeof f[m]=="number"&&(f[m]=f[m].toString(10)),typeof f[m]!="string")throw new Error("DBF Invalid column name "+f[m]+" |"+typeof f[m]+"|");if(f.indexOf(f[m])!==m){for(x=0;x<1024;++x)if(f.indexOf(f[m]+"_"+x)==-1){f[m]+="_"+x;break}}}}var y=Zn(l["!ref"]),j=[],b=[],w=[];for(m=0;m<=y.e.c-y.s.c;++m){var C="",F="",E=0,L=[];for(x=0;x<A.length;++x)A[x][m]!=null&&L.push(A[x][m]);if(L.length==0||f[m]==null){j[m]="?";continue}for(x=0;x<L.length;++x){switch(typeof L[x]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=L[x]instanceof Date?"D":"C";break;default:F="C"}E=Math.max(E,String(L[x]).length),C=C&&C!=F?"C":F}E>250&&(E=250),F=((p[m]||{}).DBF||{}).type,F=="C"&&p[m].DBF.len>E&&(E=p[m].DBF.len),C=="B"&&F=="N"&&(C="N",w[m]=p[m].DBF.dec,E=p[m].DBF.len),b[m]=C=="C"||F=="N"?E:i[C]||0,v+=b[m],j[m]=C}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,A.length),N.write_shift(2,296+32*g),N.write_shift(2,v),m=0;m<4;++m)N.write_shift(4,0);for(N.write_shift(4,0|(+t[Uoe]||3)<<8),m=0,x=0;m<f.length;++m)if(f[m]!=null){var I=u.next(32),M=(f[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,M,"sbcs"),I.write_shift(1,j[m]=="?"?"C":j[m],"sbcs"),I.write_shift(4,x),I.write_shift(1,b[m]||i[j[m]]||0),I.write_shift(1,w[m]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),x+=b[m]||i[j[m]]||0}var O=u.next(264);for(O.write_shift(4,13),m=0;m<65;++m)O.write_shift(4,0);for(m=0;m<A.length;++m){var k=u.next(v);for(k.write_shift(1,0),x=0;x<f.length;++x)if(f[x]!=null)switch(j[x]){case"L":k.write_shift(1,A[m][x]==null?63:A[m][x]?84:70);break;case"B":k.write_shift(8,A[m][x]||0,"f");break;case"N":var P="0";for(typeof A[m][x]=="number"&&(P=A[m][x].toFixed(w[x]||0)),g=0;g<b[x]-P.length;++g)k.write_shift(1,32);k.write_shift(1,P,"sbcs");break;case"D":A[m][x]?(k.write_shift(4,("0000"+A[m][x].getFullYear()).slice(-4),"sbcs"),k.write_shift(2,("00"+(A[m][x].getMonth()+1)).slice(-2),"sbcs"),k.write_shift(2,("00"+A[m][x].getDate()).slice(-2),"sbcs")):k.write_shift(8,"00000000","sbcs");break;case"C":var R=String(A[m][x]!=null?A[m][x]:"").slice(0,b[x]);for(k.write_shift(1,R,"sbcs"),g=0;g<b[x]-R.length;++g)k.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),Jle=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ps(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,A){var p=e[A];return typeof p=="number"?sV(p):p},a=function(f,A,p){var m=A.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return m==59?f:sV(m)};e["|"]=254;function s(f,A){switch(A.type){case"base64":return i(Cc(f),A);case"binary":return i(f,A);case"buffer":return i(_n&&Buffer.isBuffer(f)?f.toString("binary"):Wm(f),A);case"array":return i(L0(f),A)}throw new Error("Unrecognized type "+A.type)}function i(f,A){var p=f.split(/[\n\r]+/),m=-1,x=-1,g=0,v=0,y=[],j=[],b=null,w={},C=[],F=[],E=[],L=0,N;for(+A.codepage>=0&&Gd(+A.codepage);g!==p.length;++g){L=0;var I=p[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),M=I.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),O=M[0],k;if(I.length>0)switch(O){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&j.push(I.slice(3).replace(/;;/g,";"));break;case"C":var P=!1,R=!1,V=!1,D=!1,Y=-1,ne=-1;for(v=1;v<M.length;++v)switch(M[v].charAt(0)){case"A":break;case"X":x=parseInt(M[v].slice(1))-1,R=!0;break;case"Y":for(m=parseInt(M[v].slice(1))-1,R||(x=0),N=y.length;N<=m;++N)y[N]=[];break;case"K":k=M[v].slice(1),k.charAt(0)==='"'?k=k.slice(1,k.length-1):k==="TRUE"?k=!0:k==="FALSE"?k=!1:isNaN(nu(k))?isNaN(Dv(k).getDate())||(k=Za(k)):(k=nu(k),b!==null&&Qy(b)&&(k=MB(k))),P=!0;break;case"E":D=!0;var S=ev(M[v].slice(1),{r:m,c:x});y[m][x]=[y[m][x],S];break;case"S":V=!0,y[m][x]=[y[m][x],"S5S"];break;case"G":break;case"R":Y=parseInt(M[v].slice(1))-1;break;case"C":ne=parseInt(M[v].slice(1))-1;break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+I)}if(P&&(y[m][x]&&y[m][x].length==2?y[m][x][0]=k:y[m][x]=k,b=null),V){if(D)throw new Error("SYLK shared formula cannot have own formula");var z=Y>-1&&y[Y][ne];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");y[m][x][1]=pce(z[1],{r:m-Y,c:x-ne})}break;case"F":var Q=0;for(v=1;v<M.length;++v)switch(M[v].charAt(0)){case"X":x=parseInt(M[v].slice(1))-1,++Q;break;case"Y":for(m=parseInt(M[v].slice(1))-1,N=y.length;N<=m;++N)y[N]=[];break;case"M":L=parseInt(M[v].slice(1))/20;break;case"F":break;case"G":break;case"P":b=j[parseInt(M[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=M[v].slice(1).split(" "),N=parseInt(E[0],10);N<=parseInt(E[1],10);++N)L=parseInt(E[2],10),F[N-1]=L===0?{hidden:!0}:{wch:L},Rm(F[N-1]);break;case"C":x=parseInt(M[v].slice(1))-1,F[x]||(F[x]={});break;case"R":m=parseInt(M[v].slice(1))-1,C[m]||(C[m]={}),L>0?(C[m].hpt=L,C[m].hpx=Rv(L)):L===0&&(C[m].hidden=!0);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+I)}Q<1&&(b=null);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+I)}}return C.length>0&&(w["!rows"]=C),F.length>0&&(w["!cols"]=F),A&&A.sheetRows&&(y=y.slice(0,A.sheetRows)),[y,w]}function o(f,A){var p=s(f,A),m=p[0],x=p[1],g=Hy(m,A);return Ps(x).forEach(function(v){g[v]=x[v]}),g}function l(f,A){return Gm(o(f,A),A)}function c(f,A,p,m){var x="C;Y"+(p+1)+";X"+(m+1)+";K";switch(f.t){case"n":x+=f.v||0,f.f&&!f.F&&(x+=";E"+aM(f.f,{r:p,c:m}));break;case"b":x+=f.v?"TRUE":"FALSE";break;case"e":x+=f.w||f.v;break;case"d":x+='"'+(f.w||f.v)+'"';break;case"s":x+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(f,A){A.forEach(function(p,m){var x="F;W"+(m+1)+" "+(m+1)+" ";p.hidden?x+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Lj(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Rj(p.wpx)),typeof p.wch=="number"&&(x+=Math.round(p.wch))),x.charAt(x.length-1)!=" "&&f.push(x)})}function u(f,A){A.forEach(function(p,m){var x="F;";p.hidden?x+="M0;":p.hpt?x+="M"+20*p.hpt+";":p.hpx&&(x+="M"+20*Mj(p.hpx)+";"),x.length>2&&f.push(x+"R"+(m+1))})}function h(f,A){var p=["ID;PWXL;N;E"],m=[],x=Zn(f["!ref"]),g,v=Array.isArray(f),y=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&d(p,f["!cols"]),f["!rows"]&&u(p,f["!rows"]),p.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var j=x.s.r;j<=x.e.r;++j)for(var b=x.s.c;b<=x.e.c;++b){var w=Jr({r:j,c:b});g=v?(f[j]||[])[b]:f[w],!(!g||g.v==null&&(!g.f||g.F))&&m.push(c(g,f,j,b))}return p.join(y)+y+m.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),Zle=function(){function e(i,o){switch(o.type){case"base64":return t(Cc(i),o);case"binary":return t(i,o);case"buffer":return t(_n&&Buffer.isBuffer(i)?i.toString("binary"):Wm(i),o);case"array":return t(L0(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var f=l[u].trim().split(","),A=f[0],p=f[1];++u;for(var m=l[u]||"";(m.match(/["]/g)||[]).length&1&&u<l.length-1;)m+=`
`+l[++u];switch(m=m.trim(),+A){case-1:if(m==="BOT"){h[++c]=[],d=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?h[c][d]=!0:m==="FALSE"?h[c][d]=!1:isNaN(nu(p))?isNaN(Dv(p).getDate())?h[c][d]=p:h[c][d]=Za(p):h[c][d]=nu(p),++d;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),h[c][d++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return Hy(e(i,o),o)}function a(i,o){return Gm(r(i,o),o)}var s=function(){var i=function(c,d,u,h,f){c.push(d),c.push(u+","+h),c.push('"'+f.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=Zn(c["!ref"]),h,f=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var A=u.s.r;A<=u.e.r;++A){o(d,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var m=Jr({r:A,c:p});if(h=f?(c[A]||[])[p]:c[m],!h){o(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=md(h.z||Yr[14],wi(Za(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var g=`\r
`,v=d.join(g);return v}}();return{to_workbook:a,to_sheet:r,from_sheet:s}}(),ece=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,f){for(var A=h.split(`
`),p=-1,m=-1,x=0,g=[];x!==A.length;++x){var v=A[x].trim().split(":");if(v[0]==="cell"){var y=As(v[1]);if(g.length<=y.r)for(p=g.length;p<=y.r;++p)g[p]||(g[p]=[]);switch(p=y.r,m=y.c,v[2]){case"t":g[p][m]=e(v[3]);break;case"v":g[p][m]=+v[3];break;case"vtf":var j=v[v.length-1];case"vtc":switch(v[3]){case"nl":g[p][m]=!!+v[4];break;default:g[p][m]=+v[4];break}v[2]=="vtf"&&(g[p][m]=[g[p][m],j])}}}return f&&f.sheetRows&&(g=g.slice(0,f.sheetRows)),g}function a(h,f){return Hy(r(h,f),f)}function s(h,f){return Gm(a(h,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var f=[],A=[],p,m="",x=Rl(h["!ref"]),g=Array.isArray(h),v=x.s.r;v<=x.e.r;++v)for(var y=x.s.c;y<=x.e.c;++y)if(m=Jr({r:v,c:y}),p=g?(h[v]||[])[y]:h[m],!(!p||p.v==null||p.t==="z")){switch(A=["cell",m,"t"],p.t){case"s":case"str":A.push(t(p.v));break;case"n":p.f?(A[2]="vtf",A[3]="n",A[4]=p.v,A[5]=t(p.f)):(A[2]="v",A[3]=p.v);break;case"b":A[2]="vt"+(p.f?"f":"c"),A[3]="nl",A[4]=p.v?"1":"0",A[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var j=wi(Za(p.v));A[2]="vtc",A[3]="nd",A[4]=""+j,A[5]=p.w||md(p.z||Yr[14],j);break;case"e":continue}f.push(A.join(":"))}return f.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:u}}(),Lv=function(){function e(u,h,f,A,p){p.raw?h[f][A]=u:u===""||(u==="TRUE"?h[f][A]=!0:u==="FALSE"?h[f][A]=!1:isNaN(nu(u))?isNaN(Dv(u).getDate())?h[f][A]=u:h[f][A]=Za(u):h[f][A]=nu(u))}function t(u,h){var f=h||{},A=[];if(!u||u.length===0)return A;for(var p=u.split(/[\r\n]/),m=p.length-1;m>=0&&p[m].length===0;)--m;for(var x=10,g=0,v=0;v<=m;++v)g=p[v].indexOf(" "),g==-1?g=p[v].length:g++,x=Math.max(x,g);for(v=0;v<=m;++v){A[v]=[];var y=0;for(e(p[v].slice(0,x).trim(),A,v,y,f),y=1;y<=(p[v].length-x)/10+1;++y)e(p[v].slice(x+(y-1)*10,x+y*10).trim(),A,v,y,f)}return f.sheetRows&&(A=A.slice(0,f.sheetRows)),A}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(u){for(var h={},f=!1,A=0,p=0;A<u.length;++A)(p=u.charCodeAt(A))==34?f=!f:!f&&p in r&&(h[p]=(h[p]||0)+1);p=[];for(A in h)Object.prototype.hasOwnProperty.call(h,A)&&p.push([h[A],A]);if(!p.length){h=a;for(A in h)Object.prototype.hasOwnProperty.call(h,A)&&p.push([h[A],A])}return p.sort(function(m,x){return m[0]-x[0]||a[m[1]]-a[x[1]]}),r[p.pop()[1]]||44}function i(u,h){var f=h||{},A="",p=f.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(A=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(A=u.charAt(4),u=u.slice(6)):A=s(u.slice(0,1024)):f&&f.FS?A=f.FS:A=s(u.slice(0,1024));var x=0,g=0,v=0,y=0,j=0,b=A.charCodeAt(0),w=!1,C=0,F=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=f.dateNF!=null?vTe(f.dateNF):null;function L(){var N=u.slice(y,j),I={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)I.t="z";else if(f.raw)I.t="s",I.v=N;else if(N.trim().length===0)I.t="s",I.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(I.t="s",I.v=N.slice(2,-1).replace(/""/g,'"')):WLe(N)?(I.t="n",I.f=N.slice(1)):(I.t="s",I.v=N);else if(N=="TRUE")I.t="b",I.v=!0;else if(N=="FALSE")I.t="b",I.v=!1;else if(!isNaN(v=nu(N)))I.t="n",f.cellText!==!1&&(I.w=N),I.v=v;else if(!isNaN(Dv(N).getDate())||E&&N.match(E)){I.z=f.dateNF||Yr[14];var M=0;E&&N.match(E)&&(N=yTe(N,f.dateNF,N.match(E)||[]),M=1),f.cellDates?(I.t="d",I.v=Za(N,M)):(I.t="n",I.v=wi(Za(N,M))),f.cellText!==!1&&(I.w=md(I.z,I.v instanceof Date?wi(I.v):I.v)),f.cellNF||delete I.z}else I.t="s",I.v=N;if(I.t=="z"||(f.dense?(p[x]||(p[x]=[]),p[x][g]=I):p[Jr({c:g,r:x})]=I),y=j+1,F=u.charCodeAt(y),m.e.c<g&&(m.e.c=g),m.e.r<x&&(m.e.r=x),C==b)++g;else if(g=0,++x,f.sheetRows&&f.sheetRows<=x)return!0}e:for(;j<u.length;++j)switch(C=u.charCodeAt(j)){case 34:F===34&&(w=!w);break;case b:case 10:case 13:if(!w&&L())break e;break}return j-y>0&&L(),p["!ref"]=mn(m),p}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):Hy(t(u,h),h)}function l(u,h){var f="",A=h.type=="string"?[0,0,0,0]:hM(u,h);switch(h.type){case"base64":f=Cc(u);break;case"binary":f=u;break;case"buffer":h.codepage==65001?f=u.toString("utf8"):h.codepage&&typeof IA<"u"?f=IA.utils.decode(h.codepage,u):f=_n&&Buffer.isBuffer(u)?u.toString("binary"):Wm(u);break;case"array":f=L0(u);break;case"string":f=u;break;default:throw new Error("Unrecognized type "+h.type)}return A[0]==239&&A[1]==187&&A[2]==191?f=_a(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=_a(f):h.type=="binary"&&typeof IA<"u"&&h.codepage&&(f=IA.utils.decode(h.codepage,IA.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?ece.to_sheet(h.type=="string"?f:_a(f),h):o(f,h)}function c(u,h){return Gm(l(u,h),h)}function d(u){for(var h=[],f=Zn(u["!ref"]),A,p=Array.isArray(u),m=f.s.r;m<=f.e.r;++m){for(var x=[],g=f.s.c;g<=f.e.c;++g){var v=Jr({r:m,c:g});if(A=p?(u[m]||[])[g]:u[v],!A||A.v==null){x.push("          ");continue}for(var y=(A.w||(Df(A),A.w)||"").slice(0,10);y.length<10;)y+=" ";x.push(y+(g===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function IOe(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var s=Jle.to_workbook(e,r);return r.WTF=a,s}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return Lv.to_workbook(e,t)}}var f0=function(){function e(S,z,Q){if(S){Zi(S,S.l||0);for(var W=Q.Enum||Y;S.l<S.length;){var U=S.read_shift(2),re=W[U]||W[65535],de=S.read_shift(2),ae=S.l+de,Ae=re.f&&re.f(S,de,Q);if(S.l=ae,z(Ae,re,U))return}}}function t(S,z){switch(z.type){case"base64":return r(fc(Cc(S)),z);case"binary":return r(fc(S),z);case"buffer":case"array":return r(S,z)}throw"Unsupported type "+z.type}function r(S,z){if(!S)return S;var Q=z||{},W=Q.dense?[]:{},U="Sheet1",re="",de=0,ae={},Ae=[],Me=[],H={s:{r:0,c:0},e:{r:0,c:0}},Oe=Q.sheetRows||0;if(S[2]==0&&(S[3]==8||S[3]==9)&&S.length>=16&&S[14]==5&&S[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(S[2]==2)Q.Enum=Y,e(S,function(se,me,nt){switch(nt){case 0:Q.vers=se,se>=4096&&(Q.qpro=!0);break;case 6:H=se;break;case 204:se&&(re=se);break;case 222:re=se;break;case 15:case 51:Q.qpro||(se[1].v=se[1].v.slice(1));case 13:case 14:case 16:nt==14&&(se[2]&112)==112&&(se[2]&15)>1&&(se[2]&15)<15&&(se[1].z=Q.dateNF||Yr[14],Q.cellDates&&(se[1].t="d",se[1].v=MB(se[1].v))),Q.qpro&&se[3]>de&&(W["!ref"]=mn(H),ae[U]=W,Ae.push(U),W=Q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},de=se[3],U=re||"Sheet"+(de+1),re="");var Nt=Q.dense?(W[se[0].r]||[])[se[0].c]:W[Jr(se[0])];if(Nt){Nt.t=se[1].t,Nt.v=se[1].v,se[1].z!=null&&(Nt.z=se[1].z),se[1].f!=null&&(Nt.f=se[1].f);break}Q.dense?(W[se[0].r]||(W[se[0].r]=[]),W[se[0].r][se[0].c]=se[1]):W[Jr(se[0])]=se[1];break}},Q);else if(S[2]==26||S[2]==14)Q.Enum=ne,S[2]==14&&(Q.qpro=!0,S.l=0),e(S,function(se,me,nt){switch(nt){case 204:U=se;break;case 22:se[1].v=se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(se[3]>de&&(W["!ref"]=mn(H),ae[U]=W,Ae.push(U),W=Q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},de=se[3],U="Sheet"+(de+1)),Oe>0&&se[0].r>=Oe)break;Q.dense?(W[se[0].r]||(W[se[0].r]=[]),W[se[0].r][se[0].c]=se[1]):W[Jr(se[0])]=se[1],H.e.c<se[0].c&&(H.e.c=se[0].c),H.e.r<se[0].r&&(H.e.r=se[0].r);break;case 27:se[14e3]&&(Me[se[14e3][0]]=se[14e3][1]);break;case 1537:Me[se[0]]=se[1],se[0]==de&&(U=se[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+S[2]);if(W["!ref"]=mn(H),ae[re||U]=W,Ae.push(re||U),!Me.length)return{SheetNames:Ae,Sheets:ae};for(var Ee={},ee=[],st=0;st<Me.length;++st)ae[Ae[st]]?(ee.push(Me[st]||Ae[st]),Ee[Me[st]]=ae[Me[st]]||ae[Ae[st]]):(ee.push(Me[st]),Ee[Me[st]]={"!ref":"A1"});return{SheetNames:ee,Sheets:Ee}}function a(S,z){var Q=z||{};if(+Q.codepage>=0&&Gd(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Ol(),U=Zn(S["!ref"]),re=Array.isArray(S),de=[];cr(W,0,i(1030)),cr(W,6,c(U));for(var ae=Math.min(U.e.r,8191),Ae=U.s.r;Ae<=ae;++Ae)for(var Me=qs(Ae),H=U.s.c;H<=U.e.c;++H){Ae===U.s.r&&(de[H]=fs(H));var Oe=de[H]+Me,Ee=re?(S[Ae]||[])[H]:S[Oe];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?cr(W,13,A(Ae,H,Ee.v)):cr(W,14,m(Ae,H,Ee.v));else{var ee=Df(Ee);cr(W,15,h(Ae,H,ee.slice(0,239)))}}return cr(W,1),W.end()}function s(S,z){var Q=z||{};if(+Q.codepage>=0&&Gd(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Ol();cr(W,0,o(S));for(var U=0,re=0;U<S.SheetNames.length;++U)(S.Sheets[S.SheetNames[U]]||{})["!ref"]&&cr(W,27,D(S.SheetNames[U],re++));var de=0;for(U=0;U<S.SheetNames.length;++U){var ae=S.Sheets[S.SheetNames[U]];if(!(!ae||!ae["!ref"])){for(var Ae=Zn(ae["!ref"]),Me=Array.isArray(ae),H=[],Oe=Math.min(Ae.e.r,8191),Ee=Ae.s.r;Ee<=Oe;++Ee)for(var ee=qs(Ee),st=Ae.s.c;st<=Ae.e.c;++st){Ee===Ae.s.r&&(H[st]=fs(st));var se=H[st]+ee,me=Me?(ae[Ee]||[])[st]:ae[se];if(!(!me||me.t=="z"))if(me.t=="n")cr(W,23,L(Ee,st,de,me.v));else{var nt=Df(me);cr(W,22,C(Ee,st,de,nt.slice(0,239)))}}++de}}return cr(W,1),W.end()}function i(S){var z=St(2);return z.write_shift(2,S),z}function o(S){var z=St(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var Q=0,W=0,U=0,re=0;re<S.SheetNames.length;++re){var de=S.SheetNames[re],ae=S.Sheets[de];if(!(!ae||!ae["!ref"])){++U;var Ae=Rl(ae["!ref"]);Q<Ae.e.r&&(Q=Ae.e.r),W<Ae.e.c&&(W=Ae.e.c)}}return Q>8191&&(Q=8191),z.write_shift(2,Q),z.write_shift(1,U),z.write_shift(1,W),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function l(S,z,Q){var W={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&Q.qpro?(W.s.c=S.read_shift(1),S.l++,W.s.r=S.read_shift(2),W.e.c=S.read_shift(1),S.l++,W.e.r=S.read_shift(2),W):(W.s.c=S.read_shift(2),W.s.r=S.read_shift(2),z==12&&Q.qpro&&(S.l+=2),W.e.c=S.read_shift(2),W.e.r=S.read_shift(2),z==12&&Q.qpro&&(S.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(S){var z=St(8);return z.write_shift(2,S.s.c),z.write_shift(2,S.s.r),z.write_shift(2,S.e.c),z.write_shift(2,S.e.r),z}function d(S,z,Q){var W=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(W[0].c=S.read_shift(1),W[3]=S.read_shift(1),W[0].r=S.read_shift(2),S.l+=2):(W[2]=S.read_shift(1),W[0].c=S.read_shift(2),W[0].r=S.read_shift(2)),W}function u(S,z,Q){var W=S.l+z,U=d(S,z,Q);if(U[1].t="s",Q.vers==20768){S.l++;var re=S.read_shift(1);return U[1].v=S.read_shift(re,"utf8"),U}return Q.qpro&&S.l++,U[1].v=S.read_shift(W-S.l,"cstr"),U}function h(S,z,Q){var W=St(7+Q.length);W.write_shift(1,255),W.write_shift(2,z),W.write_shift(2,S),W.write_shift(1,39);for(var U=0;U<W.length;++U){var re=Q.charCodeAt(U);W.write_shift(1,re>=128?95:re)}return W.write_shift(1,0),W}function f(S,z,Q){var W=d(S,z,Q);return W[1].v=S.read_shift(2,"i"),W}function A(S,z,Q){var W=St(7);return W.write_shift(1,255),W.write_shift(2,z),W.write_shift(2,S),W.write_shift(2,Q,"i"),W}function p(S,z,Q){var W=d(S,z,Q);return W[1].v=S.read_shift(8,"f"),W}function m(S,z,Q){var W=St(13);return W.write_shift(1,255),W.write_shift(2,z),W.write_shift(2,S),W.write_shift(8,Q,"f"),W}function x(S,z,Q){var W=S.l+z,U=d(S,z,Q);if(U[1].v=S.read_shift(8,"f"),Q.qpro)S.l=W;else{var re=S.read_shift(2);j(S.slice(S.l,S.l+re),U),S.l+=re}return U}function g(S,z,Q){var W=z&32768;return z&=-32769,z=(W?S:0)+(z>=8192?z-16384:z),(W?"":"$")+(Q?fs(z):qs(z))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(S,z){Zi(S,0);for(var Q=[],W=0,U="",re="",de="",ae="";S.l<S.length;){var Ae=S[S.l++];switch(Ae){case 0:Q.push(S.read_shift(8,"f"));break;case 1:re=g(z[0].c,S.read_shift(2),!0),U=g(z[0].r,S.read_shift(2),!1),Q.push(re+U);break;case 2:{var Me=g(z[0].c,S.read_shift(2),!0),H=g(z[0].r,S.read_shift(2),!1);re=g(z[0].c,S.read_shift(2),!0),U=g(z[0].r,S.read_shift(2),!1),Q.push(Me+H+":"+re+U)}break;case 3:if(S.l<S.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(S.read_shift(2));break;case 6:{for(var Oe="";Ae=S[S.l++];)Oe+=String.fromCharCode(Ae);Q.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:ae=Q.pop(),de=Q.pop(),Q.push(["AND","OR"][Ae-20]+"("+de+","+ae+")");break;default:if(Ae<32&&y[Ae])ae=Q.pop(),de=Q.pop(),Q.push(de+y[Ae]+ae);else if(v[Ae]){if(W=v[Ae][1],W==69&&(W=S[S.l++]),W>Q.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+Q.join("|")+"|");return}var Ee=Q.slice(-W);Q.length-=W,Q.push(v[Ae][0]+"("+Ee.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}Q.length==1?z[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function b(S){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=S.read_shift(2),z[3]=S[S.l++],z[0].c=S[S.l++],z}function w(S,z){var Q=b(S);return Q[1].t="s",Q[1].v=S.read_shift(z-4,"cstr"),Q}function C(S,z,Q,W){var U=St(6+W.length);U.write_shift(2,S),U.write_shift(1,Q),U.write_shift(1,z),U.write_shift(1,39);for(var re=0;re<W.length;++re){var de=W.charCodeAt(re);U.write_shift(1,de>=128?95:de)}return U.write_shift(1,0),U}function F(S,z){var Q=b(S);Q[1].v=S.read_shift(2);var W=Q[1].v>>1;if(Q[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return Q[1].v=W,Q}function E(S,z){var Q=b(S),W=S.read_shift(4),U=S.read_shift(4),re=S.read_shift(2);if(re==65535)return W===0&&U===3221225472?(Q[1].t="e",Q[1].v=15):W===0&&U===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var de=re&32768;return re=(re&32767)-16446,Q[1].v=(1-de*2)*(U*Math.pow(2,re+32)+W*Math.pow(2,re)),Q}function L(S,z,Q,W){var U=St(14);if(U.write_shift(2,S),U.write_shift(1,Q),U.write_shift(1,z),W==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var re=0,de=0,ae=0,Ae=0;return W<0&&(re=1,W=-W),de=Math.log2(W)|0,W/=Math.pow(2,de-31),Ae=W>>>0,Ae&2147483648||(W/=2,++de,Ae=W>>>0),W-=Ae,Ae|=2147483648,Ae>>>=0,W*=Math.pow(2,32),ae=W>>>0,U.write_shift(4,ae),U.write_shift(4,Ae),de+=16383+(re?32768:0),U.write_shift(2,de),U}function N(S,z){var Q=E(S);return S.l+=z-14,Q}function I(S,z){var Q=b(S),W=S.read_shift(4);return Q[1].v=W>>6,Q}function M(S,z){var Q=b(S),W=S.read_shift(8,"f");return Q[1].v=W,Q}function O(S,z){var Q=M(S);return S.l+=z-10,Q}function k(S,z){return S[S.l+z-1]==0?S.read_shift(z,"cstr"):""}function P(S,z){var Q=S[S.l++];Q>z-1&&(Q=z-1);for(var W="";W.length<Q;)W+=String.fromCharCode(S[S.l++]);return W}function R(S,z,Q){if(!(!Q.qpro||z<21)){var W=S.read_shift(1);S.l+=17,S.l+=1,S.l+=2;var U=S.read_shift(z-21,"cstr");return[W,U]}}function V(S,z){for(var Q={},W=S.l+z;S.l<W;){var U=S.read_shift(2);if(U==14e3){for(Q[U]=[0,""],Q[U][0]=S.read_shift(2);S[S.l];)Q[U][1]+=String.fromCharCode(S[S.l]),S.l++;S.l++}}return Q}function D(S,z){var Q=St(5+S.length);Q.write_shift(2,14e3),Q.write_shift(2,z);for(var W=0;W<S.length;++W){var U=S.charCodeAt(W);Q[Q.l++]=U>127?95:U}return Q[Q.l++]=0,Q}var Y={0:{n:"BOF",f:ei},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:k},222:{n:"SHEETNAMELP",f:P},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:w},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:O},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:k},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:R},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}}();function OOe(e){var t={},r=e.match(Do),a=0,s=!1;if(r)for(;a!=r.length;++a){var i=rn(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=B8[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var DOe=function(){var e=kj("t"),t=kj("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Xn(o[1])},c=i.match(t);return c&&(l.s=OOe(c[1])),l}var a=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(s).map(r).filter(function(l){return l.v})}}(),LOe=function(){var t=/(\r\n|\n)/g;function r(s,i,o){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),s}function a(s){var i=[[],s.v,[]];return s.v?(s.s&&r(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),ROe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,MOe=/<(?:\w+:)?r>/,UOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Z8(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Xn(_a(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=_a(e),r&&(a.h=M8(a.t))):e.match(MOe)&&(a.r=_a(e),a.t=Xn(_a((e.replace(UOe,"").match(ROe)||[]).join("").replace(Do,""))),r&&(a.h=LOe(DOe(a.r)))),a):{t:""}}var QOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$Oe=/<(?:\w+:)?(?:si|sstItem)>/g,HOe=/<\/(?:\w+:)?(?:si|sstItem)>/;function zOe(e,t){var r=[],a="";if(!e)return r;var s=e.match(QOe);if(s){a=s[2].replace($Oe,"").split(HOe);for(var i=0;i!=a.length;++i){var o=Z8(a[i].trim(),t);o!=null&&(r[r.length]=o)}s=rn(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}var VOe=/^\s|\s$|[\t\n\r]/;function tce(e,t){if(!t.bookSST)return"";var r=[Ws];r[r.length]=or("sst",null,{xmlns:ax[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(VOe)&&(i+=' xml:space="preserve"'),i+=">"+wa(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function KOe(e){return[e.read_shift(4),e.read_shift(4)]}function qOe(e,t){var r=[],a=!1;return Kf(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function WOe(e,t){return t||(t=St(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var GOe=s6e;function XOe(e){var t=Ol();Vt(t,159,WOe(e));for(var r=0;r<e.length;++r)Vt(t,19,GOe(e[r]));return Vt(t,160),t.end()}function rce(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function jf(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function YOe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=jf(e,4),t.U=jf(e,4),t.W=jf(e,4),t}function JOe(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function ZOe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(JOe(e));return t}function eDe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function tDe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=jf(e,4),t.U=jf(e,4),t.W=jf(e,4),t}function rDe(e){var t=tDe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function nce(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var s=!1;switch(a.AlgID){case 26126:case 26127:case 26128:s=a.Flags==36;break;case 26625:s=a.Flags==4;break;case 0:s=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function ace(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function nDe(e){var t=jf(e);switch(t.Minor){case 2:return[t.Minor,aDe(e)];case 3:return[t.Minor,sDe()];case 4:return[t.Minor,iDe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function aDe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=nce(e,r),s=ace(e,e.length-e.l);return{t:"Std",h:a,v:s}}function sDe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function iDe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(Do,function(i){var o=rn(i);switch(_h(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){a[l]=o[l]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function oDe(e,t){var r={},a=r.EncryptionVersionInfo=jf(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=nce(e,s),t-=s,r.EncryptionVerifier=ace(e,t),r}function lDe(e){var t={},r=t.EncryptionVersionInfo=jf(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function eM(e){var t=0,r,a=rce(e),s=a.length+1,i,o,l,c,d;for(r=Lm(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var sce=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},s=function(o,l){return a(o^l)},i=function(o){for(var l=t[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=r[c]),u*=2,--c;return l};return function(o){for(var l=rce(o),c=i(l),d=l.length,u=Lm(16),h=0;h!=16;++h)u[h]=0;var f,A,p;for((d&1)===1&&(f=c>>8,u[d]=s(e[0],f),--d,f=c&255,A=l[l.length-1],u[d]=s(A,f));d>0;)--d,f=c>>8,u[d]=s(l[d],f),--d,f=c&255,u[d]=s(l[d],f);for(d=15,p=15-l.length;p>0;)f=c>>8,u[d]=s(e[p],f),--d,--p,f=c&255,u[d]=s(l[d],f),--d,--p;return u}}(),cDe=function(e,t,r,a,s){s||(s=t),a||(a=sce(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=a[r],o=(o>>5|o<<3)&255,s[i]=o,++r;return[s,r,a]},dDe=function(e){var t=0,r=sce(e);return function(a){var s=cDe("",a,t,r);return t=s[1],s[0]}};function uDe(e,t,r,a){var s={key:ei(e),verificationBytes:ei(e)};return r.password&&(s.verifier=eM(r.password)),a.valid=s.verificationBytes===s.verifier,a.valid&&(a.insitu=dDe(r.password)),s}function hDe(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=lDe(e):a.Data=oDe(e,t),a}function fDe(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?hDe(e,t-2,a):uDe(e,r.biff>=8?t:t-2,r,a),a}var ice=function(){function e(s,i){switch(i.type){case"base64":return t(Cc(s),i);case"binary":return t(s,i);case"buffer":return t(_n&&Buffer.isBuffer(s)?s.toString("binary"):Wm(s),i);case"array":return t(L0(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var f=/\\\w+\b/g,A=0,p,m=-1;p=f.exec(u);){switch(p[0]){case"\\cell":var x=u.slice(A,f.lastIndex-p[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var g={v:x,t:"s"};Array.isArray(l)?l[h][m]=g:l[Jr({r:h,c:m})]=g}break}A=f.lastIndex}m>d.e.c&&(d.e.c=m)}),l["!ref"]=mn(d),l}function r(s,i){return Gm(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=Zn(s["!ref"]),l,c=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Jr({r:d,c:u});l=c?(s[d]||[])[u]:s[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Df(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function ADe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Dj(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function mDe(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,s=Math.max(t,r,a),i=Math.min(t,r,a),o=s-i;if(o===0)return[0,0,t];var l=0,c=0,d=s+i;switch(c=o/(d>1?2-d:d),s){case t:l=((r-a)/o+6)%6;break;case r:l=(a-t)/o+2;break;case a:l=(t-r)/o+4;break}return[l/6,c,d/2]}function pDe(e){var t=e[0],r=e[1],a=e[2],s=r*2*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=s*l,o[0]+=s,o[1]+=c;break;case 1:c=s*(2-l),o[0]+=c,o[1]+=s;break;case 2:c=s*(l-2),o[1]+=s,o[2]+=c;break;case 3:c=s*(4-l),o[1]+=c,o[2]+=s;break;case 4:c=s*(l-4),o[2]+=s,o[0]+=c;break;case 5:c=s*(6-l),o[2]+=c,o[0]+=s;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function q5(e,t){if(t===0)return e;var r=mDe(ADe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Dj(pDe(r))}var oce=6,xDe=15,gDe=1,Co=oce;function Lj(e){return Math.floor((e+Math.round(128/Co)/256)*Co)}function Rj(e){return Math.floor((e-5)/Co*100+.5)/100}function W5(e){return Math.round((e*Co+5)/Co*256)/256}function m3(e){return W5(Rj(Lj(e)))}function tM(e){var t=Math.abs(e-m3(e)),r=Co;if(t>.005)for(Co=gDe;Co<xDe;++Co)Math.abs(e-m3(e))<=t&&(t=Math.abs(e-m3(e)),r=Co);Co=r}function Rm(e){e.width?(e.wpx=Lj(e.width),e.wch=Rj(e.wpx),e.MDW=Co):e.wpx?(e.wch=Rj(e.wpx),e.width=W5(e.wch),e.MDW=Co):typeof e.wch=="number"&&(e.width=W5(e.wch),e.wpx=Lj(e.width),e.MDW=Co),e.customWidth&&delete e.customWidth}var vDe=96,lce=vDe;function Mj(e){return e*96/lce}function Rv(e){return e*lce/96}var yDe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function wDe(e,t,r,a){t.Borders=[];var s={},i=!1;(e[0].match(Do)||[]).forEach(function(o){var l=rn(o);switch(_h(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=Ga(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=Ga(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function bDe(e,t,r,a){t.Fills=[];var s={},i=!1;(e[0].match(Do)||[]).forEach(function(o){var l=rn(o);switch(_h(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function jDe(e,t,r,a){t.Fonts=[];var s={},i=!1;(e[0].match(Do)||[]).forEach(function(o){var l=rn(o);switch(_h(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=_a(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?Ga(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?Ga(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?Ga(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?Ga(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?Ga(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?Ga(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?Ga(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=B8[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=Ga(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=u0[s.color.index];s.color.index==81&&(c=u0[1]),c||(c=u0[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=q5(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function NDe(e,t,r){t.NumberFmt=[];for(var a=Ps(Yr),s=0;s<a.length;++s)t.NumberFmt[a[s]]=Yr[a[s]];var i=e[0].match(Do);if(i)for(s=0;s<i.length;++s){var o=rn(i[s]);switch(_h(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Xn(_a(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}bf(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function CDe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=or("numFmt",null,{numFmtId:a,formatCode:wa(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=or("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var d4=["numFmtId","fillId","fontId","borderId","xfId"],u4=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function SDe(e,t,r){t.CellXf=[];var a,s=!1;(e[0].match(Do)||[]).forEach(function(i){var o=rn(i),l=0;switch(_h(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],l=0;l<d4.length;++l)a[d4[l]]&&(a[d4[l]]=parseInt(a[d4[l]],10));for(l=0;l<u4.length;++l)a[u4[l]]&&(a[u4[l]]=Ga(a[u4[l]]));if(t.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[l]){a.numFmtId=l;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ga(o.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function _De(e){var t=[];return t[t.length]=or("cellXfs",null),e.forEach(function(r){t[t.length]=or("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=or("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var EDe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(t))&&NDe(h,u,d),(h=l.match(s))&&jDe(h,u,c,d),(h=l.match(a))&&bDe(h,u,c,d),(h=l.match(i))&&wDe(h,u,c,d),(h=l.match(r))&&SDe(h,u,d),u}}();function cce(e,t){var r=[Ws,or("styleSheet",null,{xmlns:ax[0],"xmlns:vt":gi.vt})],a;return e.SSF&&(a=CDe(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=_De(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function BDe(e,t){var r=e.read_shift(2),a=Bo(e);return[r,a]}function FDe(e,t,r){r||(r=St(6+4*t.length)),r.write_shift(2,e),Oi(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function PDe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=h6e(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=u6e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Bo(e),a}function kDe(e,t){t||(t=St(25+4*32)),t.write_shift(2,e.sz*20),f6e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),z5(e.color,t);var a=0;return e.scheme=="major"&&(a=1),e.scheme=="minor"&&(a=2),t.write_shift(1,a),Oi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var TDe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],p3,IDe=Oo;function GV(e,t){t||(t=St(4*3+8*7+16*1)),p3||(p3=LB(TDe));var r=p3[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(z5({auto:1},t),z5({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ODe(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function dce(e,t,r){r||(r=St(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function J1(e,t){return t||(t=St(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var DDe=Oo;function LDe(e,t){return t||(t=St(51)),t.write_shift(1,0),J1(null,t),J1(null,t),J1(null,t),J1(null,t),J1(null,t),t.length>t.l?t.slice(0,t.l):t}function RDe(e,t){return t||(t=St(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),H5(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function MDe(e,t,r){var a=St(2052);return a.write_shift(4,e),H5(t,a),H5(r,a),a.length>a.l?a.slice(0,a.l):a}function UDe(e,t,r){var a={};a.NumberFmt=[];for(var s in Yr)a.NumberFmt[s]=Yr[s];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return Kf(e,function(c,d,u){switch(u){case 44:a.NumberFmt[c[0]]=c[1],bf(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=q5(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),a}function QDe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(Vt(e,615,au(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Vt(e,44,FDe(s,t[s]))}),Vt(e,616))}}function $De(e){var t=1;Vt(e,611,au(t)),Vt(e,43,kDe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Vt(e,612)}function HDe(e){var t=2;Vt(e,603,au(t)),Vt(e,45,GV({patternType:"none"})),Vt(e,45,GV({patternType:"gray125"})),Vt(e,604)}function zDe(e){var t=1;Vt(e,613,au(t)),Vt(e,46,LDe()),Vt(e,614)}function VDe(e){var t=1;Vt(e,626,au(t)),Vt(e,47,dce({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Vt(e,627)}function KDe(e,t){Vt(e,617,au(t.length)),t.forEach(function(r){Vt(e,47,dce(r,0))}),Vt(e,618)}function qDe(e){var t=1;Vt(e,619,au(t)),Vt(e,48,RDe({xfId:0,builtinId:0,name:"Normal"})),Vt(e,620)}function WDe(e){var t=0;Vt(e,505,au(t)),Vt(e,506)}function GDe(e){var t=0;Vt(e,508,MDe(t,"TableStyleMedium9","PivotStyleMedium4")),Vt(e,509)}function XDe(e,t){var r=Ol();return Vt(r,278),QDe(r,e.SSF),$De(r),HDe(r),zDe(r),VDe(r),KDe(r,t.cellXfs),qDe(r),WDe(r),GDe(r),Vt(r,279),r.end()}var YDe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function JDe(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(Do)||[]).forEach(function(s){var i=rn(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[YDe.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function ZDe(){}function eLe(){}var tLe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rLe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nLe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function aLe(e,t,r){t.themeElements={};var a;[["clrScheme",tLe,JDe],["fontScheme",rLe,ZDe],["fmtScheme",nLe,eLe]].forEach(function(s){if(!(a=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](a,t,r)})}var sLe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uce(e,t){(!e||e.length===0)&&(e=rM());var r,a={};if(!(r=e.match(sLe)))throw new Error("themeElements not found in theme");return aLe(r[0],a,t),a.raw=e,a}function rM(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ws];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function iLe(e,t,r){var a=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=nle(i,{type:"array"})}catch{return}var l=Ac(o,"theme/theme/theme1.xml",!0);if(l)return uce(l,r)}}function oLe(e){return e.read_shift(4)}function lLe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=cLe(e,4);break;case 2:t.xclrValue=zle(e);break;case 3:t.xclrValue=oLe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function cLe(e,t){return Oo(e,t)}function dLe(e,t){return Oo(e,t)}function uLe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=lLe(e);break;case 6:a[1]=dLe(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function hLe(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(uLe(e,r-e.l));return{ixfe:a,ext:i}}function fLe(e,t){t.forEach(function(r){switch(r[0]){}})}function ALe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Bo(e)}}function mLe(e){var t=St(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Oi(e.name,t),t.slice(0,t.l)}function pLe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function xLe(e){var t=St(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function gLe(e,t){var r=St(8+2*t.length);return r.write_shift(4,e),Oi(t,r),r.slice(0,r.l)}function vLe(e){return e.l+=4,e.read_shift(4)!=0}function yLe(e,t){var r=St(8);return r.write_shift(4,e),r.write_shift(4,1),r}function wLe(e,t,r){var a={Types:[],Cell:[],Value:[]},s=r||{},i=[],o=!1,l=2;return Kf(e,function(c,d,u){switch(u){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?a.Cell.push({type:a.Types[h[0]-1].name,index:h[1]}):l==0&&a.Value.push({type:a.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),a}function bLe(){var e=Ol();return Vt(e,332),Vt(e,334,au(1)),Vt(e,335,mLe({name:"XLDAPR",version:12e4,flags:3496657072})),Vt(e,336),Vt(e,339,gLe(1,"XLDAPR")),Vt(e,52),Vt(e,35,au(514)),Vt(e,4096,au(0)),Vt(e,4097,Kc(1)),Vt(e,36),Vt(e,53),Vt(e,340),Vt(e,337,yLe(1)),Vt(e,51,xLe([[1,0]])),Vt(e,338),Vt(e,333),e.end()}function jLe(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var s=!1,i=2,o;return e.replace(Do,function(l){var c=rn(l);switch(_h(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),a}function hce(){var e=[Ws];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function NLe(e){var t=[];if(!e)return t;var r=1;return(e.match(Do)||[]).forEach(function(a){var s=rn(a);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function CLe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Jr(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function SLe(e,t,r){var a=[];return Kf(e,function(i,o,l){switch(l){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function _Le(e,t,r,a){if(!e)return e;var s=a||{},i=!1;Kf(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},s)}function ELe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var wg=1024;function fce(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[or("xml",null,{"xmlns:v":dc.v,"xmlns:o":dc.o,"xmlns:x":dc.x,"xmlns:mv":dc.mv}).replace(/\/>/,">"),or("o:shapelayout",or("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),or("v:shapetype",[or("v:stroke",null,{joinstyle:"miter"}),or("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];wg<e*1e3;)wg+=1e3;return t.forEach(function(i){var o=As(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?or("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=or("v:fill",c,l),u={on:"t",obscured:"t"};++wg,s=s.concat(["<v:shape"+Tj({id:"_x0000_s"+wg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,or("v:shadow",null,u),or("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ro("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ro("x:AutoFill","False"),ro("x:Row",String(o.r)),ro("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function XV(e,t,r,a){var s=Array.isArray(e),i;t.forEach(function(o){var l=As(o.ref);if(s?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},s?e[l.r][l.c]=i:e[o.ref]=i;var c=Zn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=mn(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:r};o.h&&(u.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&a){for(h=0;h<a.length;++h)if(u.a==a[h].id){u.a=a[h].name||u.a;break}}i.c.push(u)})}function BLe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=rn(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=As(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!h&&!!h[1]&&Z8(h[1])||{r:"",t:"",h:""};d.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),d.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=f.h),a.push(d)}}}}),a}function Ace(e){var t=[Ws,or("comments",null,{xmlns:ax[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=wa(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(s=r.indexOf(wa(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(ro("t",wa(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ro("t",wa(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function FLe(e,t){var r=[],a=!1,s={},i=0;return e.replace(Do,function(l,c){var d=rn(l);switch(_h(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function PLe(e,t,r){var a=[Ws,or("ThreadedComments",null,{xmlns:gi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(or("threadedComment",ro("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function kLe(e,t){var r=[],a=!1;return e.replace(Do,function(i){var o=rn(i);switch(_h(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function TLe(e){var t=[Ws,or("personList",null,{xmlns:gi.TCMNT,"xmlns:x":ax[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(or("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ILe(e){var t={};t.iauthor=e.read_shift(4);var r=lx(e);return t.rfx=r.s,t.ref=Jr(r.s),e.l+=16,t}function OLe(e,t){return t==null&&(t=St(36)),t.write_shift(4,e[1].iauthor),zy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var DLe=Bo;function LLe(e){return Oi(e.slice(0,54))}function RLe(e,t){var r=[],a=[],s={},i=!1;return Kf(e,function(l,c,d){switch(d){case 632:a.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=a[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function MLe(e){var t=Ol(),r=[];return Vt(t,628),Vt(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Vt(t,632,LLe(s.a)))})}),Vt(t,631),Vt(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:As(a[0]),e:As(a[0])};Vt(t,635,OLe([i,s])),s.t&&s.t.length>0&&Vt(t,637,o6e(s)),Vt(t,636),delete s.iauthor})}),Vt(t,634),Vt(t,629),t.end()}var ULe="application/vnd.ms-office.vbaProject";function QLe(e){var t=Hr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Hr.utils.cfb_add(t,s,e.FileIndex[a].content)}}),Hr.write(t)}function $Le(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Hr.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var mce=["xlsb","xlsm","xlam","biff8","xla"];function HLe(){return{"!type":"dialog"}}function zLe(){return{"!type":"dialog"}}function VLe(){return{"!type":"macro"}}function KLe(){return{"!type":"macro"}}var ev=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,s+(l?"":"$")+fs(u)+(c?"":"$")+qs(d)}return function(s,i){return t=i,s.replace(e,r)}}(),nM=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,aM=function(){return function(t,r){return t.replace(nM,function(a,s,i,o,l,c){var d=z8(o)-(i?0:r.c),u=H8(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",f=d==0?"":i?d+1:"["+d+"]";return s+"R"+h+"C"+f})}}();function pce(e,t){return e.replace(nM,function(r,a,s,i,o,l){return a+(s=="$"?s+i:fs(z8(i)+t.c))+(o=="$"?o+l:qs(H8(l)+t.r))})}function qLe(e,t,r){var a=Rl(t),s=a.s,i=As(r),o={r:i.r-s.r,c:i.c-s.c};return pce(e,o)}function WLe(e){return e.length!=1}function YV(e){return e.replace(/_xlfn\./g,"")}function Ys(e){e.l+=1}function Mm(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function xce(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return gce(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=Mm(e),l=Mm(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function gce(e){var t=Mm(e),r=Mm(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function GLe(e,t,r){if(r.biff<8)return gce(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=Mm(e),o=Mm(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function vce(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return XLe(e);var a=e.read_shift(r&&r.biff==12?4:2),s=Mm(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function XLe(e){var t=Mm(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function YLe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function JLe(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return ZLe(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function ZLe(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function eRe(e,t,r){var a=(e[e.l++]&96)>>5,s=xce(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function tRe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=xce(e,i,r);return[a,s,o]}function rRe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function nRe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function aRe(e,t,r){var a=(e[e.l++]&96)>>5,s=GLe(e,t-1,r);return[a,s]}function sRe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function JV(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function iRe(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function oRe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function lRe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function cRe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function dRe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function yce(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function uRe(e){return e.read_shift(2),yce(e)}function hRe(e){return e.read_shift(2),yce(e)}function fRe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=vce(e,0,r);return[a,s]}function ARe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=JLe(e,0,r);return[a,s]}function mRe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=vce(e,0,r);return[a,s,i]}function pRe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[v8e[s],jce[s],a]}function xRe(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:gRe(e);return[s,(i[0]===0?jce:g8e)[i[1]]]}function gRe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function vRe(e,t,r){e.l+=r&&r.biff==2?3:4}function yRe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function wRe(e){return e.l++,qf[e.read_shift(1)]}function bRe(e){return e.l++,e.read_shift(2)}function jRe(e){return e.l++,e.read_shift(1)!==0}function NRe(e){return e.l++,_o(e)}function CRe(e,t,r){return e.l++,sN(e,t-1,r)}function SRe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ms(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=qf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=_o(e);break;case 2:r[1]=cx(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _Re(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?lx:UB)(e));return s}function ERe(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=SRe(e,r.biff);return o}function BRe(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function FRe(e,t,r){if(r.biff==5)return PRe(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function PRe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function kRe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function TRe(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function IRe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function ORe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var DRe=Oo,LRe=Oo,RRe=Oo;function oN(e,t,r){return e.l+=2,[YLe(e)]}function sM(e){return e.l+=6,[]}var MRe=oN,URe=sM,QRe=sM,$Re=oN;function wce(e){return e.l+=2,[ei(e),e.read_shift(2)&1]}var HRe=oN,zRe=wce,VRe=sM,KRe=oN,qRe=oN,WRe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function GRe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=WRe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function XRe(e){return e.l+=2,[e.read_shift(4)]}function YRe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function JRe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ZRe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function e8e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function t8e(e){return e.l+=4,[0,0]}var ZV={1:{n:"PtgExp",f:yRe},2:{n:"PtgTbl",f:RRe},3:{n:"PtgAdd",f:Ys},4:{n:"PtgSub",f:Ys},5:{n:"PtgMul",f:Ys},6:{n:"PtgDiv",f:Ys},7:{n:"PtgPower",f:Ys},8:{n:"PtgConcat",f:Ys},9:{n:"PtgLt",f:Ys},10:{n:"PtgLe",f:Ys},11:{n:"PtgEq",f:Ys},12:{n:"PtgGe",f:Ys},13:{n:"PtgGt",f:Ys},14:{n:"PtgNe",f:Ys},15:{n:"PtgIsect",f:Ys},16:{n:"PtgUnion",f:Ys},17:{n:"PtgRange",f:Ys},18:{n:"PtgUplus",f:Ys},19:{n:"PtgUminus",f:Ys},20:{n:"PtgPercent",f:Ys},21:{n:"PtgParen",f:Ys},22:{n:"PtgMissArg",f:Ys},23:{n:"PtgStr",f:CRe},26:{n:"PtgSheet",f:YRe},27:{n:"PtgEndSheet",f:JRe},28:{n:"PtgErr",f:wRe},29:{n:"PtgBool",f:jRe},30:{n:"PtgInt",f:bRe},31:{n:"PtgNum",f:NRe},32:{n:"PtgArray",f:sRe},33:{n:"PtgFunc",f:pRe},34:{n:"PtgFuncVar",f:xRe},35:{n:"PtgName",f:BRe},36:{n:"PtgRef",f:fRe},37:{n:"PtgArea",f:eRe},38:{n:"PtgMemArea",f:kRe},39:{n:"PtgMemErr",f:DRe},40:{n:"PtgMemNoMem",f:LRe},41:{n:"PtgMemFunc",f:TRe},42:{n:"PtgRefErr",f:IRe},43:{n:"PtgAreaErr",f:rRe},44:{n:"PtgRefN",f:ARe},45:{n:"PtgAreaN",f:aRe},46:{n:"PtgMemAreaN",f:ZRe},47:{n:"PtgMemNoMemN",f:e8e},57:{n:"PtgNameX",f:FRe},58:{n:"PtgRef3d",f:mRe},59:{n:"PtgArea3d",f:tRe},60:{n:"PtgRefErr3d",f:ORe},61:{n:"PtgAreaErr3d",f:nRe},255:{}},r8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},n8e={1:{n:"PtgElfLel",f:wce},2:{n:"PtgElfRw",f:KRe},3:{n:"PtgElfCol",f:MRe},6:{n:"PtgElfRwV",f:qRe},7:{n:"PtgElfColV",f:$Re},10:{n:"PtgElfRadical",f:HRe},11:{n:"PtgElfRadicalS",f:VRe},13:{n:"PtgElfColS",f:URe},15:{n:"PtgElfColSV",f:QRe},16:{n:"PtgElfRadicalLel",f:zRe},25:{n:"PtgList",f:GRe},29:{n:"PtgSxName",f:XRe},255:{}},a8e={0:{n:"PtgAttrNoop",f:t8e},1:{n:"PtgAttrSemi",f:dRe},2:{n:"PtgAttrIf",f:lRe},4:{n:"PtgAttrChoose",f:iRe},8:{n:"PtgAttrGoto",f:oRe},16:{n:"PtgAttrSum",f:vRe},32:{n:"PtgAttrBaxcel",f:JV},33:{n:"PtgAttrBaxcel",f:JV},64:{n:"PtgAttrSpace",f:uRe},65:{n:"PtgAttrSpaceSemi",f:hRe},128:{n:"PtgAttrIfError",f:cRe},255:{}};function lN(e,t,r,a){if(a.biff<8)return Oo(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=ERe(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=_Re(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Oo(e,t)),i}function cN(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=ZV[i]||ZV[r8e[i]],(i===24||i===25)&&(s=(i===24?n8e:a8e)[e[e.l+1]]),!s||!s.f?Oo(e,t):o.push([s.n,s.f(e,t,r)]);return o}function s8e(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var i8e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function o8e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function bce(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function eK(e,t,r){var a=bce(e,t,r);return a=="#REF"?a:o8e(a,r)}function jo(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,h=0,f=0,A,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",g=0,v=e[0].length;g<v;++g){var y=e[0][g];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Ss(" ",e[0][m][1][1]);break;case 1:x=Ss("\r",e[0][m][1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}d=d+x,m=-1}l.push(d+i8e[y[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ab(y[1][1],o,s),l.push(mb(u,i));break;case"PtgRefN":u=r?Ab(y[1][1],r,s):y[1][1],l.push(mb(u,i));break;case"PtgRef3d":h=y[1][1],u=Ab(y[1][2],o,s),p=eK(a,h,s),l.push(p+"!"+mb(u,i));break;case"PtgFunc":case"PtgFuncVar":var j=y[1][0],b=y[1][1];j||(j=0),j&=127;var w=j==0?[]:l.slice(-j);l.length-=j,b==="User"&&(b=w.shift()),l.push(b+"("+w.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":A=BV(y[1][1],r?{s:r}:o,s),l.push(h3(A,s));break;case"PtgArea":A=BV(y[1][1],o,s),l.push(h3(A,s));break;case"PtgArea3d":h=y[1][1],A=y[1][2],p=eK(a,h,s),l.push(p+"!"+h3(A,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var C=(a.names||[])[f-1]||(a[0]||[])[f],F=C?C.Name:"SH33TJSNAME"+String(f);F&&F.slice(0,6)=="_xlfn."&&!s.xlfn&&(F=F.slice(6)),l.push(F);break;case"PtgNameX":var E=y[1][1];f=y[1][2];var L;if(s.biff<=5)E<0&&(E=-E),a[E]&&(L=a[E][f]);else{var N="";if(((a[E]||[])[0]||[])[0]==14849||(((a[E]||[])[0]||[])[0]==1025?a[E][f]&&a[E][f].itab>0&&(N=a.SheetNames[a[E][f].itab-1]+"!"):N=a.SheetNames[f-1]+"!"),a[E]&&a[E][f])N+=a[E][f].Name;else if(a[0]&&a[0][f])N+=a[0][f].Name;else{var I=(bce(a,E,s)||"").split(";;");I[f-1]?N=I[f-1]:N+="SH33TJSERRX"}l.push(N);break}L||(L={Name:"SH33TJSERRY"}),l.push(L.Name);break;case"PtgParen":var M="(",O=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:M=Ss(" ",e[0][m][1][1])+M;break;case 3:M=Ss("\r",e[0][m][1][1])+M;break;case 4:O=Ss(" ",e[0][m][1][1])+O;break;case 5:O=Ss("\r",e[0][m][1][1])+O;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(M+l.pop()+O);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var k={c:r.c,r:r.r};if(a.sharedf[Jr(u)]){var P=a.sharedf[Jr(u)];l.push(jo(P,o,k,a,s))}else{var R=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(jo(d[1],o,k,a,s)),R=!0;break}R||l.push(y[1])}break;case"PtgArray":l.push("{"+s8e(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&m>=0&&V.indexOf(e[0][g][0])==-1){y=e[0][m];var D=!0;switch(y[1][0]){case 4:D=!1;case 0:x=Ss(" ",y[1][1]);break;case 5:D=!1;case 1:x=Ss("\r",y[1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((D?x:"")+l.pop()+(D?"":x)),m=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function l8e(e,t,r){var a=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Oo(e,t-2)];var l=cN(e,o,r);return t!==o+s&&(i=lN(e,t-o-s,l,r)),e.l=a,[l,i]}function c8e(e,t,r){var a=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Oo(e,t-2)];var l=cN(e,o,r);return t!==o+s&&(i=lN(e,t-o-s,l,r)),e.l=a,[l,i]}function d8e(e,t,r,a){var s=e.l+t,i=cN(e,a,r),o;return s!==e.l&&(o=lN(e,s-e.l,i,r)),[i,o]}function u8e(e,t,r){var a=e.l+t,s,i=e.read_shift(2),o=cN(e,i,r);return i==65535?[[],Oo(e,t-2)]:(t!==i+2&&(s=lN(e,a-i-2,o,r)),[o,s])}function h8e(e){var t;if(Af(e,e.l+6)!==65535)return[_o(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function f8e(e){if(e==null){var t=St(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return R0(e);return R0(0)}function x3(e,t,r){var a=e.l+t,s=Eh(e);r.biff==2&&++e.l;var i=h8e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=c8e(e,a-e.l,r);return{cell:s,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function A8e(e,t,r,a,s){var i=U0(t,r,s),o=f8e(e.v),l=St(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=St(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var h=Ii([i,o,l,d]);return h}function QB(e,t,r){var a=e.read_shift(4),s=cN(e,a,r),i=e.read_shift(4),o=i>0?lN(e,i,s,r):null;return[s,o]}var m8e=QB,$B=QB,p8e=QB,x8e=QB,g8e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},jce={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},v8e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function tK(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function y8e(e){var t="of:="+e.replace(nM,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function g3(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function w8e(e){return e.replace(/\./,"!")}var xb={},tv={},gb=typeof Map<"u";function iM(e,t,r){var a=0,s=e.length;if(r){if(gb?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=gb?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(gb?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function HB(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Co=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=Rj(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=W5(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function A0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Xm(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){bf(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Nce(e,t,r,a,s,i){try{a.cellNF&&(e.z=Yr[t])}catch(l){if(a.WTF)throw l}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Za(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Yr[t]==null&&bf(gTe[t]||"General",t),e.t==="e")e.w=e.w||qf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Pj(e.v);else if(e.t==="d"){var o=wi(e.v);(o|0)===o?e.w=o.toString(10):e.w=Pj(o)}else{if(e.v===void 0)return"";e.w=D0(e.v,tv)}else e.t==="d"?e.w=md(t,wi(e.v),tv):e.w=md(t,e.v,tv)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=q5(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=q5(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&i.Fills)throw l}}}function b8e(e,t,r){if(e&&e["!ref"]){var a=Zn(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function j8e(e,t){var r=Zn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=mn(r))}var N8e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,C8e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,S8e=/<(?:\w:)?hyperlink [^>]*>/mg,_8e=/"(\w*:\w*)"/,E8e=/<(?:\w:)?col\b[^>]*[\/]?>/g,B8e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,F8e=/<(?:\w:)?pageMargins[^>]*\/>/g,Cce=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,P8e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,k8e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function T8e(e,t,r,a,s,i,o){if(!e)return e;a||(a={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=e.match(C8e);h?(d=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):d=u=e;var f=d.match(Cce);f?oM(f[0],l,s,r):(f=d.match(P8e))&&O8e(f[0],f[1]||"",l,s,r);var A=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(A>0){var p=d.slice(A,A+50).match(_8e);p&&j8e(l,p[1])}var m=d.match(k8e);m&&m[1]&&W8e(m[1],s);var x=[];if(t.cellStyles){var g=d.match(E8e);g&&H8e(x,g)}h&&Y8e(h[1],l,t,c,i,o);var v=u.match(B8e);v&&(l["!autofilter"]=V8e(v[0]));var y=[],j=u.match(N8e);if(j)for(A=0;A!=j.length;++A)y[A]=Zn(j[A].slice(j[A].indexOf('"')+1));var b=u.match(S8e);b&&U8e(l,b,a);var w=u.match(F8e);if(w&&(l["!margins"]=Q8e(rn(w[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=mn(c)),t.sheetRows>0&&l["!ref"]){var C=Zn(l["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>c.e.r&&(C.e.r=c.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>c.e.c&&(C.e.c=c.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),l["!fullref"]=l["!ref"],l["!ref"]=mn(C))}return x.length>0&&(l["!cols"]=x),y.length>0&&(l["!merges"]=y),l}function I8e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+mn(e[r])+'"/>';return t+"</mergeCells>"}function oM(e,t,r,a){var s=rn(e);r.Sheets[a]||(r.Sheets[a]={}),s.codeName&&(r.Sheets[a].CodeName=Xn(_a(s.codeName)))}function O8e(e,t,r,a,s){oM(e.slice(0,e.indexOf(">")),r,a,s)}function D8e(e,t,r,a,s){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Zu(wa(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+or("outlinePr",null,d)}!i&&!l||(s[s.length]=or("sheetPr",l,o))}var L8e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],R8e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function M8e(e){var t={sheet:1};return L8e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),R8e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=eM(e.password).toString(16).toUpperCase()),or("sheetProtection",null,t)}function U8e(e,t,r){for(var a=Array.isArray(e),s=0;s!=t.length;++s){var i=rn(_a(t[s]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Xn(i.location))):(i.Target="#"+Xn(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Zn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Jr({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Q8e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function $8e(e){return A0(e),or("pageMargins",null,e)}function H8e(e,t){for(var r=!1,a=0;a!=t.length;++a){var s=rn(t[a],!0);s.hidden&&(s.hidden=Ga(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,tM(s.width)),Rm(s);i<=o;)e[i++]=es(s)}}function z8e(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=or("col",null,HB(s,a)));return r[r.length]="</cols>",r.join("")}function V8e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function K8e(e,t,r,a){var s=typeof e.ref=="string"?e.ref:mn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Rl(s);o.s.r==o.e.r&&(o.e.r=Rl(t["!ref"]).e.r,s=mn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),or("autoFilter",null,{ref:s})}var q8e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function W8e(e,t){t.Views||(t.Views=[{}]),(e.match(q8e)||[]).forEach(function(r,a){var s=rn(r);t.Views[a]||(t.Views[a]={}),+s.zoomScale&&(t.Views[a].zoom=+s.zoomScale),Ga(s.rightToLeft)&&(t.Views[a].RTL=!0)})}function G8e(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),or("sheetViews",or("sheetView",null,s),{})}function X8e(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=qf[e.v];break;case"d":a&&a.cellDates?s=Za(e.v,-1).toISOString():(e=es(e),e.t="n",s=""+(e.v=wi(Za(e.v)))),typeof e.z>"u"&&(e.z=Yr[14]);break;default:s=e.v;break}var l=ro("v",wa(s)),c={r:t},d=Xm(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=ro("v",""+iM(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=or("f",wa(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),or("c",l,c)}var Y8e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=kj("v"),o=kj("f");return function(c,d,u,h,f,A){for(var p=0,m="",x=[],g=[],v=0,y=0,j=0,b="",w,C,F=0,E=0,L,N,I=0,M=0,O=Array.isArray(A.CellXf),k,P=[],R=[],V=Array.isArray(d),D=[],Y={},ne=!1,S=!!u.sheetStubs,z=c.split(t),Q=0,W=z.length;Q!=W;++Q){m=z[Q].trim();var U=m.length;if(U!==0){var re=0;e:for(p=0;p<U;++p)switch(m[p]){case">":if(m[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(C=rn(m.slice(re,p),!0),F=C.r!=null?parseInt(C.r,10):F+1,E=-1,u.sheetRows&&u.sheetRows<F)continue;Y={},ne=!1,C.ht&&(ne=!0,Y.hpt=parseFloat(C.ht),Y.hpx=Rv(Y.hpt)),C.hidden=="1"&&(ne=!0,Y.hidden=!0),C.outlineLevel!=null&&(ne=!0,Y.level=+C.outlineLevel),ne&&(D[F-1]=Y)}break;case"<":re=p;break}if(re>=p)break;if(C=rn(m.slice(re,p),!0),F=C.r!=null?parseInt(C.r,10):F+1,E=-1,!(u.sheetRows&&u.sheetRows<F)){h.s.r>F-1&&(h.s.r=F-1),h.e.r<F-1&&(h.e.r=F-1),u&&u.cellStyles&&(Y={},ne=!1,C.ht&&(ne=!0,Y.hpt=parseFloat(C.ht),Y.hpx=Rv(Y.hpt)),C.hidden=="1"&&(ne=!0,Y.hidden=!0),C.outlineLevel!=null&&(ne=!0,Y.level=+C.outlineLevel),ne&&(D[F-1]=Y)),x=m.slice(p).split(e);for(var de=0;de!=x.length&&x[de].trim().charAt(0)=="<";++de);for(x=x.slice(de),p=0;p!=x.length;++p)if(m=x[p].trim(),m.length!==0){if(g=m.match(r),v=p,y=0,j=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,g!=null&&g.length===2){for(v=0,b=g[1],y=0;y!=b.length&&!((j=b.charCodeAt(y)-64)<1||j>26);++y)v=26*v+j;--v,E=v}else++E;for(y=0;y!=m.length&&m.charCodeAt(y)!==62;++y);if(++y,C=rn(m.slice(0,y),!0),C.r||(C.r=Jr({r:F-1,c:E})),b=m.slice(y),w={t:""},(g=b.match(i))!=null&&g[1]!==""&&(w.v=Xn(g[1])),u.cellFormula){if((g=b.match(o))!=null&&g[1]!==""){if(w.f=Xn(_a(g[1])).replace(/\r\n/g,`
`),u.xlfn||(w.f=YV(w.f)),g[0].indexOf('t="array"')>-1)w.F=(b.match(s)||[])[1],w.F.indexOf(":")>-1&&P.push([Zn(w.F),w.F]);else if(g[0].indexOf('t="shared"')>-1){N=rn(g[0]);var ae=Xn(_a(g[1]));u.xlfn||(ae=YV(ae)),R[parseInt(N.si,10)]=[N,ae,C.r]}}else(g=b.match(/<f[^>]*\/>/))&&(N=rn(g[0]),R[N.si]&&(w.f=qLe(R[N.si][1],R[N.si][2],C.r)));var Ae=As(C.r);for(y=0;y<P.length;++y)Ae.r>=P[y][0].s.r&&Ae.r<=P[y][0].e.r&&Ae.c>=P[y][0].s.c&&Ae.c<=P[y][0].e.c&&(w.F=P[y][1])}if(C.t==null&&w.v===void 0)if(w.f||w.F)w.v=0,w.t="n";else if(S)w.t="z";else continue;else w.t=C.t||"n";switch(h.s.c>E&&(h.s.c=E),h.e.c<E&&(h.e.c=E),w.t){case"n":if(w.v==""||w.v==null){if(!S)continue;w.t="z"}else w.v=parseFloat(w.v);break;case"s":if(typeof w.v>"u"){if(!S)continue;w.t="z"}else L=xb[parseInt(w.v,10)],w.v=L.t,w.r=L.r,u.cellHTML&&(w.h=L.h);break;case"str":w.t="s",w.v=w.v!=null?_a(w.v):"",u.cellHTML&&(w.h=M8(w.v));break;case"inlineStr":g=b.match(a),w.t="s",g!=null&&(L=Z8(g[1]))?(w.v=L.t,u.cellHTML&&(w.h=L.h)):w.v="";break;case"b":w.v=Ga(w.v);break;case"d":u.cellDates?w.v=Za(w.v,1):(w.v=wi(Za(w.v,1)),w.t="n");break;case"e":(!u||u.cellText!==!1)&&(w.w=w.v),w.v=_le[w.v];break}if(I=M=0,k=null,O&&C.s!==void 0&&(k=A.CellXf[C.s],k!=null&&(k.numFmtId!=null&&(I=k.numFmtId),u.cellStyles&&k.fillId!=null&&(M=k.fillId))),Nce(w,I,M,u,f,A),u.cellDates&&O&&w.t=="n"&&Qy(Yr[I])&&(w.t="d",w.v=MB(w.v)),C.cm&&u.xlmeta){var Me=(u.xlmeta.Cell||[])[+C.cm-1];Me&&Me.type=="XLDAPR"&&(w.D=!0)}if(V){var H=As(C.r);d[H.r]||(d[H.r]=[]),d[H.r][H.c]=w}else d[C.r]=w}}}}D.length>0&&(d["!rows"]=D)}}();function J8e(e,t,r,a){var s=[],i=[],o=Zn(e["!ref"]),l="",c,d="",u=[],h=0,f=0,A=e["!rows"],p=Array.isArray(e),m={r:d},x,g=-1;for(f=o.s.c;f<=o.e.c;++f)u[f]=fs(f);for(h=o.s.r;h<=o.e.r;++h){for(i=[],d=qs(h),f=o.s.c;f<=o.e.c;++f){c=u[f]+d;var v=p?(e[h]||[])[f]:e[c];v!==void 0&&(l=X8e(v,c,e,t))!=null&&i.push(l)}(i.length>0||A&&A[h])&&(m={r:d},A&&A[h]&&(x=A[h],x.hidden&&(m.hidden=1),g=-1,x.hpx?g=Mj(x.hpx):x.hpt&&(g=x.hpt),g>-1&&(m.ht=g,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),s[s.length]=or("row",i.join(""),m))}if(A)for(;h<A.length;++h)A&&A[h]&&(m={r:h+1},x=A[h],x.hidden&&(m.hidden=1),g=-1,x.hpx?g=Mj(x.hpx):x.hpt&&(g=x.hpt),g>-1&&(m.ht=g,m.customHeight=1),x.level&&(m.outlineLevel=x.level),s[s.length]=or("row","",m));return s.join("")}function Sce(e,t,r,a){var s=[Ws,or("worksheet",null,{xmlns:ax[0],"xmlns:r":gi.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Zn(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=mn(u)}a||(a={}),c["!comments"]=[];var h=[];D8e(c,r,e,t,s),s[s.length]=or("dimension",null,{ref:d}),s[s.length]=G8e(c,t,e,r),t.sheetFormat&&(s[s.length]=or("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=z8e(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=J8e(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=M8e(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=K8e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=I8e(c["!merges"]));var f=-1,A,p=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(A={ref:m[0]},m[1].Target.charAt(0)!="#"&&(p=ga(a,-1,wa(m[1].Target).replace(/#.*$/,""),Fn.HLINK),A["r:id"]="rId"+p),(f=m[1].Target.indexOf("#"))>-1&&(A.location=wa(m[1].Target.slice(f+1))),m[1].Tooltip&&(A.tooltip=wa(m[1].Tooltip)),s[s.length]=or("hyperlink",null,A))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=$8e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=ro("ignoredErrors",or("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(p=ga(a,-1,"../drawings/drawing"+(e+1)+".xml",Fn.DRAW),s[s.length]=or("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=h),c["!comments"].length>0&&(p=ga(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Fn.VML),s[s.length]=or("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Z8e(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function eMe(e,t,r){var a=St(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=Mj(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,f=-1,A=u<<10;A<u+1<<10;++A){d.c=A;var p=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Jr(d)];p&&(h<0&&(h=A),f=A)}h<0||(++l,a.write_shift(4,h),a.write_shift(4,f))}var m=a.l;return a.l=c,a.write_shift(4,l),a.l=m,a.length>a.l?a.slice(0,a.l):a}function tMe(e,t,r,a){var s=eMe(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&Vt(e,0,s)}var rMe=lx,nMe=zy;function aMe(){}function sMe(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=l6e(e),r}function iMe(e,t,r){r==null&&(r=St(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return z5({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ble(e,r),r.slice(0,r.l)}function oMe(e){var t=yd(e);return[t]}function lMe(e,t,r){return r==null&&(r=St(8)),sx(t,r)}function cMe(e){var t=ix(e);return[t]}function dMe(e,t,r){return r==null&&(r=St(4)),ox(t,r)}function uMe(e){var t=yd(e),r=e.read_shift(1);return[t,r,"b"]}function hMe(e,t,r){return r==null&&(r=St(9)),sx(t,r),r.write_shift(1,e.v?1:0),r}function fMe(e){var t=ix(e),r=e.read_shift(1);return[t,r,"b"]}function AMe(e,t,r){return r==null&&(r=St(5)),ox(t,r),r.write_shift(1,e.v?1:0),r}function mMe(e){var t=yd(e),r=e.read_shift(1);return[t,r,"e"]}function pMe(e,t,r){return r==null&&(r=St(9)),sx(t,r),r.write_shift(1,e.v),r}function xMe(e){var t=ix(e),r=e.read_shift(1);return[t,r,"e"]}function gMe(e,t,r){return r==null&&(r=St(8)),ox(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function vMe(e){var t=yd(e),r=e.read_shift(4);return[t,r,"s"]}function yMe(e,t,r){return r==null&&(r=St(12)),sx(t,r),r.write_shift(4,t.v),r}function wMe(e){var t=ix(e),r=e.read_shift(4);return[t,r,"s"]}function bMe(e,t,r){return r==null&&(r=St(8)),ox(t,r),r.write_shift(4,t.v),r}function jMe(e){var t=yd(e),r=_o(e);return[t,r,"n"]}function NMe(e,t,r){return r==null&&(r=St(16)),sx(t,r),R0(e.v,r),r}function _ce(e){var t=ix(e),r=_o(e);return[t,r,"n"]}function CMe(e,t,r){return r==null&&(r=St(12)),ox(t,r),R0(e.v,r),r}function SMe(e){var t=yd(e),r=W8(e);return[t,r,"n"]}function _Me(e,t,r){return r==null&&(r=St(12)),sx(t,r),jle(e.v,r),r}function EMe(e){var t=ix(e),r=W8(e);return[t,r,"n"]}function BMe(e,t,r){return r==null&&(r=St(8)),ox(t,r),jle(e.v,r),r}function FMe(e){var t=yd(e),r=V8(e);return[t,r,"is"]}function PMe(e){var t=yd(e),r=Bo(e);return[t,r,"str"]}function kMe(e,t,r){return r==null&&(r=St(12+4*e.v.length)),sx(t,r),Oi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function TMe(e){var t=ix(e),r=Bo(e);return[t,r,"str"]}function IMe(e,t,r){return r==null&&(r=St(8+4*e.v.length)),ox(t,r),Oi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function OMe(e,t,r){var a=e.l+t,s=yd(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=$B(e,a-e.l,r);o[3]=jo(l,null,s,r.supbooks,r)}else e.l=a;return o}function DMe(e,t,r){var a=e.l+t,s=yd(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=$B(e,a-e.l,r);o[3]=jo(l,null,s,r.supbooks,r)}else e.l=a;return o}function LMe(e,t,r){var a=e.l+t,s=yd(e);s.r=r["!row"];var i=_o(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=$B(e,a-e.l,r);o[3]=jo(l,null,s,r.supbooks,r)}else e.l=a;return o}function RMe(e,t,r){var a=e.l+t,s=yd(e);s.r=r["!row"];var i=Bo(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=$B(e,a-e.l,r);o[3]=jo(l,null,s,r.supbooks,r)}else e.l=a;return o}var MMe=lx,UMe=zy;function QMe(e,t){return t==null&&(t=St(4)),t.write_shift(4,e),t}function $Me(e,t){var r=e.l+t,a=lx(e),s=K8(e),i=Bo(e),o=Bo(e),l=Bo(e);e.l=r;var c={rfx:a,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function HMe(e,t){var r=St(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));zy({s:As(e[0]),e:As(e[0])},r),q8("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return Oi(s||"",r),Oi(e[1].Tooltip||"",r),Oi("",r),r.slice(0,r.l)}function zMe(){}function VMe(e,t,r){var a=e.l+t,s=Nle(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=m8e(e,a-e.l,r);o[1]=l}else e.l=a;return o}function KMe(e,t,r){var a=e.l+t,s=lx(e),i=[s];if(r.cellFormula){var o=x8e(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function qMe(e,t,r){r==null&&(r=St(18));var a=HB(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var Ece=["left","right","top","bottom","header","footer"];function WMe(e){var t={};return Ece.forEach(function(r){t[r]=_o(e)}),t}function GMe(e,t){return t==null&&(t=St(6*8)),A0(e),Ece.forEach(function(r){R0(e[r],t)}),t}function XMe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function YMe(e,t,r){r==null&&(r=St(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function JMe(e){var t=St(24);return t.write_shift(4,4),t.write_shift(4,1),zy(e,t),t}function ZMe(e,t){return t==null&&(t=St(16*4+2)),t.write_shift(2,e.password?eM(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function eUe(){}function tUe(){}function rUe(e,t,r,a,s,i,o){if(!e)return e;var l=t||{};a||(a={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,f=!1,A,p,m,x,g,v,y,j,b,w=[];l.biff=12,l["!row"]=0;var C=0,F=!1,E=[],L={},N=l.supbooks||s.supbooks||[[]];if(N.sharedf=L,N.arrayf=E,N.SheetNames=s.SheetNames||s.Sheets.map(function(V){return V.name}),!l.supbooks&&(l.supbooks=N,s.Names))for(var I=0;I<s.Names.length;++I)N[0][I+1]=s.Names[I];var M=[],O=[],k=!1;Uj[16]={n:"BrtShortReal",f:_ce};var P;if(Kf(e,function(D,Y,ne){if(!f)switch(ne){case 148:d=D;break;case 0:A=D,l.sheetRows&&l.sheetRows<=A.r&&(f=!0),j=qs(x=A.r),l["!row"]=A.r,(D.hidden||D.hpt||D.level!=null)&&(D.hpt&&(D.hpx=Rv(D.hpt)),O[D.r]=D);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:D[2]},D[2]){case"n":p.v=D[1];break;case"s":y=xb[D[1]],p.v=y.t,p.r=y.r;break;case"b":p.v=!!D[1];break;case"e":p.v=D[1],l.cellText!==!1&&(p.w=qf[p.v]);break;case"str":p.t="s",p.v=D[1];break;case"is":p.t="s",p.v=D[1].t;break}if((m=o.CellXf[D[0].iStyleRef])&&Nce(p,m.numFmtId,null,l,i,o),g=D[0].c==-1?g+1:D[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=p):c[fs(g)+j]=p,l.cellFormula){for(F=!1,C=0;C<E.length;++C){var S=E[C];A.r>=S[0].s.r&&A.r<=S[0].e.r&&g>=S[0].s.c&&g<=S[0].e.c&&(p.F=mn(S[0]),F=!0)}!F&&D.length>3&&(p.f=D[3])}if(u.s.r>A.r&&(u.s.r=A.r),u.s.c>g&&(u.s.c=g),u.e.r<A.r&&(u.e.r=A.r),u.e.c<g&&(u.e.c=g),l.cellDates&&m&&p.t=="n"&&Qy(Yr[m.numFmtId])){var z=Vp(p.v);z&&(p.t="d",p.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}P&&(P.type=="XLDAPR"&&(p.D=!0),P=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;p={t:"z",v:void 0},g=D[0].c==-1?g+1:D[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=p):c[fs(g)+j]=p,u.s.r>A.r&&(u.s.r=A.r),u.s.c>g&&(u.s.c=g),u.e.r<A.r&&(u.e.r=A.r),u.e.c<g&&(u.e.c=g),P&&(P.type=="XLDAPR"&&(p.D=!0),P=void 0);break;case 176:w.push(D);break;case 49:P=((l.xlmeta||{}).Cell||[])[D-1];break;case 494:var Q=a["!id"][D.relId];for(Q?(D.Target=Q.Target,D.loc&&(D.Target+="#"+D.loc),D.Rel=Q):D.relId==""&&(D.Target="#"+D.loc),x=D.rfx.s.r;x<=D.rfx.e.r;++x)for(g=D.rfx.s.c;g<=D.rfx.e.c;++g)l.dense?(c[x]||(c[x]=[]),c[x][g]||(c[x][g]={t:"z",v:void 0}),c[x][g].l=D):(v=Jr({c:g,r:x}),c[v]||(c[v]={t:"z",v:void 0}),c[v].l=D);break;case 426:if(!l.cellFormula)break;E.push(D),b=l.dense?c[x][g]:c[fs(g)+j],b.f=jo(D[1],u,{r:A.r,c:g},N,l),b.F=mn(D[0]);break;case 427:if(!l.cellFormula)break;L[Jr(D[0].s)]=D[1],b=l.dense?c[x][g]:c[fs(g)+j],b.f=jo(D[1],u,{r:A.r,c:g},N,l);break;case 60:if(!l.cellStyles)break;for(;D.e>=D.s;)M[D.e--]={width:D.w/256,hidden:!!(D.flags&1),level:D.level},k||(k=!0,tM(D.w/256)),Rm(M[D.e+1]);break;case 161:c["!autofilter"]={ref:mn(D)};break;case 476:c["!margins"]=D;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),D.name&&(s.Sheets[r].CodeName=D.name),(D.above||D.left)&&(c["!outline"]={above:D.above,left:D.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),D.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!Y.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=mn(d||u)),l.sheetRows&&c["!ref"]){var R=Zn(c["!ref"]);l.sheetRows<=+R.e.r&&(R.e.r=l.sheetRows-1,R.e.r>u.e.r&&(R.e.r=u.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>u.e.c&&(R.e.c=u.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=mn(R))}return w.length>0&&(c["!merges"]=w),M.length>0&&(c["!cols"]=M),O.length>0&&(c["!rows"]=O),c}function nUe(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=es(t),t.z=t.z||Yr[14],t.v=wi(Za(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=Xm(s.cellXfs,t,s),t.l&&i["!links"].push([Jr(c),t.l]),t.c&&i["!comments"].push([Jr(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=iM(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?Vt(e,18,bMe(t,c)):Vt(e,7,yMe(t,c))):(c.t="str",o?Vt(e,17,IMe(t,c)):Vt(e,6,kMe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Vt(e,13,BMe(t,c)):Vt(e,2,_Me(t,c)):o?Vt(e,16,CMe(t,c)):Vt(e,5,NMe(t,c)),!0;case"b":return c.t="b",o?Vt(e,15,AMe(t,c)):Vt(e,4,hMe(t,c)),!0;case"e":return c.t="e",o?Vt(e,14,gMe(t,c)):Vt(e,3,pMe(t,c)),!0}return o?Vt(e,12,dMe(t,c)):Vt(e,1,lMe(t,c)),!0}function aUe(e,t,r,a){var s=Zn(t["!ref"]||"A1"),i,o="",l=[];Vt(e,145);var c=Array.isArray(t),d=s.e.r;t["!rows"]&&(d=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=d;++u){o=qs(u),tMe(e,t,s,u);var h=!1;if(u<=s.e.r)for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(l[f]=fs(f)),i=l[f]+o;var A=c?(t[u]||[])[f]:t[i];if(!A){h=!1;continue}h=nUe(e,A,u,f,a,t,h)}}Vt(e,146)}function sUe(e,t){!t||!t["!merges"]||(Vt(e,177,QMe(t["!merges"].length)),t["!merges"].forEach(function(r){Vt(e,176,UMe(r))}),Vt(e,178))}function iUe(e,t){!t||!t["!cols"]||(Vt(e,390),t["!cols"].forEach(function(r,a){r&&Vt(e,60,qMe(a,r))}),Vt(e,391))}function oUe(e,t){!t||!t["!ref"]||(Vt(e,648),Vt(e,649,JMe(Zn(t["!ref"]))),Vt(e,650))}function lUe(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=ga(r,-1,a[1].Target.replace(/#.*$/,""),Fn.HLINK);Vt(e,494,HMe(a,s))}}),delete t["!links"]}function cUe(e,t,r,a){if(t["!comments"].length>0){var s=ga(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Fn.VML);Vt(e,551,q8("rId"+s)),t["!legacy"]=s}}function dUe(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:mn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Rl(i);l.s.r==l.e.r&&(l.e.r=Rl(t["!ref"]).e.r,i=mn(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),Vt(e,161,zy(Zn(i))),Vt(e,162)}}function uUe(e,t,r){Vt(e,133),Vt(e,137,YMe(t,r)),Vt(e,138),Vt(e,134)}function hUe(e,t){t["!protect"]&&Vt(e,535,ZMe(t["!protect"]))}function fUe(e,t,r,a){var s=Ol(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Zn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Vt(s,129),(r.vbaraw||o["!outline"])&&Vt(s,147,iMe(l,o["!outline"])),Vt(s,148,nMe(c)),uUe(s,o,r.Workbook),iUe(s,o),aUe(s,o,e,t),hUe(s,o),dUe(s,o,r,e),sUe(s,o),lUe(s,o,a),o["!margins"]&&Vt(s,476,GMe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&oUe(s,o),cUe(s,o,e,a),Vt(s,130),s.end()}function AUe(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var s=Xn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,s,a]}function mUe(e,t,r,a,s,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var f=AUe(h);u.s.r=u.s.c=0,u.e.c=l,d=fs(l),f[0].forEach(function(A,p){o[d+qs(p)]={t:"n",v:A,z:f[1]},c=p}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=mn(u)),o}function pUe(e,t,r,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(Cce);return l&&oM(l[0],i,s,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function xUe(e,t){e.l+=10;var r=Bo(e);return{name:r}}function gUe(e,t,r,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Kf(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var lM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],vUe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],yUe=[],wUe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function rK(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],s=0;s!=t.length;++s){var i=t[s];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Ga(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function nK(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Ga(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function Bce(e){nK(e.WBProps,lM),nK(e.CalcPr,wUe),rK(e.WBView,vUe),rK(e.Sheets,yUe),tv.date1904=Ga(e.WBProps.date1904)}function bUe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Ga(e.Workbook.WBProps.date1904)?"true":"false"}var jUe="][*?/\\".split("");function Fce(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return jUe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function NUe(e,t,r){e.forEach(function(a,s){Fce(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function CUe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];NUe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)b8e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var SUe=/<\w+:workbook/;function _Ue(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,s="xmlns",i={},o=0;if(e.replace(Do,function(c,d){var u=rn(c);switch(_h(u[0])){case"<?xml":break;case"<workbook":c.match(SUe)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":lM.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Ga(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=_a(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Xn(_a(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=_a(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Ga(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=Xn(_a(e.slice(o,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),ax.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Bce(r),r}function Pce(e){var t=[Ws];t[t.length]=or("workbook",null,{xmlns:ax[0],"xmlns:r":gi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(lM.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=or("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:wa(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=or("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=or("definedName",wa(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function EUe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=TI(e),r.name=Bo(e),r}function BUe(e,t){return t||(t=St(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),q8(e.strRelID,t),Oi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function FUe(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?Bo(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function PUe(e,t){t||(t=St(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),ble(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function kUe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function TUe(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=c6e(e),o=p8e(e,0,r),l=K8(e);e.l=a;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function IUe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],s=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Uj[16]={n:"BrtFRTArchID$",f:kUe},Kf(e,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=jo(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;case 16:break;default:if(!d.T){if(!s||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Bce(r),r.Names=i,r.supbooks=o,r}function OUe(e,t){Vt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Vt(e,156,BUe(s))}Vt(e,144)}function DUe(e,t){t||(t=St(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Oi("SheetJS",t),Oi(L5.version,t),Oi(L5.version,t),Oi("7262",t),t.length>t.l?t.slice(0,t.l):t}function LUe(e,t){t||(t=St(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function RUe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(Vt(e,135),Vt(e,158,LUe(s)),Vt(e,136))}}function MUe(e,t){var r=Ol();return Vt(r,131),Vt(r,128,DUe()),Vt(r,153,PUe(e.Workbook&&e.Workbook.WBProps||null)),RUe(r,e),OUe(r,e),Vt(r,132),r.end()}function UUe(e,t,r){return t.slice(-4)===".bin"?IUe(e,r):_Ue(e,r)}function QUe(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?rUe(e,a,r,s,i,o,l):T8e(e,a,r,s,i,o,l)}function $Ue(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?gUe(e,a,r,s,i):pUe(e,a,r,s,i)}function HUe(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?VLe():KLe()}function zUe(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?HLe():zLe()}function VUe(e,t,r,a){return t.slice(-4)===".bin"?UDe(e,r,a):EDe(e,r,a)}function KUe(e,t,r){return uce(e,r)}function qUe(e,t,r){return t.slice(-4)===".bin"?qOe(e,r):zOe(e,r)}function WUe(e,t,r){return t.slice(-4)===".bin"?RLe(e,r):BLe(e,r)}function GUe(e,t,r){return t.slice(-4)===".bin"?SLe(e):NLe(e)}function XUe(e,t,r,a){return r.slice(-4)===".bin"?_Le(e,t,r,a):void 0}function YUe(e,t,r){return t.slice(-4)===".bin"?wLe(e,t,r):jLe(e,t,r)}function JUe(e,t,r){return(t.slice(-4)===".bin"?MUe:Pce)(e)}function ZUe(e,t,r,a,s){return(t.slice(-4)===".bin"?fUe:Sce)(e,r,a,s)}function eQe(e,t,r){return(t.slice(-4)===".bin"?XDe:cce)(e,r)}function tQe(e,t,r){return(t.slice(-4)===".bin"?XOe:tce)(e,r)}function rQe(e,t,r){return(t.slice(-4)===".bin"?MLe:Ace)(e)}function nQe(e){return(e.slice(-4)===".bin"?bLe:hce)()}var kce=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Tce=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function kd(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var s=e.match(kce),i,o,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(Tce),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),a[l]=i[2].slice(1,i[2].length-1));return a}function aQe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(kce),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(Tce),(i=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),r[o]=s[2].slice(1,s[2].length-1));return r}var vb;function sQe(e,t){var r=vb[e]||Xn(e);return r==="General"?D0(t):md(r,t)}function iQe(e,t,r,a){var s=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Ga(a);break;case"i2":case"int":s=parseInt(a,10);break;case"r4":case"float":s=parseFloat(a);break;case"date":case"dateTime.tz":s=Za(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Xn(t)]=s}function oQe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||qf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Pj(e.v):e.w=D0(e.v):e.w=sQe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=vb[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Qy(a)){var s=Vp(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(r.WTF)throw i}}}function lQe(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=yDe[a.Pattern]||a.Pattern)}e[t.ID]=t}function cQe(e,t,r,a,s,i,o,l,c,d){var u="General",h=a.StyleID,f={};d=d||{};var A=[],p=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&A.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=Ga(e);break;case"String":a.t="s",a.r=yV(Xn(e)),a.v=e.indexOf("<")>-1?Xn(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(Za(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=Xn(e):a.v<60&&(a.v=a.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=_le[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=yV(t||e));break}if(oQe(a,u,d),d.cellFormula!==!1)if(a.Formula){var m=Xn(a.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),a.f=ev(m,s),delete a.Formula,a.ArrayRange=="RC"?a.F=ev("RC:RC",s):a.ArrayRange&&(a.F=ev(a.ArrayRange,s),c.push([Zn(a.F),a.F]))}else for(p=0;p<c.length;++p)s.r>=c[p][0].s.r&&s.r<=c[p][0].e.r&&s.c>=c[p][0].s.c&&s.c<=c[p][0].e.c&&(a.F=c[p][1]);d.cellStyles&&(A.forEach(function(x){!f.patternType&&x.patternType&&(f.patternType=x.patternType)}),a.s=f),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function dQe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function v3(e,t){var r=t||{};$y();var a=Pw(U8(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=_a(a));var s=a.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=es(r);return o.type="string",Lv.to_workbook(a,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(me){s.indexOf("<"+me)>=0&&(i=!0)}),i)return GQe(a,r);vb={"General Number":"General","General Date":Yr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Yr[15],"Short Date":Yr[14],"Long Time":Yr[19],"Medium Time":Yr[18],"Short Time":Yr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Yr[2],Standard:Yr[4],Percent:Yr[10],Scientific:Yr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],f=r.dense?[]:{},A="",p={},m={},x=kd('<Data ss:Type="String">'),g=0,v=0,y=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},b={},w={},C="",F=0,E=[],L={},N={},I=0,M=[],O=[],k={},P=[],R,V=!1,D=[],Y=[],ne={},S=0,z=0,Q={Sheets:[],WBProps:{date1904:!1}},W={};Ij.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var U="";l=Ij.exec(a);)switch(l[3]=(U=l[3]).toLowerCase()){case"data":if(U=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?cQe(a.slice(g,l.index),C,x,c[c.length-1][0]=="comment"?k:p,{c:v,r:y},b,P[v],m,D,r):(C="",x=kd(l[0]),g=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(O.length>0&&(p.c=O),(!r.sheetRows||r.sheetRows>y)&&p.v!==void 0&&(r.dense?(f[y]||(f[y]=[]),f[y][v]=p):f[fs(v)+qs(y)]=p),p.HRef&&(p.l={Target:Xn(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(S=v+(parseInt(p.MergeAcross,10)|0),z=y+(parseInt(p.MergeDown,10)|0),E.push({s:{c:v,r:y},e:{c:S,r:z}})),!r.sheetStubs)p.MergeAcross?v=S+1:++v;else if(p.MergeAcross||p.MergeDown){for(var re=v;re<=S;++re)for(var de=y;de<=z;++de)(re>v||de>y)&&(r.dense?(f[de]||(f[de]=[]),f[de][re]={t:"z"}):f[fs(re)+qs(de)]={t:"z"});v=S+1}else++v;else p=aQe(l[0]),p.Index&&(v=+p.Index-1),v<j.s.c&&(j.s.c=v),v>j.e.c&&(j.e.c=v),l[0].slice(-2)==="/>"&&++v,O=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<j.s.r&&(j.s.r=y),y>j.e.r&&(j.e.r=y),l[0].slice(-2)==="/>"&&(m=kd(l[0]),m.Index&&(y=+m.Index-1)),v=0,++y):(m=kd(l[0]),m.Index&&(y=+m.Index-1),ne={},(m.AutoFitHeight=="0"||m.Height)&&(ne.hpx=parseInt(m.Height,10),ne.hpt=Mj(ne.hpx),Y[y]=ne),m.Hidden=="1"&&(ne.hidden=!0,Y[y]=ne));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(A),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(f["!ref"]=mn(j),r.sheetRows&&r.sheetRows<=j.e.r&&(f["!fullref"]=f["!ref"],j.e.r=r.sheetRows-1,f["!ref"]=mn(j))),E.length&&(f["!merges"]=E),P.length>0&&(f["!cols"]=P),Y.length>0&&(f["!rows"]=Y),u[A]=f}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=v=0,c.push([l[3],!1]),d=kd(l[0]),A=Xn(d.Name),f=r.dense?[]:{},E=[],D=[],Y=[],W={name:A,Hidden:0},Q.Sheets.push(W);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),P=[],V=!1}break;case"style":l[1]==="/"?lQe(b,w,r):w=kd(l[0]);break;case"numberformat":w.nf=Xn(kd(l[0]).Format||"General"),vb[w.nf]&&(w.nf=vb[w.nf]);for(var ae=0;ae!=392&&Yr[ae]!=w.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Yr[ae]==null){bf(w.nf,ae);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(R=kd(l[0]),R.Hidden&&(R.hidden=!0,delete R.Hidden),R.Width&&(R.wpx=parseInt(R.Width,10)),!V&&R.wpx>10){V=!0,Co=oce;for(var Ae=0;Ae<P.length;++Ae)P[Ae]&&Rm(P[Ae])}V&&Rm(R),P[R.Index-1||P.length]=R;for(var Me=0;Me<+R.Span;++Me)P[P.length]=es(R);break;case"namedrange":if(l[1]==="/")break;Q.Names||(Q.Names=[]);var H=rn(l[0]),Oe={Name:H.Name,Ref:ev(H.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(Oe.Sheet=Q.Sheets.length-1),Q.Names.push(Oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?C+=a.slice(F,l.index):F=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;w.Interior=kd(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?I6e(L,U,a.slice(I,l.index)):I=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));dQe(k),O.push(k)}else c.push([l[3],!1]),d=kd(l[0]),k={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ee=kd(l[0]);f["!autofilter"]={ref:ev(Ee.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return lK(a,r);var ee=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ee=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ee=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ee=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ee=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(I,l.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else I=l.index+l[0].length;break;case"header":f["!margins"]||A0(f["!margins"]={},"xlml"),isNaN(+rn(l[0]).Margin)||(f["!margins"].header=+rn(l[0]).Margin);break;case"footer":f["!margins"]||A0(f["!margins"]={},"xlml"),isNaN(+rn(l[0]).Margin)||(f["!margins"].footer=+rn(l[0]).Margin);break;case"pagemargins":var st=rn(l[0]);f["!margins"]||A0(f["!margins"]={},"xlml"),isNaN(+st.Top)||(f["!margins"].top=+st.Top),isNaN(+st.Left)||(f["!margins"].left=+st.Left),isNaN(+st.Right)||(f["!margins"].right=+st.Right),isNaN(+st.Bottom)||(f["!margins"].bottom=+st.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ee=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ee=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ee=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ee=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ee=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ee=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ee=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ee=!1}break;case"smarttags":break;default:ee=!1;break}if(ee||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?iQe(N,U,M,a.slice(I,l.index)):(M=l,I=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var se={};return!r.bookSheets&&!r.bookProps&&(se.Sheets=u),se.SheetNames=h,se.Workbook=Q,se.SSF=es(Yr),se.Props=L,se.Custprops=N,se}function UI(e,t){switch(dM(t=t||{}),t.type||"base64"){case"base64":return v3(Cc(e),t);case"binary":case"buffer":case"file":return v3(e,t);case"array":return v3(Wm(e),t)}}function uQe(e,t){var r=[];return e.Props&&r.push(O6e(e.Props,t)),e.Custprops&&r.push(D6e(e.Props,e.Custprops)),r.join("")}function hQe(){return""}function fQe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(or("NumberFormat",null,{"ss:Format":wa(Yr[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(or("Style",i.join(""),o))}),or("Styles",r.join(""))}function Ice(e){return or("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+aM(e.Ref,{r:0,c:0})})}function AQe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(Ice(s)))}return or("Names",r.join(""))}function mQe(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Ice(l)))}return i.join("")}function pQe(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(or("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(or("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(or("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(or("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(ro("ProtectContents","True")),e["!protect"].objects&&s.push(ro("ProtectObjects","True")),e["!protect"].scenarios&&s.push(ro("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(ro("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(ro("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":or("WorksheetOptions",s.join(""),{xmlns:dc.x})}function xQe(e){return e.map(function(t){var r=RTe(t.t||""),a=or("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return or("Comment",a,{"ss:Author":t.a})}).join("")}function gQe(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+wa(aM(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=As(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=wa(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=wa(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",f="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=qf[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Yr[14]);break;case"s":h="String",f=LTe(e.v||"");break}var A=Xm(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+A),l["ss:Index"]=o.c+1;var p=e.v!=null?f:"",m=e.t=="z"?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=xQe(e.c)),or("Cell",m,l)}function vQe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Rv(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function yQe(e,t,r,a){if(!e["!ref"])return"";var s=Zn(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(x,g){Rm(x);var v=!!x.width,y=HB(g,x),j={"ss:Index":g+1};v&&(j["ss:Width"]=Lj(y.width)),x.hidden&&(j["ss:Hidden"]="1"),l.push(or("Column",null,j))});for(var c=Array.isArray(e),d=s.s.r;d<=s.e.r;++d){for(var u=[vQe(d,(e["!rows"]||[])[d])],h=s.s.c;h<=s.e.c;++h){var f=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>d)&&!(i[o].e.c<h)&&!(i[o].e.r<d)){(i[o].s.c!=h||i[o].s.r!=d)&&(f=!0);break}if(!f){var A={r:d,c:h},p=Jr(A),m=c?(e[d]||[])[h]:e[p];u.push(gQe(m,p,e,t,r,a,A))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function wQe(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?mQe(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?yQe(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(pQe(i,t,e,r)),a.join("")}function bQe(e,t){t||(t={}),e.SSF||(e.SSF=es(Yr)),e.SSF&&($y(),DB(e.SSF),t.revssf=RB(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Xm(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(uQe(e,t)),r.push(hQe()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(or("Worksheet",wQe(a,t,e),{"ss:Name":wa(e.SheetNames[a])}));return r[2]=fQe(e,t),r[3]=AQe(e),Ws+or("Workbook",r.join(""),{xmlns:dc.ss,"xmlns:o":dc.o,"xmlns:x":dc.x,"xmlns:ss":dc.ss,"xmlns:dt":dc.dt,"xmlns:html":dc.html})}function jQe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=A6e(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=m6e(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var NQe=[60,1084,2066,2165,2175];function CQe(e,t,r,a,s){var i=a,o=[],l=r.slice(r.l,r.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Af(r,r.l),d=QI[c],u=0;d!=null&&NQe.indexOf(c)>-1;)i=Af(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+i),o.push(l),r.l+=4+i,d=QI[c=Af(r,r.l)];var h=Ii(o);Zi(h,0);var f=0;h.lens=[];for(var A=0;A<o.length;++A)h.lens.push(f),f+=o[A].length;if(h.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+a;return t.f(h,h.length,s)}function Du(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Yr[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||qf[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Pj(e.v):e.w=D0(e.v):e.w=md(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&Qy(Yr[a]||String(a))){var s=Vp(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function h4(e,t,r){return{v:e,ixfe:t,t:r}}function SQe(e,t){var r={opts:{}},a={},s=t.dense?[]:{},i={},o={},l=null,c=[],d="",u={},h,f="",A,p,m,x,g={},v=[],y,j,b=[],w=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},E=function(He){return He<8?u0[He]:He<64&&w[He-8]||u0[He]},L=function(He,Te,dr){var Pe=Te.XF.data;if(!(!Pe||!Pe.patternType||!dr||!dr.cellStyles)){Te.s={},Te.s.patternType=Pe.patternType;var X;(X=Dj(E(Pe.icvFore)))&&(Te.s.fgColor={rgb:X}),(X=Dj(E(Pe.icvBack)))&&(Te.s.bgColor={rgb:X})}},N=function(He,Te,dr){if(!(ne>1)&&!(dr.sheetRows&&He.r>=dr.sheetRows)){if(dr.cellStyles&&Te.XF&&Te.XF.data&&L(He,Te,dr),delete Te.ixfe,delete Te.XF,h=He,f=Jr(He),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),He.r<o.s.r&&(o.s.r=He.r),He.c<o.s.c&&(o.s.c=He.c),He.r+1>o.e.r&&(o.e.r=He.r+1),He.c+1>o.e.c&&(o.e.c=He.c+1),dr.cellFormula&&Te.f){for(var Pe=0;Pe<v.length;++Pe)if(!(v[Pe][0].s.c>He.c||v[Pe][0].s.r>He.r)&&!(v[Pe][0].e.c<He.c||v[Pe][0].e.r<He.r)){Te.F=mn(v[Pe][0]),(v[Pe][0].s.c!=He.c||v[Pe][0].s.r!=He.r)&&delete Te.f,Te.f&&(Te.f=""+jo(v[Pe][1],o,He,D,I));break}}dr.dense?(s[He.r]||(s[He.r]=[]),s[He.r][He.c]=Te):s[f]=Te}},I={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:v,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var M,O=[],k=[],P=[],R=[],V=!1,D=[];D.SheetNames=I.snames,D.sharedf=I.sharedf,D.arrayf=I.arrayf,D.names=[],D.XTI=[];var Y=0,ne=0,S=0,z=[],Q=[],W;I.codepage=1200,Gd(1200);for(var U=!1;e.l<e.length-1;){var re=e.l,de=e.read_shift(2);if(de===0&&Y===10)break;var ae=e.l===e.length?0:e.read_shift(2),Ae=QI[de];if(Ae&&Ae.f){if(t.bookSheets&&Y===133&&de!==133)break;if(Y=de,Ae.r===2||Ae.r==12){var Me=e.read_shift(2);if(ae-=2,!I.enc&&Me!==de&&((Me&255)<<8|Me>>8)!==de)throw new Error("rt mismatch: "+Me+"!="+de);Ae.r==12&&(e.l+=10,ae-=10)}var H={};if(de===10?H=Ae.f(e,ae,I):H=CQe(de,Ae,e,ae,I),ne==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(de){case 34:r.opts.Date1904=C.WBProps.date1904=H;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=H,!t.password)throw new Error("File is password-protected");if(H.valid==null)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=H;break;case 66:var Oe=Number(H);switch(Oe){case 21010:Oe=1200;break;case 32768:Oe=1e4;break;case 32769:Oe=1252;break}Gd(I.codepage=Oe),U=!0;break;case 317:I.rrtabid=H;break;case 25:I.winlocked=H;break;case 439:r.opts.RefreshAll=H;break;case 12:r.opts.CalcCount=H;break;case 16:r.opts.CalcDelta=H;break;case 17:r.opts.CalcIter=H;break;case 13:r.opts.CalcMode=H;break;case 14:r.opts.CalcPrecision=H;break;case 95:r.opts.CalcSaveRecalc=H;break;case 15:I.CalcRefMode=H;break;case 2211:r.opts.FullCalc=H;break;case 129:H.fDialog&&(s["!type"]="dialog"),H.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),H.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:b.push(H);break;case 430:D.push([H]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(H);break;case 24:case 536:W={Name:H.Name,Ref:jo(H.rgce,o,null,D,I)},H.itab>0&&(W.Sheet=H.itab-1),D.names.push(W),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(H),H.Name=="_xlnm._FilterDatabase"&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&H.rgce[0][0][0]=="PtgArea3d"&&(Q[H.itab-1]={ref:mn(H.rgce[0][0][1][2])});break;case 22:I.ExternCount=H;break;case 23:D.length==0&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(H),D.XTI=D.XTI.concat(H);break;case 2196:if(I.biff<8)break;W!=null&&(W.Comment=H[1]);break;case 18:s["!protect"]=H;break;case 19:H!==0&&I.WTF&&console.error("Password verifier: "+H);break;case 133:i[H.pos]=H,I.snames.push(H.name);break;case 10:{if(--ne)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=mn(o),t.sheetRows&&t.sheetRows<=o.e.r){var Ee=o.e.r;o.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=mn(o),o.e.r=Ee}o.e.r++,o.e.c++}O.length>0&&(s["!merges"]=O),k.length>0&&(s["!objects"]=k),P.length>0&&(s["!cols"]=P),R.length>0&&(s["!rows"]=R),C.Sheets.push(F)}d===""?u=s:a[d]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),I.biffguess=H.BIFFVer==0,H.BIFFVer==0&&H.dt==4096&&(I.biff=5,U=!0,Gd(I.codepage=28591)),I.biff==8&&H.BIFFVer==0&&H.dt==16&&(I.biff=2),ne++)break;if(s=t.dense?[]:{},I.biff<8&&!U&&(U=!0,Gd(I.codepage=t.codepage||1252)),I.biff<5||H.BIFFVer==0&&H.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var ee={pos:e.l-ae,name:d};i[ee.pos]=ee,I.snames.push(d)}else d=(i[re]||{name:""}).name;H.dt==32&&(s["!type"]="chart"),H.dt==64&&(s["!type"]="macro"),O=[],k=[],I.arrayf=v=[],P=[],R=[],V=!1,F={Hidden:(i[re]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[H.r]||[])[H.c]:s[Jr({c:H.c,r:H.r})])&&++H.c,y={ixfe:H.ixfe,XF:b[H.ixfe]||{},v:H.val,t:"n"},S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:H.c,r:H.r},y,t);break;case 5:case 517:y={ixfe:H.ixfe,XF:b[H.ixfe],v:H.val,t:H.t},S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:H.c,r:H.r},y,t);break;case 638:y={ixfe:H.ixfe,XF:b[H.ixfe],v:H.rknum,t:"n"},S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:H.c,r:H.r},y,t);break;case 189:for(var st=H.c;st<=H.C;++st){var se=H.rkrec[st-H.c][0];y={ixfe:se,XF:b[se],v:H.rkrec[st-H.c][1],t:"n"},S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:st,r:H.r},y,t)}break;case 6:case 518:case 1030:{if(H.val=="String"){l=H;break}if(y=h4(H.val,H.cell.ixfe,H.tt),y.XF=b[y.ixfe],t.cellFormula){var me=H.formula;if(me&&me[0]&&me[0][0]&&me[0][0][0]=="PtgExp"){var nt=me[0][0][1][0],Nt=me[0][0][1][1],xt=Jr({r:nt,c:Nt});g[xt]?y.f=""+jo(H.formula,o,H.cell,D,I):y.F=((t.dense?(s[nt]||[])[Nt]:s[xt])||{}).F}else y.f=""+jo(H.formula,o,H.cell,D,I)}S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N(H.cell,y,t),l=H}break;case 7:case 519:if(l)l.val=H,y=h4(H,l.cell.ixfe,"s"),y.XF=b[y.ixfe],t.cellFormula&&(y.f=""+jo(l.formula,o,l.cell,D,I)),S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N(l.cell,y,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{v.push(H);var Ne=Jr(H[0].s);if(A=t.dense?(s[H[0].s.r]||[])[H[0].s.c]:s[Ne],t.cellFormula&&A){if(!l||!Ne||!A)break;A.f=""+jo(H[1],o,H[0],D,I),A.F=mn(H[0])}}break;case 1212:{if(!t.cellFormula)break;if(f){if(!l)break;g[Jr(l.cell)]=H[0],A=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[Jr(l.cell)],(A||{}).f=""+jo(H[0],o,h,D,I)}}break;case 253:y=h4(c[H.isst].t,H.ixfe,"s"),c[H.isst].h&&(y.h=c[H.isst].h),y.XF=b[y.ixfe],S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:H.c,r:H.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:H.ixfe,XF:b[H.ixfe],t:"z"},S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:H.c,r:H.r},y,t));break;case 190:if(t.sheetStubs)for(var le=H.c;le<=H.C;++le){var Fe=H.ixfe[le-H.c];y={ixfe:Fe,XF:b[Fe],t:"z"},S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:le,r:H.r},y,t)}break;case 214:case 516:case 4:y=h4(H.val,H.ixfe,"s"),y.XF=b[y.ixfe],S>0&&(y.z=z[y.ixfe>>8&63]),Du(y,t,r.opts.Date1904),N({c:H.c,r:H.r},y,t);break;case 0:case 512:ne===1&&(o=H);break;case 252:c=H;break;case 1054:if(I.biff==4){z[S++]=H[1];for(var ze=0;ze<S+163&&Yr[ze]!=H[1];++ze);ze>=163&&bf(H[1],S+163)}else bf(H[1],H[0]);break;case 30:{z[S++]=H;for(var je=0;je<S+163&&Yr[je]!=H;++je);je>=163&&bf(H,S+163)}break;case 229:O=O.concat(H);break;case 93:k[H.cmo[0]]=I.lastobj=H;break;case 438:I.lastobj.TxO=H;break;case 127:I.lastobj.ImData=H;break;case 440:for(x=H[0].s.r;x<=H[0].e.r;++x)for(m=H[0].s.c;m<=H[0].e.c;++m)A=t.dense?(s[x]||[])[m]:s[Jr({c:m,r:x})],A&&(A.l=H[1]);break;case 2048:for(x=H[0].s.r;x<=H[0].e.r;++x)for(m=H[0].s.c;m<=H[0].e.c;++m)A=t.dense?(s[x]||[])[m]:s[Jr({c:m,r:x})],A&&A.l&&(A.l.Tooltip=H[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;A=t.dense?(s[H[0].r]||[])[H[0].c]:s[Jr(H[0])];var De=k[H[2]];A||(t.dense?(s[H[0].r]||(s[H[0].r]=[]),A=s[H[0].r][H[0].c]={t:"z"}):A=s[Jr(H[0])]={t:"z"},o.e.r=Math.max(o.e.r,H[0].r),o.s.r=Math.min(o.s.r,H[0].r),o.e.c=Math.max(o.e.c,H[0].c),o.s.c=Math.min(o.s.c,H[0].c)),A.c||(A.c=[]),p={a:H[1],t:De.TxO.t},A.c.push(p)}break;case 2173:fLe(b[H.ixfe],H.ext);break;case 125:{if(!I.cellStyles)break;for(;H.e>=H.s;)P[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(H.flags&1)},V||(V=!0,tM(H.w/256)),Rm(P[H.e+1])}break;case 520:{var Ke={};H.level!=null&&(R[H.r]=Ke,Ke.level=H.level),H.hidden&&(R[H.r]=Ke,Ke.hidden=!0),H.hpt&&(R[H.r]=Ke,Ke.hpt=H.hpt,Ke.hpx=Rv(H.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||A0(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=H;break;case 161:s["!margins"]||A0(s["!margins"]={}),s["!margins"].header=H.header,s["!margins"].footer=H.footer;break;case 574:H.RTL&&(C.Views[0].RTL=!0);break;case 146:w=H;break;case 2198:M=H;break;case 140:j=H;break;case 442:d?F.CodeName=H||F.name:C.WBProps.CodeName=H||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=ae}return r.SheetNames=Ps(i).sort(function(At,He){return Number(At)-Number(He)}).map(function(At){return i[At].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&Q.forEach(function(At,He){r.Sheets[r.SheetNames[He]]["!autofilter"]=At}),r.Strings=c,r.SSF=es(Yr),I.enc&&(r.Encryption=I.enc),M&&(r.Themes=M),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),D.names.length>0&&(C.Names=D.names),r.Workbook=C,r}var yb={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _Qe(e,t,r){var a=Hr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var s=RV(a,II,yb.DSI);for(var i in s)t[i]=s[i]}catch(d){if(r.WTF)throw d}var o=Hr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=RV(o,OI,yb.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(Tle(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function EQe(e,t){var r=[],a=[],s=[],i=0,o,l=AV(II,"n"),c=AV(OI,"n");if(e.Props)for(o=Ps(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Ps(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<s.length;++i)Ule.indexOf(s[i][0])>-1||kle.indexOf(s[i][0])>-1||s[i][1]!=null&&d.push(s[i]);a.length&&Hr.utils.cfb_add(t,"/SummaryInformation",MV(a,yb.SI,c,OI)),(r.length||d.length)&&Hr.utils.cfb_add(t,"/DocumentSummaryInformation",MV(r,yb.DSI,l,II,d.length?d:null,yb.UDI))}function Oce(e,t){t||(t={}),dM(t),P8(),t.codepage&&F8(t.codepage);var r,a;if(e.FullPaths){if(Hr.find(e,"/encryption"))throw new Error("File is password-protected");r=Hr.find(e,"!CompObj"),a=Hr.find(e,"/Workbook")||Hr.find(e,"/Book")}else{switch(t.type){case"base64":e=fc(Cc(e));break;case"binary":e=fc(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Zi(e,0),a={content:e}}var s,i;if(r&&jQe(r),t.bookProps&&!t.bookSheets)s={};else{var o=_n?"buffer":"array";if(a&&a.content)s=SQe(a.content,t);else if((i=Hr.find(e,"PerfectOffice_MAIN"))&&i.content)s=f0.to_workbook(i.content,(t.type=o,t));else if((i=Hr.find(e,"NativeContent_MAIN"))&&i.content)s=f0.to_workbook(i.content,(t.type=o,t));else throw(i=Hr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Hr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=QLe(e))}var l={};return e.FullPaths&&_Qe(e,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=e),s}function BQe(e,t){var r=t||{},a=Hr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Hr.utils.cfb_add(a,s,Dce(e,r)),r.biff==8&&(e.Props||e.Custprops)&&EQe(e,a),r.biff==8&&e.vbaraw&&$Le(a,Hr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Uj={0:{f:Z8e},1:{f:oMe},2:{f:SMe},3:{f:mMe},4:{f:uMe},5:{f:jMe},6:{f:PMe},7:{f:vMe},8:{f:RMe},9:{f:LMe},10:{f:OMe},11:{f:DMe},12:{f:cMe},13:{f:EMe},14:{f:xMe},15:{f:fMe},16:{f:_ce},17:{f:TMe},18:{f:wMe},19:{f:V8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:TUe},40:{},42:{},43:{f:PDe},44:{f:BDe},45:{f:IDe},46:{f:DDe},47:{f:ODe},48:{},49:{f:r6e},50:{},51:{f:pLe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Yle},62:{f:FMe},63:{f:CLe},64:{f:eUe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XMe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sMe},148:{f:rMe,p:16},151:{f:zMe},152:{},153:{f:FUe},154:{},155:{},156:{f:EUe},157:{},158:{},159:{T:1,f:KOe},160:{T:-1},161:{T:1,f:lx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:MMe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ALe},336:{T:-1},337:{f:vLe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Xle},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:VMe},427:{f:KMe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:WMe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:aMe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$Me},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:DLe},633:{T:1},634:{T:-1},635:{T:1,f:ILe},636:{T:-1},637:{f:i6e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xUe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:tUe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},QI={6:{f:x3},10:{f:pA},12:{f:ei},13:{f:ei},14:{f:Ms},15:{f:Ms},16:{f:_o},17:{f:Ms},18:{f:Ms},19:{f:ei},20:{f:VV},21:{f:VV},23:{f:Xle},24:{f:qV},25:{f:Ms},26:{},27:{},28:{f:tOe},29:{},34:{f:Ms},35:{f:KV},38:{f:_o},39:{f:_o},40:{f:_o},41:{f:_o},42:{f:Ms},43:{f:Ms},47:{f:fDe},49:{f:EIe},51:{f:ei},60:{},61:{f:jIe},64:{f:Ms},65:{f:_Ie},66:{f:ei},77:{},80:{},81:{},82:{},85:{f:ei},89:{},90:{},91:{},92:{f:hIe},93:{f:aOe},94:{},95:{f:Ms},96:{},97:{},99:{f:Ms},125:{f:Yle},128:{f:HIe},129:{f:AIe},130:{f:ei},131:{f:Ms},132:{f:Ms},133:{f:mIe},134:{},140:{f:hOe},141:{f:ei},144:{},146:{f:mOe},151:{},152:{},153:{},154:{},155:{},156:{f:ei},157:{},158:{},160:{f:bOe},161:{f:gOe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:MIe},190:{f:UIe},193:{f:pA},197:{},198:{},199:{},200:{},201:{},202:{f:Ms},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ei},220:{},221:{f:Ms},222:{},224:{f:$Ie},225:{f:uIe},226:{f:pA},227:{},229:{f:rOe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:xIe},253:{f:FIe},255:{f:vIe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Qle},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ms},353:{f:pA},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:WIe},431:{f:Ms},432:{},433:{},434:{},437:{},438:{f:oOe},439:{f:Ms},440:{f:lOe},441:{},442:{f:iN},443:{},444:{f:ei},445:{},446:{},448:{f:pA},449:{f:bIe,r:2},450:{f:pA},512:{f:$V},513:{f:wOe},515:{f:KIe},516:{f:kIe},517:{f:zV},519:{f:jOe},520:{f:yIe},523:{},545:{f:WV},549:{f:QV},566:{},574:{f:CIe},638:{f:RIe},659:{},1048:{},1054:{f:IIe},1084:{},1212:{f:JIe},2048:{f:dOe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:c4},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:pA},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:pOe,r:12},2173:{f:hLe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ms,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:YIe,r:12},2197:{},2198:{f:iLe,r:12},2199:{},2200:{},2201:{},2202:{f:ZIe,r:12},2203:{f:pA},2204:{},2205:{},2206:{},2207:{},2211:{f:wIe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ei},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:vOe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:AOe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:$V},1:{},2:{f:EOe},3:{f:SOe},4:{f:COe},5:{f:zV},7:{f:FOe},8:{},9:{f:c4},11:{},22:{f:ei},30:{f:DIe},31:{},32:{},33:{f:WV},36:{},37:{f:QV},50:{f:POe},62:{},52:{},67:{},68:{f:ei},69:{},86:{},126:{},127:{f:NOe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:kOe},223:{},234:{},354:{},421:{},518:{f:x3},521:{f:c4},536:{f:qV},547:{f:KV},561:{},579:{},1030:{f:x3},1033:{f:c4},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function cr(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&$8(r)&&e.push(r)}}function FQe(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return cr(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<s;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function dN(e,t,r){return e||(e=St(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function PQe(e,t,r,a){var s=St(9);return dN(s,e,t),$le(r,a||"b",s),s}function kQe(e,t,r){var a=St(8+2*r.length);return dN(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function TQe(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?wi(Za(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?cr(e,2,BOe(r,a,s)):cr(e,3,_Oe(r,a,s));return;case"b":case"e":cr(e,5,PQe(r,a,t.v,t.t));return;case"s":case"str":cr(e,4,kQe(r,a,(t.v||"").slice(0,255)));return}cr(e,1,dN(null,r,a))}function IQe(e,t,r,a){var s=Array.isArray(t),i=Zn(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=mn(i)}for(var d=i.s.r;d<=i.e.r;++d){l=qs(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=fs(u)),o=c[u]+l;var h=s?(t[d]||[])[u]:t[o];h&&TQe(e,h,d,u)}}}function OQe(e,t){for(var r=t||{},a=Ol(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return cr(a,r.biff==4?1033:r.biff==3?521:9,J8(e,16,r)),IQe(a,e.Sheets[e.SheetNames[s]],s,r),cr(a,10),a.end()}function DQe(e,t,r){cr(e,49,BIe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function LQe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&cr(e,1054,OIe(s,t[s],r))})}function RQe(e,t){var r=St(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),cr(e,2151,r),r=St(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),qle(Zn(t["!ref"]||"A1"),r),r.write_shift(4,4),cr(e,2152,r)}function MQe(e,t){for(var r=0;r<16;++r)cr(e,224,HV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){cr(e,224,HV(a,0,t))})}function UQe(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];cr(e,440,cOe(a)),a[1].Tooltip&&cr(e,2048,uOe(a))}delete t["!links"]}function QQe(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&cr(e,125,xOe(HB(s,a),s))})}}function $Qe(e,t,r,a,s){var i=16+Xm(s.cellXfs,t,s);if(t.v==null&&!t.bf){cr(e,513,U0(r,a,i));return}if(t.bf)cr(e,6,A8e(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?wi(Za(t.v)):t.v;cr(e,515,qIe(r,a,o,i));break;case"b":case"e":cr(e,517,VIe(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=iM(s.Strings,t.v,s.revStrings);cr(e,253,PIe(r,a,l,i))}else cr(e,516,TIe(r,a,(t.v||"").slice(0,255),i,s));break;default:cr(e,513,U0(r,a,i))}}function HQe(e,t,r){var a=Ol(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,h="",f=[],A=Zn(i["!ref"]||"A1"),p=d?65536:16384;if(A.e.c>255||A.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");A.e.c=Math.min(A.e.c,255),A.e.r=Math.min(A.e.c,p-1)}cr(a,2057,J8(r,16,t)),cr(a,13,Kc(1)),cr(a,12,Kc(100)),cr(a,15,Go(!0)),cr(a,17,Go(!1)),cr(a,16,R0(.001)),cr(a,95,Go(!0)),cr(a,42,Go(!1)),cr(a,43,Go(!1)),cr(a,130,Kc(1)),cr(a,128,zIe()),cr(a,131,Go(!1)),cr(a,132,Go(!1)),d&&QQe(a,i["!cols"]),cr(a,512,LIe(A,t)),d&&(i["!links"]=[]);for(var m=A.s.r;m<=A.e.r;++m){h=qs(m);for(var x=A.s.c;x<=A.e.c;++x){m===A.s.r&&(f[x]=fs(x)),u=f[x]+h;var g=c?(i[m]||[])[x]:i[u];g&&($Qe(a,g,m,x,t),d&&g.l&&i["!links"].push([u,g.l]))}}var v=l.CodeName||l.name||s;return d&&cr(a,574,SIe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&cr(a,229,nOe(i["!merges"])),d&&UQe(a,i),cr(a,442,Hle(v)),d&&RQe(a,i),cr(a,10),a.end()}function zQe(e,t,r){var a=Ol(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(cr(a,2057,J8(e,5,r)),r.bookType=="xla"&&cr(a,135),cr(a,225,l?Kc(1200):null),cr(a,193,V6e(2)),c&&cr(a,191),c&&cr(a,192),cr(a,226),cr(a,92,fIe("SheetJS",r)),cr(a,66,Kc(l?1200:1252)),l&&cr(a,353,Kc(0)),l&&cr(a,448),cr(a,317,yOe(e.SheetNames.length)),l&&e.vbaraw&&cr(a,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";cr(a,442,Hle(d))}cr(a,156,Kc(17)),cr(a,25,Go(!1)),cr(a,18,Go(!1)),cr(a,19,Kc(0)),l&&cr(a,431,Go(!1)),l&&cr(a,444,Kc(0)),cr(a,61,NIe()),cr(a,64,Go(!1)),cr(a,141,Kc(0)),cr(a,34,Go(bUe(e)=="true")),cr(a,14,Go(!0)),l&&cr(a,439,Go(!1)),cr(a,218,Kc(0)),DQe(a,e,r),LQe(a,e.SSF,r),MQe(a,r),l&&cr(a,352,Go(!1));var u=a.end(),h=Ol();l&&cr(h,140,fOe()),l&&r.Strings&&FQe(h,252,gIe(r.Strings)),cr(h,10);var f=h.end(),A=Ol(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var x=u.length+p+f.length;for(m=0;m<e.SheetNames.length;++m){var g=i[m]||{};cr(A,133,pIe({pos:x,hs:g.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var v=A.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),f.length&&y.push(f),Ii(y)}function VQe(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=es(Yr)),e&&e.SSF&&($y(),DB(e.SSF),r.revssf=RB(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,uM(r),r.cellXfs=[],Xm(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=HQe(s,r,e);return a.unshift(zQe(e,a,r)),Ii(a)}function Dce(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=Rl(a["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return VQe(e,t);case 4:case 3:case 2:return OQe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function aK(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,l=i&&i.index||e.length,c=BTe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,f=0,A={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<c.length;++o){var m=c[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(x!="<td"&&x!="<th")){var g=m.split(/<\/t[dh]>/i);for(l=0;l<g.length;++l){var v=g[l].trim();if(v.match(/<t[dh]/i)){for(var y=v,j=0;y.charAt(0)=="<"&&(j=y.indexOf(">"))>-1;)y=y.slice(j+1);for(var b=0;b<p.length;++b){var w=p[b];w.s.c==u&&w.s.r<d&&d<=w.e.r&&(u=w.e.c+1,b=-1)}var C=rn(v.slice(0,v.indexOf(">")));f=C.colspan?+C.colspan:1,((h=+C.rowspan)>1||f>1)&&p.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+f-1}});var F=C.t||C["data-t"]||"";if(!y.length){u+=f;continue}if(y=ile(y),A.s.r>d&&(A.s.r=d),A.e.r<d&&(A.e.r=d),A.s.c>u&&(A.s.c=u),A.e.c<u&&(A.e.c=u),!y.length){u+=f;continue}var E={t:"s",v:y};r.raw||!y.trim().length||F=="s"||(y==="TRUE"?E={t:"b",v:!0}:y==="FALSE"?E={t:"b",v:!1}:isNaN(nu(y))?isNaN(Dv(y).getDate())||(E={t:"d",v:Za(y)},r.cellDates||(E={t:"n",v:wi(E.v)}),E.z=r.dateNF||Yr[14]):E={t:"n",v:nu(y)}),r.dense?(a[d]||(a[d]=[]),a[d][u]=E):a[Jr({r:d,c:u})]=E,u+=f}}}}return a["!ref"]=mn(A),p.length&&(a["!merges"]=p),a}function KQe(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<s.length;++d)if(!(s[d].s.r>r||s[d].s.c>o)&&!(s[d].e.r<r||s[d].e.c<o)){if(s[d].s.r<r||s[d].s.c<o){l=-1;break}l=s[d].e.r-s[d].s.r+1,c=s[d].e.c-s[d].s.c+1;break}if(!(l<0)){var u=Jr({r,c:o}),h=a.dense?(e[r]||[])[o]:e[u],f=h&&h.v!=null&&(h.h||M8(h.w||(Df(h),h.w)||""))||"",A={};l>1&&(A.rowspan=l),c>1&&(A.colspan=c),a.editable?f='<span contenteditable="true">'+f+"</span>":h&&(A["data-t"]=h&&h.t||"z",h.v!=null&&(A["data-v"]=h.v),h.z!=null&&(A["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),A.id=(a.id||"sjs")+"-"+u,i.push(or("td",f,A))}}var p="<tr>";return p+i.join("")+"</tr>"}var qQe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',WQe="</body></html>";function GQe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Gm(aK(r[0],t),t);var a=AM();return r.forEach(function(s,i){mM(a,aK(s,t),"Sheet"+(i+1))}),a}function XQe(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Lce(e,t){var r=t||{},a=r.header!=null?r.header:qQe,s=r.footer!=null?r.footer:WQe,i=[a],o=Rl(e["!ref"]);r.dense=Array.isArray(e),i.push(XQe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(KQe(e,o,l,r));return i.push("</table>"+s),i.join("")}function Rce(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?As(a.origin):a.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var u=Rl(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),s==-1&&(d.e.r=s=u.e.r+1)}var h=[],f=0,A=e["!rows"]||(e["!rows"]=[]),p=0,m=0,x=0,g=0,v=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&m<c;++p){var j=l[p];if(sK(j)){if(a.display)continue;A[m]={hidden:!0}}var b=j.children;for(x=g=0;x<b.length;++x){var w=b[x];if(!(a.display&&sK(w))){var C=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):ile(w.innerHTML),F=w.getAttribute("data-z")||w.getAttribute("z");for(f=0;f<h.length;++f){var E=h[f];E.s.c==g+i&&E.s.r<m+s&&m+s<=E.e.r&&(g=E.e.c+1-i,f=-1)}y=+w.getAttribute("colspan")||1,((v=+w.getAttribute("rowspan")||1)>1||y>1)&&h.push({s:{r:m+s,c:g+i},e:{r:m+s+(v||1)-1,c:g+i+(y||1)-1}});var L={t:"s",v:C},N=w.getAttribute("data-t")||w.getAttribute("t")||"";C!=null&&(C.length==0?L.t=N||"z":a.raw||C.trim().length==0||N=="s"||(C==="TRUE"?L={t:"b",v:!0}:C==="FALSE"?L={t:"b",v:!1}:isNaN(nu(C))?isNaN(Dv(C).getDate())||(L={t:"d",v:Za(C)},a.cellDates||(L={t:"n",v:wi(L.v)}),L.z=a.dateNF||Yr[14]):L={t:"n",v:nu(C)})),L.z===void 0&&F!=null&&(L.z=F);var I="",M=w.getElementsByTagName("A");if(M&&M.length)for(var O=0;O<M.length&&!(M[O].hasAttribute("href")&&(I=M[O].getAttribute("href"),I.charAt(0)!="#"));++O);I&&I.charAt(0)!="#"&&(L.l={Target:I}),a.dense?(e[m+s]||(e[m+s]=[]),e[m+s][g+i]=L):e[Jr({c:g+i,r:m+s})]=L,d.e.c<g+i&&(d.e.c=g+i),g+=y}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,m-1+s),e["!ref"]=mn(d),m>=c&&(e["!fullref"]=mn((d.e.r=l.length-p+m-1+s,d))),e}function Mce(e,t){var r=t||{},a=r.dense?[]:{};return Rce(a,e,t)}function YQe(e,t){return Gm(Mce(e,t),t)}function sK(e){var t="",r=JQe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function JQe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function ZQe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Xn(t.replace(/<[^>]*>/g,""));return[r]}var iK={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Uce(e,t){var r=t||{},a=U8(e),s=[],i,o,l={name:""},c="",d=0,u,h,f={},A=[],p=r.dense?[]:{},m,x,g={value:""},v="",y=0,j=[],b=-1,w=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,E={},L=[],N={},I=0,M=0,O=[],k=1,P=1,R=[],V={Names:[]},D={},Y=["",""],ne=[],S={},z="",Q=0,W=!1,U=!1,re=0;for(Ij.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Ij.exec(a);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?p["!ref"]=mn(C):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=C.e.r&&(p["!fullref"]=p["!ref"],C.e.r=r.sheetRows-1,p["!ref"]=mn(C)),L.length&&(p["!merges"]=L),O.length&&(p["!rows"]=O),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),A.push(u.name),f[u.name]=p,U=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=rn(m[0],!1),b=w=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,p=r.dense?[]:{},L=[],O=[],U=!0);break;case"table-row-group":m[1]==="/"?--F:++F;break;case"table-row":case"":if(m[1]==="/"){b+=k,k=1;break}if(h=rn(m[0],!1),h.?b=h.-1:b==-1&&(b=0),k=+h["number-rows-repeated"]||1,k<10)for(re=0;re<k;++re)F>0&&(O[b+re]={level:F});w=-1;break;case"covered-table-cell":m[1]!=="/"&&++w,r.sheetStubs&&(r.dense?(p[b]||(p[b]=[]),p[b][w]={t:"z"}):p[Jr({r:b,c:w})]={t:"z"}),v="",j=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++w,g=rn(m[0],!1),P=parseInt(g["number-columns-repeated"]||"1",10),x={t:"z",v:null},g.formula&&r.cellFormula!=!1&&(x.f=tK(Xn(g.formula))),(g.||g["value-type"])=="string"&&(x.t="s",x.v=Xn(g["string-value"]||""),r.dense?(p[b]||(p[b]=[]),p[b][w]=x):p[Jr({r:b,c:w})]=x),w+=P-1;else if(m[1]!=="/"){++w,v="",y=0,j=[],P=1;var de=k?b+k-1:b;if(w>C.e.c&&(C.e.c=w),w<C.s.c&&(C.s.c=w),b<C.s.r&&(C.s.r=b),de>C.e.r&&(C.e.r=de),g=rn(m[0],!1),ne=[],S={},x={t:g.||g["value-type"],v:null},r.cellFormula)if(g.formula&&(g.formula=Xn(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(I=parseInt(g["number-matrix-rows-spanned"],10)||0,M=parseInt(g["number-matrix-columns-spanned"],10)||0,N={s:{r:b,c:w},e:{r:b+I-1,c:w+M-1}},x.F=mn(N),R.push([N,x.F])),g.formula)x.f=tK(g.formula);else for(re=0;re<R.length;++re)b>=R[re][0].s.r&&b<=R[re][0].e.r&&w>=R[re][0].s.c&&w<=R[re][0].e.c&&(x.F=R[re][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(I=parseInt(g["number-rows-spanned"],10)||0,M=parseInt(g["number-columns-spanned"],10)||0,N={s:{r:b,c:w},e:{r:b+I-1,c:w+M-1}},L.push(N)),g["number-columns-repeated"]&&(P=parseInt(g["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Ga(g["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(g.value);break;case"percentage":x.t="n",x.v=parseFloat(g.value);break;case"currency":x.t="n",x.v=parseFloat(g.value);break;case"date":x.t="d",x.v=Za(g["date-value"]),r.cellDates||(x.t="n",x.v=wi(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=STe(g["time-value"])/86400,r.cellDates&&(x.t="d",x.v=MB(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(g.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",g["string-value"]!=null&&(v=Xn(g["string-value"]),j=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(W=!1,x.t==="s"&&(x.v=v||"",j.length&&(x.R=j),W=y==0),D.Target&&(x.l=D),ne.length>0&&(x.c=ne,ne=[]),v&&r.cellText!==!1&&(x.w=v),W&&(x.t="z",delete x.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=b))for(var ae=0;ae<k;++ae){if(P=parseInt(g["number-columns-repeated"]||"1",10),r.dense)for(p[b+ae]||(p[b+ae]=[]),p[b+ae][w]=ae==0?x:es(x);--P>0;)p[b+ae][w+P]=es(x);else for(p[Jr({r:b+ae,c:w})]=x;--P>0;)p[Jr({r:b+ae,c:w+P})]=es(x);C.e.c<=w&&(C.e.c=w)}P=parseInt(g["number-columns-repeated"]||"1",10),w+=P-1,P=0,x={},v="",j=[]}D={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=s.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=s.pop())[0]!==m[3])throw"Bad state: "+i;S.t=v,j.length&&(S.R=j),S.a=z,ne.push(S)}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!1]);z="",Q=0,v="",y=0,j=[];break;case"creator":m[1]==="/"?z=a.slice(Q,m.index):Q=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=s.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&s.push([m[3],!1]);v="",y=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(E[l.name]=c,(i=s.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(c="",l=rn(m[0],!1),s.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=rn(m[0],!1),c+=iK[m[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=rn(m[0],!1),c+=iK[m[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,m.index);break}else d=m.index+m[0].length;break;case"named-range":o=rn(m[0],!1),Y=g3(o["cell-range-address"]);var Ae={Name:o.name,Ref:Y[0]+"!"+Y[1]};U&&(Ae.Sheet=A.length),V.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(m[1]==="/"&&(!g||!g["string-value"])){var Me=ZQe(a.slice(y,m.index));v=(v.length>0?v+`
`:"")+Me[0]}else rn(m[0],!1),y=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{Y=g3(rn(m[0])["target-range-address"]),f[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(D=rn(m[0],!1),!D.href)break;D.Target=Xn(D.href),delete D.href,D.Target.charAt(0)=="#"&&D.Target.indexOf(".")>-1?(Y=g3(D.Target.slice(1)),D.Target="#"+Y[0]+"!"+Y[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var H={Sheets:f,SheetNames:A,Workbook:V};return r.bookSheets&&delete H.Sheets,H}function oK(e,t){t=t||{},$c(e,"META-INF/manifest.xml")&&S6e(Zs(e,"META-INF/manifest.xml"),t);var r=Ac(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=Uce(_a(r),t);return $c(e,"meta.xml")&&(a.Props=Fle(Zs(e,"meta.xml"))),a}function lK(e,t){return Uce(e,t)}var e7e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Tj({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ws+t}}(),cK=function(){var e=function(i){return wa(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+wa(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=Rl(i["!ref"]||"A1"),f=i["!merges"]||[],A=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",x=i["!rows"]||[];for(d=0;d<h.s.r;++d)m=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;d<=h.e.r;++d){for(m=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+m+`>
`),u=0;u<h.s.c;++u)c.push(t);for(;u<=h.e.c;++u){var g=!1,v={},y="";for(A=0;A!=f.length;++A)if(!(f[A].s.c>u)&&!(f[A].s.r>d)&&!(f[A].e.c<u)&&!(f[A].e.r<d)){(f[A].s.c!=u||f[A].s.r!=d)&&(g=!0),v["table:number-columns-spanned"]=f[A].e.c-f[A].s.c+1,v["table:number-rows-spanned"]=f[A].e.r-f[A].s.r+1;break}if(g){c.push(r);continue}var j=Jr({r:d,c:u}),b=p?(i[d]||[])[u]:i[j];if(b&&b.f&&(v["table:formula"]=wa(y8e(b.f)),b.F&&b.F.slice(0,j.length)==j)){var w=Rl(b.F);v["table:number-matrix-columns-spanned"]=w.e.c-w.s.c+1,v["table:number-matrix-rows-spanned"]=w.e.r-w.s.r+1}if(!b){c.push(t);continue}switch(b.t){case"b":y=b.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=b.v?"true":"false";break;case"n":y=b.w||String(b.v||0),v["office:value-type"]="float",v["office:value"]=b.v||0;break;case"s":case"str":y=b.v==null?"":b.v,v["office:value-type"]="string";break;case"d":y=b.w||Za(b.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Za(b.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(y);if(b.l&&b.l.Target){var F=b.l.Target;F=F.charAt(0)=="#"?"#"+w8e(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),C=or("text:a",C,{"xlink:href":F.replace(/&/g,"&amp;")})}c.push("          "+or("table:table-cell",or("text:p",C,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Rm(h),h.ods=l;var f=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Ws],d=Tj({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Tj({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(Ble().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(a(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Qce(e,t){if(t.bookType=="fods")return cK(e,t);var r=D8(),a="",s=[],i=[];return a="mimetype",wn(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",wn(r,a,cK(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",wn(r,a,e7e(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",wn(r,a,Ws+Ble()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",wn(r,a,B6e(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",wn(r,a,_6e(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Q0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $I(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):_a(Wm(e))}function t7e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):fc(Zu(e))}function r7e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function Um(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function dK(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function n7e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,s=t+13;s>=t;--s)a=a*256+e[s];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function a7e(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function Qj(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function pa(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Fs(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ra(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=Qj(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Qj(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var d={data:l,type:i};t[s]==null?t[s]=[d]:t[s].push(d)}return t}function qi(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(pa(a*8+s.type)),s.type==2&&t.push(pa(s.data.length)),t.push(s.data))})}),Um(t)}function cM(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Rc(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=Qj(e,a),i=ra(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:Fs(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ra(l.data),d=Fs(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=Fs(i[3][0].data)>>>0>0),r.push(o)}return r}function zx(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:pa(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:pa(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:pa(o.data.length)}],a[2].push({data:qi(o.meta),type:2})});var i=qi(a);t.push(pa(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),Um(t)}function s7e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=Qj(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Um(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(s.push(s[0].slice(-c)),d-=c;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-c,-c+d))}}var u=Um(s);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function Mc(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(s7e(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Um(t)}function Vx(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=pa(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return Um(t)}function i7e(e,t,r,a){var s=Q0(e),i=s.getUint32(4,!0),o=(a>1?12:8)+dK(i&(a>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=s.getUint32(o,!0),o+=4),o+=dK(i&(a>1?12288:4096))*4,i&16&&(c=s.getUint32(o,!0),o+=4),i&32&&(d=s.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function o7e(e,t,r){var a=Q0(e),s=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);s&1&&(c=n7e(e,i),i+=16),s&2&&(d=a.getFloat64(i,!0),i+=8),s&4&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=a.getUint32(i,!0),i+=4),s&16&&(o=a.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return h}function y3(e,t){var r=new Uint8Array(32),a=Q0(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,a7e(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function w3(e,t){var r=new Uint8Array(32),a=Q0(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function l7e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return i7e(e,t,r,e[0]);case 5:return o7e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function wo(e){var t=ra(e);return Qj(t[1][0].data)}function uK(e,t){var r=ra(t.data),a=Fs(r[1][0].data),s=r[3],i=[];return(s||[]).forEach(function(o){var l=ra(o.data),c=Fs(l[1][0].data)>>>0;switch(a){case 1:i[c]=$I(l[3][0].data);break;case 8:{var d=e[wo(l[9][0].data)][0],u=ra(d.data),h=e[wo(u[1][0].data)][0],f=Fs(h.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var A=ra(h.data);i[c]=A[3].map(function(p){return $I(p.data)}).join("")}break}}),i}function c7e(e,t){var r,a,s,i,o,l,c,d,u,h,f,A,p,m,x=ra(e),g=Fs(x[1][0].data)>>>0,v=Fs(x[2][0].data)>>>0,y=((a=(r=x[8])==null?void 0:r[0])==null?void 0:a.data)&&Fs(x[8][0].data)>0||!1,j,b;if((i=(s=x[7])==null?void 0:s[0])!=null&&i.data&&t!=0)j=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,b=(d=(c=x[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=x[4])==null?void 0:u[0])!=null&&h.data&&t!=1)j=(A=(f=x[4])==null?void 0:f[0])==null?void 0:A.data,b=(m=(p=x[3])==null?void 0:p[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var w=y?4:1,C=Q0(j),F=[],E=0;E<j.length/2;++E){var L=C.getUint16(E*2,!0);L<65535&&F.push([E,L])}if(F.length!=v)throw"Expected ".concat(v," cells, found ").concat(F.length);var N=[];for(E=0;E<F.length-1;++E)N[F[E][0]]=b.subarray(F[E][1]*w,F[E+1][1]*w);return F.length>=1&&(N[F[F.length-1][0]]=b.subarray(F[F.length-1][1]*w)),{R:g,cells:N}}function d7e(e,t){var r,a=ra(t.data),s=(r=a==null?void 0:a[7])!=null&&r[0]?Fs(a[7][0].data)>>>0>0?1:0:-1,i=cM(a[5],function(o){return c7e(o,s)});return{nrows:Fs(a[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function u7e(e,t,r){var a,s=ra(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Fs(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Fs(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=mn(i);var o=ra(s[4][0].data),l=uK(e,e[wo(o[4][0].data)][0]),c=(a=o[17])!=null&&a[0]?uK(e,e[wo(o[17][0].data)][0]):[],d=ra(o[3][0].data),u=0;d[1].forEach(function(h){var f=ra(h.data),A=e[wo(f[2][0].data)][0],p=Fs(A.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var m=d7e(e,A);m.data.forEach(function(x,g){x.forEach(function(v,y){var j=Jr({r:u+g,c:y}),b=l7e(v,l,c);b&&(r[j]=b)})}),u+=m.nrows})}function h7e(e,t){var r=ra(t.data),a={"!ref":"A1"},s=e[wo(r[2][0].data)],i=Fs(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return u7e(e,s[0],a),a}function f7e(e,t){var r,a=ra(t.data),s={name:(r=a[1])!=null&&r[0]?$I(a[1][0].data):"",sheets:[]},i=cM(a[2],wo);return i.forEach(function(o){e[o].forEach(function(l){var c=Fs(l.meta[1][0].data);c==6e3&&s.sheets.push(h7e(e,l))})}),s}function A7e(e,t){var r=AM(),a=ra(t.data),s=cM(a[1],wo);if(s.forEach(function(i){e[i].forEach(function(o){var l=Fs(o.meta[1][0].data);if(l==2){var c=f7e(e,o);c.sheets.forEach(function(d,u){mM(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function b3(e){var t,r,a,s,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=Mc(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=Rc(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((s=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:s[0].data)&&Fs(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=Fs(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return A7e(i,l)}function m7e(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Fs(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Q0(e[7][0].data),u=0,h=[],f=Q0(e[4][0].data),A=0,p=[],m=0;m<t.length;++m){if(t[m]==null){d.setUint16(m*2,65535,!0),f.setUint16(m*2,65535);continue}d.setUint16(m*2,u,!0),f.setUint16(m*2,A,!0);var x,g;switch(typeof t[m]){case"string":x=y3({t:"s",v:t[m]},r),g=w3({t:"s",v:t[m]},r);break;case"number":x=y3({t:"n",v:t[m]},r),g=w3({t:"n",v:t[m]},r);break;case"boolean":x=y3({t:"b",v:t[m]},r),g=w3({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}h.push(x),u+=x.length,p.push(g),A+=g.length,++c}for(e[2][0].data=pa(c);m<e[7][0].data.length/2;++m)d.setUint16(m*2,65535,!0),f.setUint16(m*2,65535,!0);return e[6][0].data=Um(h),e[3][0].data=Um(p),c}function p7e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Rl(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(mn(a)));var i=G5(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(z){return z.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var l={},c=[],d=Hr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(z,Q){return[z,d.FullPaths[Q]]}).forEach(function(z){var Q=z[0],W=z[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var U=Q.content,re=Mc(U),de=Rc(re);de.forEach(function(ae){c.push(ae.id),l[ae.id]={deps:[],location:W,type:Fs(ae.messages[0].meta[1][0].data)}})}}),c.sort(function(z,Q){return z-Q});var u=c.filter(function(z){return z>1}).map(function(z){return[z,pa(z)]});d.FileIndex.map(function(z,Q){return[z,d.FullPaths[Q]]}).forEach(function(z){var Q=z[0];if(z[1],!!Q.name.match(/\.iwa/)){var W=Rc(Mc(Q.content));W.forEach(function(U){U.messages.forEach(function(re){u.forEach(function(de){U.messages.some(function(ae){return Fs(ae.meta[1][0].data)!=11006&&r7e(ae.data,de[1])})&&l[de[0]].deps.push(U.id)})})})}});for(var h=Hr.find(d,l[1].location),f=Rc(Mc(h.content)),A,p=0;p<f.length;++p){var m=f[p];m.id==1&&(A=m)}var x=wo(ra(A.messages[0].data)[1][0].data);for(h=Hr.find(d,l[x].location),f=Rc(Mc(h.content)),p=0;p<f.length;++p)m=f[p],m.id==x&&(A=m);for(x=wo(ra(A.messages[0].data)[2][0].data),h=Hr.find(d,l[x].location),f=Rc(Mc(h.content)),p=0;p<f.length;++p)m=f[p],m.id==x&&(A=m);for(x=wo(ra(A.messages[0].data)[2][0].data),h=Hr.find(d,l[x].location),f=Rc(Mc(h.content)),p=0;p<f.length;++p)m=f[p],m.id==x&&(A=m);var g=ra(A.messages[0].data);{g[6][0].data=pa(a.e.r+1),g[7][0].data=pa(a.e.c+1);var v=wo(g[46][0].data),y=Hr.find(d,l[v].location),j=Rc(Mc(y.content));{for(var b=0;b<j.length&&j[b].id!=v;++b);if(j[b].id!=v)throw"Bad ColumnRowUIDMapArchive";var w=ra(j[b].messages[0].data);w[1]=[],w[2]=[],w[3]=[];for(var C=0;C<=a.e.c;++C){var F=[];F[1]=F[2]=[{type:0,data:pa(C+420690)}],w[1].push({type:2,data:qi(F)}),w[2].push({type:0,data:pa(C)}),w[3].push({type:0,data:pa(C)})}w[4]=[],w[5]=[],w[6]=[];for(var E=0;E<=a.e.r;++E)F=[],F[1]=F[2]=[{type:0,data:pa(E+726270)}],w[4].push({type:2,data:qi(F)}),w[5].push({type:0,data:pa(E)}),w[6].push({type:0,data:pa(E)});j[b].messages[0].data=qi(w)}y.content=Vx(zx(j)),y.size=y.content.length,delete g[46];var L=ra(g[4][0].data);{L[7][0].data=pa(a.e.r+1);var N=ra(L[1][0].data),I=wo(N[2][0].data);y=Hr.find(d,l[I].location),j=Rc(Mc(y.content));{if(j[0].id!=I)throw"Bad HeaderStorageBucket";var M=ra(j[0].messages[0].data);for(E=0;E<i.length;++E){var O=ra(M[2][0].data);O[1][0].data=pa(E),O[4][0].data=pa(i[E].length),M[2][E]={type:M[2][0].type,data:qi(O)}}j[0].messages[0].data=qi(M)}y.content=Vx(zx(j)),y.size=y.content.length;var k=wo(L[2][0].data);y=Hr.find(d,l[k].location),j=Rc(Mc(y.content));{if(j[0].id!=k)throw"Bad HeaderStorageBucket";for(M=ra(j[0].messages[0].data),C=0;C<=a.e.c;++C)O=ra(M[2][0].data),O[1][0].data=pa(C),O[4][0].data=pa(a.e.r+1),M[2][C]={type:M[2][0].type,data:qi(O)};j[0].messages[0].data=qi(M)}y.content=Vx(zx(j)),y.size=y.content.length;var P=wo(L[4][0].data);(function(){for(var z=Hr.find(d,l[P].location),Q=Rc(Mc(z.content)),W,U=0;U<Q.length;++U){var re=Q[U];re.id==P&&(W=re)}var de=ra(W.messages[0].data);{de[3]=[];var ae=[];o.forEach(function(H,Oe){ae[1]=[{type:0,data:pa(Oe)}],ae[2]=[{type:0,data:pa(1)}],ae[3]=[{type:2,data:t7e(H)}],de[3].push({type:2,data:qi(ae)})})}W.messages[0].data=qi(de);var Ae=zx(Q),Me=Vx(Ae);z.content=Me,z.size=z.content.length})();var R=ra(L[3][0].data);{var V=R[1][0];delete R[2];var D=ra(V.data);{var Y=wo(D[2][0].data);(function(){for(var z=Hr.find(d,l[Y].location),Q=Rc(Mc(z.content)),W,U=0;U<Q.length;++U){var re=Q[U];re.id==Y&&(W=re)}var de=ra(W.messages[0].data);{delete de[6],delete R[7];var ae=new Uint8Array(de[5][0].data);de[5]=[];for(var Ae=0,Me=0;Me<=a.e.r;++Me){var H=ra(ae);Ae+=m7e(H,i[Me],o),H[1][0].data=pa(Me),de[5].push({data:qi(H),type:2})}de[1]=[{type:0,data:pa(a.e.c+1)}],de[2]=[{type:0,data:pa(a.e.r+1)}],de[3]=[{type:0,data:pa(Ae)}],de[4]=[{type:0,data:pa(a.e.r+1)}]}W.messages[0].data=qi(de);var Oe=zx(Q),Ee=Vx(Oe);z.content=Ee,z.size=z.content.length})()}V.data=qi(D)}L[3][0].data=qi(R)}g[4][0].data=qi(L)}A.messages[0].data=qi(g);var ne=zx(f),S=Vx(ne);return h.content=S,h.size=h.content.length,d}function $ce(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function dM(e){$ce([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function uM(e){$ce([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function x7e(e){return Fn.WS.indexOf(e)>-1?"sheet":e==Fn.CS?"chart":e==Fn.DS?"dialog":e==Fn.MS?"macro":e&&e.length?e:"sheet"}function g7e(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,x7e(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function v7e(e,t,r,a,s,i,o,l,c,d,u,h){try{i[a]=pb(Ac(e,r,!0),t);var f=Zs(e,t),A;switch(l){case"sheet":A=QUe(f,t,s,c,i[a],d,u,h);break;case"chart":if(A=$Ue(f,t,s,c,i[a],d,u,h),!A||!A["!drawel"])break;var p=Tw(A["!drawel"].Target,t),m=Oj(p),x=ELe(Ac(e,p,!0),pb(Ac(e,m,!0),p)),g=Tw(x,p),v=Oj(g);A=mUe(Ac(e,g,!0),g,c,pb(Ac(e,v,!0),g),d,A);break;case"macro":A=HUe(f,t,s,c,i[a],d,u,h);break;case"dialog":A=zUe(f,t,s,c,i[a],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[a]=A;var y=[];i&&i[a]&&Ps(i[a]).forEach(function(j){var b="";if(i[a][j].Type==Fn.CMNT){b=Tw(i[a][j].Target,t);var w=WUe(Zs(e,b,!0),b,c);if(!w||!w.length)return;XV(A,w,!1)}i[a][j].Type==Fn.TCMNT&&(b=Tw(i[a][j].Target,t),y=y.concat(FLe(Zs(e,b,!0),c)))}),y&&y.length&&XV(A,y,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function Tc(e){return e.charAt(0)=="/"?e.slice(1):e}function y7e(e,t){if($y(),t=t||{},dM(t),$c(e,"META-INF/manifest.xml")||$c(e,"objectdata.xml"))return oK(e,t);if($c(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof b3<"u"){if(e.FileIndex)return b3(e);var r=Hr.utils.cfb_new();return xV(e).forEach(function(O){wn(r,O,PTe(e,O))}),b3(r)}throw new Error("Unsupported NUMBERS file")}if(!$c(e,"[Content_Types].xml"))throw $c(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):$c(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=xV(e),s=N6e(Ac(e,"[Content_Types].xml")),i=!1,o,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",Zs(e,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!Zs(e,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(xb=[],s.sst)try{xb=qUe(Zs(e,Tc(s.sst)),s.sst,t)}catch(O){if(t.WTF)throw O}t.cellStyles&&s.themes.length&&(c=KUe(Ac(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(d=VUe(Zs(e,Tc(s.style)),s.style,c,t))}s.links.map(function(O){try{var k=pb(Ac(e,Oj(Tc(O))),O);return XUe(Zs(e,Tc(O)),k,O,t)}catch{}});var u=UUe(Zs(e,Tc(s.workbooks[0])),s.workbooks[0],t),h={},f="";s.coreprops.length&&(f=Zs(e,Tc(s.coreprops[0]),!0),f&&(h=Fle(f)),s.extprops.length!==0&&(f=Zs(e,Tc(s.extprops[0]),!0),f&&P6e(f,h,t)));var A={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(f=Ac(e,Tc(s.custprops[0]),!0),f&&(A=T6e(f,t)));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(k){return k.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(p.Props=h,p.Custprops=A),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var m={};t.bookDeps&&s.calcchain&&(m=GUe(Zs(e,Tc(s.calcchain)),s.calcchain));var x=0,g={},v,y;{var j=u.Sheets;h.Worksheets=j.length,h.SheetNames=[];for(var b=0;b!=j.length;++b)h.SheetNames[b]=j[b].name}var w=i?"bin":"xml",C=s.workbooks[0].lastIndexOf("/"),F=(s.workbooks[0].slice(0,C+1)+"_rels/"+s.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");$c(e,F)||(F="xl/_rels/workbook."+w+".rels");var E=pb(Ac(e,F,!0),F.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=YUe(Zs(e,Tc(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=kLe(Zs(e,Tc(s.people[0])),t)),E&&(E=g7e(E,u.Sheets));var L=Zs(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var N="sheet";if(E&&E[x]?(v="xl/"+E[x][1].replace(/[\/]?xl\//,""),$c(e,v)||(v=E[x][1]),$c(e,v)||(v=F.replace(/_rels\/.*$/,"")+E[x][1]),N=E[x][2]):(v="xl/worksheets/sheet"+(x+1-L)+"."+w,v=v.replace(/sheet0\./,"sheet.")),y=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==x&&(I=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==h.SheetNames[x].toLowerCase()&&(I=1);if(!I)continue e}}v7e(e,v,y,h.SheetNames[x],x,g,o,N,t,u,c,d)}return p={Directory:s,Workbook:u,Props:h,Custprops:A,Deps:m,Sheets:o,SheetNames:h.SheetNames,Strings:xb,Styles:d,Themes:c,SSF:es(Yr)},t&&t.bookFiles&&(e.files?(p.keys=a,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(O,k){O=O.replace(/^Root Entry[\/]/,""),p.keys.push(O),p.files[O]=e.FileIndex[k]}))),t&&t.bookVBA&&(s.vba.length>0?p.vbaraw=Zs(e,Tc(s.vba[0]),!0):s.defaults&&s.defaults.bin===ULe&&(p.vbaraw=Zs(e,"xl/vbaProject.bin",!0))),p}function w7e(e,t){var r=t||{},a="Workbook",s=Hr.find(e,a);try{if(a="/!DataSpaces/Version",s=Hr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(YOe(s.content),a="/!DataSpaces/DataSpaceMap",s=Hr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=ZOe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Hr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=eDe(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Hr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);rDe(s.content)}catch{}if(a="/EncryptionInfo",s=Hr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=nDe(s.content);if(a="/EncryptedPackage",s=Hr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function b7e(e,t){return t.bookType=="ods"?Qce(e,t):t.bookType=="numbers"?p7e(e,t):t.bookType=="xlsb"?j7e(e,t):N7e(e,t)}function j7e(e,t){wg=1024,e&&!e.SSF&&(e.SSF=es(Yr)),e&&e.SSF&&($y(),DB(e.SSF),t.revssf=RB(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=mce.indexOf(t.bookType)>-1,s=X8();uM(t=t||{});var i=D8(),o="",l=0;if(t.cellXfs=[],Xm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wn(i,o,Ple(e.Props,t)),s.coreprops.push(o),ga(t.rels,2,o,Fn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,wn(i,o,Ile(e.Props)),s.extprops.push(o),ga(t.rels,3,o,Fn.EXT_PROPS),e.Custprops!==e.Props&&Ps(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wn(i,o,Ole(e.Custprops)),s.custprops.push(o),ga(t.rels,4,o,Fn.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,wn(i,o,ZUe(l-1,o,t,e,u)),s.sheets.push(o),ga(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Fn.WS[0])}if(h){var A=h["!comments"],p=!1,m="";A&&A.length>0&&(m="xl/comments"+l+"."+r,wn(i,m,rQe(A,m)),s.comments.push(m),ga(u,-1,"../comments"+l+"."+r,Fn.CMNT),p=!0),h["!legacy"]&&p&&wn(i,"xl/drawings/vmlDrawing"+l+".vml",fce(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&wn(i,Oj(o),Zg(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wn(i,o,tQe(t.Strings,o,t)),s.strs.push(o),ga(t.wbrels,-1,"sharedStrings."+r,Fn.SST)),o="xl/workbook."+r,wn(i,o,JUe(e,o)),s.workbooks.push(o),ga(t.rels,1,o,Fn.WB),o="xl/theme/theme1.xml",wn(i,o,rM(e.Themes,t)),s.themes.push(o),ga(t.wbrels,-1,"theme/theme1.xml",Fn.THEME),o="xl/styles."+r,wn(i,o,eQe(e,o,t)),s.styles.push(o),ga(t.wbrels,-1,"styles."+r,Fn.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",wn(i,o,e.vbaraw),s.vba.push(o),ga(t.wbrels,-1,"vbaProject.bin",Fn.VBA)),o="xl/metadata."+r,wn(i,o,nQe(o)),s.metadata.push(o),ga(t.wbrels,-1,"metadata."+r,Fn.XLMETA),wn(i,"[Content_Types].xml",Ele(s,t)),wn(i,"_rels/.rels",Zg(t.rels)),wn(i,"xl/_rels/workbook."+r+".rels",Zg(t.wbrels)),delete t.revssf,delete t.ssf,i}function N7e(e,t){wg=1024,e&&!e.SSF&&(e.SSF=es(Yr)),e&&e.SSF&&($y(),DB(e.SSF),t.revssf=RB(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,gb?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=mce.indexOf(t.bookType)>-1,s=X8();uM(t=t||{});var i=D8(),o="",l=0;if(t.cellXfs=[],Xm(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",wn(i,o,Ple(e.Props,t)),s.coreprops.push(o),ga(t.rels,2,o,Fn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,wn(i,o,Ile(e.Props)),s.extprops.push(o),ga(t.rels,3,o,Fn.EXT_PROPS),e.Custprops!==e.Props&&Ps(e.Custprops||{}).length>0&&(o="docProps/custom.xml",wn(i,o,Ole(e.Custprops)),s.custprops.push(o),ga(t.rels,4,o,Fn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],A=(f||{})["!type"]||"sheet";switch(A){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,wn(i,o,Sce(l-1,t,e,h)),s.sheets.push(o),ga(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Fn.WS[0])}if(f){var p=f["!comments"],m=!1,x="";if(p&&p.length>0){var g=!1;p.forEach(function(v){v[1].forEach(function(y){y.T==!0&&(g=!0)})}),g&&(x="xl/threadedComments/threadedComment"+l+"."+r,wn(i,x,PLe(p,u,t)),s.threadedcomments.push(x),ga(h,-1,"../threadedComments/threadedComment"+l+"."+r,Fn.TCMNT)),x="xl/comments"+l+"."+r,wn(i,x,Ace(p)),s.comments.push(x),ga(h,-1,"../comments"+l+"."+r,Fn.CMNT),m=!0}f["!legacy"]&&m&&wn(i,"xl/drawings/vmlDrawing"+l+".vml",fce(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&wn(i,Oj(o),Zg(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,wn(i,o,tce(t.Strings,t)),s.strs.push(o),ga(t.wbrels,-1,"sharedStrings."+r,Fn.SST)),o="xl/workbook."+r,wn(i,o,Pce(e)),s.workbooks.push(o),ga(t.rels,1,o,Fn.WB),o="xl/theme/theme1.xml",wn(i,o,rM(e.Themes,t)),s.themes.push(o),ga(t.wbrels,-1,"theme/theme1.xml",Fn.THEME),o="xl/styles."+r,wn(i,o,cce(e,t)),s.styles.push(o),ga(t.wbrels,-1,"styles."+r,Fn.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",wn(i,o,e.vbaraw),s.vba.push(o),ga(t.wbrels,-1,"vbaProject.bin",Fn.VBA)),o="xl/metadata."+r,wn(i,o,hce()),s.metadata.push(o),ga(t.wbrels,-1,"metadata."+r,Fn.XLMETA),u.length>1&&(o="xl/persons/person.xml",wn(i,o,TLe(u)),s.people.push(o),ga(t.wbrels,-1,"persons/person.xml",Fn.PEOPLE)),wn(i,"[Content_Types].xml",Ele(s,t)),wn(i,"_rels/.rels",Zg(t.rels)),wn(i,"xl/_rels/workbook."+r+".rels",Zg(t.wbrels)),delete t.revssf,delete t.ssf,i}function hM(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Cc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function C7e(e,t){return Hr.find(e,"EncryptedPackage")?w7e(e,t):Oce(e,t)}function S7e(e,t){var r,a=e,s=t||{};return s.type||(s.type=_n&&Buffer.isBuffer(e)?"buffer":"base64"),r=nle(a,s),y7e(r,s)}function Hce(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return UI(e.slice(r),t);default:break e}return Lv.to_workbook(e,t)}function _7e(e,t){var r="",a=hM(e,t);switch(t.type){case"base64":r=Cc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=L0(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=_a(r)),t.type="binary",Hce(r,t)}function E7e(e,t){var r=e;return t.type=="base64"&&(r=Cc(r)),r=IA.utils.decode(1200,r.slice(2),"str"),t.type="binary",Hce(r,t)}function B7e(e){return e.match(/[^\x00-\x7F]/)?Zu(e):e}function j3(e,t,r,a){return a?(r.type="string",Lv.to_workbook(e,r)):Lv.to_workbook(t,r)}function HI(e,t){P8();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return HI(new Uint8Array(e),(r=es(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,s=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),tv={},r.dateNF&&(tv.dateNF=r.dateNF),r.type||(r.type=_n&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=_n?"buffer":"binary",a=jTe(e),typeof Uint8Array<"u"&&!_n&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=B7e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=es(r),r.type="array",HI(k8(a),r)}switch((s=hM(a,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return C7e(Hr.read(a,r),r);break;case 9:if(s[1]<=8)return Oce(a,r);break;case 60:return UI(a,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return IOe(a,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return Zle.to_workbook(a,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?S7e(a,r):j3(e,a,r,i);case 239:return s[3]===60?UI(a,r):j3(e,a,r,i);case 255:if(s[1]===254)return E7e(a,r);if(s[1]===0&&s[2]===2&&s[3]===0)return f0.to_workbook(a,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return f0.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return MI.to_workbook(a,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return ice.to_workbook(a,r);break;case 10:case 13:case 32:return _7e(a,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return TOe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?MI.to_workbook(a,r):j3(e,a,r,i)}function zce(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return nN(t.file,Hr.write(e,{type:_n?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Hr.write(e,t)}function F7e(e,t){var r=es(t||{}),a=b7e(e,r);return P7e(a,r)}function P7e(e,t){var r={},a=_n?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Hr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(OB(s))}return t.password&&typeof encrypt_agile<"u"?zce(encrypt_agile(s,t.password),t):t.type==="file"?nN(t.file,s):t.type=="string"?_a(s):s}function k7e(e,t){var r=t||{},a=BQe(e,r);return zce(a,r)}function Mu(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return Fj(Zu(a));case"binary":return Zu(a);case"string":return e;case"file":return nN(t.file,a,"utf8");case"buffer":return _n?Vf(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Mu(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function T7e(e,t){switch(t.type){case"base64":return Fj(e);case"binary":return e;case"string":return e;case"file":return nN(t.file,e,"binary");case"buffer":return _n?Vf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function f4(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?Fj(r):t.type=="string"?_a(r):r;case"file":return nN(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Vce(e,t){P8(),CUe(e);var r=es(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=Vce(e,r);return r.type="array",OB(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Mu(bQe(e,r),r);case"slk":case"sylk":return Mu(Jle.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Mu(Lce(e.Sheets[e.SheetNames[s]],r),r);case"txt":return T7e(Kce(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Mu(fM(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Mu(Zle.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return f4(MI.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Mu(Lv.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Mu(ice.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Mu(ece.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Mu(Qce(e,r),r);case"wk1":return f4(f0.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return f4(f0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),f4(Dce(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),k7e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return F7e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function I7e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function zB(e,t,r){var a={};return a.type="file",a.file=t,I7e(a),Vce(e,a)}function O7e(e,t,r,a,s,i,o,l){var c=qs(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,f=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!o||e[r])for(var A=t.s.c;A<=t.e.c;++A){var p=o?e[r][A]:e[a[A]+c];if(p===void 0||p.t===void 0){if(d===void 0)continue;i[A]!=null&&(f[i[A]]=d);continue}var m=p.v;switch(p.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[A]!=null){if(m==null)if(p.t=="e"&&m===null)f[i[A]]=null;else if(d!==void 0)f[i[A]]=d;else if(u&&m===null)f[i[A]]=null;else continue;else f[i[A]]=u&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?m:Df(p,m,l);m!=null&&(h=!1)}}return{row:f,isempty:h}}function G5(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof u){case"string":c=Zn(u);break;case"number":c=Zn(e["!ref"]),c.s.r=u;break;default:c=u}a>0&&(s=0);var h=qs(c.s.r),f=[],A=[],p=0,m=0,x=Array.isArray(e),g=c.s.r,v=0,y={};x&&!e[g]&&(e[g]=[]);var j=d.skipHidden&&e["!cols"]||[],b=d.skipHidden&&e["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(j[v]||{}).hidden)switch(f[v]=fs(v),r=x?e[g][v]:e[f[v]+h],a){case 1:i[v]=v-c.s.c;break;case 2:i[v]=f[v];break;case 3:i[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Df(r,null,d),m=y[o]||0,!m)y[o]=1;else{do l=o+"_"+m++;while(y[l]);y[o]=m,y[l]=1}i[v]=l}for(g=c.s.r+s;g<=c.e.r;++g)if(!(b[g]||{}).hidden){var w=O7e(e,c,g,f,a,i,x,d);(w.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(A[p++]=w.row)}return A.length=p,A}var hK=/"/g;function D7e(e,t,r,a,s,i,o,l){for(var c=!0,d=[],u="",h=qs(r),f=t.s.c;f<=t.e.c;++f)if(a[f]){var A=l.dense?(e[r]||[])[f]:e[a[f]+h];if(A==null)u="";else if(A.v!=null){c=!1,u=""+(l.rawNumbers&&A.t=="n"?A.v:Df(A,null,l));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===s||m===i||m===34||l.forceQuotes){u='"'+u.replace(hK,'""')+'"';break}u=="ID"&&(u='"ID"')}else A.f!=null&&!A.F?(c=!1,u="="+A.f,u.indexOf(",")>=0&&(u='"'+u.replace(hK,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function fM(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var s=Zn(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];a.dense=Array.isArray(e);for(var f=a.skipHidden&&e["!cols"]||[],A=a.skipHidden&&e["!rows"]||[],p=s.s.c;p<=s.e.c;++p)(f[p]||{}).hidden||(h[p]=fs(p));for(var m=0,x=s.s.r;x<=s.e.r;++x)(A[x]||{}).hidden||(u=D7e(e,s,x,h,o,c,i,a),u!=null&&(a.strip&&(u=u.replace(d,"")),(u||a.blankrows!==!1)&&r.push((m++?l:"")+u)));return delete a.dense,r.join("")}function Kce(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=fM(e,t);return r}function L7e(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=Zn(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=fs(l);for(var u=s.s.r;u<=s.e.r;++u)for(i=qs(u),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function qce(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?As(a.origin):a.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var h=Zn(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+s)}else o==-1&&(o=0,u.e.r=t.length-1+s);var f=a.header||[],A=0;t.forEach(function(m,x){Ps(m).forEach(function(g){(A=f.indexOf(g))==-1&&(f[A=f.length]=g);var v=m[g],y="z",j="",b=Jr({c:l+A,r:o+x+s});d=$j(i,b),v&&typeof v=="object"&&!(v instanceof Date)?i[b]=v:(typeof v=="number"?y="n":typeof v=="boolean"?y="b":typeof v=="string"?y="s":v instanceof Date?(y="d",a.cellDates||(y="n",v=wi(v)),j=a.dateNF||Yr[14]):v===null&&a.nullError&&(y="e",v=0),d?(d.t=y,d.v=v,delete d.w,delete d.R,j&&(d.z=j)):i[b]=d={t:y,v},j&&(d.z=j))})}),u.e.c=Math.max(u.e.c,l+f.length-1);var p=qs(o);if(s)for(A=0;A<f.length;++A)i[fs(A+l)+p]={t:"s",v:f[A]};return i["!ref"]=mn(u),i}function R7e(e,t){return qce(null,e,t)}function $j(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=As(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?$j(e,Jr(t)):$j(e,Jr({r:t,c:r||0}))}function M7e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function AM(){return{SheetNames:[],Sheets:{}}}function mM(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(Fce(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function U7e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=M7e(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function Q7e(e,t){return e.z=t,e}function Wce(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function $7e(e,t,r){return Wce(e,"#"+t,r)}function H7e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function z7e(e,t,r,a){for(var s=typeof t!="string"?t:Zn(t),i=typeof t=="string"?t:mn(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=$j(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,a&&(c.D=!0))}return e}var el={encode_col:fs,encode_row:qs,encode_cell:Jr,encode_range:mn,decode_col:z8,decode_row:H8,split_cell:t6e,decode_cell:As,decode_range:Rl,format_cell:Df,sheet_add_aoa:wle,sheet_add_json:qce,sheet_add_dom:Rce,aoa_to_sheet:Hy,json_to_sheet:R7e,table_to_sheet:Mce,table_to_book:YQe,sheet_to_csv:fM,sheet_to_txt:Kce,sheet_to_json:G5,sheet_to_html:Lce,sheet_to_formulae:L7e,sheet_to_row_object_array:G5,sheet_get_cell:$j,book_new:AM,book_append_sheet:mM,book_set_sheet_visibility:U7e,cell_set_number_format:Q7e,cell_set_hyperlink:Wce,cell_set_internal_link:$7e,cell_add_comment:H7e,sheet_set_array_formula:z7e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},V7e=Array.isArray,Hl=V7e,K7e=typeof JN=="object"&&JN&&JN.Object===Object&&JN,Gce=K7e,q7e=Gce,W7e=typeof self=="object"&&self&&self.Object===Object&&self,G7e=q7e||W7e||Function("return this")(),Bh=G7e,X7e=Bh,Y7e=X7e.Symbol,uN=Y7e,fK=uN,Xce=Object.prototype,J7e=Xce.hasOwnProperty,Z7e=Xce.toString,Z1=fK?fK.toStringTag:void 0;function e$e(e){var t=J7e.call(e,Z1),r=e[Z1];try{e[Z1]=void 0;var a=!0}catch{}var s=Z7e.call(e);return a&&(t?e[Z1]=r:delete e[Z1]),s}var t$e=e$e,r$e=Object.prototype,n$e=r$e.toString;function a$e(e){return n$e.call(e)}var s$e=a$e,AK=uN,i$e=t$e,o$e=s$e,l$e="[object Null]",c$e="[object Undefined]",mK=AK?AK.toStringTag:void 0;function d$e(e){return e==null?e===void 0?c$e:l$e:mK&&mK in Object(e)?i$e(e):o$e(e)}var Wf=d$e;function u$e(e){return e!=null&&typeof e=="object"}var Gf=u$e,h$e=Wf,f$e=Gf,A$e="[object Symbol]";function m$e(e){return typeof e=="symbol"||f$e(e)&&h$e(e)==A$e}var Vy=m$e,p$e=Hl,x$e=Vy,g$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v$e=/^\w*$/;function y$e(e,t){if(p$e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||x$e(e)?!0:v$e.test(e)||!g$e.test(e)||t!=null&&e in Object(t)}var pM=y$e;function w$e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ym=w$e;const Ky=ua(Ym);var b$e=Wf,j$e=Ym,N$e="[object AsyncFunction]",C$e="[object Function]",S$e="[object GeneratorFunction]",_$e="[object Proxy]";function E$e(e){if(!j$e(e))return!1;var t=b$e(e);return t==C$e||t==S$e||t==N$e||t==_$e}var xM=E$e;const Wr=ua(xM);var B$e=Bh,F$e=B$e["__core-js_shared__"],P$e=F$e,N3=P$e,pK=function(){var e=/[^.]+$/.exec(N3&&N3.keys&&N3.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function k$e(e){return!!pK&&pK in e}var T$e=k$e,I$e=Function.prototype,O$e=I$e.toString;function D$e(e){if(e!=null){try{return O$e.call(e)}catch{}try{return e+""}catch{}}return""}var Yce=D$e,L$e=xM,R$e=T$e,M$e=Ym,U$e=Yce,Q$e=/[\\^$.*+?()[\]{}|]/g,$$e=/^\[object .+?Constructor\]$/,H$e=Function.prototype,z$e=Object.prototype,V$e=H$e.toString,K$e=z$e.hasOwnProperty,q$e=RegExp("^"+V$e.call(K$e).replace(Q$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W$e(e){if(!M$e(e)||R$e(e))return!1;var t=L$e(e)?q$e:$$e;return t.test(U$e(e))}var G$e=W$e;function X$e(e,t){return e==null?void 0:e[t]}var Y$e=X$e,J$e=G$e,Z$e=Y$e;function e9e(e,t){var r=Z$e(e,t);return J$e(r)?r:void 0}var dx=e9e,t9e=dx,r9e=t9e(Object,"create"),VB=r9e,xK=VB;function n9e(){this.__data__=xK?xK(null):{},this.size=0}var a9e=n9e;function s9e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var i9e=s9e,o9e=VB,l9e="__lodash_hash_undefined__",c9e=Object.prototype,d9e=c9e.hasOwnProperty;function u9e(e){var t=this.__data__;if(o9e){var r=t[e];return r===l9e?void 0:r}return d9e.call(t,e)?t[e]:void 0}var h9e=u9e,f9e=VB,A9e=Object.prototype,m9e=A9e.hasOwnProperty;function p9e(e){var t=this.__data__;return f9e?t[e]!==void 0:m9e.call(t,e)}var x9e=p9e,g9e=VB,v9e="__lodash_hash_undefined__";function y9e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=g9e&&t===void 0?v9e:t,this}var w9e=y9e,b9e=a9e,j9e=i9e,N9e=h9e,C9e=x9e,S9e=w9e;function qy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}qy.prototype.clear=b9e;qy.prototype.delete=j9e;qy.prototype.get=N9e;qy.prototype.has=C9e;qy.prototype.set=S9e;var _9e=qy;function E9e(){this.__data__=[],this.size=0}var B9e=E9e;function F9e(e,t){return e===t||e!==e&&t!==t}var gM=F9e,P9e=gM;function k9e(e,t){for(var r=e.length;r--;)if(P9e(e[r][0],t))return r;return-1}var KB=k9e,T9e=KB,I9e=Array.prototype,O9e=I9e.splice;function D9e(e){var t=this.__data__,r=T9e(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():O9e.call(t,r,1),--this.size,!0}var L9e=D9e,R9e=KB;function M9e(e){var t=this.__data__,r=R9e(t,e);return r<0?void 0:t[r][1]}var U9e=M9e,Q9e=KB;function $9e(e){return Q9e(this.__data__,e)>-1}var H9e=$9e,z9e=KB;function V9e(e,t){var r=this.__data__,a=z9e(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var K9e=V9e,q9e=B9e,W9e=L9e,G9e=U9e,X9e=H9e,Y9e=K9e;function Wy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Wy.prototype.clear=q9e;Wy.prototype.delete=W9e;Wy.prototype.get=G9e;Wy.prototype.has=X9e;Wy.prototype.set=Y9e;var qB=Wy,J9e=dx,Z9e=Bh,eHe=J9e(Z9e,"Map"),vM=eHe,gK=_9e,tHe=qB,rHe=vM;function nHe(){this.size=0,this.__data__={hash:new gK,map:new(rHe||tHe),string:new gK}}var aHe=nHe;function sHe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var iHe=sHe,oHe=iHe;function lHe(e,t){var r=e.__data__;return oHe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var WB=lHe,cHe=WB;function dHe(e){var t=cHe(this,e).delete(e);return this.size-=t?1:0,t}var uHe=dHe,hHe=WB;function fHe(e){return hHe(this,e).get(e)}var AHe=fHe,mHe=WB;function pHe(e){return mHe(this,e).has(e)}var xHe=pHe,gHe=WB;function vHe(e,t){var r=gHe(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var yHe=vHe,wHe=aHe,bHe=uHe,jHe=AHe,NHe=xHe,CHe=yHe;function Gy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Gy.prototype.clear=wHe;Gy.prototype.delete=bHe;Gy.prototype.get=jHe;Gy.prototype.has=NHe;Gy.prototype.set=CHe;var yM=Gy,Jce=yM,SHe="Expected a function";function wM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(SHe);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return r.cache=i.set(s,o)||i,o};return r.cache=new(wM.Cache||Jce),r}wM.Cache=Jce;var Zce=wM;const _He=ua(Zce);var EHe=Zce,BHe=500;function FHe(e){var t=EHe(e,function(a){return r.size===BHe&&r.clear(),a}),r=t.cache;return t}var PHe=FHe,kHe=PHe,THe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IHe=/\\(\\)?/g,OHe=kHe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(THe,function(r,a,s,i){t.push(s?i.replace(IHe,"$1"):a||r)}),t}),DHe=OHe;function LHe(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var bM=LHe,vK=uN,RHe=bM,MHe=Hl,UHe=Vy,QHe=1/0,yK=vK?vK.prototype:void 0,wK=yK?yK.toString:void 0;function ede(e){if(typeof e=="string")return e;if(MHe(e))return RHe(e,ede)+"";if(UHe(e))return wK?wK.call(e):"";var t=e+"";return t=="0"&&1/e==-QHe?"-0":t}var $He=ede,HHe=$He;function zHe(e){return e==null?"":HHe(e)}var tde=zHe,VHe=Hl,KHe=pM,qHe=DHe,WHe=tde;function GHe(e,t){return VHe(e)?e:KHe(e,t)?[e]:qHe(WHe(e))}var rde=GHe,XHe=Vy,YHe=1/0;function JHe(e){if(typeof e=="string"||XHe(e))return e;var t=e+"";return t=="0"&&1/e==-YHe?"-0":t}var GB=JHe,ZHe=rde,eze=GB;function tze(e,t){t=ZHe(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[eze(t[r++])];return r&&r==a?e:void 0}var jM=tze,rze=jM;function nze(e,t,r){var a=e==null?void 0:rze(e,t);return a===void 0?r:a}var nde=nze;const jc=ua(nde);function aze(e){return e==null}var sze=aze;const Gr=ua(sze);var ize=Wf,oze=Hl,lze=Gf,cze="[object String]";function dze(e){return typeof e=="string"||!oze(e)&&lze(e)&&ize(e)==cze}var uze=dze;const hN=ua(uze);var ade={exports:{}},ja={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=Symbol.for("react.element"),CM=Symbol.for("react.portal"),XB=Symbol.for("react.fragment"),YB=Symbol.for("react.strict_mode"),JB=Symbol.for("react.profiler"),ZB=Symbol.for("react.provider"),eF=Symbol.for("react.context"),hze=Symbol.for("react.server_context"),tF=Symbol.for("react.forward_ref"),rF=Symbol.for("react.suspense"),nF=Symbol.for("react.suspense_list"),aF=Symbol.for("react.memo"),sF=Symbol.for("react.lazy"),fze=Symbol.for("react.offscreen"),sde;sde=Symbol.for("react.module.reference");function wd(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case NM:switch(e=e.type,e){case XB:case JB:case YB:case rF:case nF:return e;default:switch(e=e&&e.$$typeof,e){case hze:case eF:case tF:case sF:case aF:case ZB:return e;default:return t}}case CM:return t}}}ja.ContextConsumer=eF;ja.ContextProvider=ZB;ja.Element=NM;ja.ForwardRef=tF;ja.Fragment=XB;ja.Lazy=sF;ja.Memo=aF;ja.Portal=CM;ja.Profiler=JB;ja.StrictMode=YB;ja.Suspense=rF;ja.SuspenseList=nF;ja.isAsyncMode=function(){return!1};ja.isConcurrentMode=function(){return!1};ja.isContextConsumer=function(e){return wd(e)===eF};ja.isContextProvider=function(e){return wd(e)===ZB};ja.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===NM};ja.isForwardRef=function(e){return wd(e)===tF};ja.isFragment=function(e){return wd(e)===XB};ja.isLazy=function(e){return wd(e)===sF};ja.isMemo=function(e){return wd(e)===aF};ja.isPortal=function(e){return wd(e)===CM};ja.isProfiler=function(e){return wd(e)===JB};ja.isStrictMode=function(e){return wd(e)===YB};ja.isSuspense=function(e){return wd(e)===rF};ja.isSuspenseList=function(e){return wd(e)===nF};ja.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===XB||e===JB||e===YB||e===rF||e===nF||e===fze||typeof e=="object"&&e!==null&&(e.$$typeof===sF||e.$$typeof===aF||e.$$typeof===ZB||e.$$typeof===eF||e.$$typeof===tF||e.$$typeof===sde||e.getModuleId!==void 0)};ja.typeOf=wd;ade.exports=ja;var Aze=ade.exports,mze=Wf,pze=Gf,xze="[object Number]";function gze(e){return typeof e=="number"||pze(e)&&mze(e)==xze}var ide=gze;const vze=ua(ide);var yze=ide;function wze(e){return yze(e)&&e!=+e}var bze=wze;const Xy=ua(bze);var al=function(t){return t===0?0:t>0?1:-1},Kp=function(t){return hN(t)&&t.indexOf("%")===t.length-1},sr=function(t){return vze(t)&&!Xy(t)},yi=function(t){return sr(t)||hN(t)},jze=0,Jm=function(t){var r=++jze;return"".concat(t||"").concat(r)},sl=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!sr(t)&&!hN(t))return a;var i;if(Kp(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Xy(i)&&(i=a),s&&i>r&&(i=r),i},OA=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Nze=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},us=function(t,r){return sr(t)&&sr(r)?function(a){return t+a*(r-t)}:function(){return r}};function X5(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):jc(a,t))===r})}var Cze=function(t){if(!t||!t.length)return null;for(var r=t.length,a=0,s=0,i=0,o=0,l=1/0,c=-1/0,d=0,u=0,h=0;h<r;h++)d=t[h].cx||0,u=t[h].cy||0,a+=d,s+=u,i+=d*u,o+=d*d,l=Math.min(l,d),c=Math.max(c,d);var f=r*o!==a*a?(r*i-a*s)/(r*o-a*a):0;return{xmin:l,xmax:c,a:f,b:(s-f*a)/r}};function rv(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function zI(e){"@babel/helpers - typeof";return zI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zI(e)}var Sze=["viewBox","children"],_ze=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bK=["points","pathLength"],C3={svg:Sze,polygon:bK,polyline:bK},SM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Y5=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(B.isValidElement(t)&&(a=t.props),!Ky(a))return null;var s={};return Object.keys(a).forEach(function(i){SM.includes(i)&&(s[i]=r||function(o){return a[i](a,o)})}),s},Eze=function(t,r,a){return function(s){return t(r,a,s),null}},Qm=function(t,r,a){if(!Ky(t)||zI(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];SM.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Eze(o,r,a))}),s},Bze=["children"],Fze=["children"];function jK(e,t){if(e==null)return{};var r=Pze(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Pze(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function VI(e){"@babel/helpers - typeof";return VI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VI(e)}var NK={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Nf=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},CK=null,S3=null,_M=function e(t){if(t===CK&&Array.isArray(S3))return S3;var r=[];return B.Children.forEach(t,function(a){Gr(a)||(Aze.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),S3=r,CK=t,r};function dl(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Nf(s)}):a=[Nf(t)],_M(e).forEach(function(s){var i=jc(s,"type.displayName")||jc(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function ic(e,t){var r=dl(e,t);return r&&r[0]}var SK=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!sr(a)||a<=0||!sr(s)||s<=0)},kze=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tze=function(t){return t&&t.type&&hN(t.type)&&kze.indexOf(t.type)>=0},ode=function(t){return t&&VI(t)==="object"&&"clipDot"in t},Ize=function(t,r,a,s){var i,o=(i=C3==null?void 0:C3[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Wr(t)&&(s&&o.includes(r)||_ze.includes(r))||a&&SM.includes(r)},Tr=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(B.isValidElement(t)&&(s=t.props),!Ky(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Ize((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},KI=function e(t,r){if(t===r)return!0;var a=B.Children.count(t);if(a!==B.Children.count(r))return!1;if(a===0)return!0;if(a===1)return _K(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!_K(i,o))return!1}return!0},_K=function(t,r){if(Gr(t)&&Gr(r))return!0;if(!Gr(t)&&!Gr(r)){var a=t.props||{},s=a.children,i=jK(a,Bze),o=r.props||{},l=o.children,c=jK(o,Fze);return s&&l?rv(i,c)&&KI(s,l):!s&&!l?rv(i,c):!1}return!1},EK=function(t,r){var a=[],s={};return _M(t).forEach(function(i,o){if(Tze(i))a.push(i);else if(i){var l=Nf(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var h=d(i,l,o);a.push(h),s[l]=!0}}}),a},Oze=function(t){var r=t&&t.type;return r&&NK[r]?NK[r]:null},Dze=function(t,r){return _M(r).indexOf(t)},Lze=["children","width","height","viewBox","className","style","title","desc"];function qI(){return qI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qI.apply(this,arguments)}function Rze(e,t){if(e==null)return{};var r=Mze(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Mze(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function WI(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=Rze(e,Lze),u=s||{width:r,height:a,x:0,y:0},h=cn("recharts-surface",i);return Se.createElement("svg",qI({},Tr(d,!0,"svg"),{className:h,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Se.createElement("title",null,l),Se.createElement("desc",null,c),t)}var Uze=["children","className"];function GI(){return GI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},GI.apply(this,arguments)}function Qze(e,t){if(e==null)return{};var r=$ze(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function $ze(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var pn=Se.forwardRef(function(e,t){var r=e.children,a=e.className,s=Qze(e,Uze),i=cn("recharts-layer",a);return Se.createElement("g",GI({className:i},Tr(s,!0),{ref:t}),r)}),su=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function Hze(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var zze=Hze,Vze=zze;function Kze(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:Vze(e,t,r)}var qze=Kze,Wze="\\ud800-\\udfff",Gze="\\u0300-\\u036f",Xze="\\ufe20-\\ufe2f",Yze="\\u20d0-\\u20ff",Jze=Gze+Xze+Yze,Zze="\\ufe0e\\ufe0f",eVe="\\u200d",tVe=RegExp("["+eVe+Wze+Jze+Zze+"]");function rVe(e){return tVe.test(e)}var lde=rVe;function nVe(e){return e.split("")}var aVe=nVe,cde="\\ud800-\\udfff",sVe="\\u0300-\\u036f",iVe="\\ufe20-\\ufe2f",oVe="\\u20d0-\\u20ff",lVe=sVe+iVe+oVe,cVe="\\ufe0e\\ufe0f",dVe="["+cde+"]",XI="["+lVe+"]",YI="\\ud83c[\\udffb-\\udfff]",uVe="(?:"+XI+"|"+YI+")",dde="[^"+cde+"]",ude="(?:\\ud83c[\\udde6-\\uddff]){2}",hde="[\\ud800-\\udbff][\\udc00-\\udfff]",hVe="\\u200d",fde=uVe+"?",Ade="["+cVe+"]?",fVe="(?:"+hVe+"(?:"+[dde,ude,hde].join("|")+")"+Ade+fde+")*",AVe=Ade+fde+fVe,mVe="(?:"+[dde+XI+"?",XI,ude,hde,dVe].join("|")+")",pVe=RegExp(YI+"(?="+YI+")|"+mVe+AVe,"g");function xVe(e){return e.match(pVe)||[]}var gVe=xVe,vVe=aVe,yVe=lde,wVe=gVe;function bVe(e){return yVe(e)?wVe(e):vVe(e)}var jVe=bVe,NVe=qze,CVe=lde,SVe=jVe,_Ve=tde;function EVe(e){return function(t){t=_Ve(t);var r=CVe(t)?SVe(t):void 0,a=r?r[0]:t.charAt(0),s=r?NVe(r,1).join(""):t.slice(1);return a[e]()+s}}var BVe=EVe,FVe=BVe,PVe=FVe("toUpperCase"),kVe=PVe;const iF=ua(kVe);function Ma(e){return function(){return e}}const mde=Math.cos,J5=Math.sin,yu=Math.sqrt,Z5=Math.PI,oF=2*Z5,JI=Math.PI,ZI=2*JI,Sp=1e-6,TVe=ZI-Sp;function pde(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function IVe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pde;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class OVe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pde:IVe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,d=s-r,u=o-t,h=l-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Sp)if(!(Math.abs(h*c-d*u)>Sp)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let A=a-o,p=s-l,m=c*c+d*d,x=A*A+p*p,g=Math.sqrt(m),v=Math.sqrt(f),y=i*Math.tan((JI-Math.acos((m+f-x)/(2*g*v)))/2),j=y/v,b=y/g;Math.abs(j-1)>Sp&&this._append`L${t+j*u},${r+j*h}`,this._append`A${i},${i},0,0,${+(h*A>u*p)},${this._x1=t+b*c},${this._y1=r+b*d}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),d=t+l,u=r+c,h=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Sp||Math.abs(this._y1-u)>Sp)&&this._append`L${d},${u}`,a&&(f<0&&(f=f%ZI+ZI),f>TVe?this._append`A${a},${a},0,1,${h},${t-l},${r-c}A${a},${a},0,1,${h},${this._x1=d},${this._y1=u}`:f>Sp&&this._append`A${a},${a},0,${+(f>=JI)},${h},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function EM(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new OVe(t)}function BM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xde(e){this._context=e}xde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lF(e){return new xde(e)}function gde(e){return e[0]}function vde(e){return e[1]}function yde(e,t){var r=Ma(!0),a=null,s=lF,i=null,o=EM(l);e=typeof e=="function"?e:e===void 0?gde:Ma(e),t=typeof t=="function"?t:t===void 0?vde:Ma(t);function l(c){var d,u=(c=BM(c)).length,h,f=!1,A;for(a==null&&(i=s(A=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,d,c),+t(h,d,c));if(A)return i=null,A+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ma(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ma(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ma(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function A4(e,t,r){var a=null,s=Ma(!0),i=null,o=lF,l=null,c=EM(d);e=typeof e=="function"?e:e===void 0?gde:Ma(+e),t=typeof t=="function"?t:Ma(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vde:Ma(+r);function d(h){var f,A,p,m=(h=BM(h)).length,x,g=!1,v,y=new Array(m),j=new Array(m);for(i==null&&(l=o(v=c())),f=0;f<=m;++f){if(!(f<m&&s(x=h[f],f,h))===g)if(g=!g)A=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=f-1;p>=A;--p)l.point(y[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(y[f]=+e(x,f,h),j[f]=+t(x,f,h),l.point(a?+a(x,f,h):y[f],r?+r(x,f,h):j[f]))}if(v)return l=null,v+""||null}function u(){return yde().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ma(+h),a=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ma(+h),d):e},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Ma(+h),d):a},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ma(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ma(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ma(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ma(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class wde{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function DVe(e){return new wde(e,!0)}function LVe(e){return new wde(e,!1)}const FM={draw(e,t){const r=yu(t/Z5);e.moveTo(r,0),e.arc(0,0,r,0,oF)}},RVe={draw(e,t){const r=yu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bde=yu(1/3),MVe=bde*2,UVe={draw(e,t){const r=yu(t/MVe),a=r*bde;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},QVe={draw(e,t){const r=yu(t),a=-r/2;e.rect(a,a,r,r)}},$Ve=.8908130915292852,jde=J5(Z5/10)/J5(7*Z5/10),HVe=J5(oF/10)*jde,zVe=-mde(oF/10)*jde,VVe={draw(e,t){const r=yu(t*$Ve),a=HVe*r,s=zVe*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=oF*i/5,l=mde(o),c=J5(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*s,c*a+l*s)}e.closePath()}},_3=yu(3),KVe={draw(e,t){const r=-yu(t/(_3*3));e.moveTo(0,r*2),e.lineTo(-_3*r,-r),e.lineTo(_3*r,-r),e.closePath()}},Ic=-.5,Oc=yu(3)/2,eO=1/yu(12),qVe=(eO/2+1)*3,WVe={draw(e,t){const r=yu(t/qVe),a=r/2,s=r*eO,i=a,o=r*eO+r,l=-i,c=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ic*a-Oc*s,Oc*a+Ic*s),e.lineTo(Ic*i-Oc*o,Oc*i+Ic*o),e.lineTo(Ic*l-Oc*c,Oc*l+Ic*c),e.lineTo(Ic*a+Oc*s,Ic*s-Oc*a),e.lineTo(Ic*i+Oc*o,Ic*o-Oc*i),e.lineTo(Ic*l+Oc*c,Ic*c-Oc*l),e.closePath()}};function GVe(e,t){let r=null,a=EM(s);e=typeof e=="function"?e:Ma(e||FM),t=typeof t=="function"?t:Ma(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ma(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ma(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function e_(){}function t_(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Nde(e){this._context=e}Nde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XVe(e){return new Nde(e)}function Cde(e){this._context=e}Cde.prototype={areaStart:e_,areaEnd:e_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:t_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YVe(e){return new Cde(e)}function Sde(e){this._context=e}Sde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:t_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JVe(e){return new Sde(e)}function _de(e){this._context=e}_de.prototype={areaStart:e_,areaEnd:e_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZVe(e){return new _de(e)}function BK(e){return e<0?-1:1}function FK(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(BK(i)+BK(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function PK(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function E3(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*r,i,o)}function r_(e){this._context=e}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E3(this,this._t0,PK(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,E3(this,PK(this,r=FK(this,e,t)),r);break;default:E3(this,this._t0,r=FK(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Ede(e){this._context=new Bde(e)}(Ede.prototype=Object.create(r_.prototype)).point=function(e,t){r_.prototype.point.call(this,t,e)};function Bde(e){this._context=e}Bde.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function eKe(e){return new r_(e)}function tKe(e){return new Ede(e)}function Fde(e){this._context=e}Fde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=kK(e),s=kK(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kK(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function rKe(e){return new Fde(e)}function cF(e,t){this._context=e,this._t=t}cF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nKe(e){return new cF(e,.5)}function aKe(e){return new cF(e,0)}function sKe(e){return new cF(e,1)}function Mv(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function tO(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iKe(e,t){return e[t]}function oKe(e){const t=[];return t.key=e,t}function lKe(){var e=Ma([]),t=tO,r=Mv,a=iKe;function s(i){var o=Array.from(e.apply(this,arguments),oKe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(h,o[l].key,d,i)]).data=h;for(l=0,u=BM(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ma(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Ma(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?tO:typeof i=="function"?i:Ma(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Mv,s):r},s}function cKe(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}Mv(e,t)}}function dKe(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Mv(e,t)}}function uKe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[a][1]||0,f=u[a-1][1]||0,A=(h-f)/2,p=0;p<l;++p){var m=e[t[p]],x=m[a][1]||0,g=m[a-1][1]||0;A+=x-g}c+=h,d+=A*h}s[a-1][1]+=s[a-1][0]=r,c&&(r-=d/c)}s[a-1][1]+=s[a-1][0]=r,Mv(e,t)}}function Hj(e){"@babel/helpers - typeof";return Hj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hj(e)}var hKe=["type","size","sizeType"];function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rO.apply(this,arguments)}function TK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function IK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TK(Object(r),!0).forEach(function(a){fKe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TK(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fKe(e,t,r){return t=AKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AKe(e){var t=mKe(e,"string");return Hj(t)=="symbol"?t:t+""}function mKe(e,t){if(Hj(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hj(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pKe(e,t){if(e==null)return{};var r=xKe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xKe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Pde={symbolCircle:FM,symbolCross:RVe,symbolDiamond:UVe,symbolSquare:QVe,symbolStar:VVe,symbolTriangle:KVe,symbolWye:WVe},gKe=Math.PI/180,vKe=function(t){var r="symbol".concat(iF(t));return Pde[r]||FM},yKe=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*gKe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wKe=function(t,r){Pde["symbol".concat(iF(t))]=r},dF=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=pKe(t,hKe),d=IK(IK({},c),{},{type:a,size:i,sizeType:l}),u=function(){var x=vKe(a),g=GVe().type(x).size(yKe(i,l,a));return g()},h=d.className,f=d.cx,A=d.cy,p=Tr(d,!0);return f===+f&&A===+A&&i===+i?Se.createElement("path",rO({},p,{className:cn("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(A,")"),d:u()})):null};dF.registerSymbol=wKe;function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nO.apply(this,arguments)}function OK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bKe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OK(Object(r),!0).forEach(function(a){zj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OK(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NKe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Tde(a.key),a)}}function CKe(e,t,r){return t&&NKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SKe(e,t,r){return t=n_(t),_Ke(e,kde()?Reflect.construct(t,r||[],n_(e).constructor):t.apply(e,r))}function _Ke(e,t){if(t&&(Uv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EKe(e)}function EKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kde=function(){return!!e})()}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n_(e)}function BKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aO(e,t)}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},aO(e,t)}function zj(e,t,r){return t=Tde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tde(e){var t=FKe(e,"string");return Uv(t)=="symbol"?t:t+""}function FKe(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Uv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dc=32,PM=function(e){function t(){return jKe(this,t),SKe(this,t,arguments)}return BKe(t,e),CKe(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Dc/2,o=Dc/6,l=Dc/3,c=a.inactive?s:a.color;if(a.type==="plainline")return Se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Dc,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Dc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Dc/8,"h").concat(Dc,"v").concat(Dc*3/4,"h").concat(-Dc,"z"),className:"recharts-legend-icon"});if(Se.isValidElement(a.legendIcon)){var d=bKe({},a);return delete d.legendIcon,Se.cloneElement(a.legendIcon,d)}return Se.createElement(dF,{fill:c,cx:i,cy:i,size:Dc,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Dc,height:Dc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(A,p){var m=A.formatter||c,x=cn(zj(zj({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",A.inactive));if(A.type==="none")return null;var g=Wr(A.value)?null:A.value;su(!Wr(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=A.inactive?d:A.color;return Se.createElement("li",nO({className:x,style:h,key:"legend-item-".concat(p)},Qm(a.props,A,p)),Se.createElement(WI,{width:o,height:o,viewBox:u,style:f},a.renderIcon(A)),Se.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(g,A,p):g))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(B.PureComponent);zj(PM,"displayName","Legend");zj(PM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PKe=qB;function kKe(){this.__data__=new PKe,this.size=0}var TKe=kKe;function IKe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var OKe=IKe;function DKe(e){return this.__data__.get(e)}var LKe=DKe;function RKe(e){return this.__data__.has(e)}var MKe=RKe,UKe=qB,QKe=vM,$Ke=yM,HKe=200;function zKe(e,t){var r=this.__data__;if(r instanceof UKe){var a=r.__data__;if(!QKe||a.length<HKe-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new $Ke(a)}return r.set(e,t),this.size=r.size,this}var VKe=zKe,KKe=qB,qKe=TKe,WKe=OKe,GKe=LKe,XKe=MKe,YKe=VKe;function Yy(e){var t=this.__data__=new KKe(e);this.size=t.size}Yy.prototype.clear=qKe;Yy.prototype.delete=WKe;Yy.prototype.get=GKe;Yy.prototype.has=XKe;Yy.prototype.set=YKe;var Ide=Yy,JKe="__lodash_hash_undefined__";function ZKe(e){return this.__data__.set(e,JKe),this}var eqe=ZKe;function tqe(e){return this.__data__.has(e)}var rqe=tqe,nqe=yM,aqe=eqe,sqe=rqe;function a_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new nqe;++t<r;)this.add(e[t])}a_.prototype.add=a_.prototype.push=aqe;a_.prototype.has=sqe;var Ode=a_;function iqe(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var Dde=iqe;function oqe(e,t){return e.has(t)}var Lde=oqe,lqe=Ode,cqe=Dde,dqe=Lde,uqe=1,hqe=2;function fqe(e,t,r,a,s,i){var o=r&uqe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,A=r&hqe?new lqe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var p=e[h],m=t[h];if(a)var x=o?a(m,p,h,t,e,i):a(p,m,h,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(A){if(!cqe(t,function(g,v){if(!dqe(A,v)&&(p===g||s(p,g,r,a,i)))return A.push(v)})){f=!1;break}}else if(!(p===m||s(p,m,r,a,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var Rde=fqe,Aqe=Bh,mqe=Aqe.Uint8Array,pqe=mqe;function xqe(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}var gqe=xqe;function vqe(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var kM=vqe,DK=uN,LK=pqe,yqe=gM,wqe=Rde,bqe=gqe,jqe=kM,Nqe=1,Cqe=2,Sqe="[object Boolean]",_qe="[object Date]",Eqe="[object Error]",Bqe="[object Map]",Fqe="[object Number]",Pqe="[object RegExp]",kqe="[object Set]",Tqe="[object String]",Iqe="[object Symbol]",Oqe="[object ArrayBuffer]",Dqe="[object DataView]",RK=DK?DK.prototype:void 0,B3=RK?RK.valueOf:void 0;function Lqe(e,t,r,a,s,i,o){switch(r){case Dqe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oqe:return!(e.byteLength!=t.byteLength||!i(new LK(e),new LK(t)));case Sqe:case _qe:case Fqe:return yqe(+e,+t);case Eqe:return e.name==t.name&&e.message==t.message;case Pqe:case Tqe:return e==t+"";case Bqe:var l=bqe;case kqe:var c=a&Nqe;if(l||(l=jqe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=Cqe,o.set(e,t);var u=wqe(l(e),l(t),a,s,i,o);return o.delete(e),u;case Iqe:if(B3)return B3.call(e)==B3.call(t)}return!1}var Rqe=Lqe;function Mqe(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var Mde=Mqe,Uqe=Mde,Qqe=Hl;function $qe(e,t,r){var a=t(e);return Qqe(e)?a:Uqe(a,r(e))}var Hqe=$qe;function zqe(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var Vqe=zqe;function Kqe(){return[]}var qqe=Kqe,Wqe=Vqe,Gqe=qqe,Xqe=Object.prototype,Yqe=Xqe.propertyIsEnumerable,MK=Object.getOwnPropertySymbols,Jqe=MK?function(e){return e==null?[]:(e=Object(e),Wqe(MK(e),function(t){return Yqe.call(e,t)}))}:Gqe,Zqe=Jqe;function eWe(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var tWe=eWe,rWe=Wf,nWe=Gf,aWe="[object Arguments]";function sWe(e){return nWe(e)&&rWe(e)==aWe}var iWe=sWe,UK=iWe,oWe=Gf,Ude=Object.prototype,lWe=Ude.hasOwnProperty,cWe=Ude.propertyIsEnumerable,dWe=UK(function(){return arguments}())?UK:function(e){return oWe(e)&&lWe.call(e,"callee")&&!cWe.call(e,"callee")},TM=dWe,s_={exports:{}};function uWe(){return!1}var hWe=uWe;s_.exports;(function(e,t){var r=Bh,a=hWe,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(s_,s_.exports);var Qde=s_.exports,fWe=9007199254740991,AWe=/^(?:0|[1-9]\d*)$/;function mWe(e,t){var r=typeof e;return t=t??fWe,!!t&&(r=="number"||r!="symbol"&&AWe.test(e))&&e>-1&&e%1==0&&e<t}var IM=mWe,pWe=9007199254740991;function xWe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pWe}var OM=xWe,gWe=Wf,vWe=OM,yWe=Gf,wWe="[object Arguments]",bWe="[object Array]",jWe="[object Boolean]",NWe="[object Date]",CWe="[object Error]",SWe="[object Function]",_We="[object Map]",EWe="[object Number]",BWe="[object Object]",FWe="[object RegExp]",PWe="[object Set]",kWe="[object String]",TWe="[object WeakMap]",IWe="[object ArrayBuffer]",OWe="[object DataView]",DWe="[object Float32Array]",LWe="[object Float64Array]",RWe="[object Int8Array]",MWe="[object Int16Array]",UWe="[object Int32Array]",QWe="[object Uint8Array]",$We="[object Uint8ClampedArray]",HWe="[object Uint16Array]",zWe="[object Uint32Array]",qa={};qa[DWe]=qa[LWe]=qa[RWe]=qa[MWe]=qa[UWe]=qa[QWe]=qa[$We]=qa[HWe]=qa[zWe]=!0;qa[wWe]=qa[bWe]=qa[IWe]=qa[jWe]=qa[OWe]=qa[NWe]=qa[CWe]=qa[SWe]=qa[_We]=qa[EWe]=qa[BWe]=qa[FWe]=qa[PWe]=qa[kWe]=qa[TWe]=!1;function VWe(e){return yWe(e)&&vWe(e.length)&&!!qa[gWe(e)]}var KWe=VWe;function qWe(e){return function(t){return e(t)}}var $de=qWe,i_={exports:{}};i_.exports;(function(e,t){var r=Gce,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(i_,i_.exports);var WWe=i_.exports,GWe=KWe,XWe=$de,QK=WWe,$K=QK&&QK.isTypedArray,YWe=$K?XWe($K):GWe,Hde=YWe,JWe=tWe,ZWe=TM,eGe=Hl,tGe=Qde,rGe=IM,nGe=Hde,aGe=Object.prototype,sGe=aGe.hasOwnProperty;function iGe(e,t){var r=eGe(e),a=!r&&ZWe(e),s=!r&&!a&&tGe(e),i=!r&&!a&&!s&&nGe(e),o=r||a||s||i,l=o?JWe(e.length,String):[],c=l.length;for(var d in e)(t||sGe.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||rGe(d,c)))&&l.push(d);return l}var oGe=iGe,lGe=Object.prototype;function cGe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||lGe;return e===r}var dGe=cGe;function uGe(e,t){return function(r){return e(t(r))}}var zde=uGe,hGe=zde,fGe=hGe(Object.keys,Object),AGe=fGe,mGe=dGe,pGe=AGe,xGe=Object.prototype,gGe=xGe.hasOwnProperty;function vGe(e){if(!mGe(e))return pGe(e);var t=[];for(var r in Object(e))gGe.call(e,r)&&r!="constructor"&&t.push(r);return t}var yGe=vGe,wGe=xM,bGe=OM;function jGe(e){return e!=null&&bGe(e.length)&&!wGe(e)}var fN=jGe,NGe=oGe,CGe=yGe,SGe=fN;function _Ge(e){return SGe(e)?NGe(e):CGe(e)}var uF=_Ge,EGe=Hqe,BGe=Zqe,FGe=uF;function PGe(e){return EGe(e,FGe,BGe)}var kGe=PGe,HK=kGe,TGe=1,IGe=Object.prototype,OGe=IGe.hasOwnProperty;function DGe(e,t,r,a,s,i){var o=r&TGe,l=HK(e),c=l.length,d=HK(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:OGe.call(t,f)))return!1}var A=i.get(e),p=i.get(t);if(A&&p)return A==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++h<c;){f=l[h];var g=e[f],v=t[f];if(a)var y=o?a(v,g,f,t,e,i):a(g,v,f,e,t,i);if(!(y===void 0?g===v||s(g,v,r,a,i):y)){m=!1;break}x||(x=f=="constructor")}if(m&&!x){var j=e.constructor,b=t.constructor;j!=b&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof b=="function"&&b instanceof b)&&(m=!1)}return i.delete(e),i.delete(t),m}var LGe=DGe,RGe=dx,MGe=Bh,UGe=RGe(MGe,"DataView"),QGe=UGe,$Ge=dx,HGe=Bh,zGe=$Ge(HGe,"Promise"),VGe=zGe,KGe=dx,qGe=Bh,WGe=KGe(qGe,"Set"),Vde=WGe,GGe=dx,XGe=Bh,YGe=GGe(XGe,"WeakMap"),JGe=YGe,sO=QGe,iO=vM,oO=VGe,lO=Vde,cO=JGe,Kde=Wf,Jy=Yce,zK="[object Map]",ZGe="[object Object]",VK="[object Promise]",KK="[object Set]",qK="[object WeakMap]",WK="[object DataView]",eXe=Jy(sO),tXe=Jy(iO),rXe=Jy(oO),nXe=Jy(lO),aXe=Jy(cO),_p=Kde;(sO&&_p(new sO(new ArrayBuffer(1)))!=WK||iO&&_p(new iO)!=zK||oO&&_p(oO.resolve())!=VK||lO&&_p(new lO)!=KK||cO&&_p(new cO)!=qK)&&(_p=function(e){var t=Kde(e),r=t==ZGe?e.constructor:void 0,a=r?Jy(r):"";if(a)switch(a){case eXe:return WK;case tXe:return zK;case rXe:return VK;case nXe:return KK;case aXe:return qK}return t});var sXe=_p,F3=Ide,iXe=Rde,oXe=Rqe,lXe=LGe,GK=sXe,XK=Hl,YK=Qde,cXe=Hde,dXe=1,JK="[object Arguments]",ZK="[object Array]",m4="[object Object]",uXe=Object.prototype,eq=uXe.hasOwnProperty;function hXe(e,t,r,a,s,i){var o=XK(e),l=XK(t),c=o?ZK:GK(e),d=l?ZK:GK(t);c=c==JK?m4:c,d=d==JK?m4:d;var u=c==m4,h=d==m4,f=c==d;if(f&&YK(e)){if(!YK(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new F3),o||cXe(e)?iXe(e,t,r,a,s,i):oXe(e,t,c,r,a,s,i);if(!(r&dXe)){var A=u&&eq.call(e,"__wrapped__"),p=h&&eq.call(t,"__wrapped__");if(A||p){var m=A?e.value():e,x=p?t.value():t;return i||(i=new F3),s(m,x,r,a,i)}}return f?(i||(i=new F3),lXe(e,t,r,a,s,i)):!1}var fXe=hXe,AXe=fXe,tq=Gf;function qde(e,t,r,a,s){return e===t?!0:e==null||t==null||!tq(e)&&!tq(t)?e!==e&&t!==t:AXe(e,t,r,a,qde,s)}var DM=qde,mXe=Ide,pXe=DM,xXe=1,gXe=2;function vXe(e,t,r,a){var s=r.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new mXe;if(a)var f=a(d,u,c,e,t,h);if(!(f===void 0?pXe(u,d,xXe|gXe,a,h):f))return!1}}return!0}var yXe=vXe,wXe=Ym;function bXe(e){return e===e&&!wXe(e)}var Wde=bXe,jXe=Wde,NXe=uF;function CXe(e){for(var t=NXe(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,jXe(s)]}return t}var SXe=CXe;function _Xe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Gde=_Xe,EXe=yXe,BXe=SXe,FXe=Gde;function PXe(e){var t=BXe(e);return t.length==1&&t[0][2]?FXe(t[0][0],t[0][1]):function(r){return r===e||EXe(r,e,t)}}var kXe=PXe;function TXe(e,t){return e!=null&&t in Object(e)}var IXe=TXe,OXe=rde,DXe=TM,LXe=Hl,RXe=IM,MXe=OM,UXe=GB;function QXe(e,t,r){t=OXe(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var o=UXe(t[a]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&MXe(s)&&RXe(o,s)&&(LXe(e)||DXe(e)))}var $Xe=QXe,HXe=IXe,zXe=$Xe;function VXe(e,t){return e!=null&&zXe(e,t,HXe)}var KXe=VXe,qXe=DM,WXe=nde,GXe=KXe,XXe=pM,YXe=Wde,JXe=Gde,ZXe=GB,eYe=1,tYe=2;function rYe(e,t){return XXe(e)&&YXe(t)?JXe(ZXe(e),t):function(r){var a=WXe(r,e);return a===void 0&&a===t?GXe(r,e):qXe(t,a,eYe|tYe)}}var nYe=rYe;function aYe(e){return e}var Zy=aYe;function sYe(e){return function(t){return t==null?void 0:t[e]}}var iYe=sYe,oYe=jM;function lYe(e){return function(t){return oYe(t,e)}}var cYe=lYe,dYe=iYe,uYe=cYe,hYe=pM,fYe=GB;function AYe(e){return hYe(e)?dYe(fYe(e)):uYe(e)}var mYe=AYe,pYe=kXe,xYe=nYe,gYe=Zy,vYe=Hl,yYe=mYe;function wYe(e){return typeof e=="function"?e:e==null?gYe:typeof e=="object"?vYe(e)?xYe(e[0],e[1]):pYe(e):yYe(e)}var Fh=wYe;function bYe(e,t,r,a){for(var s=e.length,i=r+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var Xde=bYe;function jYe(e){return e!==e}var NYe=jYe;function CYe(e,t,r){for(var a=r-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var SYe=CYe,_Ye=Xde,EYe=NYe,BYe=SYe;function FYe(e,t,r){return t===t?BYe(e,t,r):_Ye(e,EYe,r)}var PYe=FYe,kYe=PYe;function TYe(e,t){var r=e==null?0:e.length;return!!r&&kYe(e,t,0)>-1}var IYe=TYe;function OYe(e,t,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(t,e[a]))return!0;return!1}var DYe=OYe;function LYe(){}var RYe=LYe,P3=Vde,MYe=RYe,UYe=kM,QYe=1/0,$Ye=P3&&1/UYe(new P3([,-0]))[1]==QYe?function(e){return new P3(e)}:MYe,HYe=$Ye,zYe=Ode,VYe=IYe,KYe=DYe,qYe=Lde,WYe=HYe,GYe=kM,XYe=200;function YYe(e,t,r){var a=-1,s=VYe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=KYe;else if(i>=XYe){var d=t?null:WYe(e);if(d)return GYe(d);o=!1,s=qYe,c=new zYe}else c=t?[]:l;e:for(;++a<i;){var u=e[a],h=t?t(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(u)}else s(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var JYe=YYe,ZYe=Fh,eJe=JYe;function tJe(e,t){return e&&e.length?eJe(e,ZYe(t)):[]}var rJe=tJe;const rq=ua(rJe);function Yde(e,t,r){return t===!0?rq(e,r):Wr(t)?rq(e,t):e}function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}var nJe=["ref"];function nq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nq(Object(r),!0).forEach(function(a){hF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Zde(a.key),a)}}function sJe(e,t,r){return t&&aq(e.prototype,t),r&&aq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iJe(e,t,r){return t=o_(t),oJe(e,Jde()?Reflect.construct(t,r||[],o_(e).constructor):t.apply(e,r))}function oJe(e,t){if(t&&(Qv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lJe(e)}function lJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jde=function(){return!!e})()}function o_(e){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o_(e)}function cJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dO(e,t)}function dO(e,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dO(e,t)}function hF(e,t,r){return t=Zde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zde(e){var t=dJe(e,"string");return Qv(t)=="symbol"?t:t+""}function dJe(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uJe(e,t){if(e==null)return{};var r=hJe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function hJe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function fJe(e){return e.value}function AJe(e,t){if(Se.isValidElement(e))return Se.cloneElement(e,t);if(typeof e=="function")return Se.createElement(e,t);t.ref;var r=uJe(t,nJe);return Se.createElement(PM,r)}var sq=1,ch=function(e){function t(){var r;aJe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=iJe(this,t,[].concat(s)),hF(r,"lastBoundingBox",{width:-1,height:-1}),r}return cJe(t,e),sJe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>sq||Math.abs(s.height-this.lastBoundingBox.height)>sq)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,h,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var A=this.getBBoxSnapshot();h={left:((d||0)-A.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();f={top:((u||0)-p.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Yh(Yh({},h),f)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,h=Yh(Yh({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Se.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(A){a.wrapperNode=A}},AJe(i,Yh(Yh({},this.props),{},{payload:Yde(u,d,fJe)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Yh(Yh({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&sr(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(B.PureComponent);hF(ch,"displayName","Legend");hF(ch,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iq=uN,mJe=TM,pJe=Hl,oq=iq?iq.isConcatSpreadable:void 0;function xJe(e){return pJe(e)||mJe(e)||!!(oq&&e&&e[oq])}var gJe=xJe,vJe=Mde,yJe=gJe;function eue(e,t,r,a,s){var i=-1,o=e.length;for(r||(r=yJe),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?eue(l,t-1,r,a,s):vJe(s,l):a||(s[s.length]=l)}return s}var tue=eue;function wJe(e){return function(t,r,a){for(var s=-1,i=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var bJe=wJe,jJe=bJe,NJe=jJe(),CJe=NJe,SJe=CJe,_Je=uF;function EJe(e,t){return e&&SJe(e,t,_Je)}var rue=EJe,BJe=fN;function FJe(e,t){return function(r,a){if(r==null)return r;if(!BJe(r))return e(r,a);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&a(o[i],i,o)!==!1;);return r}}var PJe=FJe,kJe=rue,TJe=PJe,IJe=TJe(kJe),LM=IJe,OJe=LM,DJe=fN;function LJe(e,t){var r=-1,a=DJe(e)?Array(e.length):[];return OJe(e,function(s,i,o){a[++r]=t(s,i,o)}),a}var nue=LJe;function RJe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var MJe=RJe,lq=Vy;function UJe(e,t){if(e!==t){var r=e!==void 0,a=e===null,s=e===e,i=lq(e),o=t!==void 0,l=t===null,c=t===t,d=lq(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!s)return 1;if(!a&&!i&&!d&&e<t||d&&r&&s&&!a&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var QJe=UJe,$Je=QJe;function HJe(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++a<o;){var c=$Je(s[a],i[a]);if(c){if(a>=l)return c;var d=r[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var zJe=HJe,k3=bM,VJe=jM,KJe=Fh,qJe=nue,WJe=MJe,GJe=$de,XJe=zJe,YJe=Zy,JJe=Hl;function ZJe(e,t,r){t.length?t=k3(t,function(i){return JJe(i)?function(o){return VJe(o,i.length===1?i[0]:i)}:i}):t=[YJe];var a=-1;t=k3(t,GJe(KJe));var s=qJe(e,function(i,o,l){var c=k3(t,function(d){return d(i)});return{criteria:c,index:++a,value:i}});return WJe(s,function(i,o){return XJe(i,o,r)})}var eZe=ZJe;function tZe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rZe=tZe,nZe=rZe,cq=Math.max;function aZe(e,t,r){return t=cq(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=cq(a.length-t,0),o=Array(i);++s<i;)o[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=r(o),nZe(e,this,l)}}var sZe=aZe;function iZe(e){return function(){return e}}var oZe=iZe,lZe=dx,cZe=function(){try{var e=lZe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),aue=cZe,dZe=oZe,dq=aue,uZe=Zy,hZe=dq?function(e,t){return dq(e,"toString",{configurable:!0,enumerable:!1,value:dZe(t),writable:!0})}:uZe,fZe=hZe,AZe=800,mZe=16,pZe=Date.now;function xZe(e){var t=0,r=0;return function(){var a=pZe(),s=mZe-(a-r);if(r=a,s>0){if(++t>=AZe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gZe=xZe,vZe=fZe,yZe=gZe,wZe=yZe(vZe),bZe=wZe,jZe=Zy,NZe=sZe,CZe=bZe;function SZe(e,t){return CZe(NZe(e,t,jZe),e+"")}var _Ze=SZe,EZe=gM,BZe=fN,FZe=IM,PZe=Ym;function kZe(e,t,r){if(!PZe(r))return!1;var a=typeof t;return(a=="number"?BZe(r)&&FZe(t,r.length):a=="string"&&t in r)?EZe(r[t],e):!1}var fF=kZe,TZe=tue,IZe=eZe,OZe=_Ze,uq=fF,DZe=OZe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uq(e,t[0],t[1])?t=[]:r>2&&uq(t[0],t[1],t[2])&&(t=[t[0]]),IZe(e,TZe(t,1),[])}),LZe=DZe;const RM=ua(LZe);function Vj(e){"@babel/helpers - typeof";return Vj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vj(e)}function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uO.apply(this,arguments)}function RZe(e,t){return $Ze(e)||QZe(e,t)||UZe(e,t)||MZe()}function MZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZe(e,t){if(e){if(typeof e=="string")return hq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hq(e,t)}}function hq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function QZe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $Ze(e){if(Array.isArray(e))return e}function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function T3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(r),!0).forEach(function(a){HZe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function HZe(e,t,r){return t=zZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZe(e){var t=VZe(e,"string");return Vj(t)=="symbol"?t:t+""}function VZe(e,t){if(Vj(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vj(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KZe(e){return Array.isArray(e)&&yi(e[0])&&yi(e[1])?e.join(" ~ "):e}var qZe=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,f=t.itemSorter,A=t.wrapperClassName,p=t.labelClassName,m=t.label,x=t.labelFormatter,g=t.accessibilityLayer,v=g===void 0?!1:g,y=function(){if(u&&u.length){var I={padding:0,margin:0},M=(f?RM(u,f):u).map(function(O,k){if(O.type==="none")return null;var P=T3({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),R=O.formatter||h||KZe,V=O.value,D=O.name,Y=V,ne=D;if(R&&Y!=null&&ne!=null){var S=R(V,D,O,k,u);if(Array.isArray(S)){var z=RZe(S,2);Y=z[0],ne=z[1]}else Y=S}return Se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:P},yi(ne)?Se.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,yi(ne)?Se.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Se.createElement("span",{className:"recharts-tooltip-item-value"},Y),Se.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return Se.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},j=T3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=T3({margin:0},d),w=!Gr(m),C=w?m:"",F=cn("recharts-default-tooltip",A),E=cn("recharts-tooltip-label",p);w&&x&&u!==void 0&&u!==null&&(C=x(m,u));var L=v?{role:"status","aria-live":"assertive"}:{};return Se.createElement("div",uO({className:F,style:j},L),Se.createElement("p",{className:E,style:b},Se.isValidElement(C)?C:"".concat(C)),y())};function Kj(e){"@babel/helpers - typeof";return Kj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kj(e)}function p4(e,t,r){return t=WZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZe(e){var t=GZe(e,"string");return Kj(t)=="symbol"?t:t+""}function GZe(e,t){if(Kj(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kj(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew="recharts-tooltip-wrapper",XZe={visibility:"hidden"};function YZe(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return cn(ew,p4(p4(p4(p4({},"".concat(ew,"-right"),sr(r)&&t&&sr(t.x)&&r>=t.x),"".concat(ew,"-left"),sr(r)&&t&&sr(t.x)&&r<t.x),"".concat(ew,"-bottom"),sr(a)&&t&&sr(t.y)&&a>=t.y),"".concat(ew,"-top"),sr(a)&&t&&sr(t.y)&&a<t.y))}function Aq(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&sr(i[a]))return i[a];var u=r[a]-l-s,h=r[a]+s;if(t[a])return o[a]?u:h;if(o[a]){var f=u,A=c[a];return f<A?Math.max(h,c[a]):Math.max(u,c[a])}var p=h+l,m=c[a]+d;return p>m?Math.max(u,c[a]):Math.max(h,c[a])}function JZe(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ZZe(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=Aq({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Aq({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=JZe({translateX:u,translateY:h,useTranslate3d:l})):d=XZe,{cssProperties:d,cssClasses:YZe({translateX:u,translateY:h,coordinate:r})}}function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mq(Object(r),!0).forEach(function(a){fO(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mq(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tet(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,iue(a.key),a)}}function ret(e,t,r){return t&&tet(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function net(e,t,r){return t=l_(t),aet(e,sue()?Reflect.construct(t,r||[],l_(e).constructor):t.apply(e,r))}function aet(e,t){if(t&&($v(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return set(e)}function set(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sue=function(){return!!e})()}function l_(e){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l_(e)}function iet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hO(e,t)}function hO(e,t){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},hO(e,t)}function fO(e,t,r){return t=iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=oet(e,"string");return $v(t)=="symbol"?t:t+""}function oet(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if($v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xq=1,cet=function(e){function t(){var r;eet(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=net(this,t,[].concat(s)),fO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return iet(t,e),ret(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>xq||Math.abs(a.height-this.state.lastBoundingBox.height)>xq)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,A=s.offset,p=s.position,m=s.reverseDirection,x=s.useTranslate3d,g=s.viewBox,v=s.wrapperStyle,y=ZZe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:A,position:p,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),j=y.cssClasses,b=y.cssProperties,w=pq(pq({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return Se.createElement("div",{tabIndex:-1,className:j,style:w,ref:function(F){a.wrapperNode=F}},d)}}])}(B.PureComponent),det=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dd={isSsr:det(),get:function(t){return dd[t]},set:function(t,r){if(typeof t=="string")dd[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){dd[s]=t[s]})}}};function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gq(Object(r),!0).forEach(function(a){MM(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gq(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uet(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function het(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lue(a.key),a)}}function fet(e,t,r){return t&&het(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aet(e,t,r){return t=c_(t),met(e,oue()?Reflect.construct(t,r||[],c_(e).constructor):t.apply(e,r))}function met(e,t){if(t&&(Hv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pet(e)}function pet(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oue=function(){return!!e})()}function c_(e){return c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c_(e)}function xet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},AO(e,t)}function MM(e,t,r){return t=lue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=get(e,"string");return Hv(t)=="symbol"?t:t+""}function get(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vet(e){return e.dataKey}function yet(e,t){return Se.isValidElement(e)?Se.cloneElement(e,t):typeof e=="function"?Se.createElement(e,t):Se.createElement(qZe,t)}var eo=function(e){function t(){return uet(this,t),Aet(this,t,arguments)}return xet(t,e),fet(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,h=s.filterNull,f=s.isAnimationActive,A=s.offset,p=s.payload,m=s.payloadUniqBy,x=s.position,g=s.reverseDirection,v=s.useTranslate3d,y=s.viewBox,j=s.wrapperStyle,b=p??[];h&&b.length&&(b=Yde(p.filter(function(C){return C.value!=null&&(C.hide!==!0||a.props.includeHidden)}),m,vet));var w=b.length>0;return Se.createElement(cet,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:w,offset:A,position:x,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:j},yet(d,vq(vq({},this.props),{},{payload:b})))}}])}(B.PureComponent);MM(eo,"displayName","Tooltip");MM(eo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wet=Bh,bet=function(){return wet.Date.now()},jet=bet,Net=/\s/;function Cet(e){for(var t=e.length;t--&&Net.test(e.charAt(t)););return t}var _et=Cet,Eet=_et,Bet=/^\s+/;function Fet(e){return e&&e.slice(0,Eet(e)+1).replace(Bet,"")}var Pet=Fet,ket=Pet,yq=Ym,Tet=Vy,wq=NaN,Iet=/^[-+]0x[0-9a-f]+$/i,Oet=/^0b[01]+$/i,Det=/^0o[0-7]+$/i,Let=parseInt;function Ret(e){if(typeof e=="number")return e;if(Tet(e))return wq;if(yq(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yq(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ket(e);var r=Oet.test(e);return r||Det.test(e)?Let(e.slice(2),r?2:8):Iet.test(e)?wq:+e}var cue=Ret,Met=Ym,I3=jet,bq=cue,Uet="Expected a function",Qet=Math.max,$et=Math.min;function Het(e,t,r){var a,s,i,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(Uet);t=bq(t)||0,Met(r)&&(u=!!r.leading,h="maxWait"in r,i=h?Qet(bq(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f);function A(w){var C=a,F=s;return a=s=void 0,d=w,o=e.apply(F,C),o}function p(w){return d=w,l=setTimeout(g,t),u?A(w):o}function m(w){var C=w-c,F=w-d,E=t-C;return h?$et(E,i-F):E}function x(w){var C=w-c,F=w-d;return c===void 0||C>=t||C<0||h&&F>=i}function g(){var w=I3();if(x(w))return v(w);l=setTimeout(g,m(w))}function v(w){return l=void 0,f&&a?A(w):(a=s=void 0,o)}function y(){l!==void 0&&clearTimeout(l),d=0,a=c=s=l=void 0}function j(){return l===void 0?o:v(I3())}function b(){var w=I3(),C=x(w);if(a=arguments,s=this,c=w,C){if(l===void 0)return p(c);if(h)return clearTimeout(l),l=setTimeout(g,t),A(c)}return l===void 0&&(l=setTimeout(g,t)),o}return b.cancel=y,b.flush=j,b}var zet=Het,Vet=zet,Ket=Ym,qet="Expected a function";function Wet(e,t,r){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(qet);return Ket(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),Vet(e,t,{leading:a,maxWait:t,trailing:s})}var Get=Wet;const due=ua(Get);function qj(e){"@babel/helpers - typeof";return qj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qj(e)}function jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function x4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(r),!0).forEach(function(a){Xet(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xet(e,t,r){return t=Yet(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yet(e){var t=Jet(e,"string");return qj(t)=="symbol"?t:t+""}function Jet(e,t){if(qj(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qj(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zet(e,t){return ntt(e)||rtt(e,t)||ttt(e,t)||ett()}function ett(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ttt(e,t){if(e){if(typeof e=="string")return Nq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nq(e,t)}}function Nq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function rtt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ntt(e){if(Array.isArray(e))return e}var DA=B.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,f=e.maxHeight,A=e.children,p=e.debounce,m=p===void 0?0:p,x=e.id,g=e.className,v=e.onResize,y=e.style,j=y===void 0?{}:y,b=B.useRef(null),w=B.useRef();w.current=v,B.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var C=B.useState({containerWidth:s.width,containerHeight:s.height}),F=Zet(C,2),E=F[0],L=F[1],N=B.useCallback(function(M,O){L(function(k){var P=Math.round(M),R=Math.round(O);return k.containerWidth===P&&k.containerHeight===R?k:{containerWidth:P,containerHeight:R}})},[]);B.useEffect(function(){var M=function(D){var Y,ne=D[0].contentRect,S=ne.width,z=ne.height;N(S,z),(Y=w.current)===null||Y===void 0||Y.call(w,S,z)};m>0&&(M=due(M,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(M),k=b.current.getBoundingClientRect(),P=k.width,R=k.height;return N(P,R),O.observe(b.current),function(){O.disconnect()}},[N,m]);var I=B.useMemo(function(){var M=E.containerWidth,O=E.containerHeight;if(M<0||O<0)return null;su(Kp(o)||Kp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),su(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Kp(o)?M:o,P=Kp(c)?O:c;r&&r>0&&(k?P=k/r:P&&(k=P*r),f&&P>f&&(P=f)),su(k>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,P,o,c,u,h,r);var R=!Array.isArray(A)&&Nf(A.type).endsWith("Chart");return Se.Children.map(A,function(V){return Se.isValidElement(V)?B.cloneElement(V,x4({width:k,height:P},R?{style:x4({height:"100%",width:"100%",maxHeight:P,maxWidth:k},V.props.style)}:{})):V})},[r,A,c,f,h,u,E,o]);return Se.createElement("div",{id:x?"".concat(x):void 0,className:cn("recharts-responsive-container",g),style:x4(x4({},j),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:b},I)}),e1=function(t){return null};e1.displayName="Cell";function Wj(e){"@babel/helpers - typeof";return Wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wj(e)}function Cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(r),!0).forEach(function(a){att(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function att(e,t,r){return t=stt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function stt(e){var t=itt(e,"string");return Wj(t)=="symbol"?t:t+""}function itt(e,t){if(Wj(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wj(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kx={widthCache:{},cacheCount:0},ott=2e3,ltt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sq="recharts_measurement_span";function ctt(e){var t=mO({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var wb=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dd.isSsr)return{width:0,height:0};var a=ctt(r),s=JSON.stringify({text:t,copyStyle:a});if(Kx.widthCache[s])return Kx.widthCache[s];try{var i=document.getElementById(Sq);i||(i=document.createElement("span"),i.setAttribute("id",Sq),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=mO(mO({},ltt),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Kx.widthCache[s]=c,++Kx.cacheCount>ott&&(Kx.cacheCount=0,Kx.widthCache={}),c}catch{return{width:0,height:0}}},dtt=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gj(e){"@babel/helpers - typeof";return Gj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gj(e)}function d_(e,t){return Att(e)||ftt(e,t)||htt(e,t)||utt()}function utt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function htt(e,t){if(e){if(typeof e=="string")return _q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _q(e,t)}}function _q(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ftt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Att(e){if(Array.isArray(e))return e}function mtt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eq(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xtt(a.key),a)}}function ptt(e,t,r){return t&&Eq(e.prototype,t),r&&Eq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xtt(e){var t=gtt(e,"string");return Gj(t)=="symbol"?t:t+""}function gtt(e,t){if(Gj(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gj(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vtt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ytt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wtt=Object.keys(uue),bg="NaN";function btt(e,t){return e*uue[t]}var g4=function(){function e(t,r){mtt(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!vtt.test(r)&&(this.num=NaN,this.unit=""),wtt.includes(r)&&(this.num=btt(t,r),this.unit="px")}return ptt(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=ytt.exec(r))!==null&&a!==void 0?a:[],i=d_(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function hue(e){if(e.includes(bg))return bg;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=Bq.exec(t))!==null&&r!==void 0?r:[],s=d_(a,4),i=s[1],o=s[2],l=s[3],c=g4.parse(i??""),d=g4.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return bg;t=t.replace(Bq,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=Fq.exec(t))!==null&&h!==void 0?h:[],A=d_(f,4),p=A[1],m=A[2],x=A[3],g=g4.parse(p??""),v=g4.parse(x??""),y=m==="+"?g.add(v):g.subtract(v);if(y.isNaN())return bg;t=t.replace(Fq,y.toString())}return t}var Pq=/\(([^()]*)\)/;function jtt(e){for(var t=e;t.includes("(");){var r=Pq.exec(t),a=d_(r,2),s=a[1];t=t.replace(Pq,hue(s))}return t}function Ntt(e){var t=e.replace(/\s+/g,"");return t=jtt(t),t=hue(t),t}function Ctt(e){try{return Ntt(e)}catch{return bg}}function O3(e){var t=Ctt(e.slice(5,-1));return t===bg?"":t}var Stt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_tt=["dx","dy","angle","className","breakAll"];function pO(){return pO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pO.apply(this,arguments)}function kq(e,t){if(e==null)return{};var r=Ett(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ett(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Tq(e,t){return ktt(e)||Ptt(e,t)||Ftt(e,t)||Btt()}function Btt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ftt(e,t){if(e){if(typeof e=="string")return Iq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iq(e,t)}}function Iq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Ptt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ktt(e){if(Array.isArray(e))return e}var fue=/[ \f\n\r\t\v\u2028\u2029]+/,Aue=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Gr(r)||(a?i=r.toString().split(""):i=r.toString().split(fue));var o=i.map(function(c){return{word:c,width:wb(c,s).width}}),l=a?0:wb("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Ttt=function(t,r,a,s,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=sr(o),h=l,f=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce(function(P,R){var V=R.word,D=R.width,Y=P[P.length-1];if(Y&&(s==null||i||Y.width+D+a<Number(s)))Y.words.push(V),Y.width+=D+a;else{var ne={words:[V],width:D};P.push(ne)}return P},[])},A=f(r),p=function(k){return k.reduce(function(P,R){return P.width>R.width?P:R})};if(!u)return A;for(var m="",x=function(k){var P=h.slice(0,k),R=Aue({breakAll:d,style:c,children:P+m}).wordsWithComputedWidth,V=f(R),D=V.length>o||p(V).width>Number(s);return[D,V]},g=0,v=h.length-1,y=0,j;g<=v&&y<=h.length-1;){var b=Math.floor((g+v)/2),w=b-1,C=x(w),F=Tq(C,2),E=F[0],L=F[1],N=x(b),I=Tq(N,1),M=I[0];if(!E&&!M&&(g=b+1),E&&M&&(v=b-1),!E&&M){j=L;break}y++}return j||A},Oq=function(t){var r=Gr(t)?[]:t.toString().split(fue);return[{words:r}]},Itt=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!dd.isSsr){var c,d,u=Aue({breakAll:o,children:s,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return Oq(s);return Ttt({breakAll:o,children:s,maxLines:l,style:i},c,d,r,a)}return Oq(s)},Dq="#808080",$0=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,f=t.textAnchor,A=f===void 0?"start":f,p=t.verticalAnchor,m=p===void 0?"end":p,x=t.fill,g=x===void 0?Dq:x,v=kq(t,Stt),y=B.useMemo(function(){return Itt({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),j=v.dx,b=v.dy,w=v.angle,C=v.className,F=v.breakAll,E=kq(v,_tt);if(!yi(a)||!yi(i))return null;var L=a+(sr(j)?j:0),N=i+(sr(b)?b:0),I;switch(m){case"start":I=O3("calc(".concat(d,")"));break;case"middle":I=O3("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=O3("calc(".concat(y.length-1," * -").concat(l,")"));break}var M=[];if(h){var O=y[0].width,k=v.width;M.push("scale(".concat((sr(k)?k/O:1)/O,")"))}return w&&M.push("rotate(".concat(w,", ").concat(L,", ").concat(N,")")),M.length&&(E.transform=M.join(" ")),Se.createElement("text",pO({},Tr(E,!0),{x:L,y:N,className:cn("recharts-text",C),textAnchor:A,fill:g.includes("url")?Dq:g}),y.map(function(P,R){var V=P.words.join(F?"":" ");return Se.createElement("tspan",{x:L,dy:R===0?I:l,key:"".concat(V,"-").concat(R)},V)}))};function ym(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ott(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UM(e){let t,r,a;e.length!==2?(t=ym,r=(l,c)=>ym(e(l),c),a=(l,c)=>e(l)-c):(t=e===ym||e===Ott?e:Dtt,r=e,a=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=s(l,c,d,u-1);return h>d&&a(l[h-1],c)>-a(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function Dtt(){return 0}function mue(e){return e===null?NaN:+e}function*Ltt(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Rtt=UM(ym),AN=Rtt.right;UM(mue).center;class Lq extends Map{constructor(t,r=Qtt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(Rq(this,t))}has(t){return super.has(Rq(this,t))}set(t,r){return super.set(Mtt(this,t),r)}delete(t){return super.delete(Utt(this,t))}}function Rq({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Mtt({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Utt({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Qtt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $tt(e=ym){if(e===ym)return pue;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function pue(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Htt=Math.sqrt(50),ztt=Math.sqrt(10),Vtt=Math.sqrt(2);function u_(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=Htt?10:i>=ztt?5:i>=Vtt?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?u_(e,t,r*2):[l,c,d]}function xO(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?u_(t,e,r):u_(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function gO(e,t,r){return t=+t,e=+e,r=+r,u_(e,t,r)[2]}function vO(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?gO(t,e,r):gO(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function Mq(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function Uq(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function xue(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?pue:$tt(s);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),A=Math.max(r,Math.floor(t-d*h/c+f)),p=Math.min(a,Math.floor(t+(c-d)*h/c+f));xue(e,t,A,p,s)}const i=e[t];let o=r,l=a;for(tw(e,r,t),s(e[a],i)>0&&tw(e,r,a);o<l;){for(tw(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?tw(e,r,l):(++l,tw(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function tw(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Ktt(e,t,r){if(e=Float64Array.from(Ltt(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return Uq(e);if(t>=1)return Mq(e);var a,s=(a-1)*t,i=Math.floor(s),o=Mq(xue(e,i).subarray(0,i+1)),l=Uq(e.subarray(i+1));return o+(l-o)*(s-i)}}function qtt(e,t,r=mue){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Wtt(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function bd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yO=Symbol("implicit");function QM(){var e=new Lq,t=[],r=[],a=yO;function s(i){let o=e.get(i);if(o===void 0){if(a!==yO)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Lq;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return QM(t,r).unknown(a)},bd.apply(s,arguments),s}function Xj(){var e=QM().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var f=t().length,A=s<a,p=A?s:a,m=A?a:s;i=(m-p)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),p+=(m-p-i*(f-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var x=Wtt(f).map(function(g){return p+i*g});return r(A?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},e.copy=function(){return Xj(t(),[a,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},bd.apply(h(),arguments)}function gue(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gue(t())},e}function bb(){return gue(Xj.apply(null,arguments).paddingInner(1))}function $M(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vue(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function mN(){}var Yj=.7,h_=1/Yj,nv="\\s*([+-]?\\d+)\\s*",Jj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gtt=/^#([0-9a-f]{3,8})$/,Xtt=new RegExp(`^rgb\\(${nv},${nv},${nv}\\)$`),Ytt=new RegExp(`^rgb\\(${dh},${dh},${dh}\\)$`),Jtt=new RegExp(`^rgba\\(${nv},${nv},${nv},${Jj}\\)$`),Ztt=new RegExp(`^rgba\\(${dh},${dh},${dh},${Jj}\\)$`),ert=new RegExp(`^hsl\\(${Jj},${dh},${dh}\\)$`),trt=new RegExp(`^hsla\\(${Jj},${dh},${dh},${Jj}\\)$`),Qq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$M(mN,Zj,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$q,formatHex:$q,formatHex8:rrt,formatHsl:nrt,formatRgb:Hq,toString:Hq});function $q(){return this.rgb().formatHex()}function rrt(){return this.rgb().formatHex8()}function nrt(){return yue(this).formatHsl()}function Hq(){return this.rgb().formatRgb()}function Zj(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Gtt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zq(t):r===3?new Fl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?v4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?v4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xtt.exec(e))?new Fl(t[1],t[2],t[3],1):(t=Ytt.exec(e))?new Fl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jtt.exec(e))?v4(t[1],t[2],t[3],t[4]):(t=Ztt.exec(e))?v4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ert.exec(e))?qq(t[1],t[2]/100,t[3]/100,1):(t=trt.exec(e))?qq(t[1],t[2]/100,t[3]/100,t[4]):Qq.hasOwnProperty(e)?zq(Qq[e]):e==="transparent"?new Fl(NaN,NaN,NaN,0):null}function zq(e){return new Fl(e>>16&255,e>>8&255,e&255,1)}function v4(e,t,r,a){return a<=0&&(e=t=r=NaN),new Fl(e,t,r,a)}function art(e){return e instanceof mN||(e=Zj(e)),e?(e=e.rgb(),new Fl(e.r,e.g,e.b,e.opacity)):new Fl}function wO(e,t,r,a){return arguments.length===1?art(e):new Fl(e,t,r,a??1)}function Fl(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}$M(Fl,wO,vue(mN,{brighter(e){return e=e==null?h_:Math.pow(h_,e),new Fl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yj:Math.pow(Yj,e),new Fl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fl(m0(this.r),m0(this.g),m0(this.b),f_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vq,formatHex:Vq,formatHex8:srt,formatRgb:Kq,toString:Kq}));function Vq(){return`#${qp(this.r)}${qp(this.g)}${qp(this.b)}`}function srt(){return`#${qp(this.r)}${qp(this.g)}${qp(this.b)}${qp((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kq(){const e=f_(this.opacity);return`${e===1?"rgb(":"rgba("}${m0(this.r)}, ${m0(this.g)}, ${m0(this.b)}${e===1?")":`, ${e})`}`}function f_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function m0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qp(e){return e=m0(e),(e<16?"0":"")+e.toString(16)}function qq(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kd(e,t,r,a)}function yue(e){if(e instanceof Kd)return new Kd(e.h,e.s,e.l,e.opacity);if(e instanceof mN||(e=Zj(e)),!e)return new Kd;if(e instanceof Kd)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Kd(o,l,c,e.opacity)}function irt(e,t,r,a){return arguments.length===1?yue(e):new Kd(e,t,r,a??1)}function Kd(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}$M(Kd,irt,vue(mN,{brighter(e){return e=e==null?h_:Math.pow(h_,e),new Kd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yj:Math.pow(Yj,e),new Kd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Fl(D3(e>=240?e-240:e+120,s,a),D3(e,s,a),D3(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Kd(Wq(this.h),y4(this.s),y4(this.l),f_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=f_(this.opacity);return`${e===1?"hsl(":"hsla("}${Wq(this.h)}, ${y4(this.s)*100}%, ${y4(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wq(e){return e=(e||0)%360,e<0?e+360:e}function y4(e){return Math.max(0,Math.min(1,e||0))}function D3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const HM=e=>()=>e;function ort(e,t){return function(r){return e+r*t}}function lrt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function crt(e){return(e=+e)==1?wue:function(t,r){return r-t?lrt(t,r,e):HM(isNaN(t)?r:t)}}function wue(e,t){var r=t-e;return r?ort(e,r):HM(isNaN(e)?t:e)}const Gq=function e(t){var r=crt(t);function a(s,i){var o=r((s=wO(s)).r,(i=wO(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=wue(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return a.gamma=e,a}(1);function drt(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function urt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hrt(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=t1(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function frt(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function A_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Art(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=t1(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var bO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L3=new RegExp(bO.source,"g");function mrt(e){return function(){return e}}function prt(e){return function(t){return e(t)+""}}function xrt(e,t){var r=bO.lastIndex=L3.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=bO.exec(e))&&(s=L3.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:A_(a,s)})),r=L3.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?prt(c[0].x):mrt(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function t1(e,t){var r=typeof t,a;return t==null||r==="boolean"?HM(t):(r==="number"?A_:r==="string"?(a=Zj(t))?(t=a,Gq):xrt:t instanceof Zj?Gq:t instanceof Date?frt:urt(t)?drt:Array.isArray(t)?hrt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Art:A_)(e,t)}function zM(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function grt(e,t){t===void 0&&(t=e,e=t1);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function vrt(e){return function(){return e}}function m_(e){return+e}var Xq=[0,1];function il(e){return e}function jO(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vrt(isNaN(t)?NaN:.5)}function yrt(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function wrt(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=jO(s,a),i=r(o,i)):(a=jO(a,s),i=r(i,o)),function(l){return i(a(l))}}function brt(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=jO(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=AN(e,l,1,a)-1;return i[c](s[c](l))}}function pN(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function AF(){var e=Xq,t=Xq,r=t1,a,s,i,o=il,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==il&&(o=yrt(e[0],e[f-1])),l=f>2?brt:wrt,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(a),t,r)))(a(o(f)))}return h.invert=function(f){return o(s((d||(d=l(t,e.map(a),A_)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,m_),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=zM,u()},h.clamp=function(f){return arguments.length?(o=f?!0:il,u()):o!==il},h.interpolate=function(f){return arguments.length?(r=f,u()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,A){return a=f,s=A,u()}}function VM(){return AF()(il,il)}function jrt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function p_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function zv(e){return e=p_(Math.abs(e)),e?e[1]:NaN}function Nrt(e,t){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Crt(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Srt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e2(e){if(!(t=Srt.exec(e)))throw new Error("invalid format: "+e);var t;return new KM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}e2.prototype=KM.prototype;function KM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}KM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _rt(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var bue;function Ert(e,t){var r=p_(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(bue=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+p_(e,Math.max(0,t+i-1))[0]}function Yq(e,t){var r=p_(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Jq={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jrt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yq(e*100,t),r:Yq,s:Ert,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zq(e){return e}var eW=Array.prototype.map,tW=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Brt(e){var t=e.grouping===void 0||e.thousands===void 0?Zq:Nrt(eW.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Zq:Crt(eW.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=e2(h);var f=h.fill,A=h.align,p=h.sign,m=h.symbol,x=h.zero,g=h.width,v=h.comma,y=h.precision,j=h.trim,b=h.type;b==="n"?(v=!0,b="g"):Jq[b]||(y===void 0&&(y=12),j=!0,b="g"),(x||f==="0"&&A==="=")&&(x=!0,f="0",A="=");var w=m==="$"?r:m==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",C=m==="$"?a:/[%p]/.test(b)?o:"",F=Jq[b],E=/[defgprs%]/.test(b);y=y===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function L(N){var I=w,M=C,O,k,P;if(b==="c")M=F(N)+M,N="";else{N=+N;var R=N<0||1/N<0;if(N=isNaN(N)?c:F(Math.abs(N),y),j&&(N=_rt(N)),R&&+N==0&&p!=="+"&&(R=!1),I=(R?p==="("?p:l:p==="-"||p==="("?"":p)+I,M=(b==="s"?tW[8+bue/3]:"")+M+(R&&p==="("?")":""),E){for(O=-1,k=N.length;++O<k;)if(P=N.charCodeAt(O),48>P||P>57){M=(P===46?s+N.slice(O+1):N.slice(O))+M,N=N.slice(0,O);break}}}v&&!x&&(N=t(N,1/0));var V=I.length+N.length+M.length,D=V<g?new Array(g-V+1).join(f):"";switch(v&&x&&(N=t(D+N,D.length?g-M.length:1/0),D=""),A){case"<":N=I+N+M+D;break;case"=":N=I+D+N+M;break;case"^":N=D.slice(0,V=D.length>>1)+I+N+M+D.slice(V);break;default:N=D+I+N+M;break}return i(N)}return L.toString=function(){return h+""},L}function u(h,f){var A=d((h=e2(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(zv(f)/3)))*3,m=Math.pow(10,-p),x=tW[8+p/3];return function(g){return A(m*g)+x}}return{format:d,formatPrefix:u}}var w4,qM,jue;Frt({thousands:",",grouping:[3],currency:["$",""]});function Frt(e){return w4=Brt(e),qM=w4.format,jue=w4.formatPrefix,w4}function Prt(e){return Math.max(0,-zv(Math.abs(e)))}function krt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zv(t)/3)))*3-zv(Math.abs(e)))}function Trt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zv(t)-zv(e))+1}function Nue(e,t,r,a){var s=vO(e,t,r),i;switch(a=e2(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=krt(s,o))&&(a.precision=i),jue(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Trt(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Prt(s))&&(a.precision=i-(a.type==="%")*2);break}}return qM(a)}function Zm(e){var t=e.domain;return e.ticks=function(r){var a=t();return xO(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return Nue(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=gO(o,l,r),d===c)return a[s]=o,a[i]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function x_(){var e=VM();return e.copy=function(){return pN(e,x_())},bd.apply(e,arguments),Zm(e)}function Cue(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,m_),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return Cue(e).unknown(t)},e=arguments.length?Array.from(e,m_):[0,1],Zm(r)}function Sue(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function rW(e){return Math.log(e)}function nW(e){return Math.exp(e)}function Irt(e){return-Math.log(-e)}function Ort(e){return-Math.exp(-e)}function Drt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lrt(e){return e===10?Drt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Rrt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aW(e){return(t,r)=>-e(-t,r)}function WM(e){const t=e(rW,nW),r=t.domain;let a=10,s,i;function o(){return s=Rrt(a),i=Lrt(a),r()[0]<0?(s=aW(s),i=aW(i),e(Irt,Ort)):e(rW,nW),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=s(d),A=s(u),p,m;const x=l==null?10:+l;let g=[];if(!(a%1)&&A-f<x){if(f=Math.floor(f),A=Math.ceil(A),d>0){for(;f<=A;++f)for(p=1;p<a;++p)if(m=f<0?p/i(-f):p*i(f),!(m<d)){if(m>u)break;g.push(m)}}else for(;f<=A;++f)for(p=a-1;p>=1;--p)if(m=f>0?p/i(-f):p*i(f),!(m<d)){if(m>u)break;g.push(m)}g.length*2<x&&(g=xO(d,u,x))}else g=xO(f,A,Math.min(A-f,x)).map(i);return h?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=e2(c)).precision==null&&(c.trim=!0),c=qM(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*a<a-.5&&(h*=a),h<=d?c(u):""}},t.nice=()=>r(Sue(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function _ue(){const e=WM(AF()).domain([1,10]);return e.copy=()=>pN(e,_ue()).base(e.base()),bd.apply(e,arguments),e}function sW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iW(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function GM(e){var t=1,r=e(sW(t),iW(t));return r.constant=function(a){return arguments.length?e(sW(t=+a),iW(t)):t},Zm(r)}function Eue(){var e=GM(AF());return e.copy=function(){return pN(e,Eue()).constant(e.constant())},bd.apply(e,arguments)}function oW(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Mrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Urt(e){return e<0?-e*e:e*e}function XM(e){var t=e(il,il),r=1;function a(){return r===1?e(il,il):r===.5?e(Mrt,Urt):e(oW(r),oW(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},Zm(t)}function YM(){var e=XM(AF());return e.copy=function(){return pN(e,YM()).exponent(e.exponent())},bd.apply(e,arguments),e}function Qrt(){return YM.apply(null,arguments).exponent(.5)}function lW(e){return Math.sign(e)*e*e}function $rt(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Bue(){var e=VM(),t=[0,1],r=!1,a;function s(i){var o=$rt(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(lW(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,m_)).map(lW)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Bue(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},bd.apply(s,arguments),Zm(s)}function Fue(){var e=[],t=[],r=[],a;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=qtt(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[AN(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ym),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return Fue().domain(e).range(t).unknown(a)},bd.apply(i,arguments)}function Pue(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[AN(a,c,0,r)]:i}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return Pue().domain([e,t]).range(s).unknown(i)},bd.apply(Zm(o),arguments)}function kue(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[AN(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return kue().domain(e).range(t).unknown(r)},bd.apply(s,arguments)}const R3=new Date,M3=new Date;function bi(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>bi(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(R3.setTime(+i),M3.setTime(+o),e(R3),e(M3),Math.floor(r(R3,M3))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const g_=bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);g_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):g_);g_.range;const mf=1e3,sd=mf*60,pf=sd*60,Lf=pf*24,JM=Lf*7,cW=Lf*30,U3=Lf*365,Wp=bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mf)},(e,t)=>(t-e)/mf,e=>e.getUTCSeconds());Wp.range;const ZM=bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mf)},(e,t)=>{e.setTime(+e+t*sd)},(e,t)=>(t-e)/sd,e=>e.getMinutes());ZM.range;const eU=bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sd)},(e,t)=>(t-e)/sd,e=>e.getUTCMinutes());eU.range;const tU=bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mf-e.getMinutes()*sd)},(e,t)=>{e.setTime(+e+t*pf)},(e,t)=>(t-e)/pf,e=>e.getHours());tU.range;const rU=bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*pf)},(e,t)=>(t-e)/pf,e=>e.getUTCHours());rU.range;const xN=bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sd)/Lf,e=>e.getDate()-1);xN.range;const mF=bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lf,e=>e.getUTCDate()-1);mF.range;const Tue=bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lf,e=>Math.floor(e/Lf));Tue.range;function ux(e){return bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sd)/JM)}const pF=ux(0),v_=ux(1),Hrt=ux(2),zrt=ux(3),Vv=ux(4),Vrt=ux(5),Krt=ux(6);pF.range;v_.range;Hrt.range;zrt.range;Vv.range;Vrt.range;Krt.range;function hx(e){return bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/JM)}const xF=hx(0),y_=hx(1),qrt=hx(2),Wrt=hx(3),Kv=hx(4),Grt=hx(5),Xrt=hx(6);xF.range;y_.range;qrt.range;Wrt.range;Kv.range;Grt.range;Xrt.range;const nU=bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nU.range;const aU=bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aU.range;const Rf=bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Rf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Rf.range;const Mf=bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mf.range;function Iue(e,t,r,a,s,i){const o=[[Wp,1,mf],[Wp,5,5*mf],[Wp,15,15*mf],[Wp,30,30*mf],[i,1,sd],[i,5,5*sd],[i,15,15*sd],[i,30,30*sd],[s,1,pf],[s,3,3*pf],[s,6,6*pf],[s,12,12*pf],[a,1,Lf],[a,2,2*Lf],[r,1,JM],[t,1,cW],[t,3,3*cW],[e,1,U3]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const A=h&&typeof h.range=="function"?h:c(d,u,h),p=A?A.range(d,+u+1):[];return f?p.reverse():p}function c(d,u,h){const f=Math.abs(u-d)/h,A=UM(([,,x])=>x).right(o,f);if(A===o.length)return e.every(vO(d/U3,u/U3,h));if(A===0)return g_.every(Math.max(vO(d,u,h),1));const[p,m]=o[f/o[A-1][2]<o[A][2]/f?A-1:A];return p.every(m)}return[l,c]}const[Yrt,Jrt]=Iue(Mf,aU,xF,Tue,rU,eU),[Zrt,ent]=Iue(Rf,nU,pF,xN,tU,ZM);function Q3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rw(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tnt(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=nw(s),u=aw(s),h=nw(i),f=aw(i),A=nw(o),p=aw(o),m=nw(l),x=aw(l),g=nw(c),v=aw(c),y={a:R,A:V,b:D,B:Y,c:null,d:mW,e:mW,f:Nnt,g:Int,G:Dnt,H:wnt,I:bnt,j:jnt,L:Oue,m:Cnt,M:Snt,p:ne,q:S,Q:gW,s:vW,S:_nt,u:Ent,U:Bnt,V:Fnt,w:Pnt,W:knt,x:null,X:null,y:Tnt,Y:Ont,Z:Lnt,"%":xW},j={a:z,A:Q,b:W,B:U,c:null,d:pW,e:pW,f:Qnt,g:Ynt,G:Znt,H:Rnt,I:Mnt,j:Unt,L:Lue,m:$nt,M:Hnt,p:re,q:de,Q:gW,s:vW,S:znt,u:Vnt,U:Knt,V:qnt,w:Wnt,W:Gnt,x:null,X:null,y:Xnt,Y:Jnt,Z:eat,"%":xW},b={a:L,A:N,b:I,B:M,c:O,d:fW,e:fW,f:xnt,g:hW,G:uW,H:AW,I:AW,j:fnt,L:pnt,m:hnt,M:Ant,p:E,q:unt,Q:vnt,s:ynt,S:mnt,u:int,U:ont,V:lnt,w:snt,W:cnt,x:k,X:P,y:hW,Y:uW,Z:dnt,"%":gnt};y.x=w(r,y),y.X=w(a,y),y.c=w(t,y),j.x=w(r,j),j.X=w(a,j),j.c=w(t,j);function w(ae,Ae){return function(Me){var H=[],Oe=-1,Ee=0,ee=ae.length,st,se,me;for(Me instanceof Date||(Me=new Date(+Me));++Oe<ee;)ae.charCodeAt(Oe)===37&&(H.push(ae.slice(Ee,Oe)),(se=dW[st=ae.charAt(++Oe)])!=null?st=ae.charAt(++Oe):se=st==="e"?" ":"0",(me=Ae[st])&&(st=me(Me,se)),H.push(st),Ee=Oe+1);return H.push(ae.slice(Ee,Oe)),H.join("")}}function C(ae,Ae){return function(Me){var H=rw(1900,void 0,1),Oe=F(H,ae,Me+="",0),Ee,ee;if(Oe!=Me.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Ae&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ee=$3(rw(H.y,0,1)),ee=Ee.getUTCDay(),Ee=ee>4||ee===0?y_.ceil(Ee):y_(Ee),Ee=mF.offset(Ee,(H.V-1)*7),H.y=Ee.getUTCFullYear(),H.m=Ee.getUTCMonth(),H.d=Ee.getUTCDate()+(H.w+6)%7):(Ee=Q3(rw(H.y,0,1)),ee=Ee.getDay(),Ee=ee>4||ee===0?v_.ceil(Ee):v_(Ee),Ee=xN.offset(Ee,(H.V-1)*7),H.y=Ee.getFullYear(),H.m=Ee.getMonth(),H.d=Ee.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ee="Z"in H?$3(rw(H.y,0,1)).getUTCDay():Q3(rw(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ee+5)%7:H.w+H.U*7-(ee+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,$3(H)):Q3(H)}}function F(ae,Ae,Me,H){for(var Oe=0,Ee=Ae.length,ee=Me.length,st,se;Oe<Ee;){if(H>=ee)return-1;if(st=Ae.charCodeAt(Oe++),st===37){if(st=Ae.charAt(Oe++),se=b[st in dW?Ae.charAt(Oe++):st],!se||(H=se(ae,Me,H))<0)return-1}else if(st!=Me.charCodeAt(H++))return-1}return H}function E(ae,Ae,Me){var H=d.exec(Ae.slice(Me));return H?(ae.p=u.get(H[0].toLowerCase()),Me+H[0].length):-1}function L(ae,Ae,Me){var H=A.exec(Ae.slice(Me));return H?(ae.w=p.get(H[0].toLowerCase()),Me+H[0].length):-1}function N(ae,Ae,Me){var H=h.exec(Ae.slice(Me));return H?(ae.w=f.get(H[0].toLowerCase()),Me+H[0].length):-1}function I(ae,Ae,Me){var H=g.exec(Ae.slice(Me));return H?(ae.m=v.get(H[0].toLowerCase()),Me+H[0].length):-1}function M(ae,Ae,Me){var H=m.exec(Ae.slice(Me));return H?(ae.m=x.get(H[0].toLowerCase()),Me+H[0].length):-1}function O(ae,Ae,Me){return F(ae,t,Ae,Me)}function k(ae,Ae,Me){return F(ae,r,Ae,Me)}function P(ae,Ae,Me){return F(ae,a,Ae,Me)}function R(ae){return o[ae.getDay()]}function V(ae){return i[ae.getDay()]}function D(ae){return c[ae.getMonth()]}function Y(ae){return l[ae.getMonth()]}function ne(ae){return s[+(ae.getHours()>=12)]}function S(ae){return 1+~~(ae.getMonth()/3)}function z(ae){return o[ae.getUTCDay()]}function Q(ae){return i[ae.getUTCDay()]}function W(ae){return c[ae.getUTCMonth()]}function U(ae){return l[ae.getUTCMonth()]}function re(ae){return s[+(ae.getUTCHours()>=12)]}function de(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ae=w(ae+="",y);return Ae.toString=function(){return ae},Ae},parse:function(ae){var Ae=C(ae+="",!1);return Ae.toString=function(){return ae},Ae},utcFormat:function(ae){var Ae=w(ae+="",j);return Ae.toString=function(){return ae},Ae},utcParse:function(ae){var Ae=C(ae+="",!0);return Ae.toString=function(){return ae},Ae}}}var dW={"-":"",_:" ",0:"0"},Mi=/^\s*\d+/,rnt=/^%/,nnt=/[\\^$*+?|[\]().{}]/g;function na(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function ant(e){return e.replace(nnt,"\\$&")}function nw(e){return new RegExp("^(?:"+e.map(ant).join("|")+")","i")}function aw(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function snt(e,t,r){var a=Mi.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function int(e,t,r){var a=Mi.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function ont(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function lnt(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function cnt(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function uW(e,t,r){var a=Mi.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function hW(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function dnt(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function unt(e,t,r){var a=Mi.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function hnt(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function fW(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function fnt(e,t,r){var a=Mi.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function AW(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Ant(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function mnt(e,t,r){var a=Mi.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function pnt(e,t,r){var a=Mi.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function xnt(e,t,r){var a=Mi.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function gnt(e,t,r){var a=rnt.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function vnt(e,t,r){var a=Mi.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function ynt(e,t,r){var a=Mi.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function mW(e,t){return na(e.getDate(),t,2)}function wnt(e,t){return na(e.getHours(),t,2)}function bnt(e,t){return na(e.getHours()%12||12,t,2)}function jnt(e,t){return na(1+xN.count(Rf(e),e),t,3)}function Oue(e,t){return na(e.getMilliseconds(),t,3)}function Nnt(e,t){return Oue(e,t)+"000"}function Cnt(e,t){return na(e.getMonth()+1,t,2)}function Snt(e,t){return na(e.getMinutes(),t,2)}function _nt(e,t){return na(e.getSeconds(),t,2)}function Ent(e){var t=e.getDay();return t===0?7:t}function Bnt(e,t){return na(pF.count(Rf(e)-1,e),t,2)}function Due(e){var t=e.getDay();return t>=4||t===0?Vv(e):Vv.ceil(e)}function Fnt(e,t){return e=Due(e),na(Vv.count(Rf(e),e)+(Rf(e).getDay()===4),t,2)}function Pnt(e){return e.getDay()}function knt(e,t){return na(v_.count(Rf(e)-1,e),t,2)}function Tnt(e,t){return na(e.getFullYear()%100,t,2)}function Int(e,t){return e=Due(e),na(e.getFullYear()%100,t,2)}function Ont(e,t){return na(e.getFullYear()%1e4,t,4)}function Dnt(e,t){var r=e.getDay();return e=r>=4||r===0?Vv(e):Vv.ceil(e),na(e.getFullYear()%1e4,t,4)}function Lnt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+na(t/60|0,"0",2)+na(t%60,"0",2)}function pW(e,t){return na(e.getUTCDate(),t,2)}function Rnt(e,t){return na(e.getUTCHours(),t,2)}function Mnt(e,t){return na(e.getUTCHours()%12||12,t,2)}function Unt(e,t){return na(1+mF.count(Mf(e),e),t,3)}function Lue(e,t){return na(e.getUTCMilliseconds(),t,3)}function Qnt(e,t){return Lue(e,t)+"000"}function $nt(e,t){return na(e.getUTCMonth()+1,t,2)}function Hnt(e,t){return na(e.getUTCMinutes(),t,2)}function znt(e,t){return na(e.getUTCSeconds(),t,2)}function Vnt(e){var t=e.getUTCDay();return t===0?7:t}function Knt(e,t){return na(xF.count(Mf(e)-1,e),t,2)}function Rue(e){var t=e.getUTCDay();return t>=4||t===0?Kv(e):Kv.ceil(e)}function qnt(e,t){return e=Rue(e),na(Kv.count(Mf(e),e)+(Mf(e).getUTCDay()===4),t,2)}function Wnt(e){return e.getUTCDay()}function Gnt(e,t){return na(y_.count(Mf(e)-1,e),t,2)}function Xnt(e,t){return na(e.getUTCFullYear()%100,t,2)}function Ynt(e,t){return e=Rue(e),na(e.getUTCFullYear()%100,t,2)}function Jnt(e,t){return na(e.getUTCFullYear()%1e4,t,4)}function Znt(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Kv(e):Kv.ceil(e),na(e.getUTCFullYear()%1e4,t,4)}function eat(){return"+0000"}function xW(){return"%"}function gW(e){return+e}function vW(e){return Math.floor(+e/1e3)}var qx,Mue,Uue;tat({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tat(e){return qx=tnt(e),Mue=qx.format,qx.parse,Uue=qx.utcFormat,qx.utcParse,qx}function rat(e){return new Date(e)}function nat(e){return e instanceof Date?+e:+new Date(+e)}function sU(e,t,r,a,s,i,o,l,c,d){var u=VM(),h=u.invert,f=u.domain,A=d(".%L"),p=d(":%S"),m=d("%I:%M"),x=d("%I %p"),g=d("%a %d"),v=d("%b %d"),y=d("%B"),j=d("%Y");function b(w){return(c(w)<w?A:l(w)<w?p:o(w)<w?m:i(w)<w?x:a(w)<w?s(w)<w?g:v:r(w)<w?y:j)(w)}return u.invert=function(w){return new Date(h(w))},u.domain=function(w){return arguments.length?f(Array.from(w,nat)):f().map(rat)},u.ticks=function(w){var C=f();return e(C[0],C[C.length-1],w??10)},u.tickFormat=function(w,C){return C==null?b:d(C)},u.nice=function(w){var C=f();return(!w||typeof w.range!="function")&&(w=t(C[0],C[C.length-1],w??10)),w?f(Sue(C,w)):u},u.copy=function(){return pN(u,sU(e,t,r,a,s,i,o,l,c,d))},u}function aat(){return bd.apply(sU(Zrt,ent,Rf,nU,pF,xN,tU,ZM,Wp,Mue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sat(){return bd.apply(sU(Yrt,Jrt,Mf,aU,xF,mF,rU,eU,Wp,Uue).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gF(){var e=0,t=1,r,a,s,i,o=il,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-r)*s,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var A,p;return arguments.length?([A,p]=f,o=h(A,p),d):[o(0),o(1)]}}return d.range=u(t1),d.rangeRound=u(zM),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),a=h(t),s=r===a?0:1/(a-r),d}}function ep(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Que(){var e=Zm(gF()(il));return e.copy=function(){return ep(e,Que())},Xf.apply(e,arguments)}function $ue(){var e=WM(gF()).domain([1,10]);return e.copy=function(){return ep(e,$ue()).base(e.base())},Xf.apply(e,arguments)}function Hue(){var e=GM(gF());return e.copy=function(){return ep(e,Hue()).constant(e.constant())},Xf.apply(e,arguments)}function iU(){var e=XM(gF());return e.copy=function(){return ep(e,iU()).exponent(e.exponent())},Xf.apply(e,arguments)}function iat(){return iU.apply(null,arguments).exponent(.5)}function zue(){var e=[],t=il;function r(a){if(a!=null&&!isNaN(a=+a))return t((AN(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ym),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Ktt(e,i/a))},r.copy=function(){return zue(t).domain(e)},Xf.apply(r,arguments)}function vF(){var e=0,t=.5,r=1,a=1,s,i,o,l,c,d=il,u,h=!1,f;function A(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-i)*(a*m<a*i?l:c),d(h?Math.max(0,Math.min(1,m)):m))}A.domain=function(m){return arguments.length?([e,t,r]=m,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,A):[e,t,r]},A.clamp=function(m){return arguments.length?(h=!!m,A):h},A.interpolator=function(m){return arguments.length?(d=m,A):d};function p(m){return function(x){var g,v,y;return arguments.length?([g,v,y]=x,d=grt(m,[g,v,y]),A):[d(0),d(.5),d(1)]}}return A.range=p(t1),A.rangeRound=p(zM),A.unknown=function(m){return arguments.length?(f=m,A):f},function(m){return u=m,s=m(e),i=m(t),o=m(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,A}}function Vue(){var e=Zm(vF()(il));return e.copy=function(){return ep(e,Vue())},Xf.apply(e,arguments)}function Kue(){var e=WM(vF()).domain([.1,1,10]);return e.copy=function(){return ep(e,Kue()).base(e.base())},Xf.apply(e,arguments)}function que(){var e=GM(vF());return e.copy=function(){return ep(e,que()).constant(e.constant())},Xf.apply(e,arguments)}function oU(){var e=XM(vF());return e.copy=function(){return ep(e,oU()).exponent(e.exponent())},Xf.apply(e,arguments)}function oat(){return oU.apply(null,arguments).exponent(.5)}const yW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xj,scaleDiverging:Vue,scaleDivergingLog:Kue,scaleDivergingPow:oU,scaleDivergingSqrt:oat,scaleDivergingSymlog:que,scaleIdentity:Cue,scaleImplicit:yO,scaleLinear:x_,scaleLog:_ue,scaleOrdinal:QM,scalePoint:bb,scalePow:YM,scaleQuantile:Fue,scaleQuantize:Pue,scaleRadial:Bue,scaleSequential:Que,scaleSequentialLog:$ue,scaleSequentialPow:iU,scaleSequentialQuantile:zue,scaleSequentialSqrt:iat,scaleSequentialSymlog:Hue,scaleSqrt:Qrt,scaleSymlog:Eue,scaleThreshold:kue,scaleTime:aat,scaleUtc:sat,tickFormat:Nue},Symbol.toStringTag,{value:"Module"}));var lat=Vy;function cat(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!lat(o):r(o,l)))var l=o,c=i}return c}var yF=cat;function dat(e,t){return e>t}var Wue=dat,uat=yF,hat=Wue,fat=Zy;function Aat(e){return e&&e.length?uat(e,fat,hat):void 0}var mat=Aat;const rm=ua(mat);function pat(e,t){return e<t}var Gue=pat,xat=yF,gat=Gue,vat=Zy;function yat(e){return e&&e.length?xat(e,vat,gat):void 0}var wat=yat;const wF=ua(wat);var bat=bM,jat=Fh,Nat=nue,Cat=Hl;function Sat(e,t){var r=Cat(e)?bat:Nat;return r(e,jat(t))}var _at=Sat,Eat=tue,Bat=_at;function Fat(e,t){return Eat(Bat(e,t),1)}var Pat=Fat;const kat=ua(Pat);var Tat=DM;function Iat(e,t){return Tat(e,t)}var Oat=Iat;const $m=ua(Oat);var r1=1e9,Dat={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cU,ss=!0,pd="[DecimalError] ",p0=pd+"Invalid argument: ",lU=pd+"Exponent out of range: ",n1=Math.floor,Ep=Math.pow,Lat=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mc,Ei=1e7,Wa=7,Xue=9007199254740991,w_=n1(Xue/Wa),Sr={};Sr.absoluteValue=Sr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Sr.comparedTo=Sr.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Sr.decimalPlaces=Sr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Sr.dividedBy=Sr.div=function(e){return Cf(this,new this.constructor(e))};Sr.dividedToIntegerBy=Sr.idiv=function(e){var t=this,r=t.constructor;return Ta(Cf(t,new r(e),0,1),r.precision)};Sr.equals=Sr.eq=function(e){return!this.cmp(e)};Sr.exponent=function(){return ii(this)};Sr.greaterThan=Sr.gt=function(e){return this.cmp(e)>0};Sr.greaterThanOrEqualTo=Sr.gte=function(e){return this.cmp(e)>=0};Sr.isInteger=Sr.isint=function(){return this.e>this.d.length-2};Sr.isNegative=Sr.isneg=function(){return this.s<0};Sr.isPositive=Sr.ispos=function(){return this.s>0};Sr.isZero=function(){return this.s===0};Sr.lessThan=Sr.lt=function(e){return this.cmp(e)<0};Sr.lessThanOrEqualTo=Sr.lte=function(e){return this.cmp(e)<1};Sr.logarithm=Sr.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(mc))throw Error(pd+"NaN");if(r.s<1)throw Error(pd+(r.s?"NaN":"-Infinity"));return r.eq(mc)?new a(0):(ss=!1,t=Cf(t2(r,i),t2(e,i),i),ss=!0,Ta(t,s))};Sr.minus=Sr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zue(t,e):Yue(t,(e.s=-e.s,e))};Sr.modulo=Sr.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(pd+"NaN");return r.s?(ss=!1,t=Cf(r,e,0,1).times(e),ss=!0,r.minus(t)):Ta(new a(r),s)};Sr.naturalExponential=Sr.exp=function(){return Jue(this)};Sr.naturalLogarithm=Sr.ln=function(){return t2(this)};Sr.negated=Sr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Sr.plus=Sr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Yue(t,e):Zue(t,(e.s=-e.s,e))};Sr.precision=Sr.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(p0+e);if(t=ii(s)+1,a=s.d.length-1,r=a*Wa+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Sr.squareRoot=Sr.sqrt=function(){var e,t,r,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(pd+"NaN")}for(e=ii(l),ss=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=eh(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=n1((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=a,a=i.plus(Cf(l,i,o+2)).times(.5),eh(i.d).slice(0,o)===(t=eh(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ta(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return ss=!0,Ta(a,r)};Sr.times=Sr.mul=function(e){var t,r,a,s,i,o,l,c,d,u=this,h=u.constructor,f=u.d,A=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=A.length,c<d&&(i=f,f=A,A=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,s=c+a;s>a;)l=i[s]+A[a]*f[s-a-1]+t,i[s--]=l%Ei|0,t=l/Ei|0;i[s]=(i[s]+t)%Ei|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ss?Ta(e,h.precision):e};Sr.toDecimalPlaces=Sr.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(yh(e,0,r1),t===void 0?t=a.rounding:yh(t,0,8),Ta(r,e+ii(r)+1,t))};Sr.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=H0(a,!0):(yh(e,0,r1),t===void 0?t=s.rounding:yh(t,0,8),a=Ta(new s(a),e+1,t),r=H0(a,!0,e+1)),r};Sr.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?H0(s):(yh(e,0,r1),t===void 0?t=i.rounding:yh(t,0,8),a=Ta(new i(s),e+ii(s)+1,t),r=H0(a.abs(),!1,e+ii(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Sr.toInteger=Sr.toint=function(){var e=this,t=e.constructor;return Ta(new t(e),ii(e)+1,t.rounding)};Sr.toNumber=function(){return+this};Sr.toPower=Sr.pow=function(e){var t,r,a,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(mc);if(l=new c(l),!l.s){if(e.s<1)throw Error(pd+"Infinity");return l}if(l.eq(mc))return l;if(a=c.precision,e.eq(mc))return Ta(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=Xue){for(s=new c(mc),t=Math.ceil(a/Wa+4),ss=!1;r%2&&(s=s.times(l),bW(s.d,t)),r=n1(r/2),r!==0;)l=l.times(l),bW(l.d,t);return ss=!0,e.s<0?new c(mc).div(s):Ta(s,a)}}else if(i<0)throw Error(pd+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ss=!1,s=e.times(t2(l,a+d)),ss=!0,s=Jue(s),s.s=i,s};Sr.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=ii(s),a=H0(s,r<=i.toExpNeg||r>=i.toExpPos)):(yh(e,1,r1),t===void 0?t=i.rounding:yh(t,0,8),s=Ta(new i(s),e,t),r=ii(s),a=H0(s,e<=r||r<=i.toExpNeg,e)),a};Sr.toSignificantDigits=Sr.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(yh(e,1,r1),t===void 0?t=a.rounding:yh(t,0,8)),Ta(new a(r),e,t)};Sr.toString=Sr.valueOf=Sr.val=Sr.toJSON=Sr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ii(e),r=e.constructor;return H0(e,t<=r.toExpNeg||t>=r.toExpPos)};function Yue(e,t){var r,a,s,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ss?Ta(t,h):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,s=o,l=c.length),o=Math.ceil(h/Wa),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ei|0,c[i]%=Ei;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ss?Ta(t,h):t}function yh(e,t,r){if(e!==~~e||e<t||e>r)throw Error(p0+e)}function eh(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=Wa-a.length,r&&(i+=_A(r)),i+=a;o=e[t],a=o+"",r=Wa-a.length,r&&(i+=_A(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Cf=function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%Ei|0,o=i/Ei|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Ei+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,d,u,h,f,A,p,m,x,g,v,y,j,b,w,C,F,E=a.constructor,L=a.s==s.s?1:-1,N=a.d,I=s.d;if(!a.s)return new E(a);if(!s.s)throw Error(pd+"Division by zero");for(c=a.e-s.e,C=I.length,b=N.length,A=new E(L),p=A.d=[],d=0;I[d]==(N[d]||0);)++d;if(I[d]>(N[d]||0)&&--c,i==null?v=i=E.precision:o?v=i+(ii(a)-ii(s))+1:v=i,v<0)return new E(0);if(v=v/Wa+2|0,d=0,C==1)for(u=0,I=I[0],v++;(d<b||u)&&v--;d++)y=u*Ei+(N[d]||0),p[d]=y/I|0,u=y%I|0;else{for(u=Ei/(I[0]+1)|0,u>1&&(I=e(I,u),N=e(N,u),C=I.length,b=N.length),j=C,m=N.slice(0,C),x=m.length;x<C;)m[x++]=0;F=I.slice(),F.unshift(0),w=I[0],I[1]>=Ei/2&&++w;do u=0,l=t(I,m,C,x),l<0?(g=m[0],C!=x&&(g=g*Ei+(m[1]||0)),u=g/w|0,u>1?(u>=Ei&&(u=Ei-1),h=e(I,u),f=h.length,x=m.length,l=t(h,m,f,x),l==1&&(u--,r(h,C<f?F:I,f))):(u==0&&(l=u=1),h=I.slice()),f=h.length,f<x&&h.unshift(0),r(m,h,x),l==-1&&(x=m.length,l=t(I,m,C,x),l<1&&(u++,r(m,C<x?F:I,x))),x=m.length):l===0&&(u++,m=[0]),p[d++]=u,l&&m[0]?m[x++]=N[j]||0:(m=[N[j]],x=1);while((j++<b||m[0]!==void 0)&&v--)}return p[0]||p.shift(),A.e=c,Ta(A,o?i+ii(A)+1:i)}}();function Jue(e,t){var r,a,s,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(ii(e)>16)throw Error(lU+ii(e));if(!e.s)return new u(mc);for(t==null?(ss=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(Ep(2,d))/Math.LN10*2+5|0,l+=a,r=s=i=new u(mc),u.precision=l;;){if(s=Ta(s.times(e),l),r=r.times(++c),o=i.plus(Cf(s,r,l)),eh(o.d).slice(0,l)===eh(i.d).slice(0,l)){for(;d--;)i=Ta(i.times(i),l);return u.precision=h,t==null?(ss=!0,Ta(i,h)):i}i=o}}function ii(e){for(var t=e.e*Wa,r=e.d[0];r>=10;r/=10)t++;return t}function H3(e,t,r){if(t>e.LN10.sd())throw ss=!0,r&&(e.precision=r),Error(pd+"LN10 precision limit exceeded");return Ta(new e(e.LN10),t)}function _A(e){for(var t="";e--;)t+="0";return t}function t2(e,t){var r,a,s,i,o,l,c,d,u,h=1,f=10,A=e,p=A.d,m=A.constructor,x=m.precision;if(A.s<1)throw Error(pd+(A.s?"NaN":"-Infinity"));if(A.eq(mc))return new m(0);if(t==null?(ss=!1,d=x):d=t,A.eq(10))return t==null&&(ss=!0),H3(m,d);if(d+=f,m.precision=d,r=eh(p),a=r.charAt(0),i=ii(A),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)A=A.times(e),r=eh(A.d),a=r.charAt(0),h++;i=ii(A),a>1?(A=new m("0."+r),i++):A=new m(a+"."+r.slice(1))}else return c=H3(m,d+2,x).times(i+""),A=t2(new m(a+"."+r.slice(1)),d-f).plus(c),m.precision=x,t==null?(ss=!0,Ta(A,x)):A;for(l=o=A=Cf(A.minus(mc),A.plus(mc),d),u=Ta(A.times(A),d),s=3;;){if(o=Ta(o.times(u),d),c=l.plus(Cf(o,new m(s),d)),eh(c.d).slice(0,d)===eh(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(H3(m,d+2,x).times(i+""))),l=Cf(l,new m(h),d),m.precision=x,t==null?(ss=!0,Ta(l,x)):l;l=c,s+=2}}function wW(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=n1(r/Wa),e.d=[],a=(r+1)%Wa,r<0&&(a+=Wa),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Wa;a<s;)e.d.push(+t.slice(a,a+=Wa));t=t.slice(a),a=Wa-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),ss&&(e.e>w_||e.e<-w_))throw Error(lU+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ta(e,t,r){var a,s,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Wa,s=t,d=h[u=0];else{if(u=Math.ceil((a+1)/Wa),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;a%=Wa,s=a-Wa+o}if(r!==void 0&&(i=Ep(10,o-s-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?s>0?d/Ep(10,o-s):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=ii(e),h.length=1,t=t-i-1,h[0]=Ep(10,(Wa-t%Wa)%Wa),e.e=n1(-t/Wa)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=Ep(10,Wa-a),h[u]=s>0?(d/Ep(10,o-s)%Ep(10,s)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Ei&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=Ei)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(ss&&(e.e>w_||e.e<-w_))throw Error(lU+ii(e));return e}function Zue(e,t){var r,a,s,i,o,l,c,d,u,h,f=e.constructor,A=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ss?Ta(t,A):t;if(c=e.d,h=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,a=d,l=c.length),s=Math.max(Math.ceil(A/Wa),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=h.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){u=c[s]<h[s];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=Ei-1;--c[i],c[s]+=Ei}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,ss?Ta(t,A):t):new f(0)}function H0(e,t,r){var a,s=ii(e),i=eh(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+_A(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+_A(-s-1)+i,r&&(a=r-o)>0&&(i+=_A(a))):s>=o?(i+=_A(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+_A(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=_A(a))),e.s<0?"-"+i:i}function bW(e,t){if(e.length>t)return e.length=t,!0}function ehe(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(p0+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return wW(o,i.toString())}else if(typeof i!="string")throw Error(p0+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Lat.test(i))wW(o,i);else throw Error(p0+i)}if(s.prototype=Sr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=ehe,s.config=s.set=Rat,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function Rat(e){if(!e||typeof e!="object")throw Error(pd+"Object expected");var t,r,a,s=["precision",1,r1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(n1(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(p0+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(p0+r+": "+a);return this}var cU=ehe(Dat);mc=new cU(1);const Ca=cU;function Mat(e){return Hat(e)||$at(e)||Qat(e)||Uat()}function Uat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qat(e,t){if(e){if(typeof e=="string")return NO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(e,t)}}function $at(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Hat(e){if(Array.isArray(e))return NO(e)}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var zat=function(t){return t},the={"@@functional/placeholder":!0},rhe=function(t){return t===the},jW=function(t){return function r(){return arguments.length===0||arguments.length===1&&rhe(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Vat=function e(t,r){return t===1?r:jW(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==the}).length;return o>=t?r.apply(void 0,s):e(t-o,jW(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(h){return rhe(h)?c.shift():h});return r.apply(void 0,Mat(u).concat(c))}))})},bF=function(t){return Vat(t.length,t)},CO=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},Kat=bF(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),qat=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return zat;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},SO=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},nhe=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,a=t.apply(void 0,i)),a}};function Wat(e){var t;return e===0?t=1:t=Math.floor(new Ca(e).abs().log(10).toNumber())+1,t}function Gat(e,t,r){for(var a=new Ca(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var Xat=bF(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),Yat=bF(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),Jat=bF(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const jF={rangeStep:Gat,getDigitCount:Wat,interpolateNumber:Xat,uninterpolateNumber:Yat,uninterpolateTruncation:Jat};function _O(e){return tst(e)||est(e)||ahe(e)||Zat()}function Zat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function est(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function tst(e){if(Array.isArray(e))return EO(e)}function r2(e,t){return ast(e)||nst(e,t)||ahe(e,t)||rst()}function rst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function nst(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function ast(e){if(Array.isArray(e))return e}function she(e){var t=r2(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function ihe(e,t,r){if(e.lte(0))return new Ca(0);var a=jF.getDigitCount(e.toNumber()),s=new Ca(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new Ca(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ca(Math.ceil(c))}function sst(e,t,r){var a=1,s=new Ca(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Ca(10).pow(jF.getDigitCount(e)-1),s=new Ca(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Ca(Math.floor(e)))}else e===0?s=new Ca(Math.floor((t-1)/2)):r||(s=new Ca(Math.floor(e)));var o=Math.floor((t-1)/2),l=qat(Kat(function(c){return s.add(new Ca(c-o).mul(a)).toNumber()}),CO);return l(0,t)}function ohe(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ca(0),tickMin:new Ca(0),tickMax:new Ca(0)};var i=ihe(new Ca(t).sub(e).div(r-1),a,s),o;e<=0&&t>=0?o=new Ca(0):(o=new Ca(e).add(t).div(2),o=o.sub(new Ca(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ca(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?ohe(e,t,r,a,s+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Ca(l).mul(i)),tickMax:o.add(new Ca(c).mul(i))})}function ist(e){var t=r2(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=she([r,a]),c=r2(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(_O(CO(0,s-1).map(function(){return 1/0}))):[].concat(_O(CO(0,s-1).map(function(){return-1/0})),[u]);return r>a?SO(h):h}if(d===u)return sst(d,s,i);var f=ohe(d,u,o,i),A=f.step,p=f.tickMin,m=f.tickMax,x=jF.rangeStep(p,m.add(new Ca(.1).mul(A)),A);return r>a?SO(x):x}function ost(e,t){var r=r2(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=she([a,s]),l=r2(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var u=Math.max(t,2),h=ihe(new Ca(d).sub(c).div(u-1),i,0),f=[].concat(_O(jF.rangeStep(new Ca(c),new Ca(d).sub(new Ca(.99).mul(h)),h)),[d]);return a>s?SO(f):f}var lst=nhe(ist),cst=nhe(ost),dst="Invariant failed";function z0(e,t){throw new Error(dst)}var ust=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b_.apply(this,arguments)}function hst(e,t){return pst(e)||mst(e,t)||Ast(e,t)||fst()}function fst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ast(e,t){if(e){if(typeof e=="string")return NW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NW(e,t)}}function NW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mst(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function pst(e){if(Array.isArray(e))return e}function xst(e,t){if(e==null)return{};var r=gst(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gst(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yst(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dhe(a.key),a)}}function wst(e,t,r){return t&&yst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bst(e,t,r){return t=j_(t),jst(e,lhe()?Reflect.construct(t,r||[],j_(e).constructor):t.apply(e,r))}function jst(e,t){if(t&&(qv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nst(e)}function Nst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lhe=function(){return!!e})()}function j_(e){return j_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j_(e)}function Cst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BO(e,t)}function BO(e,t){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},BO(e,t)}function che(e,t,r){return t=dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dhe(e){var t=Sst(e,"string");return qv(t)=="symbol"?t:t+""}function Sst(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a1=function(e){function t(){return vst(this,t),bst(this,t,arguments)}return Cst(t,e),wst(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,f=xst(a,ust),A=Tr(f,!1);this.props.direction==="x"&&u.type!=="number"&&z0();var p=c.map(function(m){var x=d(m,l),g=x.x,v=x.y,y=x.value,j=x.errorVal;if(!j)return null;var b=[],w,C;if(Array.isArray(j)){var F=hst(j,2);w=F[0],C=F[1]}else w=C=j;if(i==="vertical"){var E=u.scale,L=v+s,N=L+o,I=L-o,M=E(y-w),O=E(y+C);b.push({x1:O,y1:N,x2:O,y2:I}),b.push({x1:M,y1:L,x2:O,y2:L}),b.push({x1:M,y1:N,x2:M,y2:I})}else if(i==="horizontal"){var k=h.scale,P=g+s,R=P-o,V=P+o,D=k(y-w),Y=k(y+C);b.push({x1:R,y1:Y,x2:V,y2:Y}),b.push({x1:P,y1:D,x2:P,y2:Y}),b.push({x1:R,y1:D,x2:V,y2:D})}return Se.createElement(pn,b_({className:"recharts-errorBar",key:"bar-".concat(b.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},A),b.map(function(ne){return Se.createElement("line",b_({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return Se.createElement(pn,{className:"recharts-errorBars"},p)}}])}(Se.Component);che(a1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});che(a1,"displayName","ErrorBar");function n2(e){"@babel/helpers - typeof";return n2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n2(e)}function CW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CW(Object(r),!0).forEach(function(a){_st(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _st(e,t,r){return t=Est(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Est(e){var t=Bst(e,"string");return n2(t)=="symbol"?t:t+""}function Bst(e,t){if(n2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(n2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uhe=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=ic(r,ch);if(!o)return null;var l=ch.defaultProps,c=l!==void 0?gp(gp({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,h){var f=h.item,A=h.props,p=A.sectors||A.data||[];return u.concat(p.map(function(m){return{type:o.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(a||[]).map(function(u){var h=u.item,f=h.type.defaultProps,A=f!==void 0?gp(gp({},f),h.props):{},p=A.dataKey,m=A.name,x=A.legendType,g=A.hide;return{inactive:g,dataKey:p,type:c.iconType||x||"square",color:dU(h),value:m||p,payload:A}}),gp(gp(gp({},c),ch.getWithHeight(o,s)),{},{payload:d,item:o})};function a2(e){"@babel/helpers - typeof";return a2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a2(e)}function SW(e){return Tst(e)||kst(e)||Pst(e)||Fst()}function Fst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pst(e,t){if(e){if(typeof e=="string")return FO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(e,t)}}function kst(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tst(e){if(Array.isArray(e))return FO(e)}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_W(Object(r),!0).forEach(function(a){av(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function av(e,t,r){return t=Ist(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ist(e){var t=Ost(e,"string");return a2(t)=="symbol"?t:t+""}function Ost(e,t){if(a2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(a2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ya(e,t,r){return Gr(e)||Gr(t)?r:yi(t)?jc(e,t,r):Wr(t)?t(e):r}function jb(e,t,r,a){var s=kat(e,function(l){return Ya(l,t)});if(r==="number"){var i=s.filter(function(l){return sr(l)||parseFloat(l)});return i.length?[wF(i),rm(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!Gr(l)}):s;return o.map(function(l){return yi(l)||l instanceof Date?l:""})}var Dst=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,A=void 0;if(al(h-u)!==al(f-h)){var p=[];if(al(f-h)===al(c[1]-c[0])){A=f;var m=h+c[1]-c[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{A=u;var x=f+c[1]-c[0];p[0]=Math.min(h,(x+h)/2),p[1]=Math.max(h,(x+h)/2)}var g=[Math.min(h,(A+h)/2),Math.max(h,(A+h)/2)];if(t>g[0]&&t<=g[1]||t>=p[0]&&t<=p[1]){o=s[d].index;break}}else{var v=Math.min(u,f),y=Math.max(u,f);if(t>(v+h)/2&&t<=(y+h)/2){o=s[d].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(a[j].coordinate+a[j+1].coordinate)/2||j>0&&j<l-1&&t>(a[j].coordinate+a[j-1].coordinate)/2&&t<=(a[j].coordinate+a[j+1].coordinate)/2||j===l-1&&t>(a[j].coordinate+a[j-1].coordinate)/2){o=a[j].index;break}return o},dU=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?_s(_s({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Lst=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,A=h.length;f<A;f++){var p=u[h[f]],m=p.items,x=p.cateAxisId,g=m.filter(function(C){return Nf(C.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].type.defaultProps,y=v!==void 0?_s(_s({},v),g[0].props):g[0].props,j=y.barSize,b=y[x];o[b]||(o[b]=[]);var w=Gr(j)?r:j;o[b].push({item:g[0],stackList:g.slice(1),barSize:Gr(w)?void 0:sl(w,a,0)})}}return o},Rst=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=sl(r,s,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,A=s/c,p=o.reduce(function(j,b){return j+b.barSize||0},0);p+=(c-1)*d,p>=s&&(p-=(c-1)*d,d=0),p>=s&&A>0&&(f=!0,A*=.9,p=c*A);var m=(s-p)/2>>0,x={offset:m-d,size:0};u=o.reduce(function(j,b){var w={item:b.item,position:{offset:x.offset+x.size+d,size:f?A:b.barSize}},C=[].concat(SW(j),[w]);return x=C[C.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(F){C.push({item:F,position:x})}),C},h)}else{var g=sl(a,s,0,!0);s-2*g-(c-1)*d<=0&&(d=0);var v=(s-2*g-(c-1)*d)/c;v>1&&(v>>=0);var y=l===+l?Math.min(v,l):v;u=o.reduce(function(j,b,w){var C=[].concat(SW(j),[{item:b.item,position:{offset:g+(v+d)*w+(v-y)/2,size:y}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(F){C.push({item:F,position:C[C.length-1].position})}),C},h)}return u},Mst=function(t,r,a,s){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=uhe({children:i,legendWidth:c});if(d){var u=s||{},h=u.width,f=u.height,A=d.align,p=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&p==="middle")&&A!=="center"&&sr(t[A]))return _s(_s({},t),{},av({},A,t[A]+(h||0)));if((m==="horizontal"||m==="vertical"&&A==="center")&&p!=="middle"&&sr(t[p]))return _s(_s({},t),{},av({},p,t[p]+(f||0)))}return t},Ust=function(t,r,a){return Gr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},hhe=function(t,r,a,s,i){var o=r.props.children,l=dl(o,a1).filter(function(d){return Ust(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=Ya(u,a);if(Gr(h))return d;var f=Array.isArray(h)?[wF(h),rm(h)]:[h,h],A=c.reduce(function(p,m){var x=Ya(u,m,0),g=f[0]-Math.abs(Array.isArray(x)?x[0]:x),v=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,p[0]),Math.max(v,p[1])]},[1/0,-1/0]);return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0])}return null},Qst=function(t,r,a,s,i){var o=r.map(function(l){return hhe(t,l,a,i,s)}).filter(function(l){return!Gr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fhe=function(t,r,a,s,i){var o=r.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&hhe(t,c,d,s)||jb(t,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Ahe=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},mhe=function(t,r,a,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(a),l},xf=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||a)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?al(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:s(f)+d,value:h,offset:d}});return u.filter(function(h){return!Xy(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:s(h)+d,value:h,index:f,offset:d}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,f){return{coordinate:s(h)+d,value:i?i[h]:h,index:f,offset:d}})},z3=new WeakMap,b4=function(t,r){if(typeof r!="function")return t;z3.has(t)||z3.set(t,new WeakMap);var a=z3.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},phe=function(t,r,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Xj(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:x_(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:bb(),realScaleType:"point"}:i==="category"?{scale:Xj(),realScaleType:"band"}:{scale:x_(),realScaleType:"linear"};if(hN(s)){var c="scale".concat(iF(s));return{scale:(yW[c]||bb)(),realScaleType:yW[c]?c:"point"}}return Wr(s)?{scale:s}:{scale:bb(),realScaleType:"point"}},EW=1e-4,xhe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-EW,o=Math.max(s[0],s[1])+EW,l=t(r[0]),c=t(r[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[a-1]])}},$st=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},Hst=function(t,r){if(!r||r.length!==2||!sr(r[0])||!sr(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!sr(t[0])||t[0]<a)&&(i[0]=a),(!sr(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},zst=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var c=Xy(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},Vst=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=Xy(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},Kst={sign:zst,expand:cKe,none:Mv,silhouette:dKe,wiggle:uKe,positive:Vst},qst=function(t,r,a){var s=r.map(function(l){return l.props.dataKey}),i=Kst[a],o=lKe().keys(s).value(function(l,c){return+Ya(l,c,0)}).order(tO).offset(i);return o(t)},Wst=function(t,r,a,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,f){var A,p=(A=f.type)!==null&&A!==void 0&&A.defaultProps?_s(_s({},f.type.defaultProps),f.props):f.props,m=p.stackId,x=p.hide;if(x)return h;var g=p[a],v=h[g]||{hasStack:!1,stackGroups:{}};if(yi(m)){var y=v.stackGroups[m]||{numericAxisId:a,cateAxisId:s,items:[]};y.items.push(f),v.hasStack=!0,v.stackGroups[m]=y}else v.stackGroups[Jm("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[f]};return _s(_s({},h),{},av({},g,v))},c),u={};return Object.keys(d).reduce(function(h,f){var A=d[f];if(A.hasStack){var p={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(m,x){var g=A.stackGroups[x];return _s(_s({},m),{},av({},x,{numericAxisId:a,cateAxisId:s,items:g.items,stackedData:qst(t,g.items,i)}))},p)}return _s(_s({},h),{},av({},f,A))},u)},ghe=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=lst(d,i,l);return t.domain([wF(u),rm(u)]),{niceTicks:u}}if(i&&s==="number"){var h=t.domain(),f=cst(h,i,l);return{niceTicks:f}}return null};function Wv(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gr(s[t.dataKey])){var l=X5(r,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=Ya(s,Gr(o)?t.dataKey:o);return Gr(c)?null:t.scale(c)}var BW=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var c=Ya(o,r.dataKey,r.domain[l]);return Gr(c)?null:r.scale(c)-i/2+s},Gst=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},Xst=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?_s(_s({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(yi(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Yst=function(t){return t.reduce(function(r,a){return[wF(a.concat([r[0]]).filter(sr)),rm(a.concat([r[1]]).filter(sr))]},[1/0,-1/0])},vhe=function(t,r,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=Yst(u.slice(r,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},FW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PO=function(t,r,a){if(Wr(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(sr(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(FW.test(t[0])){var i=+FW.exec(t[0])[1];s[0]=r[0]-i}else Wr(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(sr(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(PW.test(t[1])){var o=+PW.exec(t[1])[1];s[1]=r[1]+o}else Wr(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},N_=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=RM(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},kW=function(t,r,a){return!t||!t.length||$m(t,jc(a,"type.defaultProps.domain"))?r:t},yhe=function(t,r){var a=t.type.defaultProps?_s(_s({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return _s(_s({},Tr(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:dU(t),value:Ya(r,s),type:c,payload:r,chartType:d,hide:u})};function s2(e){"@babel/helpers - typeof";return s2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s2(e)}function TW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TW(Object(r),!0).forEach(function(a){whe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TW(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function whe(e,t,r){return t=Jst(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jst(e){var t=Zst(e,"string");return s2(t)=="symbol"?t:t+""}function Zst(e,t){if(s2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(s2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eit(e,t){return ait(e)||nit(e,t)||rit(e,t)||tit()}function tit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rit(e,t){if(e){if(typeof e=="string")return IW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IW(e,t)}}function IW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function nit(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ait(e){if(Array.isArray(e))return e}var C_=Math.PI/180,sit=function(t){return t*180/Math.PI},$a=function(t,r,a,s){return{x:t+Math.cos(-C_*s)*a,y:r+Math.sin(-C_*s)*a}},bhe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},iit=function(t,r,a,s,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=sl(t.cx,o,o/2),h=sl(t.cy,l,l/2),f=bhe(o,l,a),A=sl(t.innerRadius,f,0),p=sl(t.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(x,g){var v=r[g],y=v.domain,j=v.reversed,b;if(Gr(v.range))s==="angleAxis"?b=[c,d]:s==="radiusAxis"&&(b=[A,p]),j&&(b=[b[1],b[0]]);else{b=v.range;var w=b,C=eit(w,2);c=C[0],d=C[1]}var F=phe(v,i),E=F.realScaleType,L=F.scale;L.domain(y).range(b),xhe(L);var N=ghe(L,rf(rf({},v),{},{realScaleType:E})),I=rf(rf(rf({},v),N),{},{range:b,radius:p,realScaleType:E,scale:L,cx:u,cy:h,innerRadius:A,outerRadius:p,startAngle:c,endAngle:d});return rf(rf({},x),{},whe({},g,I))},{})},oit=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},lit=function(t,r){var a=t.x,s=t.y,i=r.cx,o=r.cy,l=oit({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:sit(d),angleInRadian:d}},cit=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},dit=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},OW=function(t,r){var a=t.x,s=t.y,i=lit({x:a,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=cit(r),h=u.startAngle,f=u.endAngle,A=l,p;if(h<=f){for(;A>f;)A-=360;for(;A<h;)A+=360;p=A>=h&&A<=f}else{for(;A>h;)A-=360;for(;A<f;)A+=360;p=A>=f&&A<=h}return p?rf(rf({},r),{},{radius:o,angle:dit(A,r)}):null},jhe=function(t){return!B.isValidElement(t)&&!Wr(t)&&typeof t!="boolean"?t.className:""};function i2(e){"@babel/helpers - typeof";return i2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i2(e)}var uit=["offset"];function hit(e){return pit(e)||mit(e)||Ait(e)||fit()}function fit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ait(e,t){if(e){if(typeof e=="string")return kO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kO(e,t)}}function mit(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pit(e){if(Array.isArray(e))return kO(e)}function kO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function xit(e,t){if(e==null)return{};var r=git(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function git(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function DW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DW(Object(r),!0).forEach(function(a){vit(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DW(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vit(e,t,r){return t=yit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yit(e){var t=wit(e,"string");return i2(t)=="symbol"?t:t+""}function wit(e,t){if(i2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(i2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o2.apply(this,arguments)}var bit=function(t){var r=t.value,a=t.formatter,s=Gr(t.children)?r:t.children;return Wr(a)?a(s):s},jit=function(t,r){var a=al(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Nit=function(t,r,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,A=c.startAngle,p=c.endAngle,m=c.clockWise,x=(h+f)/2,g=jit(A,p),v=g>=0?1:-1,y,j;s==="insideStart"?(y=A+v*o,j=m):s==="insideEnd"?(y=p-v*o,j=!m):s==="end"&&(y=p+v*o,j=m),j=g<=0?j:!j;var b=$a(d,u,x,y),w=$a(d,u,x,y+(j?1:-1)*359),C="M".concat(b.x,",").concat(b.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(w.x,",").concat(w.y),F=Gr(t.id)?Jm("recharts-radial-line-"):t.id;return Se.createElement("text",o2({},a,{dominantBaseline:"central",className:cn("recharts-radial-bar-label",l)}),Se.createElement("defs",null,Se.createElement("path",{id:F,d:C})),Se.createElement("textPath",{xlinkHref:"#".concat(F)},r))},Cit=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(s==="outside"){var A=$a(o,l,d+a,f),p=A.x,m=A.y;return{x:p,y:m,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,g=$a(o,l,x,f),v=g.x,y=g.y;return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},Sit=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*s,A=h>0?"end":"start",p=h>0?"start":"end",m=d>=0?1:-1,x=m*s,g=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var y={x:l+d/2,y:c-h*s,textAnchor:"middle",verticalAnchor:A};return fi(fi({},y),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var j={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:p};return fi(fi({},j),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var b={x:l-x,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return fi(fi({},b),a?{width:Math.max(b.x-a.x,0),height:u}:{})}if(i==="right"){var w={x:l+d+x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return fi(fi({},w),a?{width:Math.max(a.x+a.width-w.x,0),height:u}:{})}var C=a?{width:d,height:u}:{};return i==="insideLeft"?fi({x:l+x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideRight"?fi({x:l+d-x,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},C):i==="insideTop"?fi({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:p},C):i==="insideBottom"?fi({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:A},C):i==="insideTopLeft"?fi({x:l+x,y:c+f,textAnchor:v,verticalAnchor:p},C):i==="insideTopRight"?fi({x:l+d-x,y:c+f,textAnchor:g,verticalAnchor:p},C):i==="insideBottomLeft"?fi({x:l+x,y:c+u-f,textAnchor:v,verticalAnchor:A},C):i==="insideBottomRight"?fi({x:l+d-x,y:c+u-f,textAnchor:g,verticalAnchor:A},C):Ky(i)&&(sr(i.x)||Kp(i.x))&&(sr(i.y)||Kp(i.y))?fi({x:l+sl(i.x,d),y:c+sl(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):fi({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},_it=function(t){return"cx"in t&&sr(t.cx)};function Ti(e){var t=e.offset,r=t===void 0?5:t,a=xit(e,uit),s=fi({offset:r},a),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,h=u===void 0?"":u,f=s.textBreakAll;if(!i||Gr(l)&&Gr(c)&&!B.isValidElement(d)&&!Wr(d))return null;if(B.isValidElement(d))return B.cloneElement(d,s);var A;if(Wr(d)){if(A=B.createElement(d,s),B.isValidElement(A))return A}else A=bit(s);var p=_it(i),m=Tr(s,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Nit(s,A,m);var x=p?Cit(s):Sit(s);return Se.createElement($0,o2({className:cn("recharts-label",h)},m,x,{breakAll:f}),A)}Ti.displayName="Label";var Nhe=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,f=t.y,A=t.top,p=t.left,m=t.width,x=t.height,g=t.clockWise,v=t.labelViewBox;if(v)return v;if(sr(m)&&sr(x)){if(sr(h)&&sr(f))return{x:h,y:f,width:m,height:x};if(sr(A)&&sr(p))return{x:A,y:p,width:m,height:x}}return sr(h)&&sr(f)?{x:h,y:f,width:0,height:0}:sr(r)&&sr(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},Eit=function(t,r){return t?t===!0?Se.createElement(Ti,{key:"label-implicit",viewBox:r}):yi(t)?Se.createElement(Ti,{key:"label-implicit",viewBox:r,value:t}):B.isValidElement(t)?t.type===Ti?B.cloneElement(t,{key:"label-implicit",viewBox:r}):Se.createElement(Ti,{key:"label-implicit",content:t,viewBox:r}):Wr(t)?Se.createElement(Ti,{key:"label-implicit",content:t,viewBox:r}):Ky(t)?Se.createElement(Ti,o2({viewBox:r},t,{key:"label-implicit"})):null:null},Bit=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=Nhe(t),o=dl(s,Ti).map(function(c,d){return B.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!a)return o;var l=Eit(t.label,r||i);return[l].concat(hit(o))};Ti.parseViewBox=Nhe;Ti.renderCallByParent=Bit;function Fit(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Pit=Fit;const kit=ua(Pit);function l2(e){"@babel/helpers - typeof";return l2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l2(e)}var Tit=["valueAccessor"],Iit=["data","dataKey","clockWise","id","textBreakAll"];function Oit(e){return Mit(e)||Rit(e)||Lit(e)||Dit()}function Dit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lit(e,t){if(e){if(typeof e=="string")return TO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(e,t)}}function Rit(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mit(e){if(Array.isArray(e))return TO(e)}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},S_.apply(this,arguments)}function LW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LW(Object(r),!0).forEach(function(a){Uit(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uit(e,t,r){return t=Qit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qit(e){var t=$it(e,"string");return l2(t)=="symbol"?t:t+""}function $it(e,t){if(l2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(l2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MW(e,t){if(e==null)return{};var r=Hit(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Hit(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var zit=function(t){return Array.isArray(t.value)?kit(t.value):t.value};function iu(e){var t=e.valueAccessor,r=t===void 0?zit:t,a=MW(e,Tit),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=MW(a,Iit);return!s||!s.length?null:Se.createElement(pn,{className:"recharts-label-list"},s.map(function(u,h){var f=Gr(i)?r(u,h):Ya(u&&u.payload,i),A=Gr(l)?{}:{id:"".concat(l,"-").concat(h)};return Se.createElement(Ti,S_({},Tr(u,!0),d,A,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Ti.parseViewBox(Gr(o)?u:RW(RW({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}iu.displayName="LabelList";function Vit(e,t){return e?e===!0?Se.createElement(iu,{key:"labelList-implicit",data:t}):Se.isValidElement(e)||Wr(e)?Se.createElement(iu,{key:"labelList-implicit",data:t,content:e}):Ky(e)?Se.createElement(iu,S_({data:t},e,{key:"labelList-implicit"})):null:null}function Kit(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=dl(a,iu).map(function(o,l){return B.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Vit(e.label,t);return[i].concat(Oit(s))}iu.renderCallByParent=Kit;function c2(e){"@babel/helpers - typeof";return c2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c2(e)}function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},IO.apply(this,arguments)}function UW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function QW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(r),!0).forEach(function(a){qit(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qit(e,t,r){return t=Wit(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wit(e){var t=Git(e,"string");return c2(t)=="symbol"?t:t+""}function Git(e,t){if(c2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(c2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xit=function(t,r){var a=al(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},j4=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,h=Math.asin(c/u)/C_,f=d?i:i+o*h,A=$a(r,a,u,f),p=$a(r,a,s,f),m=d?i-o*h:i,x=$a(r,a,u*Math.cos(h*C_),m);return{center:A,circleTangency:p,lineTangency:x,theta:h}},Che=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Xit(o,l),d=o+c,u=$a(r,a,i,o),h=$a(r,a,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var A=$a(r,a,s,o),p=$a(r,a,s,d);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(A.x,",").concat(A.y," Z")}else f+="L ".concat(r,",").concat(a," Z");return f},Yit=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=al(u-d),f=j4({cx:r,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),A=f.circleTangency,p=f.lineTangency,m=f.theta,x=j4({cx:r,cy:a,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,v=x.lineTangency,y=x.theta,j=c?Math.abs(d-u):Math.abs(d-u)-m-y;if(j<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Che({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var w=j4({cx:r,cy:a,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=w.circleTangency,F=w.lineTangency,E=w.theta,L=j4({cx:r,cy:a,radius:s,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=L.circleTangency,I=L.lineTangency,M=L.theta,O=c?Math.abs(d-u):Math.abs(d-u)-E-M;if(O<0&&o===0)return"".concat(b,"L").concat(r,",").concat(a,"Z");b+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,"Z")}else b+="L".concat(r,",").concat(a,"Z");return b},Jit={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},She=function(t){var r=QW(QW({},Jit),t),a=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,f=r.className;if(o<i||u===h)return null;var A=cn("recharts-sector",f),p=o-i,m=sl(l,p,0,!0),x;return m>0&&Math.abs(u-h)<360?x=Yit({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):x=Che({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),Se.createElement("path",IO({},Tr(r,!0),{className:A,d:x,role:"img"}))};function d2(e){"@babel/helpers - typeof";return d2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d2(e)}function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},OO.apply(this,arguments)}function $W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function HW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$W(Object(r),!0).forEach(function(a){Zit(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zit(e,t,r){return t=eot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eot(e){var t=tot(e,"string");return d2(t)=="symbol"?t:t+""}function tot(e,t){if(d2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(d2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zW={curveBasisClosed:YVe,curveBasisOpen:JVe,curveBasis:XVe,curveBumpX:DVe,curveBumpY:LVe,curveLinearClosed:ZVe,curveLinear:lF,curveMonotoneX:eKe,curveMonotoneY:tKe,curveNatural:rKe,curveStep:nKe,curveStepAfter:sKe,curveStepBefore:aKe},N4=function(t){return t.x===+t.x&&t.y===+t.y},sw=function(t){return t.x},iw=function(t){return t.y},rot=function(t,r){if(Wr(t))return t;var a="curve".concat(iF(t));return(a==="curveMonotone"||a==="curveBump")&&r?zW["".concat(a).concat(r==="vertical"?"Y":"X")]:zW[a]||lF},not=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=rot(a,l),h=d?i.filter(function(m){return N4(m)}):i,f;if(Array.isArray(o)){var A=d?o.filter(function(m){return N4(m)}):o,p=h.map(function(m,x){return HW(HW({},m),{},{base:A[x]})});return l==="vertical"?f=A4().y(iw).x1(sw).x0(function(m){return m.base.x}):f=A4().x(sw).y1(iw).y0(function(m){return m.base.y}),f.defined(N4).curve(u),f(p)}return l==="vertical"&&sr(o)?f=A4().y(iw).x1(sw).x0(o):sr(o)?f=A4().x(sw).y1(iw).y0(o):f=yde().x(sw).y(iw),f.defined(N4).curve(u),f(h)},wm=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?not(t):s;return Se.createElement("path",OO({},Tr(t,!1),Y5(t),{className:cn("recharts-curve",r),d:o,ref:i}))},_he={exports:{}},aot="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sot=aot,iot=sot;function Ehe(){}function Bhe(){}Bhe.resetWarningCache=Ehe;var oot=function(){function e(a,s,i,o,l,c){if(c!==iot){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Bhe,resetWarningCache:Ehe};return r.PropTypes=r,r};_he.exports=oot();var lot=_he.exports;const Lt=ua(lot);var cot=Object.getOwnPropertyNames,dot=Object.getOwnPropertySymbols,uot=Object.prototype.hasOwnProperty;function VW(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function C4(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var c=e(r,a,s);return i.delete(r),i.delete(a),c}}function KW(e){return cot(e).concat(dot(e))}var hot=Object.hasOwn||function(e,t){return uot.call(e,t)};function fx(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var fot="__v",Aot="__o",mot="_owner",qW=Object.getOwnPropertyDescriptor,WW=Object.keys;function pot(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function xot(e,t){return fx(e.getTime(),t.getTime())}function got(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vot(e,t){return e===t}function GW(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(s[h]){h++;continue}var f=o.value,A=l.value;if(r.equals(f[0],A[0],c,h,e,t,r)&&r.equals(f[1],A[1],f[0],A[0],e,t,r)){u=s[h]=!0;break}h++}if(!u)return!1;c++}return!0}var yot=fx;function wot(e,t,r){var a=WW(e),s=a.length;if(WW(t).length!==s)return!1;for(;s-- >0;)if(!Fhe(e,t,r,a[s]))return!1;return!0}function ow(e,t,r){var a=KW(e),s=a.length;if(KW(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!Fhe(e,t,r,i)||(o=qW(e,i),l=qW(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function bot(e,t){return fx(e.valueOf(),t.valueOf())}function jot(e,t){return e.source===t.source&&e.flags===t.flags}function XW(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Not(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Cot(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Fhe(e,t,r,a){return(a===mot||a===Aot||a===fot)&&(e.$$typeof||t.$$typeof)?!0:hot(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Sot="[object Arguments]",_ot="[object Boolean]",Eot="[object Date]",Bot="[object Error]",Fot="[object Map]",Pot="[object Number]",kot="[object Object]",Tot="[object RegExp]",Iot="[object Set]",Oot="[object String]",Dot="[object URL]",Lot=Array.isArray,YW=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,JW=Object.assign,Rot=Object.prototype.toString.call.bind(Object.prototype.toString);function Mot(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(p,m,x){if(p===m)return!0;if(p==null||m==null)return!1;var g=typeof p;if(g!==typeof m)return!1;if(g!=="object")return g==="number"?o(p,m,x):g==="function"?s(p,m,x):!1;var v=p.constructor;if(v!==m.constructor)return!1;if(v===Object)return l(p,m,x);if(Lot(p))return t(p,m,x);if(YW!=null&&YW(p))return h(p,m,x);if(v===Date)return r(p,m,x);if(v===RegExp)return d(p,m,x);if(v===Map)return i(p,m,x);if(v===Set)return u(p,m,x);var y=Rot(p);return y===Eot?r(p,m,x):y===Tot?d(p,m,x):y===Fot?i(p,m,x):y===Iot?u(p,m,x):y===kot?typeof p.then!="function"&&typeof m.then!="function"&&l(p,m,x):y===Dot?f(p,m,x):y===Bot?a(p,m,x):y===Sot?l(p,m,x):y===_ot||y===Pot||y===Oot?c(p,m,x):!1}}function Uot(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?ow:pot,areDatesEqual:xot,areErrorsEqual:got,areFunctionsEqual:vot,areMapsEqual:a?VW(GW,ow):GW,areNumbersEqual:yot,areObjectsEqual:a?ow:wot,arePrimitiveWrappersEqual:bot,areRegExpsEqual:jot,areSetsEqual:a?VW(XW,ow):XW,areTypedArraysEqual:a?ow:Not,areUrlsEqual:Cot};if(r&&(s=JW({},s,r(s))),t){var i=C4(s.areArraysEqual),o=C4(s.areMapsEqual),l=C4(s.areObjectsEqual),c=C4(s.areSetsEqual);s=JW({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function Qot(e){return function(t,r,a,s,i,o,l){return e(t,r,l)}}function $ot(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,d){var u=a(),h=u.cache,f=h===void 0?t?new WeakMap:void 0:h,A=u.meta;return r(c,d,{cache:f,equals:s,meta:A,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var Hot=tp();tp({strict:!0});tp({circular:!0});tp({circular:!0,strict:!0});tp({createInternalComparator:function(){return fx}});tp({strict:!0,createInternalComparator:function(){return fx}});tp({circular:!0,createInternalComparator:function(){return fx}});tp({circular:!0,createInternalComparator:function(){return fx},strict:!0});function tp(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=Uot(e),c=Mot(l),d=a?a(c):Qot(c);return $ot({circular:r,comparator:c,createState:s,equals:d,strict:o})}function zot(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ZW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):zot(s)};requestAnimationFrame(a)}function DO(e){"@babel/helpers - typeof";return DO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DO(e)}function Vot(e){return Got(e)||Wot(e)||qot(e)||Kot()}function Kot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qot(e,t){if(e){if(typeof e=="string")return eG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eG(e,t)}}function eG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Wot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Got(e){if(Array.isArray(e))return e}function Xot(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Vot(o),c=l[0],d=l.slice(1);if(typeof c=="number"){ZW(s.bind(null,d),c);return}s(c),ZW(s.bind(null,d));return}DO(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function u2(e){"@babel/helpers - typeof";return u2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u2(e)}function tG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tG(Object(r),!0).forEach(function(a){Phe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Phe(e,t,r){return t=Yot(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yot(e){var t=Jot(e,"string");return u2(t)==="symbol"?t:String(t)}function Jot(e,t){if(u2(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(u2(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zot=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},elt=function(t){return t},tlt=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nb=function(t,r){return Object.keys(r).reduce(function(a,s){return rG(rG({},a),{},Phe({},s,t(s,r[s])))},{})},nG=function(t,r,a){return t.map(function(s){return"".concat(tlt(s)," ").concat(r,"ms ").concat(a)}).join(",")};function rlt(e,t){return slt(e)||alt(e,t)||khe(e,t)||nlt()}function nlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function alt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function slt(e){if(Array.isArray(e))return e}function ilt(e){return clt(e)||llt(e)||khe(e)||olt()}function olt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(e,t){if(e){if(typeof e=="string")return LO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(e,t)}}function llt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function clt(e){if(Array.isArray(e))return LO(e)}function LO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var __=1e-4,The=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Ihe=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},aG=function(t,r){return function(a){var s=The(t,r);return Ihe(s,a)}},dlt=function(t,r){return function(a){var s=The(t,r),i=[].concat(ilt(s.map(function(o,l){return o*l}).slice(1)),[0]);return Ihe(i,a)}},sG=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=rlt(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var h=aG(s,o),f=aG(i,l),A=dlt(s,o),p=function(g){return g>1?1:g<0?0:g},m=function(g){for(var v=g>1?1:g,y=v,j=0;j<8;++j){var b=h(y)-v,w=A(y);if(Math.abs(b-v)<__||w<__)return f(y);y=p(y-b/w)}return f(y)};return m.isStepper=!1,m},ult=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,h,f){var A=-(u-h)*a,p=f*i,m=f+(A-p)*l/1e3,x=f*l/1e3+u;return Math.abs(x-h)<__&&Math.abs(m)<__?[h,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},hlt=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sG(s);case"spring":return ult();default:if(s.split("(")[0]==="cubic-bezier")return sG(s)}return typeof s=="function"?s:null};function h2(e){"@babel/helpers - typeof";return h2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h2(e)}function iG(e){return mlt(e)||Alt(e)||Ohe(e)||flt()}function flt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Alt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mlt(e){if(Array.isArray(e))return MO(e)}function oG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oG(Object(r),!0).forEach(function(a){RO(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RO(e,t,r){return t=plt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function plt(e){var t=xlt(e,"string");return h2(t)==="symbol"?t:String(t)}function xlt(e,t){if(h2(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(h2(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function glt(e,t){return wlt(e)||ylt(e,t)||Ohe(e,t)||vlt()}function vlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ohe(e,t){if(e){if(typeof e=="string")return MO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(e,t)}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ylt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function wlt(e){if(Array.isArray(e))return e}var E_=function(t,r,a){return t+(r-t)*a},UO=function(t){var r=t.from,a=t.to;return r!==a},blt=function e(t,r,a){var s=Nb(function(i,o){if(UO(o)){var l=t(o.from,o.to,o.velocity),c=glt(l,2),d=c[0],u=c[1];return Wi(Wi({},o),{},{from:d,velocity:u})}return o},r);return a<1?Nb(function(i,o){return UO(o)?Wi(Wi({},o),{},{velocity:E_(o.velocity,s[i].velocity,a),from:E_(o.from,s[i].from,a)}):o},r):e(t,s,a-1)};const jlt=function(e,t,r,a,s){var i=Zot(e,t),o=i.reduce(function(x,g){return Wi(Wi({},x),{},RO({},g,[e[g],t[g]]))},{}),l=i.reduce(function(x,g){return Wi(Wi({},x),{},RO({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return Nb(function(g,v){return v.from},l)},A=function(){return!Object.values(l).filter(UO).length},p=function(g){d||(d=g);var v=g-d,y=v/r.dt;l=blt(r,l,y),s(Wi(Wi(Wi({},e),t),f())),d=g,A()||(c=requestAnimationFrame(h))},m=function(g){u||(u=g);var v=(g-u)/a,y=Nb(function(b,w){return E_.apply(void 0,iG(w).concat([r(v)]))},o);if(s(Wi(Wi(Wi({},e),t),y)),v<1)c=requestAnimationFrame(h);else{var j=Nb(function(b,w){return E_.apply(void 0,iG(w).concat([r(1)]))},o);s(Wi(Wi(Wi({},e),t),j))}};return h=r.isStepper?p:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}var Nlt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Clt(e,t){if(e==null)return{};var r=Slt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Slt(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function V3(e){return Flt(e)||Blt(e)||Elt(e)||_lt()}function _lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Elt(e,t){if(e){if(typeof e=="string")return QO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QO(e,t)}}function Blt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Flt(e){if(Array.isArray(e))return QO(e)}function QO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function lG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lG(Object(r),!0).forEach(function(a){Iw(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Iw(e,t,r){return t=Dhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Plt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function klt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Dhe(a.key),a)}}function Tlt(e,t,r){return t&&klt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dhe(e){var t=Ilt(e,"string");return Gv(t)==="symbol"?t:String(t)}function Ilt(e,t){if(Gv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Olt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$O(e,t)}function $O(e,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$O(e,t)}function Dlt(e){var t=Llt();return function(){var a=B_(e),s;if(t){var i=B_(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return HO(this,s)}}function HO(e,t){if(t&&(Gv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zO(e)}function zO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Llt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B_(e){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B_(e)}var xd=function(e){Olt(r,e);var t=Dlt(r);function r(a,s){var i;Plt(this,r),i=t.call(this,a,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,A=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(zO(i)),i.changeStyle=i.changeStyle.bind(zO(i)),!l||A<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),HO(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},HO(i);i.state={style:c?Iw({},c,d):d}}else i.state={style:{}};return i}return Tlt(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var A={style:c?Iw({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(A);return}if(!(Hot(s.to,u)&&s.canBegin&&s.isActive)){var p=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=p||d?h:s.to;if(this.state&&f){var x={style:c?Iw({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(x)}this.runAnimation(Td(Td({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,A=jlt(o,l,hlt(d),c,this.changeStyle),p=function(){i.stopJSAnimation=A()};this.manager.start([f,u,p,c,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,A=function(m,x,g){if(g===0)return m;var v=x.duration,y=x.easing,j=y===void 0?"ease":y,b=x.style,w=x.properties,C=x.onAnimationEnd,F=g>0?o[g-1]:x,E=w||Object.keys(b);if(typeof j=="function"||j==="spring")return[].concat(V3(m),[i.runJSAnimation.bind(i,{from:F.style,to:b,duration:v,easing:j}),v]);var L=nG(E,v,j),N=Td(Td(Td({},F.style),b),{},{transition:L});return[].concat(V3(m),[N,v,C]).filter(elt)};return this.manager.start([c].concat(V3(o.reduce(A,[u,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Xot());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,A=s.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof d=="function"||typeof A=="function"||d==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var m=l?Iw({},l,c):c,x=nG(Object.keys(m),o,d);p.start([u,i,Td(Td({},m),{},{transition:x}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Clt(s,Nlt),d=B.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(A){var p=A.props,m=p.style,x=m===void 0?{}:m,g=p.className,v=B.cloneElement(A,Td(Td({},c),{},{style:Td(Td({},x),u),className:g}));return v};return d===1?h(B.Children.only(i)):Se.createElement("div",null,B.Children.map(i,function(f){return h(f)}))}}]),r}(B.PureComponent);xd.displayName="Animate";xd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xd.propTypes={from:Lt.oneOfType([Lt.object,Lt.string]),to:Lt.oneOfType([Lt.object,Lt.string]),attributeName:Lt.string,duration:Lt.number,begin:Lt.number,easing:Lt.oneOfType([Lt.string,Lt.func]),steps:Lt.arrayOf(Lt.shape({duration:Lt.number.isRequired,style:Lt.object.isRequired,easing:Lt.oneOfType([Lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Lt.func]),properties:Lt.arrayOf("string"),onAnimationEnd:Lt.func})),children:Lt.oneOfType([Lt.node,Lt.func]),isActive:Lt.bool,canBegin:Lt.bool,onAnimationEnd:Lt.func,shouldReAnimate:Lt.bool,onAnimationStart:Lt.func,onAnimationReStart:Lt.func};function f2(e){"@babel/helpers - typeof";return f2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f2(e)}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F_.apply(this,arguments)}function Rlt(e,t){return $lt(e)||Qlt(e,t)||Ult(e,t)||Mlt()}function Mlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ult(e,t){if(e){if(typeof e=="string")return cG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cG(e,t)}}function cG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Qlt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $lt(e){if(Array.isArray(e))return e}function dG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dG(Object(r),!0).forEach(function(a){Hlt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hlt(e,t,r){return t=zlt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zlt(e){var t=Vlt(e,"string");return f2(t)=="symbol"?t:t+""}function Vlt(e,t){if(f2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(f2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hG=function(t,r,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,A=4;f<A;f++)h[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(r)),u+="L ".concat(t+a-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(r+l*h[1])),u+="L ".concat(t+a,",").concat(r+s-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+a-c*h[2],",").concat(r+s)),u+="L ".concat(t+c*h[3],",").concat(r+s),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+a-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+a,",").concat(r+l*p,`
            L `).concat(t+a,",").concat(r+s-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+a-c*p,",").concat(r+s,`
            L `).concat(t+c*p,",").concat(r+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t,",").concat(r+s-l*p," Z")}else u="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return u},Klt=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return a>=d&&a<=u&&s>=h&&s<=f}return!1},qlt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uU=function(t){var r=uG(uG({},qlt),t),a=B.useRef(),s=B.useState(-1),i=Rlt(s,2),o=i[0],l=i[1];B.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,f=r.radius,A=r.className,p=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var y=cn("recharts-rectangle",A);return v?Se.createElement(xd,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:m,animationEasing:p,isActive:v},function(j){var b=j.width,w=j.height,C=j.x,F=j.y;return Se.createElement(xd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:g,easing:p},Se.createElement("path",F_({},Tr(r,!0),{className:y,d:hG(C,F,b,w,f),ref:a})))}):Se.createElement("path",F_({},Tr(r,!0),{className:y,d:hG(c,d,u,h,f)}))},Wlt=["points","className","baseLinePoints","connectNulls"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jg.apply(this,arguments)}function Glt(e,t){if(e==null)return{};var r=Xlt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Xlt(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function fG(e){return ect(e)||Zlt(e)||Jlt(e)||Ylt()}function Ylt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jlt(e,t){if(e){if(typeof e=="string")return VO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VO(e,t)}}function Zlt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ect(e){if(Array.isArray(e))return VO(e)}function VO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var AG=function(t){return t&&t.x===+t.x&&t.y===+t.y},tct=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){AG(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),AG(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Cb=function(t,r){var a=tct(t);r&&(a=[a.reduce(function(i,o){return[].concat(fG(i),fG(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},rct=function(t,r,a){var s=Cb(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Cb(r.reverse(),a).slice(1))},nct=function(t){var r=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,o=Glt(t,Wlt);if(!r||!r.length)return null;var l=cn("recharts-polygon",a);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=rct(r,s,i);return Se.createElement("g",{className:l},Se.createElement("path",jg({},Tr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Se.createElement("path",jg({},Tr(o,!0),{fill:"none",d:Cb(r,i)})):null,c?Se.createElement("path",jg({},Tr(o,!0),{fill:"none",d:Cb(s,i)})):null)}var u=Cb(r,i);return Se.createElement("path",jg({},Tr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function KO(){return KO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},KO.apply(this,arguments)}var gN=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,o=cn("recharts-dot",i);return r===+r&&a===+a&&s===+s?Se.createElement("circle",KO({},Tr(t,!1),Y5(t),{className:o,cx:r,cy:a,r:s})):null};function A2(e){"@babel/helpers - typeof";return A2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A2(e)}var act=["x","y","top","left","width","height","className"];function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qO.apply(this,arguments)}function mG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mG(Object(r),!0).forEach(function(a){ict(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ict(e,t,r){return t=oct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oct(e){var t=lct(e,"string");return A2(t)=="symbol"?t:t+""}function lct(e,t){if(A2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(A2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cct(e,t){if(e==null)return{};var r=dct(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function dct(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var uct=function(t,r,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a)},hct=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,f=t.height,A=f===void 0?0:f,p=t.className,m=cct(t,act),x=sct({x:a,y:i,top:l,left:d,width:h,height:A},m);return!sr(a)||!sr(i)||!sr(h)||!sr(A)||!sr(l)||!sr(d)?null:Se.createElement("path",qO({},Tr(x,!0),{className:cn("recharts-cross",p),d:uct(a,i,h,A,l,d)}))},fct=yF,Act=Wue,mct=Fh;function pct(e,t){return e&&e.length?fct(e,mct(t),Act):void 0}var xct=pct;const gct=ua(xct);var vct=yF,yct=Fh,wct=Gue;function bct(e,t){return e&&e.length?vct(e,yct(t),wct):void 0}var jct=bct;const Nct=ua(jct);var Cct=["cx","cy","angle","ticks","axisLine"],Sct=["ticks","tick","angle","tickFormatter","stroke"];function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sb.apply(this,arguments)}function pG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pG(Object(r),!0).forEach(function(a){NF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xG(e,t){if(e==null)return{};var r=_ct(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _ct(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ect(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Rhe(a.key),a)}}function Bct(e,t,r){return t&&gG(e.prototype,t),r&&gG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fct(e,t,r){return t=P_(t),Pct(e,Lhe()?Reflect.construct(t,r||[],P_(e).constructor):t.apply(e,r))}function Pct(e,t){if(t&&(Xv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kct(e)}function kct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lhe=function(){return!!e})()}function P_(e){return P_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P_(e)}function Tct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WO(e,t)}function WO(e,t){return WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WO(e,t)}function NF(e,t,r){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rhe(e){var t=Ict(e,"string");return Xv(t)=="symbol"?t:t+""}function Ict(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CF=function(e){function t(){return Ect(this,t),Fct(this,t,arguments)}return Tct(t,e),Bct(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return $a(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=gct(l,function(u){return u.coordinate||0}),d=Nct(l,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=xG(a,Cct),u=l.reduce(function(p,m){return[Math.min(p[0],m.coordinate),Math.max(p[1],m.coordinate)]},[1/0,-1/0]),h=$a(s,i,u[0],o),f=$a(s,i,u[1],o),A=vp(vp(vp({},Tr(d,!1)),{},{fill:"none"},Tr(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return Se.createElement("line",Sb({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=xG(s,Sct),h=this.getTickTextAnchor(),f=Tr(u,!1),A=Tr(o,!1),p=i.map(function(m,x){var g=a.getTickValueCoord(m),v=vp(vp(vp(vp({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:d},A),{},{index:x},g),{},{payload:m});return Se.createElement(pn,Sb({className:cn("recharts-polar-radius-axis-tick",jhe(o)),key:"tick-".concat(m.coordinate)},Qm(a.props,m,x)),t.renderTickItem(o,v,c?c(m.value,x):m.value))});return Se.createElement(pn,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:Se.createElement(pn,{className:cn("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ti.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return Se.isValidElement(a)?o=Se.cloneElement(a,s):Wr(a)?o=a(s):o=Se.createElement($0,Sb({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(B.PureComponent);NF(CF,"displayName","PolarRadiusAxis");NF(CF,"axisType","radiusAxis");NF(CF,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ip.apply(this,arguments)}function vG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vG(Object(r),!0).forEach(function(a){SF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Oct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Uhe(a.key),a)}}function Dct(e,t,r){return t&&yG(e.prototype,t),r&&yG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lct(e,t,r){return t=k_(t),Rct(e,Mhe()?Reflect.construct(t,r||[],k_(e).constructor):t.apply(e,r))}function Rct(e,t){if(t&&(Yv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mct(e)}function Mct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mhe=function(){return!!e})()}function k_(e){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k_(e)}function Uct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GO(e,t)}function GO(e,t){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GO(e,t)}function SF(e,t,r){return t=Uhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uhe(e){var t=Qct(e,"string");return Yv(t)=="symbol"?t:t+""}function Qct(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ct=Math.PI/180,wG=1e-5,_F=function(e){function t(){return Oct(this,t),Lct(this,t,arguments)}return Uct(t,e),Dct(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,h=$a(i,o,l,a.coordinate),f=$a(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*$ct),o;return i>wG?o=s==="outer"?"start":"end":i<-wG?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=yp(yp({},Tr(this.props,!1)),{},{fill:"none"},Tr(l,!1));if(c==="circle")return Se.createElement(gN,Ip({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(f){return $a(s,i,o,f.coordinate)});return Se.createElement(nct,Ip({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=Tr(this.props,!1),h=Tr(o,!1),f=yp(yp({},u),{},{fill:"none"},Tr(l,!1)),A=i.map(function(p,m){var x=a.getTickLineCoord(p),g=a.getTickTextAnchor(p),v=yp(yp(yp({textAnchor:g},u),{},{stroke:"none",fill:d},h),{},{index:m,payload:p,x:x.x2,y:x.y2});return Se.createElement(pn,Ip({className:cn("recharts-polar-angle-axis-tick",jhe(o)),key:"tick-".concat(p.coordinate)},Qm(a.props,p,m)),l&&Se.createElement("line",Ip({className:"recharts-polar-angle-axis-tick-line"},f,x)),o&&t.renderTickItem(o,v,c?c(p.value,m):p.value))});return Se.createElement(pn,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:Se.createElement(pn,{className:cn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return Se.isValidElement(a)?o=Se.cloneElement(a,s):Wr(a)?o=a(s):o=Se.createElement($0,Ip({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(B.PureComponent);SF(_F,"displayName","PolarAngleAxis");SF(_F,"axisType","angleAxis");SF(_F,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Hct=zde,zct=Hct(Object.getPrototypeOf,Object),Vct=zct,Kct=Wf,qct=Vct,Wct=Gf,Gct="[object Object]",Xct=Function.prototype,Yct=Object.prototype,Qhe=Xct.toString,Jct=Yct.hasOwnProperty,Zct=Qhe.call(Object);function edt(e){if(!Wct(e)||Kct(e)!=Gct)return!1;var t=qct(e);if(t===null)return!0;var r=Jct.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Qhe.call(r)==Zct}var tdt=edt;const rdt=ua(tdt);var ndt=Wf,adt=Gf,sdt="[object Boolean]";function idt(e){return e===!0||e===!1||adt(e)&&ndt(e)==sdt}var odt=idt;const ldt=ua(odt);function m2(e){"@babel/helpers - typeof";return m2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m2(e)}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},T_.apply(this,arguments)}function cdt(e,t){return fdt(e)||hdt(e,t)||udt(e,t)||ddt()}function ddt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function udt(e,t){if(e){if(typeof e=="string")return bG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bG(e,t)}}function bG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hdt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function fdt(e){if(Array.isArray(e))return e}function jG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function NG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jG(Object(r),!0).forEach(function(a){Adt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Adt(e,t,r){return t=mdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mdt(e){var t=pdt(e,"string");return m2(t)=="symbol"?t:t+""}function pdt(e,t){if(m2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(m2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG=function(t,r,a,s,i){var o=a-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+i),l+="L ".concat(t+a-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},xdt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gdt=function(t){var r=NG(NG({},xdt),t),a=B.useRef(),s=B.useState(-1),i=cdt(s,2),o=i[0],l=i[1];B.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var y=a.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,f=r.height,A=r.className,p=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var v=cn("recharts-trapezoid",A);return g?Se.createElement(xd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:m,animationEasing:p,isActive:g},function(y){var j=y.upperWidth,b=y.lowerWidth,w=y.height,C=y.x,F=y.y;return Se.createElement(xd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:p},Se.createElement("path",T_({},Tr(r,!0),{className:v,d:CG(C,F,j,b,w),ref:a})))}):Se.createElement("g",null,Se.createElement("path",T_({},Tr(r,!0),{className:v,d:CG(c,d,u,h,f)})))},vdt=["option","shapeType","propTransformer","activeClassName","isActive"];function p2(e){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p2(e)}function ydt(e,t){if(e==null)return{};var r=wdt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wdt(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function SG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SG(Object(r),!0).forEach(function(a){bdt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bdt(e,t,r){return t=jdt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jdt(e){var t=Ndt(e,"string");return p2(t)=="symbol"?t:t+""}function Ndt(e,t){if(p2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(p2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cdt(e,t){return I_(I_({},t),e)}function Sdt(e,t){return e==="symbols"}function _G(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Se.createElement(uU,r);case"trapezoid":return Se.createElement(gdt,r);case"sector":return Se.createElement(She,r);case"symbols":if(Sdt(t))return Se.createElement(dF,r);break;default:return null}}function _dt(e){return B.isValidElement(e)?e.props:e}function O_(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?Cdt:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=ydt(e,vdt),d;if(B.isValidElement(t))d=B.cloneElement(t,I_(I_({},c),_dt(t)));else if(Wr(t))d=t(c);else if(rdt(t)&&!ldt(t)){var u=s(t,c);d=Se.createElement(_G,{shapeType:r,elementProps:u})}else{var h=c;d=Se.createElement(_G,{shapeType:r,elementProps:h})}return l?Se.createElement(pn,{className:o},d):d}function EF(e,t){return t!=null&&"trapezoids"in e.props}function BF(e,t){return t!=null&&"sectors"in e.props}function x2(e,t){return t!=null&&"points"in e.props}function Edt(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function Bdt(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function Fdt(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function Pdt(e,t){var r;return EF(e,t)?r=Edt:BF(e,t)?r=Bdt:x2(e,t)&&(r=Fdt),r}function kdt(e,t){var r;return EF(e,t)?r="trapezoids":BF(e,t)?r="sectors":x2(e,t)&&(r="points"),r}function Tdt(e,t){if(EF(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(BF(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return x2(e,t)?t.payload:{}}function Idt(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=kdt(r,t),i=Tdt(r,t),o=a.filter(function(c,d){var u=$m(i,c),h=r.props[s].filter(function(p){var m=Pdt(r,t);return m(p,t)}),f=r.props[s].indexOf(h[h.length-1]),A=d===f;return u&&A}),l=a.indexOf(o[o.length-1]);return l}var mS;function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ng.apply(this,arguments)}function EG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EG(Object(r),!0).forEach(function(a){Yc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Odt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Hhe(a.key),a)}}function Ddt(e,t,r){return t&&BG(e.prototype,t),r&&BG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ldt(e,t,r){return t=D_(t),Rdt(e,$he()?Reflect.construct(t,r||[],D_(e).constructor):t.apply(e,r))}function Rdt(e,t){if(t&&(Jv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mdt(e)}function Mdt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($he=function(){return!!e})()}function D_(e){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D_(e)}function Udt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XO(e,t)}function XO(e,t){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},XO(e,t)}function Yc(e,t,r){return t=Hhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hhe(e){var t=Qdt(e,"string");return Jv(t)=="symbol"?t:t+""}function Qdt(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Jv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ph=function(e){function t(r){var a;return Odt(this,t),a=Ldt(this,t,[r]),Yc(a,"pieRef",null),Yc(a,"sectorRefs",[]),Yc(a,"id",Jm("recharts-pie-")),Yc(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Wr(s)&&s()}),Yc(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Wr(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return Udt(t,e),Ddt(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Tr(this.props,!1),h=Tr(o,!1),f=Tr(l,!1),A=o&&o.offsetRadius||20,p=a.map(function(m,x){var g=(m.startAngle+m.endAngle)/2,v=$a(m.cx,m.cy,m.outerRadius+A,g),y=Ra(Ra(Ra(Ra({},u),m),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(v.x,m.cx)},v),j=Ra(Ra(Ra(Ra({},u),m),{},{fill:"none",stroke:m.fill},f),{},{index:x,points:[$a(m.cx,m.cy,m.outerRadius,g),v]}),b=c;return Gr(c)&&Gr(d)?b="value":Gr(c)&&(b=d),Se.createElement(pn,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,y,Ya(m,b)))});return Se.createElement(pn,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(u),f=c&&s.hasActiveIndex()?c:null,A=h?o:f,p=Ra(Ra({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Se.createElement(pn,Ng({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Qm(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),Se.createElement(O_,Ng({option:A,isActive:h,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,h=this.state,f=h.prevSectors,A=h.prevIsAnimationActive;return Se.createElement(xd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var m=p.t,x=[],g=i&&i[0],v=g.startAngle;return i.forEach(function(y,j){var b=f&&f[j],w=j>0?jc(y,"paddingAngle",0):0;if(b){var C=us(b.endAngle-b.startAngle,y.endAngle-y.startAngle),F=Ra(Ra({},y),{},{startAngle:v+w,endAngle:v+C(m)+w});x.push(F),v=F.endAngle}else{var E=y.endAngle,L=y.startAngle,N=us(0,E-L),I=N(m),M=Ra(Ra({},y),{},{startAngle:v+w,endAngle:v+I+w});x.push(M),v=M.endAngle}}),Se.createElement(pn,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!$m(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,h=s.innerRadius,f=s.outerRadius,A=s.isAnimationActive,p=this.state.isAnimationFinished;if(i||!o||!o.length||!sr(d)||!sr(u)||!sr(h)||!sr(f))return null;var m=cn("recharts-pie",l);return Se.createElement(pn,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){a.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Ti.renderCallByParent(this.props,null,!1),(!A||p)&&iu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(Se.isValidElement(a))return Se.cloneElement(a,s);if(Wr(a))return a(s);var o=cn("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return Se.createElement(wm,Ng({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(Se.isValidElement(a))return Se.cloneElement(a,s);var o=i;if(Wr(a)&&(o=a(s),Se.isValidElement(o)))return o;var l=cn("recharts-pie-label-text",typeof a!="boolean"&&!Wr(a)?a.className:"");return Se.createElement($0,Ng({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(B.PureComponent);mS=Ph;Yc(Ph,"displayName","Pie");Yc(Ph,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yc(Ph,"parseDeltaAngle",function(e,t){var r=al(t-e),a=Math.min(Math.abs(t-e),360);return r*a});Yc(Ph,"getRealPieData",function(e){var t=e.data,r=e.children,a=Tr(e,!1),s=dl(r,e1);return t&&t.length?t.map(function(i,o){return Ra(Ra(Ra({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ra(Ra({},a),i.props)}):[]});Yc(Ph,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,s=t.width,i=t.height,o=bhe(s,i),l=a+sl(e.cx,s,s/2),c=r+sl(e.cy,i,i/2),d=sl(e.innerRadius,o,0),u=sl(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Yc(Ph,"getComposedData",function(e){var t=e.item,r=e.offset,a=t.type.defaultProps!==void 0?Ra(Ra({},t.type.defaultProps),t.props):t.props,s=mS.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,h=a.valueKey,f=a.tooltipType,A=Math.abs(a.minAngle),p=mS.parseCoordinateOfPie(a,r),m=mS.parseDeltaAngle(o,l),x=Math.abs(m),g=d;Gr(d)&&Gr(h)?(su(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):Gr(d)&&(su(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=h);var v=s.filter(function(F){return Ya(F,g,0)!==0}).length,y=(x>=360?v:v-1)*c,j=x-v*A-y,b=s.reduce(function(F,E){var L=Ya(E,g,0);return F+(sr(L)?L:0)},0),w;if(b>0){var C;w=s.map(function(F,E){var L=Ya(F,g,0),N=Ya(F,u,E),I=(sr(L)?L:0)/b,M;E?M=C.endAngle+al(m)*c*(L!==0?1:0):M=o;var O=M+al(m)*((L!==0?A:0)+I*j),k=(M+O)/2,P=(p.innerRadius+p.outerRadius)/2,R=[{name:N,value:L,payload:F,dataKey:g,type:f}],V=$a(p.cx,p.cy,P,k);return C=Ra(Ra(Ra({percent:I,cornerRadius:i,name:N,tooltipPayload:R,midAngle:k,middleRadius:P,tooltipPosition:V},F),p),{},{value:Ya(F,g),startAngle:M,endAngle:O,payload:F,paddingAngle:al(m)*c}),C})}return Ra(Ra({},p),{},{sectors:w,data:s})});var $dt=Math.ceil,Hdt=Math.max;function zdt(e,t,r,a){for(var s=-1,i=Hdt($dt((t-e)/(r||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=r;return o}var Vdt=zdt,Kdt=cue,FG=1/0,qdt=17976931348623157e292;function Wdt(e){if(!e)return e===0?e:0;if(e=Kdt(e),e===FG||e===-FG){var t=e<0?-1:1;return t*qdt}return e===e?e:0}var zhe=Wdt,Gdt=Vdt,Xdt=fF,K3=zhe;function Ydt(e){return function(t,r,a){return a&&typeof a!="number"&&Xdt(t,r,a)&&(r=a=void 0),t=K3(t),r===void 0?(r=t,t=0):r=K3(r),a=a===void 0?t<r?1:-1:K3(a),Gdt(t,r,a,e)}}var Jdt=Ydt,Zdt=Jdt,eut=Zdt(),tut=eut;const L_=ua(tut);function g2(e){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g2(e)}function PG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PG(Object(r),!0).forEach(function(a){Vhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vhe(e,t,r){return t=rut(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rut(e){var t=nut(e,"string");return g2(t)=="symbol"?t:t+""}function nut(e,t){if(g2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(g2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aut=["Webkit","Moz","O","ms"],sut=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=aut.reduce(function(i,o){return kG(kG({},i),{},Vhe({},o+a,r))},{});return s[t]=r,s};function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R_.apply(this,arguments)}function TG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TG(Object(r),!0).forEach(function(a){nc(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qhe(a.key),a)}}function out(e,t,r){return t&&IG(e.prototype,t),r&&IG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lut(e,t,r){return t=M_(t),cut(e,Khe()?Reflect.construct(t,r||[],M_(e).constructor):t.apply(e,r))}function cut(e,t){if(t&&(Zv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dut(e)}function dut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Khe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Khe=function(){return!!e})()}function M_(e){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M_(e)}function uut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YO(e,t)}function YO(e,t){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YO(e,t)}function nc(e,t,r){return t=qhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qhe(e){var t=hut(e,"string");return Zv(t)=="symbol"?t:t+""}function hut(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fut=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=bb().domain(L_(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:u}},OG=function(t){return t.changedTouches&&!!t.changedTouches.length},ey=function(e){function t(r){var a;return iut(this,t),a=lut(this,t,[r]),nc(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),nc(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),nc(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),nc(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),nc(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),nc(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),nc(a,"handleSlideDragStart",function(s){var i=OG(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return uut(t,e),out(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(s,i),f=Math.max(s,i),A=t.getIndexInRange(o,h),p=t.getIndexInRange(o,f);return{startIndex:A-A%c,endIndex:p===u?u:p-p%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Ya(i[a],l,a);return Wr(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,A=c.endIndex,p=c.onChange,m=a.pageX-i;m>0?m=Math.min(m,d+u-h-l,d+u-h-o):m<0&&(m=Math.max(m,d-o,d-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==f||x.endIndex!==A)&&p&&p(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=OG(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,A=u.travellerWidth,p=u.onChange,m=u.gap,x=u.data,g={startX:this.state.startX,endX:this.state.endX},v=a.pageX-i;v>0?v=Math.min(v,h+f-A-d):v<0&&(v=Math.max(v,h-d)),g[o]=d+v;var y=this.getIndex(g),j=y.startIndex,b=y.endIndex,w=function(){var F=x.length-1;return o==="startX"&&(l>c?j%m===0:b%m===0)||l<c&&b===F||o==="endX"&&(l>c?b%m===0:j%m===0)||l>c&&b===F};this.setState(nc(nc({},o,d+v),"brushMoveStartX",a.pageX),function(){p&&w()&&p(y)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],h=l.indexOf(u);if(h!==-1){var f=h+a;if(!(f===-1||f>=l.length)){var A=l[f];s==="startX"&&A>=d||s==="endX"&&A<=c||this.setState(nc({},s,A),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return Se.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,h=B.Children.only(d);return h?Se.cloneElement(h,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,A=c.ariaLabel,p=c.data,m=c.startIndex,x=c.endIndex,g=Math.max(a,this.props.x),v=q3(q3({},Tr(this.props,!1)),{},{x:g,y:d,width:u,height:h}),y=A||"Min value: ".concat((i=p[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[x])===null||o===void 0?void 0:o.name);return Se.createElement(pn,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),l.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,v))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,s)+d,h=Math.max(Math.abs(s-a)-d,0);return Se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,h=u.startX,f=u.endX,A=5,p={pointerEvents:"none",fill:d};return Se.createElement(pn,{className:"recharts-brush-texts"},Se.createElement($0,R_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-A,y:o+l/2},p),this.getTextOfTick(s)),Se.createElement($0,R_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+A,y:o+l/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,h=a.alwaysShowText,f=this.state,A=f.startX,p=f.endX,m=f.isTextActive,x=f.isSlideMoving,g=f.isTravellerMoving,v=f.isTravellerFocused;if(!s||!s.length||!sr(l)||!sr(c)||!sr(d)||!sr(u)||d<=0||u<=0)return null;var y=cn("recharts-brush",i),j=Se.Children.count(o)===1,b=sut("userSelect","none");return Se.createElement(pn,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(A,p),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(p,"endX"),(m||x||g||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return Se.createElement(Se.Fragment,null,Se.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),Se.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),Se.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Se.isValidElement(a)?i=Se.cloneElement(a,s):Wr(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return q3({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?fut({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(A){return s.scale(A)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>s?l=c:o=c}return s>=a[l]?l:o}}])}(B.PureComponent);nc(ey,"displayName","Brush");nc(ey,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Aut=LM;function mut(e,t){var r;return Aut(e,function(a,s,i){return r=t(a,s,i),!r}),!!r}var put=mut,xut=Dde,gut=Fh,vut=put,yut=Hl,wut=fF;function but(e,t,r){var a=yut(e)?xut:vut;return r&&wut(e,t,r)&&(t=void 0),a(e,gut(t))}var jut=but;const Nut=ua(jut);var uh=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},DG=aue;function Cut(e,t,r){t=="__proto__"&&DG?DG(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Sut=Cut,_ut=Sut,Eut=rue,But=Fh;function Fut(e,t){var r={};return t=But(t),Eut(e,function(a,s,i){_ut(r,s,t(a,s,i))}),r}var Put=Fut;const kut=ua(Put);function Tut(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var Iut=Tut,Out=LM;function Dut(e,t){var r=!0;return Out(e,function(a,s,i){return r=!!t(a,s,i),r}),r}var Lut=Dut,Rut=Iut,Mut=Lut,Uut=Fh,Qut=Hl,$ut=fF;function Hut(e,t,r){var a=Qut(e)?Rut:Mut;return r&&$ut(e,t,r)&&(t=void 0),a(e,Uut(t))}var zut=Hut;const Whe=ua(zut);var Vut=["x","y"];function v2(e){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v2(e)}function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},JO.apply(this,arguments)}function LG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LG(Object(r),!0).forEach(function(a){Kut(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Kut(e,t,r){return t=qut(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qut(e){var t=Wut(e,"string");return v2(t)=="symbol"?t:t+""}function Wut(e,t){if(v2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(v2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gut(e,t){if(e==null)return{};var r=Xut(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Xut(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Yut(e,t){var r=e.x,a=e.y,s=Gut(e,Vut),i="".concat(r),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),h="".concat(t.width||s.width),f=parseInt(h,10);return lw(lw(lw(lw(lw({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function RG(e){return Se.createElement(O_,JO({shapeType:"rectangle",propTransformer:Yut,activeClassName:"recharts-active-bar"},e))}var Jut=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=typeof a=="number";return i?t(a,s):(i||z0(),r)}},Zut=["value","background"],Ghe;function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function eht(e,t){if(e==null)return{};var r=tht(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function tht(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U_.apply(this,arguments)}function MG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MG(Object(r),!0).forEach(function(a){nm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Yhe(a.key),a)}}function nht(e,t,r){return t&&UG(e.prototype,t),r&&UG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aht(e,t,r){return t=Q_(t),sht(e,Xhe()?Reflect.construct(t,r||[],Q_(e).constructor):t.apply(e,r))}function sht(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iht(e)}function iht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xhe=function(){return!!e})()}function Q_(e){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q_(e)}function oht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZO(e,t)}function ZO(e,t){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ZO(e,t)}function nm(e,t,r){return t=Yhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yhe(e){var t=lht(e,"string");return ty(t)=="symbol"?t:t+""}function lht(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ty(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hh=function(e){function t(){var r;rht(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=aht(this,t,[].concat(s)),nm(r,"state",{isAnimationFinished:!1}),nm(r,"id",Jm("recharts-bar-")),nm(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),nm(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return oht(t,e),nht(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Tr(this.props,!1);return a&&a.map(function(h,f){var A=f===c,p=A?d:o,m=ti(ti(ti({},u),h),{},{isActive:A,option:p,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Se.createElement(pn,U_({className:"recharts-bar-rectangle"},Qm(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),Se.createElement(RG,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,h=s.animationId,f=this.state.prevData;return Se.createElement(xd,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var p=A.t,m=i.map(function(x,g){var v=f&&f[g];if(v){var y=us(v.x,x.x),j=us(v.y,x.y),b=us(v.width,x.width),w=us(v.height,x.height);return ti(ti({},x),{},{x:y(p),y:j(p),width:b(p),height:w(p)})}if(o==="horizontal"){var C=us(0,x.height),F=C(p);return ti(ti({},x),{},{y:x.y+x.height-F,height:F})}var E=us(0,x.width),L=E(p);return ti(ti({},x),{},{width:L})});return Se.createElement(pn,null,a.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!$m(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Tr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=eht(d,Zut);if(!h)return null;var A=ti(ti(ti(ti(ti({},f),{},{fill:"#eee"},h),c),Qm(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Se.createElement(RG,U_({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},A))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=dl(u,a1);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,A=function(x,g){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:Ya(x,g)}},p={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Se.createElement(pn,p,h.map(function(m){return Se.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:A})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,h=a.width,f=a.height,A=a.isAnimationActive,p=a.background,m=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,g=cn("recharts-bar",o),v=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,j=v||y,b=Gr(m)?this.id:m;return Se.createElement(pn,{className:g},v||y?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(b)},Se.createElement("rect",{x:v?d:d-h/2,y:y?u:u-f/2,width:v?h:h*2,height:y?f:f*2}))):null,Se.createElement(pn,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(b,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,b),(!A||x)&&iu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(B.PureComponent);Ghe=hh;nm(hh,"displayName","Bar");nm(hh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nm(hh,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,A=$st(a,r);if(!A)return null;var p=t.layout,m=r.type.defaultProps,x=m!==void 0?ti(ti({},m),r.props):r.props,g=x.dataKey,v=x.children,y=x.minPointSize,j=p==="horizontal"?o:i,b=d?j.scale.domain():null,w=Gst({numericAxis:j}),C=dl(v,e1),F=h.map(function(E,L){var N,I,M,O,k,P;d?N=Hst(d[u+L],b):(N=Ya(E,g),Array.isArray(N)||(N=[w,N]));var R=Jut(y,Ghe.defaultProps.minPointSize)(N[1],L);if(p==="horizontal"){var V,D=[o.scale(N[0]),o.scale(N[1])],Y=D[0],ne=D[1];I=BW({axis:i,ticks:l,bandSize:s,offset:A.offset,entry:E,index:L}),M=(V=ne??Y)!==null&&V!==void 0?V:void 0,O=A.size;var S=Y-ne;if(k=Number.isNaN(S)?0:S,P={x:I,y:o.y,width:O,height:o.height},Math.abs(R)>0&&Math.abs(k)<Math.abs(R)){var z=al(k||R)*(Math.abs(R)-Math.abs(k));M-=z,k+=z}}else{var Q=[i.scale(N[0]),i.scale(N[1])],W=Q[0],U=Q[1];if(I=W,M=BW({axis:o,ticks:c,bandSize:s,offset:A.offset,entry:E,index:L}),O=U-W,k=A.size,P={x:i.x,y:M,width:i.width,height:k},Math.abs(R)>0&&Math.abs(O)<Math.abs(R)){var re=al(O||R)*(Math.abs(R)-Math.abs(O));O+=re}}return ti(ti(ti({},E),{},{x:I,y:M,width:O,height:k,value:d?N:N[1],payload:E,background:P},C&&C[L]&&C[L].props),{},{tooltipPayload:[yhe(r,E)],tooltipPosition:{x:I+O/2,y:M+k/2}})});return ti({data:F,layout:p},f)});function y2(e){"@babel/helpers - typeof";return y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y2(e)}function cht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Jhe(a.key),a)}}function dht(e,t,r){return t&&QG(e.prototype,t),r&&QG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$G(Object(r),!0).forEach(function(a){FF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$G(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FF(e,t,r){return t=Jhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jhe(e){var t=uht(e,"string");return y2(t)=="symbol"?t:t+""}function uht(e,t){if(y2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(y2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hU=function(t,r,a,s,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},f=!!ic(d,hh);return u.reduce(function(A,p){var m=r[p],x=m.orientation,g=m.domain,v=m.padding,y=v===void 0?{}:v,j=m.mirror,b=m.reversed,w="".concat(x).concat(j?"Mirror":""),C,F,E,L,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var I=g[1]-g[0],M=1/0,O=m.categoricalDomain.sort();if(O.forEach(function(Q,W){W>0&&(M=Math.min((Q||0)-(O[W-1]||0),M))}),Number.isFinite(M)){var k=M/I,P=m.layout==="vertical"?a.height:a.width;if(m.padding==="gap"&&(C=k*P/2),m.padding==="no-gap"){var R=sl(t.barCategoryGap,k*P),V=k*P/2;C=V-R-(V-R)/P*R}}}s==="xAxis"?F=[a.left+(y.left||0)+(C||0),a.left+a.width-(y.right||0)-(C||0)]:s==="yAxis"?F=c==="horizontal"?[a.top+a.height-(y.bottom||0),a.top+(y.top||0)]:[a.top+(y.top||0)+(C||0),a.top+a.height-(y.bottom||0)-(C||0)]:F=m.range,b&&(F=[F[1],F[0]]);var D=phe(m,i,f),Y=D.scale,ne=D.realScaleType;Y.domain(g).range(F),xhe(Y);var S=ghe(Y,Ud(Ud({},m),{},{realScaleType:ne}));s==="xAxis"?(N=x==="top"&&!j||x==="bottom"&&j,E=a.left,L=h[w]-N*m.height):s==="yAxis"&&(N=x==="left"&&!j||x==="right"&&j,E=h[w]-N*m.width,L=a.top);var z=Ud(Ud(Ud({},m),S),{},{realScaleType:ne,x:E,y:L,scale:Y,width:s==="xAxis"?a.width:m.width,height:s==="yAxis"?a.height:m.height});return z.bandSize=N_(z,S),!m.hide&&s==="xAxis"?h[w]+=(N?-1:1)*z.height:m.hide||(h[w]+=(N?-1:1)*z.width),Ud(Ud({},A),{},FF({},p,z))},{})},Zhe=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},hht=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return Zhe({x:r,y:a},{x:s,y:i})},efe=function(){function e(t){cht(this,e),this.scale=t}return dht(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();FF(efe,"EPS",1e-4);var fU=function(t){var r=Object.keys(t).reduce(function(a,s){return Ud(Ud({},a),{},FF({},s,efe.create(t[s])))},{});return Ud(Ud({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return kut(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Whe(s,function(i,o){return r[o].isInRange(i)})}})};function fht(e){return(e%180+180)%180}var Aht=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fht(s),o=i*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},mht=Fh,pht=fN,xht=uF;function ght(e){return function(t,r,a){var s=Object(t);if(!pht(t)){var i=mht(r);t=xht(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,a);return o>-1?s[i?t[o]:o]:void 0}}var vht=ght,yht=zhe;function wht(e){var t=yht(e),r=t%1;return t===t?r?t-r:t:0}var bht=wht,jht=Xde,Nht=Fh,Cht=bht,Sht=Math.max;function _ht(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var s=r==null?0:Cht(r);return s<0&&(s=Sht(a+s,0)),jht(e,Nht(t),s)}var Eht=_ht,Bht=vht,Fht=Eht,Pht=Bht(Fht),kht=Pht;const Tht=ua(kht);var Iht=_He(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),AU=B.createContext(void 0),mU=B.createContext(void 0),tfe=B.createContext(void 0),rfe=B.createContext({}),nfe=B.createContext(void 0),afe=B.createContext(0),sfe=B.createContext(0),HG=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Iht(i);return Se.createElement(AU.Provider,{value:a},Se.createElement(mU.Provider,{value:s},Se.createElement(rfe.Provider,{value:i},Se.createElement(tfe.Provider,{value:u},Se.createElement(nfe.Provider,{value:o},Se.createElement(afe.Provider,{value:d},Se.createElement(sfe.Provider,{value:c},l)))))))},Oht=function(){return B.useContext(nfe)},ife=function(t){var r=B.useContext(AU);r==null&&z0();var a=r[t];return a==null&&z0(),a},Dht=function(){var t=B.useContext(AU);return OA(t)},Lht=function(){var t=B.useContext(mU),r=Tht(t,function(a){return Whe(a.domain,Number.isFinite)});return r||OA(t)},ofe=function(t){var r=B.useContext(mU);r==null&&z0();var a=r[t];return a==null&&z0(),a},Rht=function(){var t=B.useContext(tfe);return t},Mht=function(){return B.useContext(rfe)},pU=function(){return B.useContext(sfe)},xU=function(){return B.useContext(afe)};function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function Uht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qht(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cfe(a.key),a)}}function $ht(e,t,r){return t&&Qht(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hht(e,t,r){return t=$_(t),zht(e,lfe()?Reflect.construct(t,r||[],$_(e).constructor):t.apply(e,r))}function zht(e,t){if(t&&(ry(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vht(e)}function Vht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lfe=function(){return!!e})()}function $_(e){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$_(e)}function Kht(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eD(e,t)}function eD(e,t){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},eD(e,t)}function zG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function VG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zG(Object(r),!0).forEach(function(a){gU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gU(e,t,r){return t=cfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=qht(e,"string");return ry(t)=="symbol"?t:t+""}function qht(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ry(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wht(e,t){return Jht(e)||Yht(e,t)||Xht(e,t)||Ght()}function Ght(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xht(e,t){if(e){if(typeof e=="string")return KG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KG(e,t)}}function KG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Yht(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Jht(e){if(Array.isArray(e))return e}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tD.apply(this,arguments)}var Zht=function(t,r){var a;return Se.isValidElement(t)?a=Se.cloneElement(t,r):Wr(t)?a=t(r):a=Se.createElement("line",tD({},r,{className:"recharts-reference-line-line"})),a},eft=function(t,r,a,s,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,A=i.height;if(a){var p=d.y,m=t.y.apply(p,{position:o});if(uh(d,"discard")&&!t.y.isInRange(m))return null;var x=[{x:u+f,y:m},{x:u,y:m}];return c==="left"?x.reverse():x}if(r){var g=d.x,v=t.x.apply(g,{position:o});if(uh(d,"discard")&&!t.x.isInRange(v))return null;var y=[{x:v,y:h+A},{x:v,y:h}];return l==="top"?y.reverse():y}if(s){var j=d.segment,b=j.map(function(w){return t.apply(w,{position:o})});return uh(d,"discard")&&Nut(b,function(w){return!t.isInRange(w)})?null:b}return null};function tft(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Oht(),u=ife(s),h=ofe(i),f=Rht();if(!d||!f)return null;su(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=fU({x:u.scale,y:h.scale}),p=yi(t),m=yi(r),x=a&&a.length===2,g=eft(A,p,m,x,f,e.position,u.orientation,h.orientation,e);if(!g)return null;var v=Wht(g,2),y=v[0],j=y.x,b=y.y,w=v[1],C=w.x,F=w.y,E=uh(e,"hidden")?"url(#".concat(d,")"):void 0,L=VG(VG({clipPath:E},Tr(e,!0)),{},{x1:j,y1:b,x2:C,y2:F});return Se.createElement(pn,{className:cn("recharts-reference-line",l)},Zht(o,L),Ti.renderCallByParent(e,hht({x1:j,y1:b,x2:C,y2:F})))}var vU=function(e){function t(){return Uht(this,t),Hht(this,t,arguments)}return Kht(t,e),$ht(t,[{key:"render",value:function(){return Se.createElement(tft,this.props)}}])}(Se.Component);gU(vU,"displayName","ReferenceLine");gU(vU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rD(){return rD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rD.apply(this,arguments)}function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}function qG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function WG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qG(Object(r),!0).forEach(function(a){PF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nft(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ufe(a.key),a)}}function aft(e,t,r){return t&&nft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sft(e,t,r){return t=H_(t),ift(e,dfe()?Reflect.construct(t,r||[],H_(e).constructor):t.apply(e,r))}function ift(e,t){if(t&&(ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oft(e)}function oft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dfe=function(){return!!e})()}function H_(e){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H_(e)}function lft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nD(e,t)}function nD(e,t){return nD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nD(e,t)}function PF(e,t,r){return t=ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ufe(e){var t=cft(e,"string");return ny(t)=="symbol"?t:t+""}function cft(e,t){if(ny(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ny(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dft=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=fU({x:s.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return uh(t,"discard")&&!o.isInRange(l)?null:l},kF=function(e){function t(){return rft(this,t),sft(this,t,arguments)}return lft(t,e),aft(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=yi(s),u=yi(i);if(su(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=dft(this.props);if(!h)return null;var f=h.x,A=h.y,p=this.props,m=p.shape,x=p.className,g=uh(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=WG(WG({clipPath:g},Tr(this.props,!0)),{},{cx:f,cy:A});return Se.createElement(pn,{className:cn("recharts-reference-dot",x)},t.renderDot(m,v),Ti.renderCallByParent(this.props,{x:f-o,y:A-o,width:2*o,height:2*o}))}}])}(Se.Component);PF(kF,"displayName","ReferenceDot");PF(kF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});PF(kF,"renderDot",function(e,t){var r;return Se.isValidElement(e)?r=Se.cloneElement(e,t):Wr(e)?r=e(t):r=Se.createElement(gN,rD({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function aD(){return aD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aD.apply(this,arguments)}function ay(e){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(e)}function GG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GG(Object(r),!0).forEach(function(a){TF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hft(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ffe(a.key),a)}}function fft(e,t,r){return t&&hft(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aft(e,t,r){return t=z_(t),mft(e,hfe()?Reflect.construct(t,r||[],z_(e).constructor):t.apply(e,r))}function mft(e,t){if(t&&(ay(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pft(e)}function pft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hfe=function(){return!!e})()}function z_(e){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z_(e)}function xft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sD(e,t)}function sD(e,t){return sD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sD(e,t)}function TF(e,t,r){return t=ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=gft(e,"string");return ay(t)=="symbol"?t:t+""}function gft(e,t){if(ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ay(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vft=function(t,r,a,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=fU({x:u.scale,y:h.scale}),A={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(c,{position:"start"}):f.y.rangeMin},p={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(d,{position:"end"}):f.y.rangeMax};return uh(i,"discard")&&(!f.isInRange(A)||!f.isInRange(p))?null:Zhe(A,p)},IF=function(e){function t(){return uft(this,t),Aft(this,t,arguments)}return xft(t,e),fft(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;su(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=yi(s),f=yi(i),A=yi(o),p=yi(l),m=this.props.shape;if(!h&&!f&&!A&&!p&&!m)return null;var x=vft(h,f,A,p,this.props);if(!x&&!m)return null;var g=uh(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Se.createElement(pn,{className:cn("recharts-reference-area",c)},t.renderRect(m,XG(XG({clipPath:g},Tr(this.props,!0)),x)),Ti.renderCallByParent(this.props,x))}}])}(Se.Component);TF(IF,"displayName","ReferenceArea");TF(IF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});TF(IF,"renderRect",function(e,t){var r;return Se.isValidElement(e)?r=Se.cloneElement(e,t):Wr(e)?r=e(t):r=Se.createElement(uU,aD({},t,{className:"recharts-reference-area-rect"})),r});function Afe(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function yft(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Aht(a,r)}function wft(e,t,r){var a=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function V_(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function bft(e,t){return Afe(e,t+1)}function jft(e,t,r,a,s){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var p=a==null?void 0:a[c];if(p===void 0)return{v:Afe(a,d)};var m=c,x,g=function(){return x===void 0&&(x=r(p,m)),x},v=p.coordinate,y=c===0||V_(e,v,g,u,l);y||(c=0,u=o,d+=1),y&&(u=v+e*(g()/2+s),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function w2(e){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w2(e)}function YG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YG(Object(r),!0).forEach(function(a){Nft(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nft(e,t,r){return t=Cft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cft(e){var t=Sft(e,"string");return w2(t)=="symbol"?t:t+""}function Sft(e,t){if(w2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(w2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ft(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(f){var A=i[f],p,m=function(){return p===void 0&&(p=r(A,f)),p};if(f===o-1){var x=e*(A.coordinate+e*m()/2-c);i[f]=A=yo(yo({},A),{},{tickCoord:x>0?A.coordinate-x*e:A.coordinate})}else i[f]=A=yo(yo({},A),{},{tickCoord:A.coordinate});var g=V_(e,A.tickCoord,m,l,c);g&&(c=A.tickCoord-e*(m()/2+s),i[f]=yo(yo({},A),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Eft(e,t,r,a,s,i){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=a[l-1],h=r(u,l-1),f=e*(u.coordinate+e*h/2-d);o[l-1]=u=yo(yo({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var A=V_(e,u.tickCoord,function(){return h},c,d);A&&(d=u.tickCoord-e*(h/2+s),o[l-1]=yo(yo({},u),{},{isShow:!0}))}for(var p=i?l-1:l,m=function(v){var y=o[v],j,b=function(){return j===void 0&&(j=r(y,v)),j};if(v===0){var w=e*(y.coordinate-e*b()/2-c);o[v]=y=yo(yo({},y),{},{tickCoord:w<0?y.coordinate-w*e:y.coordinate})}else o[v]=y=yo(yo({},y),{},{tickCoord:y.coordinate});var C=V_(e,y.tickCoord,b,c,d);C&&(c=y.tickCoord+e*(b()/2+s),o[v]=yo(yo({},y),{},{isShow:!0}))},x=0;x<p;x++)m(x);return o}function yU(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if(sr(c)||dd.isSsr)return bft(s,typeof c=="number"&&sr(c)?c:0);var f=[],A=l==="top"||l==="bottom"?"width":"height",p=u&&A==="width"?wb(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(y,j){var b=Wr(d)?d(y.value,j):y.value;return A==="width"?yft(wb(b,{fontSize:t,letterSpacing:r}),p,h):wb(b,{fontSize:t,letterSpacing:r})[A]},x=s.length>=2?al(s[1].coordinate-s[0].coordinate):1,g=wft(i,x,A);return c==="equidistantPreserveStart"?jft(x,g,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Eft(x,g,m,s,o,c==="preserveStartEnd"):f=_ft(x,g,m,s,o),f.filter(function(v){return v.isShow}))}var Bft=["viewBox"],Fft=["viewBox"],Pft=["ticks"];function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cg.apply(this,arguments)}function JG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JG(Object(r),!0).forEach(function(a){wU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JG(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function W3(e,t){if(e==null)return{};var r=kft(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function kft(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Tft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZG(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pfe(a.key),a)}}function Ift(e,t,r){return t&&ZG(e.prototype,t),r&&ZG(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oft(e,t,r){return t=K_(t),Dft(e,mfe()?Reflect.construct(t,r||[],K_(e).constructor):t.apply(e,r))}function Dft(e,t){if(t&&(sy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lft(e)}function Lft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mfe=function(){return!!e})()}function K_(e){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K_(e)}function Rft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iD(e,t)}function iD(e,t){return iD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iD(e,t)}function wU(e,t,r){return t=pfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pfe(e){var t=Mft(e,"string");return sy(t)=="symbol"?t:t+""}function Mft(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(sy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s1=function(e){function t(r){var a;return Tft(this,t),a=Oft(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return Rft(t,e),Ift(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=W3(a,Bft),l=this.props,c=l.viewBox,d=W3(l,Fft);return!rv(i,c)||!rv(o,d)||!rv(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,h=s.mirror,f=s.tickMargin,A,p,m,x,g,v,y=h?-1:1,j=a.tickSize||u,b=sr(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":A=p=a.coordinate,x=o+ +!h*c,m=x-y*j,v=m-y*f,g=b;break;case"left":m=x=a.coordinate,p=i+ +!h*l,A=p-y*j,g=A-y*f,v=b;break;case"right":m=x=a.coordinate,p=i+ +h*l,A=p+y*j,g=A+y*f,v=b;break;default:A=p=a.coordinate,x=o+ +h*c,m=x+y*j,v=m+y*f,g=b;break}return{line:{x1:A,y1:m,x2:p,y2:x},tick:{x:g,y:v}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,h=Qo(Qo(Qo({},Tr(this.props,!1)),Tr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=Qo(Qo({},h),{},{x1:s,y1:i+f*l,x2:s+o,y2:i+f*l})}else{var A=+(c==="left"&&!d||c==="right"&&d);h=Qo(Qo({},h),{},{x1:s+A*o,y1:i,x2:s+A*o,y2:i+l})}return Se.createElement("line",Cg({},h,{className:cn("recharts-cartesian-axis-line",jc(u,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,A=yU(Qo(Qo({},this.props),{},{ticks:a}),s,i),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Tr(this.props,!1),g=Tr(u,!1),v=Qo(Qo({},x),{},{fill:"none"},Tr(c,!1)),y=A.map(function(j,b){var w=o.getTickLineCoord(j),C=w.line,F=w.tick,E=Qo(Qo(Qo(Qo({textAnchor:p,verticalAnchor:m},x),{},{stroke:"none",fill:d},g),F),{},{index:b,payload:j,visibleTicksCount:A.length,tickFormatter:h});return Se.createElement(pn,Cg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Qm(o.props,j,b)),c&&Se.createElement("line",Cg({},v,C,{className:cn("recharts-cartesian-axis-tick-line",jc(c,"className"))})),u&&t.renderTickItem(u,E,"".concat(Wr(h)?h(j.value,b):j.value).concat(f||"")))});return Se.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var h=this.props,f=h.ticks,A=W3(h,Pft),p=f;return Wr(c)&&(p=f&&f.length>0?c(this.props):c(A)),o<=0||l<=0||!p||!p.length?null:Se.createElement(pn,{className:cn("recharts-cartesian-axis",d),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),Ti.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return Se.isValidElement(a)?o=Se.cloneElement(a,s):Wr(a)?o=a(s):o=Se.createElement($0,Cg({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(B.Component);wU(s1,"displayName","CartesianAxis");wU(s1,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uft=["x1","y1","x2","y2","key"],Qft=["offset"];function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(r),!0).forEach(function(a){$ft(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $ft(e,t,r){return t=Hft(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hft(e){var t=zft(e,"string");return V0(t)=="symbol"?t:t+""}function zft(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(V0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gp.apply(this,arguments)}function tX(e,t){if(e==null)return{};var r=Vft(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Vft(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Kft=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Se.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function xfe(e,t){var r;if(Se.isValidElement(e))r=Se.cloneElement(e,t);else if(Wr(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=tX(t,Uft),d=Tr(c,!1);d.offset;var u=tX(d,Qft);r=Se.createElement("line",Gp({},u,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function qft(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=So(So({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return xfe(s,d)});return Se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Wft(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=So(So({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return xfe(s,d)});return Se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Gft(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,A){return f-A});s!==u[0]&&u.unshift(0);var h=u.map(function(f,A){var p=!u[A+1],m=p?s+o-f:u[A+1]-f;if(m<=0)return null;var x=A%t.length;return Se.createElement("rect",{key:"react-".concat(A),y:f,x:a,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Xft(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!a||!a.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,A){return f-A});i!==u[0]&&u.unshift(0);var h=u.map(function(f,A){var p=!u[A+1],m=p?i+l-f:u[A+1]-f;if(m<=0)return null;var x=A%a.length;return Se.createElement("rect",{key:"react-".concat(A),x:f,y:o,width:m,height:c,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Yft=function(t,r){var a=t.xAxis,s=t.width,i=t.height,o=t.offset;return mhe(yU(So(So(So({},s1.defaultProps),a),{},{ticks:xf(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Jft=function(t,r){var a=t.yAxis,s=t.width,i=t.height,o=t.offset;return mhe(yU(So(So(So({},s1.defaultProps),a),{},{ticks:xf(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Wx={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xp(e){var t,r,a,s,i,o,l=pU(),c=xU(),d=Mht(),u=So(So({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wx.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wx.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Wx.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Wx.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Wx.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wx.verticalFill,x:sr(e.x)?e.x:d.left,y:sr(e.y)?e.y:d.top,width:sr(e.width)?e.width:d.width,height:sr(e.height)?e.height:d.height}),h=u.x,f=u.y,A=u.width,p=u.height,m=u.syncWithTicks,x=u.horizontalValues,g=u.verticalValues,v=Dht(),y=Lht();if(!sr(A)||A<=0||!sr(p)||p<=0||!sr(h)||h!==+h||!sr(f)||f!==+f)return null;var j=u.verticalCoordinatesGenerator||Yft,b=u.horizontalCoordinatesGenerator||Jft,w=u.horizontalPoints,C=u.verticalPoints;if((!w||!w.length)&&Wr(b)){var F=x&&x.length,E=b({yAxis:y?So(So({},y),{},{ticks:F?x:y.ticks}):void 0,width:l,height:c,offset:d},F?!0:m);su(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(V0(E),"]")),Array.isArray(E)&&(w=E)}if((!C||!C.length)&&Wr(j)){var L=g&&g.length,N=j({xAxis:v?So(So({},v),{},{ticks:L?g:v.ticks}):void 0,width:l,height:c,offset:d},L?!0:m);su(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(V0(N),"]")),Array.isArray(N)&&(C=N)}return Se.createElement("g",{className:"recharts-cartesian-grid"},Se.createElement(Kft,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Se.createElement(qft,Gp({},u,{offset:d,horizontalPoints:w,xAxis:v,yAxis:y})),Se.createElement(Wft,Gp({},u,{offset:d,verticalPoints:C,xAxis:v,yAxis:y})),Se.createElement(Gft,Gp({},u,{horizontalPoints:w})),Se.createElement(Xft,Gp({},u,{verticalPoints:C})))}Xp.displayName="CartesianGrid";var Zft=["type","layout","connectNulls","ref"],eAt=["key"];function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function rX(e,t){if(e==null)return{};var r=tAt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function tAt(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_b.apply(this,arguments)}function nX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(r),!0).forEach(function(a){Qd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nX(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gx(e){return sAt(e)||aAt(e)||nAt(e)||rAt()}function rAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nAt(e,t){if(e){if(typeof e=="string")return oD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oD(e,t)}}function aAt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sAt(e){if(Array.isArray(e))return oD(e)}function oD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vfe(a.key),a)}}function oAt(e,t,r){return t&&aX(e.prototype,t),r&&aX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lAt(e,t,r){return t=q_(t),cAt(e,gfe()?Reflect.construct(t,r||[],q_(e).constructor):t.apply(e,r))}function cAt(e,t){if(t&&(iy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAt(e)}function dAt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gfe=function(){return!!e})()}function q_(e){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q_(e)}function uAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lD(e,t)}function lD(e,t){return lD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lD(e,t)}function Qd(e,t,r){return t=vfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vfe(e){var t=hAt(e,"string");return iy(t)=="symbol"?t:t+""}function hAt(e,t){if(iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(iy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oy=function(e){function t(){var r;iAt(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=lAt(this,t,[].concat(s)),Qd(r,"state",{isAnimationFinished:!0,totalLength:0}),Qd(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Qd(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(g,v){return g+v});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,f=l-o,A=[],p=0,m=0;p<c.length;m+=c[p],++p)if(m+c[p]>h){A=[].concat(Gx(c.slice(0,p)),[h-m]);break}var x=A.length%2===0?[0,f]:[f];return[].concat(Gx(t.repeat(c,u)),Gx(A),x).map(function(g){return"".concat(g,"px")}).join(", ")}),Qd(r,"id",Jm("recharts-line-")),Qd(r,"pathRef",function(o){r.mainCurve=o}),Qd(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Qd(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return uAt(t,e),oAt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=dl(u,a1);if(!h)return null;var f=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Ya(m.payload,x)}},A={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Se.createElement(pn,A,h.map(function(p){return Se.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Tr(this.props,!1),f=Tr(c,!0),A=d.map(function(m,x){var g=tc(tc(tc({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:d});return t.renderDotItem(c,g)}),p={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Se.createElement(pn,_b({className:"recharts-line-dots",key:"dots"},p),A)}},{key:"renderCurveStatically",value:function(a,s,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=rX(l,Zft),f=tc(tc(tc({},Tr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:c,layout:d,connectNulls:u});return Se.createElement(wm,_b({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,A=o.animationId,p=o.animateNewValues,m=o.width,x=o.height,g=this.state,v=g.prevPoints,y=g.totalLength;return Se.createElement(xd,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(v){var w=v.length/l.length,C=l.map(function(I,M){var O=Math.floor(M*w);if(v[O]){var k=v[O],P=us(k.x,I.x),R=us(k.y,I.y);return tc(tc({},I),{},{x:P(b),y:R(b)})}if(p){var V=us(m*2,I.x),D=us(x/2,I.y);return tc(tc({},I),{},{x:V(b),y:D(b)})}return tc(tc({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(C,a,s)}var F=us(0,y),E=F(b),L;if(c){var N="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});L=i.getStrokeDasharray(E,y,N)}else L=i.generateSimpleStrokeDasharray(y,E);return i.renderCurveStatically(l,a,s,{strokeDasharray:L})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!$m(d,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,u=s.yAxis,h=s.top,f=s.left,A=s.width,p=s.height,m=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,v=l.length===1,y=cn("recharts-line",c),j=d&&d.allowDataOverflow,b=u&&u.allowDataOverflow,w=j||b,C=Gr(x)?this.id:x,F=(a=Tr(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},E=F.r,L=E===void 0?3:E,N=F.strokeWidth,I=N===void 0?2:N,M=ode(o)?o:{},O=M.clipDot,k=O===void 0?!0:O,P=L*2+I;return Se.createElement(pn,{className:y},j||b?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(C)},Se.createElement("rect",{x:j?f:f-A/2,y:b?h:h-p/2,width:j?A:A*2,height:b?p:p*2})),!k&&Se.createElement("clipPath",{id:"clipPath-dots-".concat(C)},Se.createElement("rect",{x:f-P/2,y:h-P/2,width:A+P,height:p+P}))):null,!v&&this.renderCurve(w,C),this.renderErrorBar(w,C),(v||o)&&this.renderDots(w,k,C),(!m||g)&&iu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Gx(a),[0]):a,o=[],l=0;l<s;++l)o=[].concat(Gx(o),Gx(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(Se.isValidElement(a))i=Se.cloneElement(a,s);else if(Wr(a))i=a(s);else{var o=s.key,l=rX(s,eAt),c=cn("recharts-line-dot",typeof a!="boolean"?a.className:"");i=Se.createElement(gN,_b({key:o},l,{className:c}))}return i}}])}(B.PureComponent);Qd(oy,"displayName","Line");Qd(oy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qd(oy,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(f,A){var p=Ya(f,o);return u==="horizontal"?{x:Wv({axis:r,ticks:s,bandSize:l,entry:f,index:A}),y:Gr(p)?null:a.scale(p),value:p,payload:f}:{x:Gr(p)?null:r.scale(p),y:Wv({axis:a,ticks:i,bandSize:l,entry:f,index:A}),value:p,payload:f}});return tc({points:h,layout:u},d)});var fAt=["layout","type","stroke","connectNulls","isRange","ref"],AAt=["key"],yfe;function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}function wfe(e,t){if(e==null)return{};var r=mAt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function mAt(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yp.apply(this,arguments)}function sX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(r),!0).forEach(function(a){th(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sX(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jfe(a.key),a)}}function xAt(e,t,r){return t&&iX(e.prototype,t),r&&iX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gAt(e,t,r){return t=W_(t),vAt(e,bfe()?Reflect.construct(t,r||[],W_(e).constructor):t.apply(e,r))}function vAt(e,t){if(t&&(ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yAt(e)}function yAt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bfe=function(){return!!e})()}function W_(e){return W_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W_(e)}function wAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cD(e,t)}function cD(e,t){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cD(e,t)}function th(e,t,r){return t=jfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jfe(e){var t=bAt(e,"string");return ly(t)=="symbol"?t:t+""}function bAt(e,t){if(ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ly(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gd=function(e){function t(){var r;pAt(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=gAt(this,t,[].concat(s)),th(r,"state",{isAnimationFinished:!0}),th(r,"id",Jm("recharts-area-")),th(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Wr(o)&&o()}),th(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Wr(o)&&o()}),r}return wAt(t,e),xAt(t,[{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,f=Tr(this.props,!1),A=Tr(d,!0),p=u.map(function(x,g){var v=bA(bA(bA({key:"dot-".concat(g),r:3},f),A),{},{index:g,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:u});return t.renderDotItem(d,v)}),m={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Se.createElement(pn,Yp({className:"recharts-area-dots"},m),p)}},{key:"renderHorizontalRect",value:function(a){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=a*Math.abs(c-d),h=rm(o.map(function(f){return f.y||0}));return sr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(rm(i.map(function(f){return f.y||0})),h)),sr(h)?Se.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=a*Math.abs(c-d),h=rm(o.map(function(f){return f.x||0}));return sr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(rm(i.map(function(f){return f.x||0})),h)),sr(h)?Se.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,s,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var A=wfe(l,fAt);return Se.createElement(pn,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Se.createElement(wm,Yp({},Tr(A,!0),{points:a,connectNulls:h,type:d,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Se.createElement(wm,Yp({},Tr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})),u!=="none"&&f&&Se.createElement(wm,Yp({},Tr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,A=o.animationId,p=this.state,m=p.prevPoints,x=p.prevBaseLine;return Se.createElement(xd,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t;if(m){var y=m.length/l.length,j=l.map(function(F,E){var L=Math.floor(E*y);if(m[L]){var N=m[L],I=us(N.x,F.x),M=us(N.y,F.y);return bA(bA({},F),{},{x:I(v),y:M(v)})}return F}),b;if(sr(c)&&typeof c=="number"){var w=us(x,c);b=w(v)}else if(Gr(c)||Xy(c)){var C=us(x,0);b=C(v)}else b=c.map(function(F,E){var L=Math.floor(E*y);if(x[L]){var N=x[L],I=us(N.x,F.x),M=us(N.y,F.y);return bA(bA({},F),{},{x:I(v),y:M(v)})}return F});return i.renderAreaStatically(j,b,a,s)}return Se.createElement(pn,null,Se.createElement("defs",null,Se.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(v))),Se.createElement(pn,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,a,s)))})}},{key:"renderArea",value:function(a,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!$m(u,o)||!$m(h,l))?this.renderAreaWithAnimation(a,s):this.renderAreaStatically(o,l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.top,u=s.left,h=s.xAxis,f=s.yAxis,A=s.width,p=s.height,m=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,v=l.length===1,y=cn("recharts-area",c),j=h&&h.allowDataOverflow,b=f&&f.allowDataOverflow,w=j||b,C=Gr(x)?this.id:x,F=(a=Tr(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},E=F.r,L=E===void 0?3:E,N=F.strokeWidth,I=N===void 0?2:N,M=ode(o)?o:{},O=M.clipDot,k=O===void 0?!0:O,P=L*2+I;return Se.createElement(pn,{className:y},j||b?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(C)},Se.createElement("rect",{x:j?u:u-A/2,y:b?d:d-p/2,width:j?A:A*2,height:b?p:p*2})),!k&&Se.createElement("clipPath",{id:"clipPath-dots-".concat(C)},Se.createElement("rect",{x:u-P/2,y:d-P/2,width:A+P,height:p+P}))):null,v?null:this.renderArea(w,C),(o||v)&&this.renderDots(w,k,C),(!m||g)&&iu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:a.points!==s.curPoints||a.baseLine!==s.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(B.PureComponent);yfe=gd;th(gd,"displayName","Area");th(gd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});th(gd,"getBaseValue",function(e,t,r,a){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(sr(l)&&typeof l=="number")return l;var c=s==="horizontal"?a:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});th(gd,"getComposedData",function(e){var t=e.props,r=e.item,a=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,A=t.layout,p=d&&d.length,m=yfe.getBaseValue(t,r,a,s),x=A==="horizontal",g=!1,v=h.map(function(j,b){var w;p?w=d[u+b]:(w=Ya(j,c),Array.isArray(w)?g=!0:w=[m,w]);var C=w[1]==null||p&&Ya(j,c)==null;return x?{x:Wv({axis:a,ticks:i,bandSize:l,entry:j,index:b}),y:C?null:s.scale(w[1]),value:w,payload:j}:{x:C?null:a.scale(w[1]),y:Wv({axis:s,ticks:o,bandSize:l,entry:j,index:b}),value:w,payload:j}}),y;return p||g?y=v.map(function(j){var b=Array.isArray(j.value)?j.value[0]:null;return x?{x:j.x,y:b!=null&&j.y!=null?s.scale(b):null}:{x:b!=null?a.scale(b):null,y:j.y}}):y=x?s.scale(m):a.scale(m),bA({points:v,baseLine:y,layout:A,isRange:g},f)});th(gd,"renderDotItem",function(e,t){var r;if(Se.isValidElement(e))r=Se.cloneElement(e,t);else if(Wr(e))r=e(t);else{var a=cn("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=wfe(t,AAt);r=Se.createElement(gN,Yp({},i,{key:s,className:a}))}return r});function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}function jAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NAt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Sfe(a.key),a)}}function CAt(e,t,r){return t&&NAt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SAt(e,t,r){return t=G_(t),_At(e,Nfe()?Reflect.construct(t,r||[],G_(e).constructor):t.apply(e,r))}function _At(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAt(e)}function EAt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nfe=function(){return!!e})()}function G_(e){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G_(e)}function BAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dD(e,t)}function dD(e,t){return dD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dD(e,t)}function Cfe(e,t,r){return t=Sfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sfe(e){var t=FAt(e,"string");return cy(t)=="symbol"?t:t+""}function FAt(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(cy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OF=function(e){function t(){return jAt(this,t),SAt(this,t,arguments)}return BAt(t,e),CAt(t,[{key:"render",value:function(){return null}}])}(Se.Component);Cfe(OF,"displayName","ZAxis");Cfe(OF,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var PAt=["option","isActive"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Eb.apply(this,arguments)}function kAt(e,t){if(e==null)return{};var r=TAt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function TAt(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function IAt(e){var t=e.option,r=e.isActive,a=kAt(e,PAt);return typeof t=="string"?Se.createElement(O_,Eb({option:Se.createElement(dF,Eb({type:t},a)),isActive:r,shapeType:"symbols"},a)):Se.createElement(O_,Eb({option:t,isActive:r,shapeType:"symbols"},a))}function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bb.apply(this,arguments)}function oX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oX(Object(r),!0).forEach(function(a){am(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oX(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function OAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lX(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Efe(a.key),a)}}function DAt(e,t,r){return t&&lX(e.prototype,t),r&&lX(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LAt(e,t,r){return t=X_(t),RAt(e,_fe()?Reflect.construct(t,r||[],X_(e).constructor):t.apply(e,r))}function RAt(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAt(e)}function MAt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_fe=function(){return!!e})()}function X_(e){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X_(e)}function UAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uD(e,t)}function uD(e,t){return uD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},uD(e,t)}function am(e,t,r){return t=Efe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Efe(e){var t=QAt(e,"string");return dy(t)=="symbol"?t:t+""}function QAt(e,t){if(dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(dy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DF=function(e){function t(){var r;OAt(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=LAt(this,t,[].concat(s)),am(r,"state",{isAnimationFinished:!1}),am(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),am(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),am(r,"id",Jm("recharts-scatter-")),r}return UAt(t,e),DAt(t,[{key:"renderSymbolsStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,d=Tr(this.props,!1);return a.map(function(u,h){var f=c===h,A=f?l:o,p=Hc(Hc({},d),u);return Se.createElement(pn,Bb({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(h)},Qm(s.props,u,h),{role:"img"}),Se.createElement(IAt,Bb({option:A,isActive:f,key:"symbol-".concat(h)},p)))})}},{key:"renderSymbolsWithAnimation",value:function(){var a=this,s=this.props,i=s.points,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,h=this.state.prevPoints;return Se.createElement(xd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var A=f.t,p=i.map(function(m,x){var g=h&&h[x];if(g){var v=us(g.cx,m.cx),y=us(g.cy,m.cy),j=us(g.size,m.size);return Hc(Hc({},m),{},{cx:v(A),cy:y(A),size:j(A)})}var b=us(0,m.size);return Hc(Hc({},m),{},{size:b(A)})});return Se.createElement(pn,null,a.renderSymbolsStatically(p))})}},{key:"renderSymbols",value:function(){var a=this.props,s=a.points,i=a.isAnimationActive,o=this.state.prevPoints;return i&&s&&s.length&&(!o||!$m(o,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,o=s.xAxis,l=s.yAxis,c=s.children,d=dl(c,a1);return d?d.map(function(u,h){var f=u.props,A=f.direction,p=f.dataKey;return Se.cloneElement(u,{key:"".concat(A,"-").concat(p,"-").concat(i[h]),data:i,xAxis:o,yAxis:l,layout:A==="x"?"vertical":"horizontal",dataPointFormatter:function(x,g){return{x:x.cx,y:x.cy,value:A==="x"?+x.node.x:+x.node.y,errorVal:Ya(x,g)}}})}):null}},{key:"renderLine",value:function(){var a=this.props,s=a.points,i=a.line,o=a.lineType,l=a.lineJointType,c=Tr(this.props,!1),d=Tr(i,!1),u,h;if(o==="joint")u=s.map(function(y){return{x:y.cx,y:y.cy}});else if(o==="fitting"){var f=Cze(s),A=f.xmin,p=f.xmax,m=f.a,x=f.b,g=function(j){return m*j+x};u=[{x:A,y:g(A)},{x:p,y:g(p)}]}var v=Hc(Hc(Hc({},c),{},{fill:"none",stroke:c&&c.fill},d),{},{points:u});return Se.isValidElement(i)?h=Se.cloneElement(i,v):Wr(i)?h=i(v):h=Se.createElement(wm,Bb({},v,{type:l})),Se.createElement(pn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.points,o=a.line,l=a.className,c=a.xAxis,d=a.yAxis,u=a.left,h=a.top,f=a.width,A=a.height,p=a.id,m=a.isAnimationActive;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,g=cn("recharts-scatter",l),v=c&&c.allowDataOverflow,y=d&&d.allowDataOverflow,j=v||y,b=Gr(p)?this.id:p;return Se.createElement(pn,{className:g,clipPath:j?"url(#clipPath-".concat(b,")"):null},v||y?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(b)},Se.createElement("rect",{x:v?u:u-f/2,y:y?h:h-A/2,width:v?f:f*2,height:y?A:A*2}))):null,o&&this.renderLine(),this.renderErrorBar(),Se.createElement(pn,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||x)&&iu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}}])}(B.PureComponent);am(DF,"displayName","Scatter");am(DF,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!dd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});am(DF,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,a=e.zAxis,s=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,d=s.props.tooltipType,u=dl(s.props.children,e1),h=Gr(t.dataKey)?s.props.dataKey:t.dataKey,f=Gr(r.dataKey)?s.props.dataKey:r.dataKey,A=a&&a.dataKey,p=a?a.range:OF.defaultProps.range,m=p&&p[0],x=t.scale.bandwidth?t.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0,v=i.map(function(y,j){var b=Ya(y,h),w=Ya(y,f),C=!Gr(A)&&Ya(y,A)||"-",F=[{name:Gr(t.dataKey)?s.props.name:t.name||t.dataKey,unit:t.unit||"",value:b,payload:y,dataKey:h,type:d},{name:Gr(r.dataKey)?s.props.name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:y,dataKey:f,type:d}];C!=="-"&&F.push({name:a.name||a.dataKey,unit:a.unit||"",value:C,payload:y,dataKey:A,type:d});var E=Wv({axis:t,ticks:o,bandSize:x,entry:y,index:j,dataKey:h}),L=Wv({axis:r,ticks:l,bandSize:g,entry:y,index:j,dataKey:f}),N=C!=="-"?a.scale(C):m,I=Math.sqrt(Math.max(N,0)/Math.PI);return Hc(Hc({},y),{},{cx:E,cy:L,x:E-I,y:L-I,xAxis:t,yAxis:r,zAxis:a,width:2*I,height:2*I,size:N,node:{x:b,y:w,z:C},tooltipPayload:F,tooltipPosition:{x:E,y:L},payload:y},u&&u[j]&&u[j].props)});return Hc({points:v},c)});function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function $At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HAt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Pfe(a.key),a)}}function zAt(e,t,r){return t&&HAt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VAt(e,t,r){return t=Y_(t),KAt(e,Bfe()?Reflect.construct(t,r||[],Y_(e).constructor):t.apply(e,r))}function KAt(e,t){if(t&&(uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAt(e)}function qAt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bfe=function(){return!!e})()}function Y_(e){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y_(e)}function WAt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hD(e,t)}function hD(e,t){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},hD(e,t)}function Ffe(e,t,r){return t=Pfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pfe(e){var t=GAt(e,"string");return uy(t)=="symbol"?t:t+""}function GAt(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(uy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fD(){return fD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fD.apply(this,arguments)}function XAt(e){var t=e.xAxisId,r=pU(),a=xU(),s=ife(t);return s==null?null:Se.createElement(s1,fD({},s,{className:cn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return xf(o,!0)}}))}var Yd=function(e){function t(){return $At(this,t),VAt(this,t,arguments)}return WAt(t,e),zAt(t,[{key:"render",value:function(){return Se.createElement(XAt,this.props)}}])}(Se.Component);Ffe(Yd,"displayName","XAxis");Ffe(Yd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function YAt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JAt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ife(a.key),a)}}function ZAt(e,t,r){return t&&JAt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function emt(e,t,r){return t=J_(t),tmt(e,kfe()?Reflect.construct(t,r||[],J_(e).constructor):t.apply(e,r))}function tmt(e,t){if(t&&(hy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rmt(e)}function rmt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kfe=function(){return!!e})()}function J_(e){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J_(e)}function nmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AD(e,t)}function AD(e,t){return AD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},AD(e,t)}function Tfe(e,t,r){return t=Ife(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ife(e){var t=amt(e,"string");return hy(t)=="symbol"?t:t+""}function amt(e,t){if(hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(hy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mD(){return mD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mD.apply(this,arguments)}var smt=function(t){var r=t.yAxisId,a=pU(),s=xU(),i=ofe(r);return i==null?null:Se.createElement(s1,mD({},i,{className:cn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return xf(l,!0)}}))},Jc=function(e){function t(){return YAt(this,t),emt(this,t,arguments)}return nmt(t,e),ZAt(t,[{key:"render",value:function(){return Se.createElement(smt,this.props)}}])}(Se.Component);Tfe(Jc,"displayName","YAxis");Tfe(Jc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cX(e){return cmt(e)||lmt(e)||omt(e)||imt()}function imt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function omt(e,t){if(e){if(typeof e=="string")return pD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pD(e,t)}}function lmt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cmt(e){if(Array.isArray(e))return pD(e)}function pD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var xD=function(t,r,a,s,i){var o=dl(t,vU),l=dl(t,kF),c=[].concat(cX(o),cX(l)),d=dl(t,IF),u="".concat(s,"Id"),h=s[0],f=r;if(c.length&&(f=c.reduce(function(m,x){if(x.props[u]===a&&uh(x.props,"extendDomain")&&sr(x.props[h])){var g=x.props[h];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},f)),d.length){var A="".concat(h,"1"),p="".concat(h,"2");f=d.reduce(function(m,x){if(x.props[u]===a&&uh(x.props,"extendDomain")&&sr(x.props[A])&&sr(x.props[p])){var g=x.props[A],v=x.props[p];return[Math.min(m[0],g,v),Math.max(m[1],g,v)]}return m},f)}return i&&i.length&&(f=i.reduce(function(m,x){return sr(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},f)),f},Ofe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var A=new s(u,h||c,f),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],A]:c._events[p].push(A):(c._events[p]=A,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,A=h.length,p=new Array(A);f<A;f++)p[f]=h[f].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,A,p){var m=r?r+d:d;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,v,y;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,f),!0;case 5:return x.fn.call(x.context,u,h,f,A),!0;case 6:return x.fn.call(x.context,u,h,f,A,p),!0}for(y=1,v=new Array(g-1);y<g;y++)v[y-1]=arguments[y];x.fn.apply(x.context,v)}else{var j=x.length,b;for(y=0;y<j;y++)switch(x[y].once&&this.removeListener(d,x[y].fn,void 0,!0),g){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,u);break;case 3:x[y].fn.call(x[y].context,u,h);break;case 4:x[y].fn.call(x[y].context,u,h,f);break;default:if(!v)for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];x[y].fn.apply(x[y].context,v)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var A=r?r+d:d;if(!this._events[A])return this;if(!u)return o(this,A),this;var p=this._events[A];if(p.fn)p.fn===u&&(!f||p.once)&&(!h||p.context===h)&&o(this,A);else{for(var m=0,x=[],g=p.length;m<g;m++)(p[m].fn!==u||f&&!p[m].once||h&&p[m].context!==h)&&x.push(p[m]);x.length?this._events[A]=x.length===1?x[0]:x:o(this,A)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Ofe);var dmt=Ofe.exports;const umt=ua(dmt);var G3=new umt,X3="recharts.syncMouseEvents";function b2(e){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b2(e)}function hmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fmt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Dfe(a.key),a)}}function Amt(e,t,r){return t&&fmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3(e,t,r){return t=Dfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dfe(e){var t=mmt(e,"string");return b2(t)=="symbol"?t:t+""}function mmt(e,t){if(b2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(b2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pmt=function(){function e(){hmt(this,e),Y3(this,"activeIndex",0),Y3(this,"coordinateList",[]),Y3(this,"layout","horizontal")}return Amt(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,f=r.mouseHandlerCallback,A=f===void 0?null:f;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function xmt(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&sr(a)&&sr(s))return!0}return!1}function gmt(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function Lfe(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=$a(t,r,a,s),l=$a(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function vmt(e,t,r){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,f=$a(l,c,d,h),A=$a(l,c,u,h);a=f.x,s=f.y,i=A.x,o=A.y}else return Lfe(t);return[{x:a,y:s},{x:i,y:o}]}function j2(e){"@babel/helpers - typeof";return j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j2(e)}function dX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function S4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(r),!0).forEach(function(a){ymt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dX(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ymt(e,t,r){return t=wmt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wmt(e){var t=bmt(e,"string");return j2(t)=="symbol"?t:t+""}function bmt(e,t){if(j2(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(j2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jmt(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,A=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!A||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var p,m=wm;if(f==="ScatterChart")p=o,m=hct;else if(f==="BarChart")p=gmt(h,o,c,u),m=uU;else if(h==="radial"){var x=Lfe(o),g=x.cx,v=x.cy,y=x.radius,j=x.startAngle,b=x.endAngle;p={cx:g,cy:v,startAngle:j,endAngle:b,innerRadius:y,outerRadius:y},m=She}else p={points:vmt(h,o,c)},m=wm;var w=S4(S4(S4(S4({stroke:"#ccc",pointerEvents:"none"},c),p),Tr(A,!1)),{},{payload:l,payloadIndex:d,className:cn("recharts-tooltip-cursor",A.className)});return B.isValidElement(A)?B.cloneElement(A,w):B.createElement(m,w)}var Nmt=["item"],Cmt=["children","className","width","height","style","compact","title","desc"];function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sg.apply(this,arguments)}function uX(e,t){return Emt(e)||_mt(e,t)||Mfe(e,t)||Smt()}function Smt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _mt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Emt(e){if(Array.isArray(e))return e}function hX(e,t){if(e==null)return{};var r=Bmt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Bmt(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Fmt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pmt(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ufe(a.key),a)}}function kmt(e,t,r){return t&&Pmt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tmt(e,t,r){return t=Z_(t),Imt(e,Rfe()?Reflect.construct(t,r||[],Z_(e).constructor):t.apply(e,r))}function Imt(e,t){if(t&&(fy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Omt(e)}function Omt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rfe=function(){return!!e})()}function Z_(e){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z_(e)}function Dmt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gD(e,t)}function gD(e,t){return gD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gD(e,t)}function Ay(e){return Mmt(e)||Rmt(e)||Mfe(e)||Lmt()}function Lmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mfe(e,t){if(e){if(typeof e=="string")return vD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vD(e,t)}}function Rmt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mmt(e){if(Array.isArray(e))return vD(e)}function vD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function fX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fX(Object(r),!0).forEach(function(a){Xr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fX(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xr(e,t,r){return t=Ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ufe(e){var t=Umt(e,"string");return fy(t)=="symbol"?t:t+""}function Umt(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(fy(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qmt={xAxis:["bottom","top"],yAxis:["left","right"]},$mt={width:"100%",height:"100%"},Qfe={x:0,y:0};function _4(e){return e}var Hmt=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},zmt=function(t,r,a,s){var i=r.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Et(Et(Et({},s),$a(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Et(Et(Et({},s),$a(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return Qfe},LF=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ay(l),Ay(d)):l},[]);return o.length>0?o:t&&t.length&&sr(s)&&sr(i)?t.slice(s,i+1):[]};function $fe(e){return e==="number"?[0,"auto"]:void 0}var yD=function(t,r,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=LF(r,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var A=h===void 0?l:h;f=X5(A,o.dataKey,s)}else f=h&&h[a]||l[a];return f?[].concat(Ay(c),[yhe(d,f)]):c},[])},AX=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},o=Hmt(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Dst(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=yD(t,r,u,h),A=zmt(a,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:A}}return null},Vmt=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,f=t.stackOffset,A=Ahe(u,i);return a.reduce(function(p,m){var x,g=m.type.defaultProps!==void 0?Et(Et({},m.type.defaultProps),m.props):m.props,v=g.type,y=g.dataKey,j=g.allowDataOverflow,b=g.allowDuplicatedCategory,w=g.scale,C=g.ticks,F=g.includeHidden,E=g[o];if(p[E])return p;var L=LF(t.data,{graphicalItems:s.filter(function(S){var z,Q=o in S.props?S.props[o]:(z=S.type.defaultProps)===null||z===void 0?void 0:z[o];return Q===E}),dataStartIndex:c,dataEndIndex:d}),N=L.length,I,M,O;xmt(g.domain,j,v)&&(I=PO(g.domain,null,j),A&&(v==="number"||w!=="auto")&&(O=jb(L,y,"category")));var k=$fe(v);if(!I||I.length===0){var P,R=(P=g.domain)!==null&&P!==void 0?P:k;if(y){if(I=jb(L,y,v),v==="category"&&A){var V=Nze(I);b&&V?(M=I,I=L_(0,N)):b||(I=kW(R,I,m).reduce(function(S,z){return S.indexOf(z)>=0?S:[].concat(Ay(S),[z])},[]))}else if(v==="category")b?I=I.filter(function(S){return S!==""&&!Gr(S)}):I=kW(R,I,m).reduce(function(S,z){return S.indexOf(z)>=0||z===""||Gr(z)?S:[].concat(Ay(S),[z])},[]);else if(v==="number"){var D=Qst(L,s.filter(function(S){var z,Q,W=o in S.props?S.props[o]:(z=S.type.defaultProps)===null||z===void 0?void 0:z[o],U="hide"in S.props?S.props.hide:(Q=S.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return W===E&&(F||!U)}),y,i,u);D&&(I=D)}A&&(v==="number"||w!=="auto")&&(O=jb(L,y,"category"))}else A?I=L_(0,N):l&&l[E]&&l[E].hasStack&&v==="number"?I=f==="expand"?[0,1]:vhe(l[E].stackGroups,c,d):I=fhe(L,s.filter(function(S){var z=o in S.props?S.props[o]:S.type.defaultProps[o],Q="hide"in S.props?S.props.hide:S.type.defaultProps.hide;return z===E&&(F||!Q)}),v,u,!0);if(v==="number")I=xD(h,I,E,i,C),R&&(I=PO(R,I,j));else if(v==="category"&&R){var Y=R,ne=I.every(function(S){return Y.indexOf(S)>=0});ne&&(I=Y)}}return Et(Et({},p),{},Xr({},E,Et(Et({},g),{},{axisType:i,domain:I,categoricalDomain:O,duplicateDomain:M,originalDomain:(x=g.domain)!==null&&x!==void 0?x:k,isCategorical:A,layout:u})))},{})},Kmt=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,f=LF(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),A=f.length,p=Ahe(u,i),m=-1;return a.reduce(function(x,g){var v=g.type.defaultProps!==void 0?Et(Et({},g.type.defaultProps),g.props):g.props,y=v[o],j=$fe("number");if(!x[y]){m++;var b;return p?b=L_(0,A):l&&l[y]&&l[y].hasStack?(b=vhe(l[y].stackGroups,c,d),b=xD(h,b,y,i)):(b=PO(j,fhe(f,a.filter(function(w){var C,F,E=o in w.props?w.props[o]:(C=w.type.defaultProps)===null||C===void 0?void 0:C[o],L="hide"in w.props?w.props.hide:(F=w.type.defaultProps)===null||F===void 0?void 0:F.hide;return E===y&&!L}),"number",u),s.defaultProps.allowDataOverflow),b=xD(h,b,y,i)),Et(Et({},x),{},Xr({},y,Et(Et({axisType:i},s.defaultProps),{},{hide:!0,orientation:jc(Qmt,"".concat(i,".").concat(m%2),null),domain:b,originalDomain:j,isCategorical:p,layout:u})))}return x},{})},qmt=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,h="".concat(s,"Id"),f=dl(u,i),A={};return f&&f.length?A=Vmt(t,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(A=Kmt(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),A},Wmt=function(t){var r=OA(t),a=xf(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:RM(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:N_(r,a)}},mX=function(t){var r=t.children,a=t.defaultShowTooltip,s=ic(r,ey),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},Gmt=function(t){return!t||!t.length?!1:t.some(function(r){var a=Nf(r&&r.type);return a&&a.indexOf("Bar")>=0})},pX=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xmt=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,h=a.children,f=a.margin||{},A=ic(h,ey),p=ic(h,ch),m=Object.keys(c).reduce(function(b,w){var C=c[w],F=C.orientation;return!C.mirror&&!C.hide?Et(Et({},b),{},Xr({},F,b[F]+C.width)):b},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(b,w){var C=o[w],F=C.orientation;return!C.mirror&&!C.hide?Et(Et({},b),{},Xr({},F,jc(b,"".concat(F))+C.height)):b},{top:f.top||0,bottom:f.bottom||0}),g=Et(Et({},x),m),v=g.bottom;A&&(g.bottom+=A.props.height||ey.defaultProps.height),p&&r&&(g=Mst(g,s,a,r));var y=d-g.left-g.right,j=u-g.top-g.bottom;return Et(Et({brushBottom:v},g),{},{width:Math.max(y,0),height:Math.max(j,0)})},Ymt=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},RF=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,f=function(g,v){var y=v.graphicalItems,j=v.stackGroups,b=v.offset,w=v.updateId,C=v.dataStartIndex,F=v.dataEndIndex,E=g.barSize,L=g.layout,N=g.barGap,I=g.barCategoryGap,M=g.maxBarSize,O=pX(L),k=O.numericAxisName,P=O.cateAxisName,R=Gmt(y),V=[];return y.forEach(function(D,Y){var ne=LF(g.data,{graphicalItems:[D],dataStartIndex:C,dataEndIndex:F}),S=D.type.defaultProps!==void 0?Et(Et({},D.type.defaultProps),D.props):D.props,z=S.dataKey,Q=S.maxBarSize,W=S["".concat(k,"Id")],U=S["".concat(P,"Id")],re={},de=c.reduce(function(xt,Ne){var le=v["".concat(Ne.axisType,"Map")],Fe=S["".concat(Ne.axisType,"Id")];le&&le[Fe]||Ne.axisType==="zAxis"||z0();var ze=le[Fe];return Et(Et({},xt),{},Xr(Xr({},Ne.axisType,ze),"".concat(Ne.axisType,"Ticks"),xf(ze)))},re),ae=de[P],Ae=de["".concat(P,"Ticks")],Me=j&&j[W]&&j[W].hasStack&&Xst(D,j[W].stackGroups),H=Nf(D.type).indexOf("Bar")>=0,Oe=N_(ae,Ae),Ee=[],ee=R&&Lst({barSize:E,stackGroups:j,totalSize:Ymt(de,P)});if(H){var st,se,me=Gr(Q)?M:Q,nt=(st=(se=N_(ae,Ae,!0))!==null&&se!==void 0?se:me)!==null&&st!==void 0?st:0;Ee=Rst({barGap:N,barCategoryGap:I,bandSize:nt!==Oe?nt:Oe,sizeList:ee[U],maxBarSize:me}),nt!==Oe&&(Ee=Ee.map(function(xt){return Et(Et({},xt),{},{position:Et(Et({},xt.position),{},{offset:xt.position.offset-nt/2})})}))}var Nt=D&&D.type&&D.type.getComposedData;Nt&&V.push({props:Et(Et({},Nt(Et(Et({},de),{},{displayedData:ne,props:g,dataKey:z,item:D,bandSize:Oe,barPosition:Ee,offset:b,stackedData:Me,layout:L,dataStartIndex:C,dataEndIndex:F}))),{},Xr(Xr(Xr({key:D.key||"item-".concat(Y)},k,de[k]),P,de[P]),"animationId",w)),childIndex:Dze(D,g.children),item:D})}),V},A=function(g,v){var y=g.props,j=g.dataStartIndex,b=g.dataEndIndex,w=g.updateId;if(!SK({props:y}))return null;var C=y.children,F=y.layout,E=y.stackOffset,L=y.data,N=y.reverseStackOrder,I=pX(F),M=I.numericAxisName,O=I.cateAxisName,k=dl(C,a),P=Wst(L,k,"".concat(M,"Id"),"".concat(O,"Id"),E,N),R=c.reduce(function(S,z){var Q="".concat(z.axisType,"Map");return Et(Et({},S),{},Xr({},Q,qmt(y,Et(Et({},z),{},{graphicalItems:k,stackGroups:z.axisType===M&&P,dataStartIndex:j,dataEndIndex:b}))))},{}),V=Xmt(Et(Et({},R),{},{props:y,graphicalItems:k}),v==null?void 0:v.legendBBox);Object.keys(R).forEach(function(S){R[S]=u(y,R[S],V,S.replace("Map",""),r)});var D=R["".concat(O,"Map")],Y=Wmt(D),ne=f(y,Et(Et({},R),{},{dataStartIndex:j,dataEndIndex:b,updateId:w,graphicalItems:k,stackGroups:P,offset:V}));return Et(Et({formattedGraphicalItems:ne,graphicalItems:k,offset:V,stackGroups:P},Y),R)},p=function(x){function g(v){var y,j,b;return Fmt(this,g),b=Tmt(this,g,[v]),Xr(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xr(b,"accessibilityManager",new pmt),Xr(b,"handleLegendBBoxUpdate",function(w){if(w){var C=b.state,F=C.dataStartIndex,E=C.dataEndIndex,L=C.updateId;b.setState(Et({legendBBox:w},A({props:b.props,dataStartIndex:F,dataEndIndex:E,updateId:L},Et(Et({},b.state),{},{legendBBox:w}))))}}),Xr(b,"handleReceiveSyncEvent",function(w,C,F){if(b.props.syncId===w){if(F===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(C)}}),Xr(b,"handleBrushChange",function(w){var C=w.startIndex,F=w.endIndex;if(C!==b.state.dataStartIndex||F!==b.state.dataEndIndex){var E=b.state.updateId;b.setState(function(){return Et({dataStartIndex:C,dataEndIndex:F},A({props:b.props,dataStartIndex:C,dataEndIndex:F,updateId:E},b.state))}),b.triggerSyncEvent({dataStartIndex:C,dataEndIndex:F})}}),Xr(b,"handleMouseEnter",function(w){var C=b.getMouseInfo(w);if(C){var F=Et(Et({},C),{},{isTooltipActive:!0});b.setState(F),b.triggerSyncEvent(F);var E=b.props.onMouseEnter;Wr(E)&&E(F,w)}}),Xr(b,"triggeredAfterMouseMove",function(w){var C=b.getMouseInfo(w),F=C?Et(Et({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(F),b.triggerSyncEvent(F);var E=b.props.onMouseMove;Wr(E)&&E(F,w)}),Xr(b,"handleItemMouseEnter",function(w){b.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Xr(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Xr(b,"handleMouseMove",function(w){w.persist(),b.throttleTriggeredAfterMouseMove(w)}),Xr(b,"handleMouseLeave",function(w){b.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};b.setState(C),b.triggerSyncEvent(C);var F=b.props.onMouseLeave;Wr(F)&&F(C,w)}),Xr(b,"handleOuterEvent",function(w){var C=Oze(w),F=jc(b.props,"".concat(C));if(C&&Wr(F)){var E,L;/.*touch.*/i.test(C)?L=b.getMouseInfo(w.changedTouches[0]):L=b.getMouseInfo(w),F((E=L)!==null&&E!==void 0?E:{},w)}}),Xr(b,"handleClick",function(w){var C=b.getMouseInfo(w);if(C){var F=Et(Et({},C),{},{isTooltipActive:!0});b.setState(F),b.triggerSyncEvent(F);var E=b.props.onClick;Wr(E)&&E(F,w)}}),Xr(b,"handleMouseDown",function(w){var C=b.props.onMouseDown;if(Wr(C)){var F=b.getMouseInfo(w);C(F,w)}}),Xr(b,"handleMouseUp",function(w){var C=b.props.onMouseUp;if(Wr(C)){var F=b.getMouseInfo(w);C(F,w)}}),Xr(b,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Xr(b,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.handleMouseDown(w.changedTouches[0])}),Xr(b,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&b.handleMouseUp(w.changedTouches[0])}),Xr(b,"handleDoubleClick",function(w){var C=b.props.onDoubleClick;if(Wr(C)){var F=b.getMouseInfo(w);C(F,w)}}),Xr(b,"handleContextMenu",function(w){var C=b.props.onContextMenu;if(Wr(C)){var F=b.getMouseInfo(w);C(F,w)}}),Xr(b,"triggerSyncEvent",function(w){b.props.syncId!==void 0&&G3.emit(X3,b.props.syncId,w,b.eventEmitterSymbol)}),Xr(b,"applySyncEvent",function(w){var C=b.props,F=C.layout,E=C.syncMethod,L=b.state.updateId,N=w.dataStartIndex,I=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)b.setState(Et({dataStartIndex:N,dataEndIndex:I},A({props:b.props,dataStartIndex:N,dataEndIndex:I,updateId:L},b.state)));else if(w.activeTooltipIndex!==void 0){var M=w.chartX,O=w.chartY,k=w.activeTooltipIndex,P=b.state,R=P.offset,V=P.tooltipTicks;if(!R)return;if(typeof E=="function")k=E(V,w);else if(E==="value"){k=-1;for(var D=0;D<V.length;D++)if(V[D].value===w.activeLabel){k=D;break}}var Y=Et(Et({},R),{},{x:R.left,y:R.top}),ne=Math.min(M,Y.x+Y.width),S=Math.min(O,Y.y+Y.height),z=V[k]&&V[k].value,Q=yD(b.state,b.props.data,k),W=V[k]?{x:F==="horizontal"?V[k].coordinate:ne,y:F==="horizontal"?S:V[k].coordinate}:Qfe;b.setState(Et(Et({},w),{},{activeLabel:z,activeCoordinate:W,activePayload:Q,activeTooltipIndex:k}))}else b.setState(w)}),Xr(b,"renderCursor",function(w){var C,F=b.state,E=F.isTooltipActive,L=F.activeCoordinate,N=F.activePayload,I=F.offset,M=F.activeTooltipIndex,O=F.tooltipAxisBandSize,k=b.getTooltipEventType(),P=(C=w.props.active)!==null&&C!==void 0?C:E,R=b.props.layout,V=w.key||"_recharts-cursor";return Se.createElement(jmt,{key:V,activeCoordinate:L,activePayload:N,activeTooltipIndex:M,chartName:r,element:w,isActive:P,layout:R,offset:I,tooltipAxisBandSize:O,tooltipEventType:k})}),Xr(b,"renderPolarAxis",function(w,C,F){var E=jc(w,"type.axisType"),L=jc(b.state,"".concat(E,"Map")),N=w.type.defaultProps,I=N!==void 0?Et(Et({},N),w.props):w.props,M=L&&L[I["".concat(E,"Id")]];return B.cloneElement(w,Et(Et({},M),{},{className:cn(E,M.className),key:w.key||"".concat(C,"-").concat(F),ticks:xf(M,!0)}))}),Xr(b,"renderPolarGrid",function(w){var C=w.props,F=C.radialLines,E=C.polarAngles,L=C.polarRadius,N=b.state,I=N.radiusAxisMap,M=N.angleAxisMap,O=OA(I),k=OA(M),P=k.cx,R=k.cy,V=k.innerRadius,D=k.outerRadius;return B.cloneElement(w,{polarAngles:Array.isArray(E)?E:xf(k,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(L)?L:xf(O,!0).map(function(Y){return Y.coordinate}),cx:P,cy:R,innerRadius:V,outerRadius:D,key:w.key||"polar-grid",radialLines:F})}),Xr(b,"renderLegend",function(){var w=b.state.formattedGraphicalItems,C=b.props,F=C.children,E=C.width,L=C.height,N=b.props.margin||{},I=E-(N.left||0)-(N.right||0),M=uhe({children:F,formattedGraphicalItems:w,legendWidth:I,legendContent:d});if(!M)return null;var O=M.item,k=hX(M,Nmt);return B.cloneElement(O,Et(Et({},k),{},{chartWidth:E,chartHeight:L,margin:N,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Xr(b,"renderTooltip",function(){var w,C=b.props,F=C.children,E=C.accessibilityLayer,L=ic(F,eo);if(!L)return null;var N=b.state,I=N.isTooltipActive,M=N.activeCoordinate,O=N.activePayload,k=N.activeLabel,P=N.offset,R=(w=L.props.active)!==null&&w!==void 0?w:I;return B.cloneElement(L,{viewBox:Et(Et({},P),{},{x:P.left,y:P.top}),active:R,label:k,payload:R?O:[],coordinate:M,accessibilityLayer:E})}),Xr(b,"renderBrush",function(w){var C=b.props,F=C.margin,E=C.data,L=b.state,N=L.offset,I=L.dataStartIndex,M=L.dataEndIndex,O=L.updateId;return B.cloneElement(w,{key:w.key||"_recharts-brush",onChange:b4(b.handleBrushChange,w.props.onChange),data:E,x:sr(w.props.x)?w.props.x:N.left,y:sr(w.props.y)?w.props.y:N.top+N.height+N.brushBottom-(F.bottom||0),width:sr(w.props.width)?w.props.width:N.width,startIndex:I,endIndex:M,updateId:"brush-".concat(O)})}),Xr(b,"renderReferenceElement",function(w,C,F){if(!w)return null;var E=b,L=E.clipPathId,N=b.state,I=N.xAxisMap,M=N.yAxisMap,O=N.offset,k=w.type.defaultProps||{},P=w.props,R=P.xAxisId,V=R===void 0?k.xAxisId:R,D=P.yAxisId,Y=D===void 0?k.yAxisId:D;return B.cloneElement(w,{key:w.key||"".concat(C,"-").concat(F),xAxis:I[V],yAxis:M[Y],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:L})}),Xr(b,"renderActivePoints",function(w){var C=w.item,F=w.activePoint,E=w.basePoint,L=w.childIndex,N=w.isRange,I=[],M=C.props.key,O=C.item.type.defaultProps!==void 0?Et(Et({},C.item.type.defaultProps),C.item.props):C.item.props,k=O.activeDot,P=O.dataKey,R=Et(Et({index:L,dataKey:P,cx:F.x,cy:F.y,r:4,fill:dU(C.item),strokeWidth:2,stroke:"#fff",payload:F.payload,value:F.value},Tr(k,!1)),Y5(k));return I.push(g.renderActiveDot(k,R,"".concat(M,"-activePoint-").concat(L))),E?I.push(g.renderActiveDot(k,Et(Et({},R),{},{cx:E.x,cy:E.y}),"".concat(M,"-basePoint-").concat(L))):N&&I.push(null),I}),Xr(b,"renderGraphicChild",function(w,C,F){var E=b.filterFormatItem(w,C,F);if(!E)return null;var L=b.getTooltipEventType(),N=b.state,I=N.isTooltipActive,M=N.tooltipAxis,O=N.activeTooltipIndex,k=N.activeLabel,P=b.props.children,R=ic(P,eo),V=E.props,D=V.points,Y=V.isRange,ne=V.baseLine,S=E.item.type.defaultProps!==void 0?Et(Et({},E.item.type.defaultProps),E.item.props):E.item.props,z=S.activeDot,Q=S.hide,W=S.activeBar,U=S.activeShape,re=!!(!Q&&I&&R&&(z||W||U)),de={};L!=="axis"&&R&&R.props.trigger==="click"?de={onClick:b4(b.handleItemMouseEnter,w.props.onClick)}:L!=="axis"&&(de={onMouseLeave:b4(b.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:b4(b.handleItemMouseEnter,w.props.onMouseEnter)});var ae=B.cloneElement(w,Et(Et({},E.props),de));function Ae(Ne){return typeof M.dataKey=="function"?M.dataKey(Ne.payload):null}if(re)if(O>=0){var Me,H;if(M.dataKey&&!M.allowDuplicatedCategory){var Oe=typeof M.dataKey=="function"?Ae:"payload.".concat(M.dataKey.toString());Me=X5(D,Oe,k),H=Y&&ne&&X5(ne,Oe,k)}else Me=D==null?void 0:D[O],H=Y&&ne&&ne[O];if(U||W){var Ee=w.props.activeIndex!==void 0?w.props.activeIndex:O;return[B.cloneElement(w,Et(Et(Et({},E.props),de),{},{activeIndex:Ee})),null,null]}if(!Gr(Me))return[ae].concat(Ay(b.renderActivePoints({item:E,activePoint:Me,basePoint:H,childIndex:O,isRange:Y})))}else{var ee,st=(ee=b.getItemByXY(b.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:ae},se=st.graphicalItem,me=se.item,nt=me===void 0?w:me,Nt=se.childIndex,xt=Et(Et(Et({},E.props),de),{},{activeIndex:Nt});return[B.cloneElement(nt,xt),null,null]}return Y?[ae,null,null]:[ae,null]}),Xr(b,"renderCustomized",function(w,C,F){return B.cloneElement(w,Et(Et({key:"recharts-customized-".concat(F)},b.props),b.state))}),Xr(b,"renderMap",{CartesianGrid:{handler:_4,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:_4},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:_4},YAxis:{handler:_4},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=v.id)!==null&&y!==void 0?y:Jm("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=due(b.triggeredAfterMouseMove,(j=v.throttleDelay)!==null&&j!==void 0?j:1e3/60),b.state={},b}return Dmt(g,x),kmt(g,[{key:"componentDidMount",value:function(){var y,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,j=y.children,b=y.data,w=y.height,C=y.layout,F=ic(j,eo);if(F){var E=F.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,N=yD(this.state,b,E,L),I=this.state.tooltipTicks[E].coordinate,M=(this.state.offset.top+w)/2,O=C==="horizontal",k=O?{x:I,y:M}:{y:I,x:M},P=this.state.formattedGraphicalItems.find(function(V){var D=V.item;return D.type.name==="Scatter"});P&&(k=Et(Et({},k),P.props.points[E].tooltipPosition),N=P.props.points[E].tooltipPayload);var R={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:L,activePayload:N,activeCoordinate:k};this.setState(R),this.renderCursor(F),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,w;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(y){KI([ic(y.children,eo)],[ic(this.props.children,eo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=ic(this.props.children,eo);if(y&&typeof y.props.shared=="boolean"){var j=y.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var j=this.container,b=j.getBoundingClientRect(),w=dtt(b),C={chartX:Math.round(y.pageX-w.left),chartY:Math.round(y.pageY-w.top)},F=b.width/j.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,F);if(!E)return null;var L=this.state,N=L.xAxisMap,I=L.yAxisMap,M=this.getTooltipEventType(),O=AX(this.state,this.props.data,this.props.layout,E);if(M!=="axis"&&N&&I){var k=OA(N).scale,P=OA(I).scale,R=k&&k.invert?k.invert(C.chartX):null,V=P&&P.invert?P.invert(C.chartY):null;return Et(Et({},C),{},{xValue:R,yValue:V},O)}return O?Et(Et({},C),O):null}},{key:"inRange",value:function(y,j){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,C=y/b,F=j/b;if(w==="horizontal"||w==="vertical"){var E=this.state.offset,L=C>=E.left&&C<=E.left+E.width&&F>=E.top&&F<=E.top+E.height;return L?{x:C,y:F}:null}var N=this.state,I=N.angleAxisMap,M=N.radiusAxisMap;if(I&&M){var O=OA(I);return OW({x:C,y:F},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,j=this.getTooltipEventType(),b=ic(y,eo),w={};b&&j==="axis"&&(b.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Y5(this.props,this.handleOuterEvent);return Et(Et({},C),w)}},{key:"addListener",value:function(){G3.on(X3,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){G3.removeListener(X3,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,j,b){for(var w=this.state.formattedGraphicalItems,C=0,F=w.length;C<F;C++){var E=w[C];if(E.item===y||E.props.key===y.key||j===Nf(E.item.type)&&b===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,j=this.state.offset,b=j.left,w=j.top,C=j.height,F=j.width;return Se.createElement("defs",null,Se.createElement("clipPath",{id:y},Se.createElement("rect",{x:b,y:w,height:C,width:F})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(j,b){var w=uX(b,2),C=w[0],F=w[1];return Et(Et({},j),{},Xr({},C,F.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(j,b){var w=uX(b,2),C=w[0],F=w[1];return Et(Et({},j),{},Xr({},C,F.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(y){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(y){var j=this.state,b=j.formattedGraphicalItems,w=j.activeItem;if(b&&b.length)for(var C=0,F=b.length;C<F;C++){var E=b[C],L=E.props,N=E.item,I=N.type.defaultProps!==void 0?Et(Et({},N.type.defaultProps),N.props):N.props,M=Nf(N.type);if(M==="Bar"){var O=(L.data||[]).find(function(V){return Klt(y,V)});if(O)return{graphicalItem:E,payload:O}}else if(M==="RadialBar"){var k=(L.data||[]).find(function(V){return OW(y,V)});if(k)return{graphicalItem:E,payload:k}}else if(EF(E,w)||BF(E,w)||x2(E,w)){var P=Idt({graphicalItem:E,activeTooltipItem:w,itemData:I.data}),R=I.activeIndex===void 0?P:I.activeIndex;return{graphicalItem:Et(Et({},E),{},{childIndex:R}),payload:x2(E,w)?I.data[P]:E.props.data[P]}}}return null}},{key:"render",value:function(){var y=this;if(!SK(this))return null;var j=this.props,b=j.children,w=j.className,C=j.width,F=j.height,E=j.style,L=j.compact,N=j.title,I=j.desc,M=hX(j,Cmt),O=Tr(M,!1);if(L)return Se.createElement(HG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement(WI,Sg({},O,{width:C,height:F,title:N,desc:I}),this.renderClipPath(),EK(b,this.renderMap)));if(this.props.accessibilityLayer){var k,P;O.tabIndex=(k=this.props.tabIndex)!==null&&k!==void 0?k:0,O.role=(P=this.props.role)!==null&&P!==void 0?P:"application",O.onKeyDown=function(V){y.accessibilityManager.keyboardEvent(V)},O.onFocus=function(){y.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return Se.createElement(HG,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement("div",Sg({className:cn("recharts-wrapper",w),style:Et({position:"relative",cursor:"default",width:C,height:F},E)},R,{ref:function(D){y.container=D}}),Se.createElement(WI,Sg({},O,{width:C,height:F,title:N,desc:I,style:$mt}),this.renderClipPath(),EK(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Xr(p,"displayName",r),Xr(p,"defaultProps",Et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Xr(p,"getDerivedStateFromProps",function(x,g){var v=x.dataKey,y=x.data,j=x.children,b=x.width,w=x.height,C=x.layout,F=x.stackOffset,E=x.margin,L=g.dataStartIndex,N=g.dataEndIndex;if(g.updateId===void 0){var I=mX(x);return Et(Et(Et({},I),{},{updateId:0},A(Et(Et({props:x},I),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:y,prevWidth:b,prevHeight:w,prevLayout:C,prevStackOffset:F,prevMargin:E,prevChildren:j})}if(v!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||w!==g.prevHeight||C!==g.prevLayout||F!==g.prevStackOffset||!rv(E,g.prevMargin)){var M=mX(x),O={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},k=Et(Et({},AX(g,y,C)),{},{updateId:g.updateId+1}),P=Et(Et(Et({},M),O),k);return Et(Et(Et({},P),A(Et({props:x},P),g)),{},{prevDataKey:v,prevData:y,prevWidth:b,prevHeight:w,prevLayout:C,prevStackOffset:F,prevMargin:E,prevChildren:j})}if(!KI(j,g.prevChildren)){var R,V,D,Y,ne=ic(j,ey),S=ne&&(R=(V=ne.props)===null||V===void 0?void 0:V.startIndex)!==null&&R!==void 0?R:L,z=ne&&(D=(Y=ne.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&D!==void 0?D:N,Q=S!==L||z!==N,W=!Gr(y),U=W&&!Q?g.updateId:g.updateId+1;return Et(Et({updateId:U},A(Et(Et({props:x},g),{},{updateId:U,dataStartIndex:S,dataEndIndex:z}),g)),{},{prevChildren:j,dataStartIndex:S,dataEndIndex:z})}return null}),Xr(p,"renderActiveDot",function(x,g,v){var y;return B.isValidElement(x)?y=B.cloneElement(x,g):Wr(x)?y=x(g):y=Se.createElement(gN,g),Se.createElement(pn,{className:"recharts-active-dot",key:v},y)});var m=B.forwardRef(function(g,v){return Se.createElement(p,Sg({},g,{ref:v}))});return m.displayName=p.displayName,m},xX=RF({chartName:"BarChart",GraphicalChild:hh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yd},{axisType:"yAxis",AxisComp:Jc}],formatAxisMap:hU}),Hfe=RF({chartName:"PieChart",GraphicalChild:Ph,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_F},{axisType:"radiusAxis",AxisComp:CF}],formatAxisMap:iit,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),wD=RF({chartName:"AreaChart",GraphicalChild:gd,axisComponents:[{axisType:"xAxis",AxisComp:Yd},{axisType:"yAxis",AxisComp:Jc}],formatAxisMap:hU}),Jmt=RF({chartName:"ComposedChart",GraphicalChild:[oy,gd,hh,DF],axisComponents:[{axisType:"xAxis",AxisComp:Yd},{axisType:"yAxis",AxisComp:Jc},{axisType:"zAxis",AxisComp:OF}],formatAxisMap:hU});const gX=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C"];function vX(){var ee,st,se,me,nt,Nt,xt,Ne;const{toast:e}=en(),[t,r]=B.useState("30"),[a,s]=B.useState(["all"]),[i,o]=B.useState("all"),[l,c]=B.useState("all"),[d,u]=B.useState("all"),[h,f]=B.useState("all"),[A,p]=B.useState(""),[m,x]=B.useState(),[g,v]=B.useState(!1),[y,j]=B.useState("overview"),[b,w]=B.useState("valor"),[C,F]=B.useState("valor"),[E,L]=B.useState("valor"),{data:N=[],isLoading:I}=pt({queryKey:["/api/orders"],queryFn:async()=>{const le=await fetch("/api/orders");if(!le.ok)throw new Error("Failed to fetch orders");return le.json()},refetchInterval:3e4}),{data:M=[]}=pt({queryKey:["/api/commissions"],queryFn:async()=>{const le=await fetch("/api/commissions");if(!le.ok)throw new Error("Failed to fetch commissions");return le.json()}}),{data:O=[]}=pt({queryKey:["/api/finance/producer-payments"],queryFn:async()=>{const le=await fetch("/api/finance/producer-payments");if(!le.ok)throw new Error("Failed to fetch producer payments");return le.json()}}),{data:k=[]}=pt({queryKey:["/api/finance/receivables"],queryFn:async()=>{const le=await fetch("/api/finance/receivables");if(!le.ok)throw new Error("Failed to fetch receivables");return le.json()}}),{data:P=[]}=pt({queryKey:["/api/finance/expenses"],queryFn:async()=>{const le=await fetch("/api/finance/expenses");if(!le.ok)throw new Error("Failed to fetch expenses");return le.json()}}),{data:R=[]}=pt({queryKey:["/api/vendors"],queryFn:async()=>{const le=await fetch("/api/vendors");if(!le.ok)throw new Error("Failed to fetch vendors");return le.json()}}),{data:V=[]}=pt({queryKey:["/api/producers"],queryFn:async()=>{const le=await fetch("/api/producers");if(!le.ok)throw new Error("Failed to fetch producers");return le.json()}});pt({queryKey:["/api/clients"],queryFn:async()=>{const le=await fetch("/api/clients");if(!le.ok)throw new Error("Failed to fetch clients");return le.json()}});const{data:D=[]}=pt({queryKey:["/api/branches"],queryFn:async()=>{const le=await fetch("/api/branches");if(!le.ok)throw new Error("Failed to fetch branches");return le.json()}}),ne=((le,Fe="createdAt")=>le.filter(ze=>{var Pe,X,We,wt,Ct,Qt,pe,dt,Rt;let je=!0;if(m&&m.from&&m.to){const Dt=new Date(ze[Fe]),ot=new Date(m.from),Ft=new Date(m.to);ot.setHours(0,0,0,0),Ft.setHours(23,59,59,999),je=Dt>=ot&&Dt<=Ft}else if(t!=="all"&&t!=="custom"){let Dt;const ot=new Date;switch(t){case"today":Dt=new Date,Dt.setHours(0,0,0,0);break;case"7":Dt=new Date(ot.getTime()-7*24*60*60*1e3);break;case"30":Dt=new Date(ot.getTime()-30*24*60*60*1e3);break;case"90":Dt=new Date(ot.getTime()-90*24*60*60*1e3);break;case"180":Dt=new Date(ot.getTime()-180*24*60*60*1e3);break;case"365":Dt=new Date(ot.getTime()-365*24*60*60*1e3);break;default:Dt=new Date(ot.getTime()-parseInt(t)*24*60*60*1e3)}je=new Date(ze[Fe])>=Dt}const De=a.includes("all")||a.includes(ze.status),Ke=i==="all"||ze.vendorId===i,At=l==="all"||ze.producerId===l;let He=!0;h!=="all"&&(h==="matriz"?He=!ze.branchId||ze.branchId==="matriz"||ze.branchId===""||!ze.vendorBranchId||ze.vendorBranchId==="matriz"||ze.vendorBranchId==="":He=ze.branchId===h||ze.vendorBranchId===h||((Pe=R.find(Dt=>Dt.id===ze.vendorId))==null?void 0:Pe.branchId)===h);const Te=d==="all"||ze.category===d||d==="receivables"&&ze.type==="receivable"||d==="payables"&&ze.type==="payable"||d==="expenses"&&ze.type==="expense"||d==="revenues"&&ze.type==="revenue",dr=A===""||((X=ze.orderNumber)==null?void 0:X.toLowerCase().includes(A.toLowerCase()))||((We=ze.clientName)==null?void 0:We.toLowerCase().includes(A.toLowerCase()))||((wt=ze.product)==null?void 0:wt.toLowerCase().includes(A.toLowerCase()))||((Ct=ze.description)==null?void 0:Ct.toLowerCase().includes(A.toLowerCase()))||((Qt=ze.producerName)==null?void 0:Qt.toLowerCase().includes(A.toLowerCase()))||((pe=ze.vendorName)==null?void 0:pe.toLowerCase().includes(A.toLowerCase()))||((dt=ze.client)==null?void 0:dt.toLowerCase().includes(A.toLowerCase()))||((Rt=ze.vendor)==null?void 0:Rt.toLowerCase().includes(A.toLowerCase()));return je&&De&&Ke&&At&&He&&Te&&dr}))(N),z=(()=>{const le=k.filter(zt=>zt.status!=="paid"&&zt.status!=="cancelled"),Fe=le.reduce((zt,ar)=>{const is=parseFloat(ar.amount||"0"),gs=parseFloat(ar.receivedAmount||"0");return zt+Math.max(0,is-gs)},0),ze=O.filter(zt=>{const ar=["pending","approved"].includes(zt.status),is=l==="all"||l==="internal"||zt.producerId===l;let gs=!0;if(m&&m.from&&m.to){const te=new Date(zt.createdAt),Xe=new Date(m.from),ht=new Date(m.to);Xe.setHours(0,0,0,0),ht.setHours(23,59,59,999),gs=te>=Xe&&te<=ht}return ar&&is&&gs}),je=ze.reduce((zt,ar)=>zt+parseFloat(ar.amount||"0"),0),De=P.filter(zt=>zt.status==="approved"&&!zt.reimbursedAt),Ke=De.reduce((zt,ar)=>zt+parseFloat(ar.amount||"0"),0),At=M.filter(zt=>["pending","confirmed"].includes(zt.status)&&!zt.paidAt),He=At.reduce((zt,ar)=>zt+parseFloat(ar.amount||"0"),0),Te=ne.filter(zt=>zt.status==="cancelled"&&parseFloat(zt.refundAmount||"0")>0),dr=Te.reduce((zt,ar)=>zt+parseFloat(ar.refundAmount||"0"),0),Pe=je+Ke+He+dr,X=M.filter(zt=>zt.status==="paid"),We=X.reduce((zt,ar)=>zt+parseFloat(ar.amount||"0"),0),wt=ne.length,Ct=ne.reduce((zt,ar)=>zt+parseFloat(ar.totalValue),0),Qt=wt>0?Ct/wt:0,pe=ne.filter(zt=>zt.status!=="cancelled").length,dt=wt>0?pe/wt*100:0,Rt=new Date().getMonth(),Dt=Rt===0?11:Rt-1,ot=N.filter(zt=>new Date(zt.createdAt).getMonth()===Rt),Ft=N.filter(zt=>new Date(zt.createdAt).getMonth()===Dt),Er=ot.reduce((zt,ar)=>zt+parseFloat(ar.totalValue),0),xr=Ft.reduce((zt,ar)=>zt+parseFloat(ar.totalValue),0),on=xr>0?(Er-xr)/xr*100:0;return{totalContasAReceber:Fe,totalContasAPagar:Pe,totalComissoesAPagar:He,totalComissoesPagas:We,totalPedidos:wt,valorTotalPedidos:Ct,ticketMedio:Qt,taxaConversao:dt,crescimentoPercentual:on,contasAReceber:le.length,contasAPagar:ze.length+De.length+At.length+Te.length,comissoesAPagar:At.length,comissoesPagas:X.length,contasAPagarDetalhes:{produtores:je,despesas:Ke,comissoes:He,estornos:dr}}})(),Q=()=>{const le=ne.reduce((Fe,ze)=>{const je=new Date(ze.createdAt).toLocaleDateString("pt-BR",{year:"numeric",month:"short"});return Fe[je]||(Fe[je]={mes:je,Pedidos:0,Valor:0,Receita:0}),Fe[je].Pedidos+=1,Fe[je].Valor+=parseFloat(ze.totalValue),Fe[je].Receita+=parseFloat(ze.paidValue||0),Fe},{});return Object.values(le).sort((Fe,ze)=>new Date(Fe.mes+" 2024").getTime()-new Date(ze.mes+" 2024").getTime())},W=()=>{const le=ne.reduce((Fe,ze)=>{const je=ze.status;return Fe[je]||(Fe[je]={status:je,quantidade:0,valor:0}),Fe[je].quantidade+=1,Fe[je].valor+=parseFloat(ze.totalValue),Fe},{});return Object.values(le).map(Fe=>({...Fe,statusLabel:Fe.status==="pending"?"Pendente":Fe.status==="confirmed"?"Confirmado":Fe.status==="production"?"Em Produo":Fe.status==="delivered"?"Entregue":Fe.status==="cancelled"?"Cancelado":Fe.status}))},U=()=>{const le=ne.reduce((Fe,ze)=>{var He;const je=R.find(Te=>Te.id===ze.vendorId),De=(je==null?void 0:je.name)||"Sem Vendedor",Ke=je!=null&&je.branchId&&((He=D.find(Te=>Te.id===je.branchId))==null?void 0:He.name)||"Matriz",At=`${De} (${Ke})`;return Fe[At]||(Fe[At]={vendedor:At,pedidos:0,valor:0,branchId:(je==null?void 0:je.branchId)||"matriz"}),Fe[At].pedidos+=1,Fe[At].valor+=parseFloat(ze.totalValue),Fe},{});return Object.values(le).sort((Fe,ze)=>b==="valor"?ze.valor-Fe.valor:ze.pedidos-Fe.pedidos).slice(0,10)},re=()=>{const le=ne.reduce((Fe,ze)=>{const je=ze.clientName||"Cliente No Identificado";return Fe[je]||(Fe[je]={cliente:je,pedidos:0,valor:0}),Fe[je].pedidos+=1,Fe[je].valor+=parseFloat(ze.totalValue),Fe},{});return Object.values(le).sort((Fe,ze)=>C==="valor"?ze.valor-Fe.valor:ze.pedidos-Fe.pedidos).slice(0,10)},de=()=>{const le=ne.reduce((Fe,ze)=>{if(ze.items&&Array.isArray(ze.items)&&ze.items.length>0)ze.items.forEach(je=>{const De=je.productName||"Produto No Identificado";Fe[De]||(Fe[De]={produto:De,pedidos:0,valor:0,quantidade:0}),Fe[De].pedidos+=1,Fe[De].valor+=parseFloat(je.totalPrice||"0"),Fe[De].quantidade+=parseFloat(je.quantity)||0});else{const je=ze.product||"Produto No Identificado";Fe[je]||(Fe[je]={produto:je,pedidos:0,valor:0,quantidade:0}),Fe[je].pedidos+=1,Fe[je].valor+=parseFloat(ze.totalValue),Fe[je].quantidade+=parseFloat(ze.quantity)||1}return Fe},{});return Object.values(le).sort((Fe,ze)=>E==="valor"?ze.valor-Fe.valor:ze.quantidade-Fe.quantidade).slice(0,10)},ae=async()=>{v(!0),await Promise.all([N,M,O,k,P]),setTimeout(()=>v(!1),1e3)},Ae=(le,Fe="excel")=>{try{let ze=[],je="",De=[];switch(le){case"evolucao-pedidos":ze=Q(),je="evolucao_pedidos",De=["Ms","Quantidade de Pedidos","Valor Total","Receita Recebida"];break;case"pedidos-status":ze=W(),je="pedidos_por_status",De=["Status","Quantidade","Valor Total"];break;case"top-vendedores":ze=U(),je="top_vendedores",De=["Vendedor","Quantidade de Pedidos","Valor Total","Filial"];break;case"top-clientes":ze=re(),je="top_clientes",De=["Cliente","Quantidade de Pedidos","Valor Total"];break;case"top-produtos":ze=de(),je="top_produtos",De=["Produto","Quantidade de Pedidos","Quantidade Total","Valor Total"];break;case"receivables":ze=k.filter(Ke=>Ke.status!=="paid").map(Ke=>({pedido:Ke.orderNumber,cliente:Ke.clientName,valor:parseFloat(Ke.amount)-parseFloat(Ke.receivedAmount),vencimento:Ke.dueDate?new Date(Ke.dueDate).toLocaleDateString("pt-BR"):"",status:Ke.status==="pending"?"Pendente":Ke.status==="partial"?"Parcial":Ke.status==="overdue"?"Vencido":Ke.status})),je="contas_a_receber",De=["Pedido","Cliente","Valor","Vencimento","Status"];break;case"payables":ze=O.filter(Ke=>["pending","approved"].includes(Ke.status)).map(Ke=>({produtor:Ke.producerName,pedido:Ke.orderNumber,produto:Ke.product,valor:parseFloat(Ke.amount),status:Ke.status==="pending"?"Pendente":"Aprovado"})),je="contas_a_pagar",De=["Produtor","Pedido","Produto","Valor","Status"];break;case"comissoes-pagar":ze=M.filter(Ke=>["pending","confirmed"].includes(Ke.status)).map(Ke=>{var At;return{vendedor:((At=R.find(He=>He.id===Ke.vendorId))==null?void 0:At.name)||"N/A",pedido:Ke.orderNumber,valor:parseFloat(Ke.amount),percentual:Ke.percentage,status:Ke.status==="pending"?"Pendente":"Confirmado"}}),je="comissoes_a_pagar",De=["Vendedor","Pedido","Valor","Percentual","Status"];break;case"comissoes-pagas":ze=M.filter(Ke=>Ke.status==="paid").map(Ke=>{var At;return{vendedor:((At=R.find(He=>He.id===Ke.vendorId))==null?void 0:At.name)||"N/A",pedido:Ke.orderNumber,valor:parseFloat(Ke.amount),percentual:Ke.percentage,dataPagamento:new Date(Ke.updatedAt).toLocaleDateString("pt-BR")}}),je="comissoes_pagas",De=["Vendedor","Pedido","Valor","Percentual","Data Pagamento"];break;case"fluxo-caixa":ze=Q().map(Ke=>({mes:Ke.mes,vendido:Ke.valor,recebido:Ke.receita,diferenca:Ke.valor-Ke.receita})),je="fluxo_de_caixa",De=["Ms","Valor Vendido","Valor Recebido","Diferena"];break;case"despesas":ze=P.map(Ke=>({data:new Date(Ke.date).toLocaleDateString("pt-BR"),categoria:Ke.category==="operational"?"Operacional":Ke.category==="marketing"?"Marketing":Ke.category==="travel"?"Viagem":Ke.category==="equipment"?"Equipamento":"Outros",descricao:Ke.description,valor:parseFloat(Ke.amount),fornecedor:Ke.vendorName||"N/A",status:Ke.status==="approved"?"Aprovado":"Pendente"})),je="despesas",De=["Data","Categoria","Descrio","Valor","Fornecedor","Status"];break;default:ze=ne.map(Ke=>{var At;return{numero:Ke.orderNumber,cliente:Ke.clientName,produto:Ke.product,quantidade:Ke.quantity,valor:parseFloat(Ke.totalValue),status:Ke.status,vendedor:((At=R.find(He=>He.id===Ke.vendorId))==null?void 0:At.name)||"N/A",data:new Date(Ke.createdAt).toLocaleDateString("pt-BR")}}),je="pedidos_geral",De=["Nmero","Cliente","Produto","Quantidade","Valor","Status","Vendedor","Data"];break}if(ze.length===0){e({title:"Nenhum dado encontrado",description:"No h dados para exportar neste relatrio.",variant:"destructive"});return}Fe==="excel"?Me(ze,De,je):Fe==="csv"?H(ze,De,je):Fe==="pdf"&&Oe(ze,De,je,le),e({title:"Exportao concluda!",description:`Relatrio ${je} exportado em ${Fe.toUpperCase()} com sucesso.`})}catch(ze){console.error("Erro ao exportar:",ze),e({title:"Erro na exportao",description:"No foi possvel exportar o relatrio. Tente novamente.",variant:"destructive"})}},Me=(le,Fe,ze)=>{const je=el.json_to_sheet(le,{header:Fe}),De=el.book_new();el.book_append_sheet(De,je,"Relatrio");const Ke=el.decode_range(je["!ref"]);for(let At=Ke.s.r;At<=Ke.e.r;++At)for(let He=Ke.s.c;He<=Ke.e.c;++He){const Te=el.encode_cell({c:He,r:At});je[Te]&&At===0&&(je[Te].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"4F46E5"}}})}zB(De,`${ze}_${new Date().toISOString().split("T")[0]}.xlsx`)},H=(le,Fe,ze)=>{const je=[Fe.join(","),...le.map(He=>Object.values(He).map(Te=>typeof Te=="string"&&Te.includes(",")?`"${Te}"`:Te).join(","))].join(`
`),De=new Blob([je],{type:"text/csv;charset=utf-8;"}),Ke=document.createElement("a"),At=URL.createObjectURL(De);Ke.setAttribute("href",At),Ke.setAttribute("download",`${ze}_${new Date().toISOString().split("T")[0]}.csv`),Ke.style.visibility="hidden",document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke)},Oe=(le,Fe,ze,je)=>{const De=[`RELATRIO: ${je.toUpperCase().replace("-"," ")}`,`Data: ${new Date().toLocaleDateString("pt-BR")}`,`Total de registros: ${le.length}`,"",Fe.join("	"),...le.map(Te=>Object.values(Te).join("	"))].join(`
`),Ke=new Blob([De],{type:"text/plain;charset=utf-8;"}),At=document.createElement("a"),He=URL.createObjectURL(Ke);At.setAttribute("href",He),At.setAttribute("download",`${ze}_${new Date().toISOString().split("T")[0]}.txt`),At.style.visibility="hidden",document.body.appendChild(At),At.click(),document.body.removeChild(At)},Ee=()=>{r("30"),s("all"),o("all"),c("all"),u("all"),f("all"),p(""),x(void 0),e({title:"Filtros limpos",description:"Todos os filtros foram resetados para os valores padro."})};return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios Avanados"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Anlises detalhadas e insights do negcio"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{variant:"outline",onClick:ae,disabled:g,className:"flex items-center gap-2",children:[n.jsx(oi,{className:`h-4 w-4 ${g?"animate-spin":""}`}),"Atualizar"]}),n.jsx(Z,{onClick:Ee,variant:"outline",children:"Limpar Filtros"})]})]}),n.jsxs(Le,{className:"mb-6",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Fy,{className:"h-5 w-5"}),"Filtros - ",y==="overview"?"Viso Geral":y==="financeiro"?"Financeiro":"Vendas"]})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Perodo Rpido"}),n.jsxs($t,{value:t,onValueChange:r,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Perodo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"today",children:"Hoje"}),n.jsx(ge,{value:"7",children:"ltimos 7 dias"}),n.jsx(ge,{value:"30",children:"ltimos 30 dias"}),n.jsx(ge,{value:"90",children:"ltimos 90 dias"}),n.jsx(ge,{value:"180",children:"ltimos 6 meses"}),n.jsx(ge,{value:"365",children:"ltimo ano"}),n.jsx(ge,{value:"all",children:"Todos os dados"}),n.jsx(ge,{value:"custom",children:"Perodo personalizado"})]})]})]}),t==="custom"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Data Inicial"}),n.jsx(ie,{type:"date",value:m!=null&&m.from?m.from.toISOString().split("T")[0]:"",onChange:le=>{const Fe=new Date(le.target.value);x(ze=>({from:Fe,to:(ze==null?void 0:ze.to)||new Date}))}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Data Final"}),n.jsx(ie,{type:"date",value:m!=null&&m.to?m.to.toISOString().split("T")[0]:"",onChange:le=>{const Fe=new Date(le.target.value);x(ze=>({from:(ze==null?void 0:ze.from)||new Date,to:Fe}))}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar...",value:A,onChange:le=>p(le.target.value),className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(y==="overview"||y==="vendas")&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status do Pedido"}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap bg-muted/50 p-2 rounded-lg border min-h-[42px]",children:[n.jsx("span",{className:"text-sm font-semibold px-2",children:"Status:"}),["all","pending","confirmed","production","shipped","delivered","cancelled"].map(le=>n.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 hover:bg-muted rounded-md transition-colors",children:[n.jsx("input",{type:"checkbox",id:`status-vendas-${le}`,checked:a.includes(le),onChange:Fe=>{if(le==="all")s(["all"]);else{let ze=a.filter(je=>je!=="all");Fe.target.checked?ze.push(le):ze=ze.filter(je=>je!==le),ze.length===0&&(ze=["all"]),s(ze)}},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer"}),n.jsx("label",{htmlFor:`status-vendas-${le}`,className:"text-sm font-medium cursor-pointer select-none",children:le==="all"?"Todos":le==="pending"?"Pendente":le==="confirmed"?"Confirmado":le==="production"?"Em Produo":le==="shipped"?"Enviado":le==="delivered"?"Entregue":"Cancelado"})]},le))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Vendedor"}),n.jsxs($t,{value:i,onValueChange:o,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Vendedor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Vendedores"}),R.map(le=>n.jsx(ge,{value:le.id,children:le.name},le.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Matriz/Filial"}),n.jsxs($t,{value:h,onValueChange:f,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Localizao"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as Localizaes"}),n.jsx(ge,{value:"matriz",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-yellow-600"}),"Matriz"]})}),D.map(le=>n.jsx(ge,{value:le.id,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-blue-600"}),le.name," - ",le.city]})},le.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Produtor"}),n.jsxs($t,{value:l,onValueChange:c,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Produtor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Produtores"}),n.jsx(ge,{value:"internal",children:"Produo Interna"}),V.map(le=>n.jsx(ge,{value:le.id,children:le.name},le.id))]})]})]})]}),y==="financeiro"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tipo de Conta"}),n.jsxs($t,{value:d,onValueChange:u,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Tipo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Tipos"}),n.jsx(ge,{value:"receivables",children:"Contas a Receber"}),n.jsx(ge,{value:"payables",children:"Contas a Pagar"}),n.jsx(ge,{value:"expenses",children:"Despesas"}),n.jsx(ge,{value:"revenues",children:"Receitas"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status Financeiro"}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap bg-muted/50 p-2 rounded-lg border min-h-[42px]",children:[n.jsx("span",{className:"text-sm font-semibold px-2",children:"Status Financeiro:"}),["all","pending","partial","paid","overdue","cancelled"].map(le=>n.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 hover:bg-muted rounded-md transition-colors",children:[n.jsx("input",{type:"checkbox",id:`status-fin-${le}`,checked:a.includes(le),onChange:Fe=>{if(le==="all")s(["all"]);else{let ze=a.filter(je=>je!=="all");Fe.target.checked?ze.push(le):ze=ze.filter(je=>je!==le),ze.length===0&&(ze=["all"]),s(ze)}},className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary cursor-pointer"}),n.jsx("label",{htmlFor:`status-fin-${le}`,className:"text-sm font-medium cursor-pointer select-none",children:le==="all"?"Todos":le==="pending"?"Pendente":le==="partial"?"Parcial":le==="paid"?"Pago":le==="overdue"?"Vencido":"Cancelado"})]},le))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Matriz/Filial"}),n.jsxs($t,{value:h,onValueChange:f,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Localizao"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as Localizaes"}),n.jsx(ge,{value:"matriz",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-yellow-600"}),"Matriz"]})}),D.map(le=>n.jsx(ge,{value:le.id,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-blue-600"}),le.name," - ",le.city]})},le.id))]})]})]})]})]}),(t!=="30"||a!=="all"||i!=="all"||l!=="all"||d!=="all"||h!=="all"||A!==""||m)&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Filtros aplicados:"}),t!=="30"&&n.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:[n.jsx(ps,{className:"h-3 w-3"}),t==="today"?"Hoje":t==="7"?"7 dias":t==="90"?"90 dias":t==="180"?"6 meses":t==="365"?"1 ano":t==="all"?"Todos":t==="custom"?"Personalizado":`${t} dias`]}),m&&n.jsxs(Yt,{variant:"secondary",className:"flex items-center gap-1",children:[n.jsx(ps,{className:"h-3 w-3"}),m.from.toLocaleDateString("pt-BR")," - ",m.to.toLocaleDateString("pt-BR")]}),a.length>0&&!a.includes("all")&&n.jsxs(Yt,{variant:"outline",children:["Status: ",a.map(le=>le==="pending"?"Pendente":le==="confirmed"?"Confirmado":le==="production"?"Produo":le==="delivered"?"Entregue":le).join(", ")]}),i!=="all"&&n.jsxs(Yt,{variant:"outline",children:["Vendedor: ",((ee=R.find(le=>le.id===i))==null?void 0:ee.name)||i]}),l!=="all"&&n.jsxs(Yt,{variant:"outline",children:["Produtor: ",((st=V.find(le=>le.id===l))==null?void 0:st.name)||l]}),d!=="all"&&n.jsxs(Yt,{variant:"outline",children:["Categoria: ",d]}),h!=="all"&&n.jsxs(Yt,{variant:"outline",children:["Filial: ",h==="matriz"?"Matriz":((se=D.find(le=>le.id===h))==null?void 0:se.name)||h]}),A!==""&&n.jsxs(Yt,{variant:"outline",children:['Busca: "',A,'"']}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:Ee,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:" Limpar todos"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs(Le,{className:"border-l-4 border-l-green-500",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ot,{className:"text-sm font-medium",children:"Contas a Receber"}),n.jsx(Li,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",z.totalContasAReceber.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.contasAReceber," contas pendentes"]})]})]}),n.jsxs(Le,{className:"border-l-4 border-l-red-500",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ot,{className:"text-sm font-medium",children:"Contas a Pagar"}),n.jsx(Sm,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["R$ ",z.totalContasAPagar.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.contasAPagar," itens pendentes"]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Produtores: R$ ",((nt=(me=z.contasAPagarDetalhes)==null?void 0:me.produtores)==null?void 0:nt.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"," | Despesas: R$ ",((xt=(Nt=z.contasAPagarDetalhes)==null?void 0:Nt.despesas)==null?void 0:xt.toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]})]}),n.jsxs(Le,{className:"border-l-4 border-l-blue-500",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ot,{className:"text-sm font-medium",children:"Receita do Perodo"}),n.jsx(Mr,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",z.valorTotalPedidos.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.totalPedidos," pedidos  Ticket mdio: R$ ",z.ticketMedio.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs(Le,{className:"border-l-4 border-l-purple-500",children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ot,{className:"text-sm font-medium",children:"Taxa de Converso"}),n.jsx(gye,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(Re,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[z.taxaConversao.toFixed(1),"%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Crescimento: ",z.crescimentoPercentual>0?"+":"",z.crescimentoPercentual.toFixed(1),"%"]})]})]})]}),n.jsxs(mu,{value:y,onValueChange:j,className:"space-y-4",children:[n.jsxs(vd,{className:"grid w-full grid-cols-3 bg-gradient-to-r from-blue-50 to-purple-50 p-1 rounded-xl border border-gray-200 shadow-sm",children:[n.jsxs(Vn,{value:"overview",className:"flex items-center gap-2 text-sm font-medium transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-md hover:bg-blue-100 text-gray-700",children:[n.jsx(lR,{className:"h-4 w-4"}),"Viso Geral"]}),n.jsxs(Vn,{value:"financeiro",className:"flex items-center gap-2 text-sm font-medium transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-green-600 data-[state=active]:text-white data-[state=active]:shadow-md hover:bg-green-100 text-gray-700",children:[n.jsx(Mr,{className:"h-4 w-4"}),"Financeiro"]}),n.jsxs(Vn,{value:"vendas",className:"flex items-center gap-2 text-sm font-medium transition-all data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-md hover:bg-purple-100 text-gray-700",children:[n.jsx(jn,{className:"h-4 w-4"}),"Vendas"]})]}),n.jsxs(Kn,{value:"overview",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Evoluo Temporal dos Pedidos"}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("evolucao-pedidos","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("evolucao-pedidos","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("evolucao-pedidos","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx(DA,{width:"100%",height:300,children:n.jsxs(Jmt,{data:Q(),children:[n.jsx(Xp,{strokeDasharray:"3 3"}),n.jsx(Yd,{dataKey:"mes"}),n.jsx(Jc,{yAxisId:"left"}),n.jsx(Jc,{yAxisId:"right",orientation:"right"}),n.jsx(eo,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:(le,Fe)=>[Fe==="Valor"||Fe==="Receita"?`R$ ${le.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:le,Fe]}),n.jsx(ch,{formatter:le=>({Pedidos:"Pedidos",Valor:"Valor Total (R$)",Receita:"Receita Recebida (R$)",quantidade:"Quantidade",vendedor:"Vendedor",cliente:"Cliente",produto:"Produto",quantidade_vendas:"Qtd. Vendas",valor_total:"Total (R$)"})[le]||le}),n.jsx(hh,{yAxisId:"left",dataKey:"Pedidos",fill:"#8884d8",name:"Pedidos"}),n.jsx(oy,{yAxisId:"right",type:"monotone",dataKey:"Valor",stroke:"#82ca9d",name:"Valor"}),n.jsx(oy,{yAxisId:"right",type:"monotone",dataKey:"Receita",stroke:"#ffc658",name:"Receita"})]})})})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Distribuio por Status"}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("pedidos-status","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("pedidos-status","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("pedidos-status","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx(DA,{width:"100%",height:300,children:n.jsxs(Hfe,{children:[n.jsx(Ph,{data:W(),cx:"50%",cy:"50%",labelLine:!1,label:({statusLabel:le,quantidade:Fe,percent:ze})=>`${le}: ${Fe} (${(ze*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"quantidade",children:W().map((le,Fe)=>n.jsx(e1,{fill:gX[Fe%gX.length]},`cell-${Fe}`))}),n.jsx(eo,{formatter:(le,Fe,ze)=>[le,ze.payload.statusLabel]})]})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs(Ot,{className:"flex items-center gap-2 text-lg",children:[n.jsx(XS,{className:"h-5 w-5 text-yellow-500"}),"Top Vendedores"]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Z,{size:"sm",variant:b==="valor"?"default":"outline",onClick:()=>w("valor"),className:"h-7 text-xs px-2",children:"Por Valor"}),n.jsx(Z,{size:"sm",variant:b==="quantidade"?"default":"outline",onClick:()=>w("quantidade"),className:"h-7 text-xs px-2",children:"Por Pedidos"})]})]}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("top-vendedores","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("top-vendedores","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("top-vendedores","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-3",children:U().slice(0,5).map((le,Fe)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Yt,{variant:"outline",children:["#",Fe+1]}),n.jsx("span",{className:"font-medium",children:le.vendedor})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",le.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[le.pedidos," pedidos"]})]})]},Fe))})})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs(Ot,{className:"flex items-center gap-2 text-lg",children:[n.jsx(ca,{className:"h-5 w-5 text-blue-500"}),"Top Clientes"]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Z,{size:"sm",variant:C==="valor"?"default":"outline",onClick:()=>F("valor"),className:"h-7 text-xs px-2",children:"Por Valor"}),n.jsx(Z,{size:"sm",variant:C==="quantidade"?"default":"outline",onClick:()=>F("quantidade"),className:"h-7 text-xs px-2",children:"Por Pedidos"})]})]}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("top-clientes","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("top-clientes","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("top-clientes","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-3",children:re().slice(0,5).map((le,Fe)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Yt,{variant:"outline",children:["#",Fe+1]}),n.jsx("span",{className:"font-medium",children:le.cliente})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-blue-600",children:["R$ ",le.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-sm text-gray-500",children:[le.pedidos," pedidos"]})]})]},Fe))})})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs(Ot,{className:"flex items-center gap-2 text-lg",children:[n.jsx(gr,{className:"h-5 w-5 text-purple-500"}),"Top Produtos"]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Z,{size:"sm",variant:E==="valor"?"default":"outline",onClick:()=>L("valor"),className:"h-7 text-xs px-2",children:"Por Valor"}),n.jsx(Z,{size:"sm",variant:E==="quantidade"?"default":"outline",onClick:()=>L("quantidade"),className:"h-7 text-xs px-2",children:"Por Quantidade"})]})]}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("top-produtos","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("top-produtos","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("top-produtos","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-3",children:de().slice(0,5).map((le,Fe)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Yt,{variant:"outline",children:["#",Fe+1]}),n.jsx("span",{className:"font-medium text-sm",children:le.produto})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold text-purple-600",children:E==="valor"?`R$ ${le.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`:`${le.quantidade} unidades`}),n.jsx("p",{className:"text-sm text-gray-500",children:E==="valor"?`${le.quantidade} unidades`:`R$ ${le.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]},Fe))})})]})]})]}),n.jsxs(Kn,{value:"financeiro",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Contas a Receber"}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("receivables","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("receivables","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("receivables","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:k.filter(le=>le.status!=="paid").slice(0,8).map(le=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:le.orderNumber}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",le.clientName]}),le.dueDate&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Vencimento: ",new Date(le.dueDate).toLocaleDateString("pt-BR")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",(parseFloat(le.amount)-parseFloat(le.receivedAmount)).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{variant:le.status==="overdue"?"destructive":"secondary",children:le.status==="pending"?"Pendente":le.status==="partial"?"Parcial":le.status==="overdue"?"Vencido":le.status})]})]},le.id))})})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ot,{children:"Contas a Pagar (Produtores)"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l!=="all"?`Filtrando por: ${((Ne=V.find(le=>le.id===l))==null?void 0:Ne.name)||l}`:"Todos os produtores"})]}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("payables","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("payables","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("payables","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:O.filter(le=>["pending","approved"].includes(le.status)).slice(0,8).map(le=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:le.producerName}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Pedido: ",le.orderNumber]}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Produto: ",le.product]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-red-600",children:["R$ ",parseFloat(le.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{variant:le.status==="pending"?"destructive":"secondary",children:le.status==="pending"?"Pendente":"Aprovado"})]})]},le.id))})})]})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Fluxo de Caixa - Projeo vs Realidade"}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("fluxo-caixa","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("fluxo-caixa","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]}),n.jsxs(ma,{onClick:()=>Ae("fluxo-caixa","pdf"),children:[n.jsx(uA,{className:"h-4 w-4 mr-2"}),"PDF"]})]})]})]}),n.jsx(Re,{children:n.jsx(DA,{width:"100%",height:400,children:n.jsxs(wD,{data:Q(),children:[n.jsx(Xp,{strokeDasharray:"3 3"}),n.jsx(Yd,{dataKey:"mes"}),n.jsx(Jc,{}),n.jsx(eo,{formatter:(le,Fe)=>[`R$ ${le.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,Fe==="valor"?"Vendido":"Recebido"]}),n.jsx(ch,{formatter:le=>({pedidos:"Pedidos",valor:"Valor Total (R$)",receita:"Receita Recebida (R$)",quantidade:"Quantidade",vendedor:"Vendedor",cliente:"Cliente",produto:"Produto",quantidade_vendas:"Qtd. Vendas",valor_total:"Total (R$)"})[le]||le}),n.jsx(gd,{type:"monotone",dataKey:"valor",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Valor Vendido"}),n.jsx(gd,{type:"monotone",dataKey:"receita",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",name:"Valor Recebido"})]})})})]})]}),n.jsx(Kn,{value:"vendas",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Performance de Vendas por Ms"}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("evolucao-pedidos","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("evolucao-pedidos","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]})]})]})]}),n.jsx(Re,{children:n.jsx(DA,{width:"100%",height:300,children:n.jsxs(xX,{data:Q(),children:[n.jsx(Xp,{strokeDasharray:"3 3"}),n.jsx(Yd,{dataKey:"mes"}),n.jsx(Jc,{}),n.jsx(eo,{}),n.jsx(ch,{formatter:le=>({pedidos:"Pedidos",valor:"Valor Total (R$)",receita:"Receita Recebida (R$)",quantidade:"Quantidade",vendedor:"Vendedor",cliente:"Cliente",produto:"Produto",quantidade_vendas:"Qtd. Vendas",valor_total:"Total (R$)"})[le]||le}),n.jsx(hh,{dataKey:"pedidos",fill:"#8884d8"})]})})})]}),n.jsxs(Le,{children:[n.jsxs(Tt,{className:"flex flex-row items-center justify-between",children:[n.jsx(Ot,{children:"Ranking de Vendedores"}),n.jsxs(Iu,{children:[n.jsx(Ou,{asChild:!0,children:n.jsxs(Z,{size:"sm",variant:"outline",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})}),n.jsxs(Od,{children:[n.jsxs(ma,{onClick:()=>Ae("top-vendedores","excel"),children:[n.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Excel (.xlsx)"]}),n.jsxs(ma,{onClick:()=>Ae("top-vendedores","csv"),children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"CSV"]})]})]})]}),n.jsx(Re,{children:n.jsx(DA,{width:"100%",height:300,children:n.jsxs(xX,{data:U(),children:[n.jsx(Xp,{strokeDasharray:"3 3"}),n.jsx(Yd,{dataKey:"vendedor"}),n.jsx(Jc,{}),n.jsx(eo,{}),n.jsx(hh,{dataKey:"valor",fill:"#82ca9d"})]})})})]})]})})]})]})}class Fo{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let a=0;for(let s=0;s<this._n&&s<32;s++){const i=r[s],o=t+i,l=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);l&&(r[a++]=l),t=o}return r[a]=t,this._n=a+1,this}valueOf(){const t=this._partials;let r=this._n,a,s,i,o=0;if(r>0){for(o=t[--r];r>0&&(a=o,s=t[--r],o=a+s,i=s-(o-a),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(s=i*2,a=o+s,s==a-o&&(o=a))}return o}}function*Zmt(e){for(const t of e)yield*t}function zfe(e){return Array.from(Zmt(e))}function _g(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}var zr=1e-6,N2=1e-12,Sn=Math.PI,Es=Sn/2,eE=Sn/4,hl=Sn*2,Fa=180/Sn,Vr=Sn/180,Qn=Math.abs,i1=Math.atan,fl=Math.atan2,Or=Math.cos,E4=Math.ceil,Vfe=Math.exp,bD=Math.hypot,tE=Math.log,J3=Math.pow,Nr=Math.sin,id=Math.sign||function(e){return e>0?1:e<0?-1:0},Ri=Math.sqrt,bU=Math.tan;function Kfe(e){return e>1?0:e<-1?Sn:Math.acos(e)}function Al(e){return e>1?Es:e<-1?-Es:Math.asin(e)}function yX(e){return(e=Nr(e/2))*e}function hs(){}function rE(e,t){e&&bX.hasOwnProperty(e.type)&&bX[e.type](e,t)}var wX={Feature:function(e,t){rE(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,a=-1,s=r.length;++a<s;)rE(r[a].geometry,t)}},bX={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,a=-1,s=r.length;++a<s;)e=r[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){jD(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,a=-1,s=r.length;++a<s;)jD(r[a],t,0)},Polygon:function(e,t){jX(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,a=-1,s=r.length;++a<s;)jX(r[a],t)},GeometryCollection:function(e,t){for(var r=e.geometries,a=-1,s=r.length;++a<s;)rE(r[a],t)}};function jD(e,t,r){var a=-1,s=e.length-r,i;for(t.lineStart();++a<s;)i=e[a],t.point(i[0],i[1],i[2]);t.lineEnd()}function jX(e,t){var r=-1,a=e.length;for(t.polygonStart();++r<a;)jD(e[r],t,1);t.polygonEnd()}function qd(e,t){e&&wX.hasOwnProperty(e.type)?wX[e.type](e,t):rE(e,t)}var nE=new Fo,aE=new Fo,qfe,Wfe,ND,CD,SD,wh={point:hs,lineStart:hs,lineEnd:hs,polygonStart:function(){nE=new Fo,wh.lineStart=ept,wh.lineEnd=tpt},polygonEnd:function(){var e=+nE;aE.add(e<0?hl+e:e),this.lineStart=this.lineEnd=this.point=hs},sphere:function(){aE.add(hl)}};function ept(){wh.point=rpt}function tpt(){Gfe(qfe,Wfe)}function rpt(e,t){wh.point=Gfe,qfe=e,Wfe=t,e*=Vr,t*=Vr,ND=e,CD=Or(t=t/2+eE),SD=Nr(t)}function Gfe(e,t){e*=Vr,t*=Vr,t=t/2+eE;var r=e-ND,a=r>=0?1:-1,s=a*r,i=Or(t),o=Nr(t),l=SD*o,c=CD*i+l*Or(s),d=l*a*Nr(s);nE.add(fl(d,c)),ND=e,CD=i,SD=o}function npt(e){return aE=new Fo,qd(e,wh),aE*2}function sE(e){return[fl(e[1],e[0]),Al(e[2])]}function K0(e){var t=e[0],r=e[1],a=Or(r);return[a*Or(t),a*Nr(t),Nr(r)]}function B4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function my(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Z3(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function F4(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function iE(e){var t=Ri(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ls,_l,Ns,hc,Bp,Xfe,Yfe,sv,Fb,EA,Uf,lf={point:_D,lineStart:NX,lineEnd:CX,polygonStart:function(){lf.point=Zfe,lf.lineStart=apt,lf.lineEnd=spt,Fb=new Fo,wh.polygonStart()},polygonEnd:function(){wh.polygonEnd(),lf.point=_D,lf.lineStart=NX,lf.lineEnd=CX,nE<0?(ls=-(Ns=180),_l=-(hc=90)):Fb>zr?hc=90:Fb<-zr&&(_l=-90),Uf[0]=ls,Uf[1]=Ns},sphere:function(){ls=-(Ns=180),_l=-(hc=90)}};function _D(e,t){EA.push(Uf=[ls=e,Ns=e]),t<_l&&(_l=t),t>hc&&(hc=t)}function Jfe(e,t){var r=K0([e*Vr,t*Vr]);if(sv){var a=my(sv,r),s=[a[1],-a[0],0],i=my(s,a);iE(i),i=sE(i);var o=e-Bp,l=o>0?1:-1,c=i[0]*Fa*l,d,u=Qn(o)>180;u^(l*Bp<c&&c<l*e)?(d=i[1]*Fa,d>hc&&(hc=d)):(c=(c+360)%360-180,u^(l*Bp<c&&c<l*e)?(d=-i[1]*Fa,d<_l&&(_l=d)):(t<_l&&(_l=t),t>hc&&(hc=t))),u?e<Bp?oc(ls,e)>oc(ls,Ns)&&(Ns=e):oc(e,Ns)>oc(ls,Ns)&&(ls=e):Ns>=ls?(e<ls&&(ls=e),e>Ns&&(Ns=e)):e>Bp?oc(ls,e)>oc(ls,Ns)&&(Ns=e):oc(e,Ns)>oc(ls,Ns)&&(ls=e)}else EA.push(Uf=[ls=e,Ns=e]);t<_l&&(_l=t),t>hc&&(hc=t),sv=r,Bp=e}function NX(){lf.point=Jfe}function CX(){Uf[0]=ls,Uf[1]=Ns,lf.point=_D,sv=null}function Zfe(e,t){if(sv){var r=e-Bp;Fb.add(Qn(r)>180?r+(r>0?360:-360):r)}else Xfe=e,Yfe=t;wh.point(e,t),Jfe(e,t)}function apt(){wh.lineStart()}function spt(){Zfe(Xfe,Yfe),wh.lineEnd(),Qn(Fb)>zr&&(ls=-(Ns=180)),Uf[0]=ls,Uf[1]=Ns,sv=null}function oc(e,t){return(t-=e)<0?t+360:t}function ipt(e,t){return e[0]-t[0]}function SX(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function opt(e){var t,r,a,s,i,o,l;if(hc=Ns=-(ls=_l=1/0),EA=[],qd(e,lf),r=EA.length){for(EA.sort(ipt),t=1,a=EA[0],i=[a];t<r;++t)s=EA[t],SX(a,s[0])||SX(a,s[1])?(oc(a[0],s[1])>oc(a[0],a[1])&&(a[1]=s[1]),oc(s[0],a[1])>oc(a[0],a[1])&&(a[0]=s[0])):i.push(a=s);for(o=-1/0,r=i.length-1,t=0,a=i[r];t<=r;a=s,++t)s=i[t],(l=oc(a[1],s[0]))>o&&(o=l,ls=s[0],Ns=a[1])}return EA=Uf=null,ls===1/0||_l===1/0?[[NaN,NaN],[NaN,NaN]]:[[ls,_l],[Ns,hc]]}var Ow,oE,lE,cE,dE,uE,hE,fE,ED,BD,FD,eAe,tAe,Yo,Jo,Zo,Jd={sphere:hs,point:jU,lineStart:_X,lineEnd:EX,polygonStart:function(){Jd.lineStart=dpt,Jd.lineEnd=upt},polygonEnd:function(){Jd.lineStart=_X,Jd.lineEnd=EX}};function jU(e,t){e*=Vr,t*=Vr;var r=Or(t);vN(r*Or(e),r*Nr(e),Nr(t))}function vN(e,t,r){++Ow,lE+=(e-lE)/Ow,cE+=(t-cE)/Ow,dE+=(r-dE)/Ow}function _X(){Jd.point=lpt}function lpt(e,t){e*=Vr,t*=Vr;var r=Or(t);Yo=r*Or(e),Jo=r*Nr(e),Zo=Nr(t),Jd.point=cpt,vN(Yo,Jo,Zo)}function cpt(e,t){e*=Vr,t*=Vr;var r=Or(t),a=r*Or(e),s=r*Nr(e),i=Nr(t),o=fl(Ri((o=Jo*i-Zo*s)*o+(o=Zo*a-Yo*i)*o+(o=Yo*s-Jo*a)*o),Yo*a+Jo*s+Zo*i);oE+=o,uE+=o*(Yo+(Yo=a)),hE+=o*(Jo+(Jo=s)),fE+=o*(Zo+(Zo=i)),vN(Yo,Jo,Zo)}function EX(){Jd.point=jU}function dpt(){Jd.point=hpt}function upt(){rAe(eAe,tAe),Jd.point=jU}function hpt(e,t){eAe=e,tAe=t,e*=Vr,t*=Vr,Jd.point=rAe;var r=Or(t);Yo=r*Or(e),Jo=r*Nr(e),Zo=Nr(t),vN(Yo,Jo,Zo)}function rAe(e,t){e*=Vr,t*=Vr;var r=Or(t),a=r*Or(e),s=r*Nr(e),i=Nr(t),o=Jo*i-Zo*s,l=Zo*a-Yo*i,c=Yo*s-Jo*a,d=bD(o,l,c),u=Al(d),h=d&&-u/d;ED.add(h*o),BD.add(h*l),FD.add(h*c),oE+=u,uE+=u*(Yo+(Yo=a)),hE+=u*(Jo+(Jo=s)),fE+=u*(Zo+(Zo=i)),vN(Yo,Jo,Zo)}function fpt(e){Ow=oE=lE=cE=dE=uE=hE=fE=0,ED=new Fo,BD=new Fo,FD=new Fo,qd(e,Jd);var t=+ED,r=+BD,a=+FD,s=bD(t,r,a);return s<N2&&(t=uE,r=hE,a=fE,oE<zr&&(t=lE,r=cE,a=dE),s=bD(t,r,a),s<N2)?[NaN,NaN]:[fl(r,t)*Fa,Al(a/s)*Fa]}function Xx(e){return function(){return e}}function PD(e,t){function r(a,s){return a=e(a,s),t(a[0],a[1])}return e.invert&&t.invert&&(r.invert=function(a,s){return a=t.invert(a,s),a&&e.invert(a[0],a[1])}),r}function kD(e,t){return[Qn(e)>Sn?e+Math.round(-e/hl)*hl:e,t]}kD.invert=kD;function NU(e,t,r){return(e%=hl)?t||r?PD(FX(e),PX(t,r)):FX(e):t||r?PX(t,r):kD}function BX(e){return function(t,r){return t+=e,[t>Sn?t-hl:t<-Sn?t+hl:t,r]}}function FX(e){var t=BX(e);return t.invert=BX(-e),t}function PX(e,t){var r=Or(e),a=Nr(e),s=Or(t),i=Nr(t);function o(l,c){var d=Or(c),u=Or(l)*d,h=Nr(l)*d,f=Nr(c),A=f*r+u*a;return[fl(h*s-A*i,u*r-f*a),Al(A*s+h*i)]}return o.invert=function(l,c){var d=Or(c),u=Or(l)*d,h=Nr(l)*d,f=Nr(c),A=f*s-h*i;return[fl(h*s+f*i,u*r+A*a),Al(A*r-u*a)]},o}function nAe(e){e=NU(e[0]*Vr,e[1]*Vr,e.length>2?e[2]*Vr:0);function t(r){return r=e(r[0]*Vr,r[1]*Vr),r[0]*=Fa,r[1]*=Fa,r}return t.invert=function(r){return r=e.invert(r[0]*Vr,r[1]*Vr),r[0]*=Fa,r[1]*=Fa,r},t}function aAe(e,t,r,a,s,i){if(r){var o=Or(t),l=Nr(t),c=a*r;s==null?(s=t+a*hl,i=t-c/2):(s=kX(o,s),i=kX(o,i),(a>0?s<i:s>i)&&(s+=a*hl));for(var d,u=s;a>0?u>i:u<i;u-=c)d=sE([o,-l*Or(u),-l*Nr(u)]),e.point(d[0],d[1])}}function kX(e,t){t=K0(t),t[0]-=e,iE(t);var r=Kfe(-t[1]);return((-t[2]<0?-r:r)+hl-zr)%hl}function Apt(){var e=Xx([0,0]),t=Xx(90),r=Xx(6),a,s,i={point:o};function o(c,d){a.push(c=s(c,d)),c[0]*=Fa,c[1]*=Fa}function l(){var c=e.apply(this,arguments),d=t.apply(this,arguments)*Vr,u=r.apply(this,arguments)*Vr;return a=[],s=NU(-c[0]*Vr,-c[1]*Vr,0).invert,aAe(i,d,u,1),c={type:"Polygon",coordinates:[a]},a=s=null,c}return l.center=function(c){return arguments.length?(e=typeof c=="function"?c:Xx([+c[0],+c[1]]),l):e},l.radius=function(c){return arguments.length?(t=typeof c=="function"?c:Xx(+c),l):t},l.precision=function(c){return arguments.length?(r=typeof c=="function"?c:Xx(+c),l):r},l}function sAe(){var e=[],t;return{point:function(r,a,s){t.push([r,a,s])},lineStart:function(){e.push(t=[])},lineEnd:hs,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function pS(e,t){return Qn(e[0]-t[0])<zr&&Qn(e[1]-t[1])<zr}function P4(e,t,r,a){this.x=e,this.z=t,this.o=r,this.e=a,this.v=!1,this.n=this.p=null}function iAe(e,t,r,a,s){var i=[],o=[],l,c;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,x=p[0],g=p[m],v;if(pS(x,g)){if(!x[2]&&!g[2]){for(s.lineStart(),l=0;l<m;++l)s.point((x=p[l])[0],x[1]);s.lineEnd();return}g[0]+=2*zr}i.push(v=new P4(x,p,null,!0)),o.push(v.o=new P4(x,null,v,!1)),i.push(v=new P4(g,p,null,!1)),o.push(v.o=new P4(g,null,v,!0))}}),!!i.length){for(o.sort(t),TX(i),TX(o),l=0,c=o.length;l<c;++l)o[l].e=r=!r;for(var d=i[0],u,h;;){for(var f=d,A=!0;f.v;)if((f=f.n)===d)return;u=f.z,s.lineStart();do{if(f.v=f.o.v=!0,f.e){if(A)for(l=0,c=u.length;l<c;++l)s.point((h=u[l])[0],h[1]);else a(f.x,f.n.x,1,s);f=f.n}else{if(A)for(u=f.p.z,l=u.length-1;l>=0;--l)s.point((h=u[l])[0],h[1]);else a(f.x,f.p.x,-1,s);f=f.p}f=f.o,u=f.z,A=!A}while(!f.v);s.lineEnd()}}}function TX(e){if(t=e.length){for(var t,r=0,a=e[0],s;++r<t;)a.n=s=e[r],s.p=a,a=s;a.n=s=e[0],s.p=a}}function eT(e){return Qn(e[0])<=Sn?e[0]:id(e[0])*((Qn(e[0])+Sn)%hl-Sn)}function oAe(e,t){var r=eT(t),a=t[1],s=Nr(a),i=[Nr(r),-Or(r),0],o=0,l=0,c=new Fo;s===1?a=Es+zr:s===-1&&(a=-Es-zr);for(var d=0,u=e.length;d<u;++d)if(f=(h=e[d]).length)for(var h,f,A=h[f-1],p=eT(A),m=A[1]/2+eE,x=Nr(m),g=Or(m),v=0;v<f;++v,p=j,x=w,g=C,A=y){var y=h[v],j=eT(y),b=y[1]/2+eE,w=Nr(b),C=Or(b),F=j-p,E=F>=0?1:-1,L=E*F,N=L>Sn,I=x*w;if(c.add(fl(I*E*Nr(L),g*C+I*Or(L))),o+=N?F+E*hl:F,N^p>=r^j>=r){var M=my(K0(A),K0(y));iE(M);var O=my(i,M);iE(O);var k=(N^F>=0?-1:1)*Al(O[2]);(a>k||a===k&&(M[0]||M[1]))&&(l+=N^F>=0?1:-1)}}return(o<-zr||o<zr&&c<-N2)^l&1}function lAe(e,t,r,a){return function(s){var i=t(s),o=sAe(),l=t(o),c=!1,d,u,h,f={point:A,lineStart:m,lineEnd:x,polygonStart:function(){f.point=g,f.lineStart=v,f.lineEnd=y,u=[],d=[]},polygonEnd:function(){f.point=A,f.lineStart=m,f.lineEnd=x,u=zfe(u);var j=oAe(d,a);u.length?(c||(s.polygonStart(),c=!0),iAe(u,ppt,j,r,s)):j&&(c||(s.polygonStart(),c=!0),s.lineStart(),r(null,null,1,s),s.lineEnd()),c&&(s.polygonEnd(),c=!1),u=d=null},sphere:function(){s.polygonStart(),s.lineStart(),r(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function A(j,b){e(j,b)&&s.point(j,b)}function p(j,b){i.point(j,b)}function m(){f.point=p,i.lineStart()}function x(){f.point=A,i.lineEnd()}function g(j,b){h.push([j,b]),l.point(j,b)}function v(){l.lineStart(),h=[]}function y(){g(h[0][0],h[0][1]),l.lineEnd();var j=l.clean(),b=o.result(),w,C=b.length,F,E,L;if(h.pop(),d.push(h),h=null,!!C){if(j&1){if(E=b[0],(F=E.length-1)>0){for(c||(s.polygonStart(),c=!0),s.lineStart(),w=0;w<F;++w)s.point((L=E[w])[0],L[1]);s.lineEnd()}return}C>1&&j&2&&b.push(b.pop().concat(b.shift())),u.push(b.filter(mpt))}}return f}}function mpt(e){return e.length>1}function ppt(e,t){return((e=e.x)[0]<0?e[1]-Es-zr:Es-e[1])-((t=t.x)[0]<0?t[1]-Es-zr:Es-t[1])}const TD=lAe(function(){return!0},xpt,vpt,[-Sn,-Es]);function xpt(e){var t=NaN,r=NaN,a=NaN,s;return{lineStart:function(){e.lineStart(),s=1},point:function(i,o){var l=i>0?Sn:-Sn,c=Qn(i-t);Qn(c-Sn)<zr?(e.point(t,r=(r+o)/2>0?Es:-Es),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(i,r),s=0):a!==l&&c>=Sn&&(Qn(t-a)<zr&&(t-=a*zr),Qn(i-l)<zr&&(i-=l*zr),r=gpt(t,r,i,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(l,r),s=0),e.point(t=i,r=o),a=l},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-s}}}function gpt(e,t,r,a){var s,i,o=Nr(e-r);return Qn(o)>zr?i1((Nr(t)*(i=Or(a))*Nr(r)-Nr(a)*(s=Or(t))*Nr(e))/(s*i*o)):(t+a)/2}function vpt(e,t,r,a){var s;if(e==null)s=r*Es,a.point(-Sn,s),a.point(0,s),a.point(Sn,s),a.point(Sn,0),a.point(Sn,-s),a.point(0,-s),a.point(-Sn,-s),a.point(-Sn,0),a.point(-Sn,s);else if(Qn(e[0]-t[0])>zr){var i=e[0]<t[0]?Sn:-Sn;s=r*i/2,a.point(-i,s),a.point(0,s),a.point(i,s)}else a.point(t[0],t[1])}function cAe(e){var t=Or(e),r=6*Vr,a=t>0,s=Qn(t)>zr;function i(u,h,f,A){aAe(A,e,r,f,u,h)}function o(u,h){return Or(u)*Or(h)>t}function l(u){var h,f,A,p,m;return{lineStart:function(){p=A=!1,m=1},point:function(x,g){var v=[x,g],y,j=o(x,g),b=a?j?0:d(x,g):j?d(x+(x<0?Sn:-Sn),g):0;if(!h&&(p=A=j)&&u.lineStart(),j!==A&&(y=c(h,v),(!y||pS(h,y)||pS(v,y))&&(v[2]=1)),j!==A)m=0,j?(u.lineStart(),y=c(v,h),u.point(y[0],y[1])):(y=c(h,v),u.point(y[0],y[1],2),u.lineEnd()),h=y;else if(s&&h&&a^j){var w;!(b&f)&&(w=c(v,h,!0))&&(m=0,a?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}j&&(!h||!pS(h,v))&&u.point(v[0],v[1]),h=v,A=j,f=b},lineEnd:function(){A&&u.lineEnd(),h=null},clean:function(){return m|(p&&A)<<1}}}function c(u,h,f){var A=K0(u),p=K0(h),m=[1,0,0],x=my(A,p),g=B4(x,x),v=x[0],y=g-v*v;if(!y)return!f&&u;var j=t*g/y,b=-t*v/y,w=my(m,x),C=F4(m,j),F=F4(x,b);Z3(C,F);var E=w,L=B4(C,E),N=B4(E,E),I=L*L-N*(B4(C,C)-1);if(!(I<0)){var M=Ri(I),O=F4(E,(-L-M)/N);if(Z3(O,C),O=sE(O),!f)return O;var k=u[0],P=h[0],R=u[1],V=h[1],D;P<k&&(D=k,k=P,P=D);var Y=P-k,ne=Qn(Y-Sn)<zr,S=ne||Y<zr;if(!ne&&V<R&&(D=R,R=V,V=D),S?ne?R+V>0^O[1]<(Qn(O[0]-k)<zr?R:V):R<=O[1]&&O[1]<=V:Y>Sn^(k<=O[0]&&O[0]<=P)){var z=F4(E,(-L+M)/N);return Z3(z,C),[O,sE(z)]}}}function d(u,h){var f=a?e:Sn-e,A=0;return u<-f?A|=1:u>f&&(A|=2),h<-f?A|=4:h>f&&(A|=8),A}return lAe(o,l,i,a?[0,-e]:[-Sn,e-Sn])}function ypt(e,t,r,a,s,i){var o=e[0],l=e[1],c=t[0],d=t[1],u=0,h=1,f=c-o,A=d-l,p;if(p=r-o,!(!f&&p>0)){if(p/=f,f<0){if(p<u)return;p<h&&(h=p)}else if(f>0){if(p>h)return;p>u&&(u=p)}if(p=s-o,!(!f&&p<0)){if(p/=f,f<0){if(p>h)return;p>u&&(u=p)}else if(f>0){if(p<u)return;p<h&&(h=p)}if(p=a-l,!(!A&&p>0)){if(p/=A,A<0){if(p<u)return;p<h&&(h=p)}else if(A>0){if(p>h)return;p>u&&(u=p)}if(p=i-l,!(!A&&p<0)){if(p/=A,A<0){if(p>h)return;p>u&&(u=p)}else if(A>0){if(p<u)return;p<h&&(h=p)}return u>0&&(e[0]=o+u*f,e[1]=l+u*A),h<1&&(t[0]=o+h*f,t[1]=l+h*A),!0}}}}}var Dw=1e9,k4=-Dw;function MF(e,t,r,a){function s(d,u){return e<=d&&d<=r&&t<=u&&u<=a}function i(d,u,h,f){var A=0,p=0;if(d==null||(A=o(d,h))!==(p=o(u,h))||c(d,u)<0^h>0)do f.point(A===0||A===3?e:r,A>1?a:t);while((A=(A+h+4)%4)!==p);else f.point(u[0],u[1])}function o(d,u){return Qn(d[0]-e)<zr?u>0?0:3:Qn(d[0]-r)<zr?u>0?2:1:Qn(d[1]-t)<zr?u>0?1:0:u>0?3:2}function l(d,u){return c(d.x,u.x)}function c(d,u){var h=o(d,1),f=o(u,1);return h!==f?h-f:h===0?u[1]-d[1]:h===1?d[0]-u[0]:h===2?d[1]-u[1]:u[0]-d[0]}return function(d){var u=d,h=sAe(),f,A,p,m,x,g,v,y,j,b,w,C={point:F,lineStart:I,lineEnd:M,polygonStart:L,polygonEnd:N};function F(k,P){s(k,P)&&u.point(k,P)}function E(){for(var k=0,P=0,R=A.length;P<R;++P)for(var V=A[P],D=1,Y=V.length,ne=V[0],S,z,Q=ne[0],W=ne[1];D<Y;++D)S=Q,z=W,ne=V[D],Q=ne[0],W=ne[1],z<=a?W>a&&(Q-S)*(a-z)>(W-z)*(e-S)&&++k:W<=a&&(Q-S)*(a-z)<(W-z)*(e-S)&&--k;return k}function L(){u=h,f=[],A=[],w=!0}function N(){var k=E(),P=w&&k,R=(f=zfe(f)).length;(P||R)&&(d.polygonStart(),P&&(d.lineStart(),i(null,null,1,d),d.lineEnd()),R&&iAe(f,l,k,i,d),d.polygonEnd()),u=d,f=A=p=null}function I(){C.point=O,A&&A.push(p=[]),b=!0,j=!1,v=y=NaN}function M(){f&&(O(m,x),g&&j&&h.rejoin(),f.push(h.result())),C.point=F,j&&u.lineEnd()}function O(k,P){var R=s(k,P);if(A&&p.push([k,P]),b)m=k,x=P,g=R,b=!1,R&&(u.lineStart(),u.point(k,P));else if(R&&j)u.point(k,P);else{var V=[v=Math.max(k4,Math.min(Dw,v)),y=Math.max(k4,Math.min(Dw,y))],D=[k=Math.max(k4,Math.min(Dw,k)),P=Math.max(k4,Math.min(Dw,P))];ypt(V,D,e,t,r,a)?(j||(u.lineStart(),u.point(V[0],V[1])),u.point(D[0],D[1]),R||u.lineEnd(),w=!1):R&&(u.lineStart(),u.point(k,P),w=!1)}v=k,y=P,j=R}return C}}function wpt(){var e=0,t=0,r=960,a=500,s,i,o;return o={stream:function(l){return s&&i===l?s:s=MF(e,t,r,a)(i=l)},extent:function(l){return arguments.length?(e=+l[0][0],t=+l[0][1],r=+l[1][0],a=+l[1][1],s=i=null,o):[[e,t],[r,a]]}}}var ID,OD,xS,gS,py={sphere:hs,point:hs,lineStart:bpt,lineEnd:hs,polygonStart:hs,polygonEnd:hs};function bpt(){py.point=Npt,py.lineEnd=jpt}function jpt(){py.point=py.lineEnd=hs}function Npt(e,t){e*=Vr,t*=Vr,OD=e,xS=Nr(t),gS=Or(t),py.point=Cpt}function Cpt(e,t){e*=Vr,t*=Vr;var r=Nr(t),a=Or(t),s=Qn(e-OD),i=Or(s),o=Nr(s),l=a*o,c=gS*r-xS*a*i,d=xS*r+gS*a*i;ID.add(fl(Ri(l*l+c*c),d)),OD=e,xS=r,gS=a}function dAe(e){return ID=new Fo,qd(e,py),+ID}var DD=[null,null],Spt={type:"LineString",coordinates:DD};function AE(e,t){return DD[0]=e,DD[1]=t,dAe(Spt)}var IX={Feature:function(e,t){return mE(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,a=-1,s=r.length;++a<s;)if(mE(r[a].geometry,t))return!0;return!1}},OX={Sphere:function(){return!0},Point:function(e,t){return DX(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,a=-1,s=r.length;++a<s;)if(DX(r[a],t))return!0;return!1},LineString:function(e,t){return LX(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,a=-1,s=r.length;++a<s;)if(LX(r[a],t))return!0;return!1},Polygon:function(e,t){return RX(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,a=-1,s=r.length;++a<s;)if(RX(r[a],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,a=-1,s=r.length;++a<s;)if(mE(r[a],t))return!0;return!1}};function mE(e,t){return e&&OX.hasOwnProperty(e.type)?OX[e.type](e,t):!1}function DX(e,t){return AE(e,t)===0}function LX(e,t){for(var r,a,s,i=0,o=e.length;i<o;i++){if(a=AE(e[i],t),a===0||i>0&&(s=AE(e[i],e[i-1]),s>0&&r<=s&&a<=s&&(r+a-s)*(1-Math.pow((r-a)/s,2))<N2*s))return!0;r=a}return!1}function RX(e,t){return!!oAe(e.map(_pt),uAe(t))}function _pt(e){return e=e.map(uAe),e.pop(),e}function uAe(e){return[e[0]*Vr,e[1]*Vr]}function Ept(e,t){return(e&&IX.hasOwnProperty(e.type)?IX[e.type]:mE)(e,t)}function MX(e,t,r){var a=_g(e,t-zr,r).concat(t);return function(s){return a.map(function(i){return[s,i]})}}function UX(e,t,r){var a=_g(e,t-zr,r).concat(t);return function(s){return a.map(function(i){return[i,s]})}}function CU(){var e,t,r,a,s,i,o,l,c=10,d=c,u=90,h=360,f,A,p,m,x=2.5;function g(){return{type:"MultiLineString",coordinates:v()}}function v(){return _g(E4(a/u)*u,r,u).map(p).concat(_g(E4(l/h)*h,o,h).map(m)).concat(_g(E4(t/c)*c,e,c).filter(function(y){return Qn(y%u)>zr}).map(f)).concat(_g(E4(i/d)*d,s,d).filter(function(y){return Qn(y%h)>zr}).map(A))}return g.lines=function(){return v().map(function(y){return{type:"LineString",coordinates:y}})},g.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(m(o).slice(1),p(r).reverse().slice(1),m(l).reverse().slice(1))]}},g.extent=function(y){return arguments.length?g.extentMajor(y).extentMinor(y):g.extentMinor()},g.extentMajor=function(y){return arguments.length?(a=+y[0][0],r=+y[1][0],l=+y[0][1],o=+y[1][1],a>r&&(y=a,a=r,r=y),l>o&&(y=l,l=o,o=y),g.precision(x)):[[a,l],[r,o]]},g.extentMinor=function(y){return arguments.length?(t=+y[0][0],e=+y[1][0],i=+y[0][1],s=+y[1][1],t>e&&(y=t,t=e,e=y),i>s&&(y=i,i=s,s=y),g.precision(x)):[[t,i],[e,s]]},g.step=function(y){return arguments.length?g.stepMajor(y).stepMinor(y):g.stepMinor()},g.stepMajor=function(y){return arguments.length?(u=+y[0],h=+y[1],g):[u,h]},g.stepMinor=function(y){return arguments.length?(c=+y[0],d=+y[1],g):[c,d]},g.precision=function(y){return arguments.length?(x=+y,f=MX(i,s,90),A=UX(t,e,x),p=MX(l,o,90),m=UX(a,r,x),g):x},g.extentMajor([[-180,-90+zr],[180,90-zr]]).extentMinor([[-180,-80-zr],[180,80+zr]])}function Bpt(){return CU()()}function Fpt(e,t){var r=e[0]*Vr,a=e[1]*Vr,s=t[0]*Vr,i=t[1]*Vr,o=Or(a),l=Nr(a),c=Or(i),d=Nr(i),u=o*Or(r),h=o*Nr(r),f=c*Or(s),A=c*Nr(s),p=2*Al(Ri(yX(i-a)+o*c*yX(s-r))),m=Nr(p),x=p?function(g){var v=Nr(g*=p)/m,y=Nr(p-g)/m,j=y*u+v*f,b=y*h+v*A,w=y*l+v*d;return[fl(b,j)*Fa,fl(w,Ri(j*j+b*b))*Fa]}:function(){return[r*Fa,a*Fa]};return x.distance=p,x}const C2=e=>e;var tT=new Fo,LD=new Fo,hAe,fAe,RD,MD,df={point:hs,lineStart:hs,lineEnd:hs,polygonStart:function(){df.lineStart=Ppt,df.lineEnd=Tpt},polygonEnd:function(){df.lineStart=df.lineEnd=df.point=hs,tT.add(Qn(LD)),LD=new Fo},result:function(){var e=tT/2;return tT=new Fo,e}};function Ppt(){df.point=kpt}function kpt(e,t){df.point=AAe,hAe=RD=e,fAe=MD=t}function AAe(e,t){LD.add(MD*e-RD*t),RD=e,MD=t}function Tpt(){AAe(hAe,fAe)}var xy=1/0,pE=xy,S2=-xy,xE=S2,gE={point:Ipt,lineStart:hs,lineEnd:hs,polygonStart:hs,polygonEnd:hs,result:function(){var e=[[xy,pE],[S2,xE]];return S2=xE=-(pE=xy=1/0),e}};function Ipt(e,t){e<xy&&(xy=e),e>S2&&(S2=e),t<pE&&(pE=t),t>xE&&(xE=t)}var UD=0,QD=0,Lw=0,vE=0,yE=0,Eg=0,$D=0,HD=0,Rw=0,mAe,pAe,Wu,Gu,Zc={point:q0,lineStart:QX,lineEnd:$X,polygonStart:function(){Zc.lineStart=Lpt,Zc.lineEnd=Rpt},polygonEnd:function(){Zc.point=q0,Zc.lineStart=QX,Zc.lineEnd=$X},result:function(){var e=Rw?[$D/Rw,HD/Rw]:Eg?[vE/Eg,yE/Eg]:Lw?[UD/Lw,QD/Lw]:[NaN,NaN];return UD=QD=Lw=vE=yE=Eg=$D=HD=Rw=0,e}};function q0(e,t){UD+=e,QD+=t,++Lw}function QX(){Zc.point=Opt}function Opt(e,t){Zc.point=Dpt,q0(Wu=e,Gu=t)}function Dpt(e,t){var r=e-Wu,a=t-Gu,s=Ri(r*r+a*a);vE+=s*(Wu+e)/2,yE+=s*(Gu+t)/2,Eg+=s,q0(Wu=e,Gu=t)}function $X(){Zc.point=q0}function Lpt(){Zc.point=Mpt}function Rpt(){xAe(mAe,pAe)}function Mpt(e,t){Zc.point=xAe,q0(mAe=Wu=e,pAe=Gu=t)}function xAe(e,t){var r=e-Wu,a=t-Gu,s=Ri(r*r+a*a);vE+=s*(Wu+e)/2,yE+=s*(Gu+t)/2,Eg+=s,s=Gu*e-Wu*t,$D+=s*(Wu+e),HD+=s*(Gu+t),Rw+=s*3,q0(Wu=e,Gu=t)}function gAe(e){this._context=e}gAe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,hl);break}}},result:hs};var zD=new Fo,rT,vAe,yAe,Mw,Uw,_2={point:hs,lineStart:function(){_2.point=Upt},lineEnd:function(){rT&&wAe(vAe,yAe),_2.point=hs},polygonStart:function(){rT=!0},polygonEnd:function(){rT=null},result:function(){var e=+zD;return zD=new Fo,e}};function Upt(e,t){_2.point=wAe,vAe=Mw=e,yAe=Uw=t}function wAe(e,t){Mw-=e,Uw-=t,zD.add(Ri(Mw*Mw+Uw*Uw)),Mw=e,Uw=t}function bAe(){this._string=[]}bAe.prototype={_radius:4.5,_circle:HX(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=HX(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function HX(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function jAe(e,t){var r=4.5,a,s;function i(o){return o&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),qd(o,a(s))),s.result()}return i.area=function(o){return qd(o,a(df)),df.result()},i.measure=function(o){return qd(o,a(_2)),_2.result()},i.bounds=function(o){return qd(o,a(gE)),gE.result()},i.centroid=function(o){return qd(o,a(Zc)),Zc.result()},i.projection=function(o){return arguments.length?(a=o==null?(e=null,C2):(e=o).stream,i):e},i.context=function(o){return arguments.length?(s=o==null?(t=null,new bAe):new gAe(t=o),typeof r!="function"&&s.pointRadius(r),i):t},i.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(s.pointRadius(+o),+o),i):r},i.projection(e).context(t)}function Qpt(e){return{stream:yN(e)}}function yN(e){return function(t){var r=new VD;for(var a in e)r[a]=e[a];return r.stream=t,r}}function VD(){}VD.prototype={constructor:VD,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function SU(e,t,r){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),qd(r,e.stream(gE)),t(gE.result()),a!=null&&e.clipExtent(a),e}function UF(e,t,r){return SU(e,function(a){var s=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(s/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),l=+t[0][0]+(s-o*(a[1][0]+a[0][0]))/2,c=+t[0][1]+(i-o*(a[1][1]+a[0][1]))/2;e.scale(150*o).translate([l,c])},r)}function _U(e,t,r){return UF(e,[[0,0],t],r)}function EU(e,t,r){return SU(e,function(a){var s=+t,i=s/(a[1][0]-a[0][0]),o=(s-i*(a[1][0]+a[0][0]))/2,l=-i*a[0][1];e.scale(150*i).translate([o,l])},r)}function BU(e,t,r){return SU(e,function(a){var s=+t,i=s/(a[1][1]-a[0][1]),o=-i*a[0][0],l=(s-i*(a[1][1]+a[0][1]))/2;e.scale(150*i).translate([o,l])},r)}var zX=16,$pt=Or(30*Vr);function VX(e,t){return+t?zpt(e,t):Hpt(e)}function Hpt(e){return yN({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function zpt(e,t){function r(a,s,i,o,l,c,d,u,h,f,A,p,m,x){var g=d-a,v=u-s,y=g*g+v*v;if(y>4*t&&m--){var j=o+f,b=l+A,w=c+p,C=Ri(j*j+b*b+w*w),F=Al(w/=C),E=Qn(Qn(w)-1)<zr||Qn(i-h)<zr?(i+h)/2:fl(b,j),L=e(E,F),N=L[0],I=L[1],M=N-a,O=I-s,k=v*M-g*O;(k*k/y>t||Qn((g*M+v*O)/y-.5)>.3||o*f+l*A+c*p<$pt)&&(r(a,s,i,o,l,c,N,I,E,j/=C,b/=C,w,m,x),x.point(N,I),r(N,I,E,j,b,w,d,u,h,f,A,p,m,x))}}return function(a){var s,i,o,l,c,d,u,h,f,A,p,m,x={point:g,lineStart:v,lineEnd:j,polygonStart:function(){a.polygonStart(),x.lineStart=b},polygonEnd:function(){a.polygonEnd(),x.lineStart=v}};function g(F,E){F=e(F,E),a.point(F[0],F[1])}function v(){h=NaN,x.point=y,a.lineStart()}function y(F,E){var L=K0([F,E]),N=e(F,E);r(h,f,u,A,p,m,h=N[0],f=N[1],u=F,A=L[0],p=L[1],m=L[2],zX,a),a.point(h,f)}function j(){x.point=g,a.lineEnd()}function b(){v(),x.point=w,x.lineEnd=C}function w(F,E){y(s=F,E),i=h,o=f,l=A,c=p,d=m,x.point=y}function C(){r(h,f,u,A,p,m,i,o,s,l,c,d,zX,a),x.lineEnd=j,j()}return x}}var Vpt=yN({point:function(e,t){this.stream.point(e*Vr,t*Vr)}});function Kpt(e){return yN({point:function(t,r){var a=e(t,r);return this.stream.point(a[0],a[1])}})}function qpt(e,t,r,a,s){function i(o,l){return o*=a,l*=s,[t+e*o,r-e*l]}return i.invert=function(o,l){return[(o-t)/e*a,(r-l)/e*s]},i}function KX(e,t,r,a,s,i){if(!i)return qpt(e,t,r,a,s);var o=Or(i),l=Nr(i),c=o*e,d=l*e,u=o/e,h=l/e,f=(l*r-o*t)/e,A=(l*t+o*r)/e;function p(m,x){return m*=a,x*=s,[c*m-d*x+t,r-d*m-c*x]}return p.invert=function(m,x){return[a*(u*m-h*x+f),s*(A-h*m-u*x)]},p}function kh(e){return FU(function(){return e})()}function FU(e){var t,r=150,a=480,s=250,i=0,o=0,l=0,c=0,d=0,u,h=0,f=1,A=1,p=null,m=TD,x=null,g,v,y,j=C2,b=.5,w,C,F,E,L;function N(k){return F(k[0]*Vr,k[1]*Vr)}function I(k){return k=F.invert(k[0],k[1]),k&&[k[0]*Fa,k[1]*Fa]}N.stream=function(k){return E&&L===k?E:E=Vpt(Kpt(u)(m(w(j(L=k)))))},N.preclip=function(k){return arguments.length?(m=k,p=void 0,O()):m},N.postclip=function(k){return arguments.length?(j=k,x=g=v=y=null,O()):j},N.clipAngle=function(k){return arguments.length?(m=+k?cAe(p=k*Vr):(p=null,TD),O()):p*Fa},N.clipExtent=function(k){return arguments.length?(j=k==null?(x=g=v=y=null,C2):MF(x=+k[0][0],g=+k[0][1],v=+k[1][0],y=+k[1][1]),O()):x==null?null:[[x,g],[v,y]]},N.scale=function(k){return arguments.length?(r=+k,M()):r},N.translate=function(k){return arguments.length?(a=+k[0],s=+k[1],M()):[a,s]},N.center=function(k){return arguments.length?(i=k[0]%360*Vr,o=k[1]%360*Vr,M()):[i*Fa,o*Fa]},N.rotate=function(k){return arguments.length?(l=k[0]%360*Vr,c=k[1]%360*Vr,d=k.length>2?k[2]%360*Vr:0,M()):[l*Fa,c*Fa,d*Fa]},N.angle=function(k){return arguments.length?(h=k%360*Vr,M()):h*Fa},N.reflectX=function(k){return arguments.length?(f=k?-1:1,M()):f<0},N.reflectY=function(k){return arguments.length?(A=k?-1:1,M()):A<0},N.precision=function(k){return arguments.length?(w=VX(C,b=k*k),O()):Ri(b)},N.fitExtent=function(k,P){return UF(N,k,P)},N.fitSize=function(k,P){return _U(N,k,P)},N.fitWidth=function(k,P){return EU(N,k,P)},N.fitHeight=function(k,P){return BU(N,k,P)};function M(){var k=KX(r,0,0,f,A,h).apply(null,t(i,o)),P=KX(r,a-k[0],s-k[1],f,A,h);return u=NU(l,c,d),C=PD(t,P),F=PD(u,C),w=VX(C,b),O()}function O(){return E=L=null,N}return function(){return t=e.apply(this,arguments),N.invert=t.invert&&I,M()}}function PU(e){var t=0,r=Sn/3,a=FU(e),s=a(t,r);return s.parallels=function(i){return arguments.length?a(t=i[0]*Vr,r=i[1]*Vr):[t*Fa,r*Fa]},s}function Wpt(e){var t=Or(e);function r(a,s){return[a*t,Nr(s)/t]}return r.invert=function(a,s){return[a/t,Al(s*t)]},r}function NAe(e,t){var r=Nr(e),a=(r+Nr(t))/2;if(Qn(a)<zr)return Wpt(e);var s=1+r*(2*a-r),i=Ri(s)/a;function o(l,c){var d=Ri(s-2*a*Nr(c))/a;return[d*Nr(l*=a),i-d*Or(l)]}return o.invert=function(l,c){var d=i-c,u=fl(l,Qn(d))*id(d);return d*a<0&&(u-=Sn*id(l)*id(d)),[u/a,Al((s-(l*l+d*d)*a*a)/(2*a))]},o}function wE(){return PU(NAe).scale(155.424).center([0,33.6442])}function CAe(){return wE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Gpt(e){var t=e.length;return{point:function(r,a){for(var s=-1;++s<t;)e[s].point(r,a)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function Xpt(){var e,t,r=CAe(),a,s=wE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=wE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,c,d={point:function(f,A){c=[f,A]}};function u(f){var A=f[0],p=f[1];return c=null,a.point(A,p),c||(i.point(A,p),c)||(l.point(A,p),c)}u.invert=function(f){var A=r.scale(),p=r.translate(),m=(f[0]-p[0])/A,x=(f[1]-p[1])/A;return(x>=.12&&x<.234&&m>=-.425&&m<-.214?s:x>=.166&&x<.234&&m>=-.214&&m<-.115?o:r).invert(f)},u.stream=function(f){return e&&t===f?e:e=Gpt([r.stream(t=f),s.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(r.precision(f),s.precision(f),o.precision(f),h()):r.precision()},u.scale=function(f){return arguments.length?(r.scale(f),s.scale(f*.35),o.scale(f),u.translate(r.translate())):r.scale()},u.translate=function(f){if(!arguments.length)return r.translate();var A=r.scale(),p=+f[0],m=+f[1];return a=r.translate(f).clipExtent([[p-.455*A,m-.238*A],[p+.455*A,m+.238*A]]).stream(d),i=s.translate([p-.307*A,m+.201*A]).clipExtent([[p-.425*A+zr,m+.12*A+zr],[p-.214*A-zr,m+.234*A-zr]]).stream(d),l=o.translate([p-.205*A,m+.212*A]).clipExtent([[p-.214*A+zr,m+.166*A+zr],[p-.115*A-zr,m+.234*A-zr]]).stream(d),h()},u.fitExtent=function(f,A){return UF(u,f,A)},u.fitSize=function(f,A){return _U(u,f,A)},u.fitWidth=function(f,A){return EU(u,f,A)},u.fitHeight=function(f,A){return BU(u,f,A)};function h(){return e=t=null,u}return u.scale(1070)}function SAe(e){return function(t,r){var a=Or(t),s=Or(r),i=e(a*s);return i===1/0?[2,0]:[i*s*Nr(t),i*Nr(r)]}}function wN(e){return function(t,r){var a=Ri(t*t+r*r),s=e(a),i=Nr(s),o=Or(s);return[fl(t*i,a*o),Al(a&&r*i/a)]}}var kU=SAe(function(e){return Ri(2/(1+e))});kU.invert=wN(function(e){return 2*Al(e/2)});function Ypt(){return kh(kU).scale(124.75).clipAngle(180-.001)}var TU=SAe(function(e){return(e=Kfe(e))&&e/Nr(e)});TU.invert=wN(function(e){return e});function Jpt(){return kh(TU).scale(79.4188).clipAngle(180-.001)}function bN(e,t){return[e,tE(bU((Es+t)/2))]}bN.invert=function(e,t){return[e,2*i1(Vfe(t))-Es]};function Zpt(){return _Ae(bN).scale(961/hl)}function _Ae(e){var t=kh(e),r=t.center,a=t.scale,s=t.translate,i=t.clipExtent,o=null,l,c,d;t.scale=function(h){return arguments.length?(a(h),u()):a()},t.translate=function(h){return arguments.length?(s(h),u()):s()},t.center=function(h){return arguments.length?(r(h),u()):r()},t.clipExtent=function(h){return arguments.length?(h==null?o=l=c=d=null:(o=+h[0][0],l=+h[0][1],c=+h[1][0],d=+h[1][1]),u()):o==null?null:[[o,l],[c,d]]};function u(){var h=Sn*a(),f=t(nAe(t.rotate()).invert([0,0]));return i(o==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:e===bN?[[Math.max(f[0]-h,o),l],[Math.min(f[0]+h,c),d]]:[[o,Math.max(f[1]-h,l)],[c,Math.min(f[1]+h,d)]])}return u()}function T4(e){return bU((Es+e)/2)}function EAe(e,t){var r=Or(e),a=e===t?Nr(e):tE(r/Or(t))/tE(T4(t)/T4(e)),s=r*J3(T4(e),a)/a;if(!a)return bN;function i(o,l){s>0?l<-Es+zr&&(l=-Es+zr):l>Es-zr&&(l=Es-zr);var c=s/J3(T4(l),a);return[c*Nr(a*o),s-c*Or(a*o)]}return i.invert=function(o,l){var c=s-l,d=id(a)*Ri(o*o+c*c),u=fl(o,Qn(c))*id(c);return c*a<0&&(u-=Sn*id(o)*id(c)),[u/a,2*i1(J3(s/d,1/a))-Es]},i}function e0t(){return PU(EAe).scale(109.5).parallels([30,30])}function E2(e,t){return[e,t]}E2.invert=E2;function t0t(){return kh(E2).scale(152.63)}function BAe(e,t){var r=Or(e),a=e===t?Nr(e):(r-Or(t))/(t-e),s=r/a+e;if(Qn(a)<zr)return E2;function i(o,l){var c=s-l,d=a*o;return[c*Nr(d),s-c*Or(d)]}return i.invert=function(o,l){var c=s-l,d=fl(o,Qn(c))*id(c);return c*a<0&&(d-=Sn*id(o)*id(c)),[d/a,s-id(a)*Ri(o*o+c*c)]},i}function r0t(){return PU(BAe).scale(131.154).center([0,13.9389])}var Pb=1.340264,kb=-.081106,Tb=893e-6,Ib=.003796,bE=Ri(3)/2,n0t=12;function IU(e,t){var r=Al(bE*Nr(t)),a=r*r,s=a*a*a;return[e*Or(r)/(bE*(Pb+3*kb*a+s*(7*Tb+9*Ib*a))),r*(Pb+kb*a+s*(Tb+Ib*a))]}IU.invert=function(e,t){for(var r=t,a=r*r,s=a*a*a,i=0,o,l,c;i<n0t&&(l=r*(Pb+kb*a+s*(Tb+Ib*a))-t,c=Pb+3*kb*a+s*(7*Tb+9*Ib*a),r-=o=l/c,a=r*r,s=a*a*a,!(Qn(o)<N2));++i);return[bE*e*(Pb+3*kb*a+s*(7*Tb+9*Ib*a))/Or(r),Al(Nr(r)/bE)]};function a0t(){return kh(IU).scale(177.158)}function OU(e,t){var r=Or(t),a=Or(e)*r;return[r*Nr(e)/a,Nr(t)/a]}OU.invert=wN(i1);function s0t(){return kh(OU).scale(144.049).clipAngle(60)}function i0t(){var e=1,t=0,r=0,a=1,s=1,i=0,o,l,c=null,d,u,h,f=1,A=1,p=yN({point:function(j,b){var w=y([j,b]);this.stream.point(w[0],w[1])}}),m=C2,x,g;function v(){return f=e*a,A=e*s,x=g=null,y}function y(j){var b=j[0]*f,w=j[1]*A;if(i){var C=w*o-b*l;b=b*o+w*l,w=C}return[b+t,w+r]}return y.invert=function(j){var b=j[0]-t,w=j[1]-r;if(i){var C=w*o+b*l;b=b*o-w*l,w=C}return[b/f,w/A]},y.stream=function(j){return x&&g===j?x:x=p(m(g=j))},y.postclip=function(j){return arguments.length?(m=j,c=d=u=h=null,v()):m},y.clipExtent=function(j){return arguments.length?(m=j==null?(c=d=u=h=null,C2):MF(c=+j[0][0],d=+j[0][1],u=+j[1][0],h=+j[1][1]),v()):c==null?null:[[c,d],[u,h]]},y.scale=function(j){return arguments.length?(e=+j,v()):e},y.translate=function(j){return arguments.length?(t=+j[0],r=+j[1],v()):[t,r]},y.angle=function(j){return arguments.length?(i=j%360*Vr,l=Nr(i),o=Or(i),v()):i*Fa},y.reflectX=function(j){return arguments.length?(a=j?-1:1,v()):a<0},y.reflectY=function(j){return arguments.length?(s=j?-1:1,v()):s<0},y.fitExtent=function(j,b){return UF(y,j,b)},y.fitSize=function(j,b){return _U(y,j,b)},y.fitWidth=function(j,b){return EU(y,j,b)},y.fitHeight=function(j,b){return BU(y,j,b)},y}function DU(e,t){var r=t*t,a=r*r;return[e*(.8707-.131979*r+a*(-.013791+a*(.003971*r-.001529*a))),t*(1.007226+r*(.015085+a*(-.044475+.028874*r-.005916*a)))]}DU.invert=function(e,t){var r=t,a=25,s;do{var i=r*r,o=i*i;r-=s=(r*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-t)/(1.007226+i*(.015085*3+o*(-.044475*7+.028874*9*i-.005916*11*o)))}while(Qn(s)>zr&&--a>0);return[e/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]};function o0t(){return kh(DU).scale(175.295)}function LU(e,t){return[Or(t)*Nr(e),Nr(t)]}LU.invert=wN(Al);function l0t(){return kh(LU).scale(249.5).clipAngle(90+zr)}function RU(e,t){var r=Or(t),a=1+Or(e)*r;return[r*Nr(e)/a,Nr(t)/a]}RU.invert=wN(function(e){return 2*i1(e)});function c0t(){return kh(RU).scale(250).clipAngle(142)}function MU(e,t){return[tE(bU((Es+t)/2)),-e]}MU.invert=function(e,t){return[-t,2*i1(Vfe(e))-Es]};function d0t(){var e=_Ae(MU),t=e.center,r=e.rotate;return e.center=function(a){return arguments.length?t([-a[1],a[0]]):(a=t(),[a[1],-a[0]])},e.rotate=function(a){return arguments.length?r([a[0],a[1],a.length>2?a[2]+90:90]):(a=r(),[a[0],a[1],a[2]-90])},r([0,0,90]).scale(159.155)}const u0t=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:CAe,geoAlbersUsa:Xpt,geoArea:npt,geoAzimuthalEqualArea:Ypt,geoAzimuthalEqualAreaRaw:kU,geoAzimuthalEquidistant:Jpt,geoAzimuthalEquidistantRaw:TU,geoBounds:opt,geoCentroid:fpt,geoCircle:Apt,geoClipAntimeridian:TD,geoClipCircle:cAe,geoClipExtent:wpt,geoClipRectangle:MF,geoConicConformal:e0t,geoConicConformalRaw:EAe,geoConicEqualArea:wE,geoConicEqualAreaRaw:NAe,geoConicEquidistant:r0t,geoConicEquidistantRaw:BAe,geoContains:Ept,geoDistance:AE,geoEqualEarth:a0t,geoEqualEarthRaw:IU,geoEquirectangular:t0t,geoEquirectangularRaw:E2,geoGnomonic:s0t,geoGnomonicRaw:OU,geoGraticule:CU,geoGraticule10:Bpt,geoIdentity:i0t,geoInterpolate:Fpt,geoLength:dAe,geoMercator:Zpt,geoMercatorRaw:bN,geoNaturalEarth1:o0t,geoNaturalEarth1Raw:DU,geoOrthographic:l0t,geoOrthographicRaw:LU,geoPath:jAe,geoProjection:kh,geoProjectionMutator:FU,geoRotation:nAe,geoStereographic:c0t,geoStereographicRaw:RU,geoStream:qd,geoTransform:Qpt,geoTransverseMercator:d0t,geoTransverseMercatorRaw:MU},Symbol.toStringTag,{value:"Module"}));function h0t(e){return e}function f0t(e){if(e==null)return h0t;var t,r,a=e.scale[0],s=e.scale[1],i=e.translate[0],o=e.translate[1];return function(l,c){c||(t=r=0);var d=2,u=l.length,h=new Array(u);for(h[0]=(t+=l[0])*a+i,h[1]=(r+=l[1])*s+o;d<u;)h[d]=l[d],++d;return h}}function A0t(e,t){for(var r,a=e.length,s=a-t;s<--a;)r=e[s],e[s++]=e[a],e[a]=r}function m0t(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return qX(e,r)})}:qX(e,t)}function qX(e,t){var r=t.id,a=t.bbox,s=t.properties==null?{}:t.properties,i=FAe(e,t);return r==null&&a==null?{type:"Feature",properties:s,geometry:i}:a==null?{type:"Feature",id:r,properties:s,geometry:i}:{type:"Feature",id:r,bbox:a,properties:s,geometry:i}}function FAe(e,t){var r=f0t(e.transform),a=e.arcs;function s(u,h){h.length&&h.pop();for(var f=a[u<0?~u:u],A=0,p=f.length;A<p;++A)h.push(r(f[A],A));u<0&&A0t(h,p)}function i(u){return r(u)}function o(u){for(var h=[],f=0,A=u.length;f<A;++f)s(u[f],h);return h.length<2&&h.push(h[0]),h}function l(u){for(var h=o(u);h.length<4;)h.push(h[0]);return h}function c(u){return u.map(l)}function d(u){var h=u.type,f;switch(h){case"GeometryCollection":return{type:h,geometries:u.geometries.map(d)};case"Point":f=i(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(i);break;case"LineString":f=o(u.arcs);break;case"MultiLineString":f=u.arcs.map(o);break;case"Polygon":f=c(u.arcs);break;case"MultiPolygon":f=u.arcs.map(c);break;default:return null}return{type:h,coordinates:f}}return d(t)}function p0t(e,t){var r={},a={},s={},i=[],o=-1;t.forEach(function(d,u){var h=e.arcs[d<0?~d:d],f;h.length<3&&!h[1][0]&&!h[1][1]&&(f=t[++o],t[o]=d,t[u]=f)}),t.forEach(function(d){var u=l(d),h=u[0],f=u[1],A,p;if(A=s[h])if(delete s[A.end],A.push(d),A.end=f,p=a[f]){delete a[p.start];var m=p===A?A:A.concat(p);a[m.start=A.start]=s[m.end=p.end]=m}else a[A.start]=s[A.end]=A;else if(A=a[f])if(delete a[A.start],A.unshift(d),A.start=h,p=s[h]){delete s[p.end];var x=p===A?A:p.concat(A);a[x.start=p.start]=s[x.end=A.end]=x}else a[A.start]=s[A.end]=A;else A=[d],a[A.start=h]=s[A.end=f]=A});function l(d){var u=e.arcs[d<0?~d:d],h=u[0],f;return e.transform?(f=[0,0],u.forEach(function(A){f[0]+=A[0],f[1]+=A[1]})):f=u[u.length-1],d<0?[f,h]:[h,f]}function c(d,u){for(var h in d){var f=d[h];delete u[f.start],delete f.start,delete f.end,f.forEach(function(A){r[A<0?~A:A]=1}),i.push(f)}}return c(s,a),c(a,s),t.forEach(function(d){r[d<0?~d:d]||i.push([d])}),i}function WX(e){return FAe(e,x0t.apply(this,arguments))}function x0t(e,t,r){var a,s,i;if(arguments.length>1)a=g0t(e,t,r);else for(s=0,a=new Array(i=e.arcs.length);s<i;++s)a[s]=s;return{type:"MultiLineString",arcs:p0t(e,a)}}function g0t(e,t,r){var a=[],s=[],i;function o(h){var f=h<0?~h:h;(s[f]||(s[f]=[])).push({i:h,g:i})}function l(h){h.forEach(o)}function c(h){h.forEach(l)}function d(h){h.forEach(c)}function u(h){switch(i=h,h.type){case"GeometryCollection":h.geometries.forEach(u);break;case"LineString":l(h.arcs);break;case"MultiLineString":case"Polygon":c(h.arcs);break;case"MultiPolygon":d(h.arcs);break}}return u(t),s.forEach(r==null?function(h){a.push(h[0].i)}:function(h){r(h[0].g,h[h.length-1].g)&&a.push(h[0].i)}),a}var v0t={value:()=>{}};function UU(){for(var e=0,t=arguments.length,r={},a;e<t;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new vS(r)}function vS(e){this._=e}function y0t(e,t){return e.trim().split(/^|\s+/).map(function(r){var a="",s=r.indexOf(".");if(s>=0&&(a=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}vS.prototype=UU.prototype={constructor:vS,on:function(e,t){var r=this._,a=y0t(e+"",r),s,i=-1,o=a.length;if(arguments.length<2){for(;++i<o;)if((s=(e=a[i]).type)&&(s=w0t(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=a[i]).type)r[s]=GX(r[s],e.name,t);else if(t==null)for(s in r)r[s]=GX(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new vS(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),a=0,s,i;a<s;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],a=0,s=i.length;a<s;++a)i[a].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],s=0,i=a.length;s<i;++s)a[s].value.apply(t,r)}};function w0t(e,t){for(var r=0,a=e.length,s;r<a;++r)if((s=e[r]).name===t)return s.value}function GX(e,t,r){for(var a=0,s=e.length;a<s;++a)if(e[a].name===t){e[a]=v0t,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:t,value:r}),e}var KD="http://www.w3.org/1999/xhtml";const XX={svg:"http://www.w3.org/2000/svg",xhtml:KD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function QF(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),XX.hasOwnProperty(t)?{space:XX[t],local:e}:e}function b0t(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===KD&&t.documentElement.namespaceURI===KD?t.createElement(e):t.createElementNS(r,e)}}function j0t(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function PAe(e){var t=QF(e);return(t.local?j0t:b0t)(t)}function N0t(){}function QU(e){return e==null?N0t:function(){return this.querySelector(e)}}function C0t(e){typeof e!="function"&&(e=QU(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=a[s]=new Array(o),c,d,u=0;u<o;++u)(c=i[u])&&(d=e.call(c,c.__data__,u,i))&&("__data__"in c&&(d.__data__=c.__data__),l[u]=d);return new Ml(a,this._parents)}function kAe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S0t(){return[]}function TAe(e){return e==null?S0t:function(){return this.querySelectorAll(e)}}function _0t(e){return function(){var t=e.apply(this,arguments);return t==null?[]:kAe(t)}}function E0t(e){typeof e=="function"?e=_0t(e):e=TAe(e);for(var t=this._groups,r=t.length,a=[],s=[],i=0;i<r;++i)for(var o=t[i],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(a.push(e.call(c,c.__data__,d,o)),s.push(c));return new Ml(a,s)}function IAe(e){return function(){return this.matches(e)}}function OAe(e){return function(t){return t.matches(e)}}var B0t=Array.prototype.find;function F0t(e){return function(){return B0t.call(this.children,e)}}function P0t(){return this.firstElementChild}function k0t(e){return this.select(e==null?P0t:F0t(typeof e=="function"?e:OAe(e)))}var T0t=Array.prototype.filter;function I0t(){return this.children}function O0t(e){return function(){return T0t.call(this.children,e)}}function D0t(e){return this.selectAll(e==null?I0t:O0t(typeof e=="function"?e:OAe(e)))}function L0t(e){typeof e!="function"&&(e=IAe(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=a[s]=[],c,d=0;d<o;++d)(c=i[d])&&e.call(c,c.__data__,d,i)&&l.push(c);return new Ml(a,this._parents)}function DAe(e){return new Array(e.length)}function R0t(){return new Ml(this._enter||this._groups.map(DAe),this._parents)}function jE(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}jE.prototype={constructor:jE,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function M0t(e){return function(){return e}}function U0t(e,t,r,a,s,i){for(var o=0,l,c=t.length,d=i.length;o<d;++o)(l=t[o])?(l.__data__=i[o],a[o]=l):r[o]=new jE(e,i[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function Q0t(e,t,r,a,s,i,o){var l,c,d=new Map,u=t.length,h=i.length,f=new Array(u),A;for(l=0;l<u;++l)(c=t[l])&&(f[l]=A=o.call(c,c.__data__,l,t)+"",d.has(A)?s[l]=c:d.set(A,c));for(l=0;l<h;++l)A=o.call(e,i[l],l,i)+"",(c=d.get(A))?(a[l]=c,c.__data__=i[l],d.delete(A)):r[l]=new jE(e,i[l]);for(l=0;l<u;++l)(c=t[l])&&d.get(f[l])===c&&(s[l]=c)}function $0t(e){return e.__data__}function H0t(e,t){if(!arguments.length)return Array.from(this,$0t);var r=t?Q0t:U0t,a=this._parents,s=this._groups;typeof e!="function"&&(e=M0t(e));for(var i=s.length,o=new Array(i),l=new Array(i),c=new Array(i),d=0;d<i;++d){var u=a[d],h=s[d],f=h.length,A=kAe(e.call(u,u&&u.__data__,d,a)),p=A.length,m=l[d]=new Array(p),x=o[d]=new Array(p),g=c[d]=new Array(f);r(u,h,m,x,g,A,t);for(var v=0,y=0,j,b;v<p;++v)if(j=m[v]){for(v>=y&&(y=v+1);!(b=x[y])&&++y<p;);j._next=b||null}}return o=new Ml(o,a),o._enter=l,o._exit=c,o}function z0t(){return new Ml(this._exit||this._groups.map(DAe),this._parents)}function V0t(e,t,r){var a=this.enter(),s=this,i=this.exit();return a=typeof e=="function"?e(a):a.append(e+""),t!=null&&(s=t(s)),r==null?i.remove():r(i),a&&s?a.merge(s).order():s}function K0t(e){if(!(e instanceof Ml))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,a=t.length,s=r.length,i=Math.min(a,s),o=new Array(a),l=0;l<i;++l)for(var c=t[l],d=r[l],u=c.length,h=o[l]=new Array(u),f,A=0;A<u;++A)(f=c[A]||d[A])&&(h[A]=f);for(;l<a;++l)o[l]=t[l];return new Ml(o,this._parents)}function q0t(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var a=e[t],s=a.length-1,i=a[s],o;--s>=0;)(o=a[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function W0t(e){e||(e=G0t);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var r=this._groups,a=r.length,s=new Array(a),i=0;i<a;++i){for(var o=r[i],l=o.length,c=s[i]=new Array(l),d,u=0;u<l;++u)(d=o[u])&&(c[u]=d);c.sort(t)}return new Ml(s,this._parents).order()}function G0t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function X0t(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Y0t(){return Array.from(this)}function J0t(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],s=0,i=a.length;s<i;++s){var o=a[s];if(o)return o}return null}function Z0t(){let e=0;for(const t of this)++e;return e}function ext(){return!this.node()}function txt(e){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var s=t[r],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function rxt(e){return function(){this.removeAttribute(e)}}function nxt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function axt(e,t){return function(){this.setAttribute(e,t)}}function sxt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ixt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function oxt(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function lxt(e,t){var r=QF(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((t==null?r.local?nxt:rxt:typeof t=="function"?r.local?oxt:ixt:r.local?sxt:axt)(r,t))}function LAe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cxt(e){return function(){this.style.removeProperty(e)}}function dxt(e,t,r){return function(){this.style.setProperty(e,t,r)}}function uxt(e,t,r){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function hxt(e,t,r){return arguments.length>1?this.each((t==null?cxt:typeof t=="function"?uxt:dxt)(e,t,r??"")):gy(this.node(),e)}function gy(e,t){return e.style.getPropertyValue(t)||LAe(e).getComputedStyle(e,null).getPropertyValue(t)}function fxt(e){return function(){delete this[e]}}function Axt(e,t){return function(){this[e]=t}}function mxt(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function pxt(e,t){return arguments.length>1?this.each((t==null?fxt:typeof t=="function"?mxt:Axt)(e,t)):this.node()[e]}function RAe(e){return e.trim().split(/^|\s+/)}function $U(e){return e.classList||new MAe(e)}function MAe(e){this._node=e,this._names=RAe(e.getAttribute("class")||"")}MAe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function UAe(e,t){for(var r=$U(e),a=-1,s=t.length;++a<s;)r.add(t[a])}function QAe(e,t){for(var r=$U(e),a=-1,s=t.length;++a<s;)r.remove(t[a])}function xxt(e){return function(){UAe(this,e)}}function gxt(e){return function(){QAe(this,e)}}function vxt(e,t){return function(){(t.apply(this,arguments)?UAe:QAe)(this,e)}}function yxt(e,t){var r=RAe(e+"");if(arguments.length<2){for(var a=$U(this.node()),s=-1,i=r.length;++s<i;)if(!a.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?vxt:t?xxt:gxt)(r,t))}function wxt(){this.textContent=""}function bxt(e){return function(){this.textContent=e}}function jxt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Nxt(e){return arguments.length?this.each(e==null?wxt:(typeof e=="function"?jxt:bxt)(e)):this.node().textContent}function Cxt(){this.innerHTML=""}function Sxt(e){return function(){this.innerHTML=e}}function _xt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ext(e){return arguments.length?this.each(e==null?Cxt:(typeof e=="function"?_xt:Sxt)(e)):this.node().innerHTML}function Bxt(){this.nextSibling&&this.parentNode.appendChild(this)}function Fxt(){return this.each(Bxt)}function Pxt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kxt(){return this.each(Pxt)}function Txt(e){var t=typeof e=="function"?e:PAe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ixt(){return null}function Oxt(e,t){var r=typeof e=="function"?e:PAe(e),a=t==null?Ixt:typeof t=="function"?t:QU(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function Dxt(){var e=this.parentNode;e&&e.removeChild(this)}function Lxt(){return this.each(Dxt)}function Rxt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mxt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uxt(e){return this.select(e?Mxt:Rxt)}function Qxt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $xt(e){return function(t){e.call(this,t,this.__data__)}}function Hxt(e){return e.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");return a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),{type:t,name:r}})}function zxt(e){return function(){var t=this.__on;if(t){for(var r=0,a=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++a]=i;++a?t.length=a:delete this.__on}}}function Vxt(e,t,r){return function(){var a=this.__on,s,i=$xt(t);if(a){for(var o=0,l=a.length;o<l;++o)if((s=a[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},a?a.push(s):this.__on=[s]}}function Kxt(e,t,r){var a=Hxt(e+""),s,i=a.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,u;c<d;++c)for(s=0,u=l[c];s<i;++s)if((o=a[s]).type===u.type&&o.name===u.name)return u.value}return}for(l=t?Vxt:zxt,s=0;s<i;++s)this.each(l(a[s],t,r));return this}function $Ae(e,t,r){var a=LAe(e),s=a.CustomEvent;typeof s=="function"?s=new s(t,r):(s=a.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function qxt(e,t){return function(){return $Ae(this,e,t)}}function Wxt(e,t){return function(){return $Ae(this,e,t.apply(this,arguments))}}function Gxt(e,t){return this.each((typeof t=="function"?Wxt:qxt)(e,t))}function*Xxt(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],s=0,i=a.length,o;s<i;++s)(o=a[s])&&(yield o)}var HAe=[null];function Ml(e,t){this._groups=e,this._parents=t}function jN(){return new Ml([[document.documentElement]],HAe)}function Yxt(){return this}Ml.prototype=jN.prototype={constructor:Ml,select:C0t,selectAll:E0t,selectChild:k0t,selectChildren:D0t,filter:L0t,data:H0t,enter:R0t,exit:z0t,join:V0t,merge:K0t,selection:Yxt,order:q0t,sort:W0t,call:X0t,nodes:Y0t,node:J0t,size:Z0t,empty:ext,each:txt,attr:lxt,style:hxt,property:pxt,classed:yxt,text:Nxt,html:Ext,raise:Fxt,lower:kxt,append:Txt,insert:Oxt,remove:Lxt,clone:Uxt,datum:Qxt,on:Kxt,dispatch:Gxt,[Symbol.iterator]:Xxt};function uf(e){return typeof e=="string"?new Ml([[document.querySelector(e)]],[document.documentElement]):new Ml([[e]],HAe)}function Jxt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wp(e,t){if(e=Jxt(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}function qD(e){e.preventDefault(),e.stopImmediatePropagation()}function Zxt(e){var t=e.document.documentElement,r=uf(e).on("dragstart.drag",qD,!0);"onselectstart"in t?r.on("selectstart.drag",qD,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function egt(e,t){var r=e.document.documentElement,a=uf(e).on("dragstart.drag",null);t&&(a.on("click.drag",qD,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var tgt=1e-12;function YX(e){return((e=Math.exp(e))+1/e)/2}function rgt(e){return((e=Math.exp(e))-1/e)/2}function ngt(e){return((e=Math.exp(2*e))-1)/(e+1)}const agt=function e(t,r,a){function s(i,o){var l=i[0],c=i[1],d=i[2],u=o[0],h=o[1],f=o[2],A=u-l,p=h-c,m=A*A+p*p,x,g;if(m<tgt)g=Math.log(f/d)/t,x=function(C){return[l+C*A,c+C*p,d*Math.exp(t*C*g)]};else{var v=Math.sqrt(m),y=(f*f-d*d+a*m)/(2*d*r*v),j=(f*f-d*d-a*m)/(2*f*r*v),b=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(j*j+1)-j);g=(w-b)/t,x=function(C){var F=C*g,E=YX(b),L=d/(r*v)*(E*ngt(t*F+b)-rgt(b));return[l+L*A,c+L*p,d*E/YX(t*F+b)]}}return x.duration=g*1e3*t/Math.SQRT2,x}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4);var vy=0,Qw=0,cw=0,zAe=1e3,NE,$w,CE=0,W0=0,$F=0,B2=typeof performance=="object"&&performance.now?performance:Date,VAe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function HU(){return W0||(VAe(sgt),W0=B2.now()+$F)}function sgt(){W0=0}function SE(){this._call=this._time=this._next=null}SE.prototype=KAe.prototype={constructor:SE,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?HU():+r)+(t==null?0:+t),!this._next&&$w!==this&&($w?$w._next=this:NE=this,$w=this),this._call=e,this._time=r,WD()},stop:function(){this._call&&(this._call=null,this._time=1/0,WD())}};function KAe(e,t,r){var a=new SE;return a.restart(e,t,r),a}function igt(){HU(),++vy;for(var e=NE,t;e;)(t=W0-e._time)>=0&&e._call.call(null,t),e=e._next;--vy}function JX(){W0=(CE=B2.now())+$F,vy=Qw=0;try{igt()}finally{vy=0,lgt(),W0=0}}function ogt(){var e=B2.now(),t=e-CE;t>zAe&&($F-=t,CE=e)}function lgt(){for(var e,t=NE,r,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:NE=r);$w=e,WD(a)}function WD(e){if(!vy){Qw&&(Qw=clearTimeout(Qw));var t=e-W0;t>24?(e<1/0&&(Qw=setTimeout(JX,e-B2.now()-$F)),cw&&(cw=clearInterval(cw))):(cw||(CE=B2.now(),cw=setInterval(ogt,zAe)),vy=1,VAe(JX))}}function ZX(e,t,r){var a=new SE;return t=t==null?0:+t,a.restart(s=>{a.stop(),e(s+t)},t,r),a}var cgt=UU("start","end","cancel","interrupt"),dgt=[],qAe=0,eY=1,GD=2,yS=3,tY=4,XD=5,wS=6;function HF(e,t,r,a,s,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;ugt(e,r,{name:t,index:a,group:s,on:cgt,tween:dgt,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:qAe})}function zU(e,t){var r=wu(e,t);if(r.state>qAe)throw new Error("too late; already scheduled");return r}function Th(e,t){var r=wu(e,t);if(r.state>yS)throw new Error("too late; already running");return r}function wu(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function ugt(e,t,r){var a=e.__transition,s;a[t]=r,r.timer=KAe(i,0,r.time);function i(d){r.state=eY,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var u,h,f,A;if(r.state!==eY)return c();for(u in a)if(A=a[u],A.name===r.name){if(A.state===yS)return ZX(o);A.state===tY?(A.state=wS,A.timer.stop(),A.on.call("interrupt",e,e.__data__,A.index,A.group),delete a[u]):+u<t&&(A.state=wS,A.timer.stop(),A.on.call("cancel",e,e.__data__,A.index,A.group),delete a[u])}if(ZX(function(){r.state===yS&&(r.state=tY,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=GD,r.on.call("start",e,e.__data__,r.index,r.group),r.state===GD){for(r.state=yS,s=new Array(f=r.tween.length),u=0,h=-1;u<f;++u)(A=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(s[++h]=A);s.length=h+1}}function l(d){for(var u=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(c),r.state=XD,1),h=-1,f=s.length;++h<f;)s[h].call(e,u);r.state===XD&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=wS,r.timer.stop(),delete a[t];for(var d in a)return;delete e.__transition}}function bS(e,t){var r=e.__transition,a,s,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((a=r[o]).name!==t){i=!1;continue}s=a.state>GD&&a.state<XD,a.state=wS,a.timer.stop(),a.on.call(s?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[o]}i&&delete e.__transition}}function hgt(e){return this.each(function(){bS(this,e)})}function VU(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WAe(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function NN(){}var F2=.7,_E=1/F2,iv="\\s*([+-]?\\d+)\\s*",P2="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",fh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fgt=/^#([0-9a-f]{3,8})$/,Agt=new RegExp("^rgb\\("+[iv,iv,iv]+"\\)$"),mgt=new RegExp("^rgb\\("+[fh,fh,fh]+"\\)$"),pgt=new RegExp("^rgba\\("+[iv,iv,iv,P2]+"\\)$"),xgt=new RegExp("^rgba\\("+[fh,fh,fh,P2]+"\\)$"),ggt=new RegExp("^hsl\\("+[P2,fh,fh]+"\\)$"),vgt=new RegExp("^hsla\\("+[P2,fh,fh,P2]+"\\)$"),rY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VU(NN,k2,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:nY,formatHex:nY,formatHsl:ygt,formatRgb:aY,toString:aY});function nY(){return this.rgb().formatHex()}function ygt(){return GAe(this).formatHsl()}function aY(){return this.rgb().formatRgb()}function k2(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fgt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sY(t):r===3?new vc(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?I4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?I4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Agt.exec(e))?new vc(t[1],t[2],t[3],1):(t=mgt.exec(e))?new vc(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pgt.exec(e))?I4(t[1],t[2],t[3],t[4]):(t=xgt.exec(e))?I4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ggt.exec(e))?lY(t[1],t[2]/100,t[3]/100,1):(t=vgt.exec(e))?lY(t[1],t[2]/100,t[3]/100,t[4]):rY.hasOwnProperty(e)?sY(rY[e]):e==="transparent"?new vc(NaN,NaN,NaN,0):null}function sY(e){return new vc(e>>16&255,e>>8&255,e&255,1)}function I4(e,t,r,a){return a<=0&&(e=t=r=NaN),new vc(e,t,r,a)}function wgt(e){return e instanceof NN||(e=k2(e)),e?(e=e.rgb(),new vc(e.r,e.g,e.b,e.opacity)):new vc}function YD(e,t,r,a){return arguments.length===1?wgt(e):new vc(e,t,r,a??1)}function vc(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}VU(vc,YD,WAe(NN,{brighter:function(e){return e=e==null?_E:Math.pow(_E,e),new vc(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?F2:Math.pow(F2,e),new vc(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iY,formatHex:iY,formatRgb:oY,toString:oY}));function iY(){return"#"+nT(this.r)+nT(this.g)+nT(this.b)}function oY(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function nT(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function lY(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xu(e,t,r,a)}function GAe(e){if(e instanceof Xu)return new Xu(e.h,e.s,e.l,e.opacity);if(e instanceof NN||(e=k2(e)),!e)return new Xu;if(e instanceof Xu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Xu(o,l,c,e.opacity)}function bgt(e,t,r,a){return arguments.length===1?GAe(e):new Xu(e,t,r,a??1)}function Xu(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}VU(Xu,bgt,WAe(NN,{brighter:function(e){return e=e==null?_E:Math.pow(_E,e),new Xu(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?F2:Math.pow(F2,e),new Xu(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new vc(aT(e>=240?e-240:e+120,s,a),aT(e,s,a),aT(e<120?e+240:e-120,s,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function aT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const XAe=e=>()=>e;function jgt(e,t){return function(r){return e+r*t}}function Ngt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Cgt(e){return(e=+e)==1?YAe:function(t,r){return r-t?Ngt(t,r,e):XAe(isNaN(t)?r:t)}}function YAe(e,t){var r=t-e;return r?jgt(e,r):XAe(isNaN(e)?t:e)}const cY=function e(t){var r=Cgt(t);function a(s,i){var o=r((s=YD(s)).r,(i=YD(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=YAe(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return a.gamma=e,a}(1);function BA(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var JD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sT=new RegExp(JD.source,"g");function Sgt(e){return function(){return e}}function _gt(e){return function(t){return e(t)+""}}function Egt(e,t){var r=JD.lastIndex=sT.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=JD.exec(e))&&(s=sT.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:BA(a,s)})),r=sT.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?_gt(c[0].x):Sgt(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}var dY=180/Math.PI,ZD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JAe(e,t,r,a,s,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*a)&&(r-=e*c,a-=t*c),(l=Math.sqrt(r*r+a*a))&&(r/=l,a/=l,c/=l),e*a<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*dY,skewX:Math.atan(c)*dY,scaleX:o,scaleY:l}}var O4;function Bgt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ZD:JAe(t.a,t.b,t.c,t.d,t.e,t.f)}function Fgt(e){return e==null||(O4||(O4=document.createElementNS("http://www.w3.org/2000/svg","g")),O4.setAttribute("transform",e),!(e=O4.transform.baseVal.consolidate()))?ZD:(e=e.matrix,JAe(e.a,e.b,e.c,e.d,e.e,e.f))}function ZAe(e,t,r,a){function s(d){return d.length?d.pop()+" ":""}function i(d,u,h,f,A,p){if(d!==h||u!==f){var m=A.push("translate(",null,t,null,r);p.push({i:m-4,x:BA(d,h)},{i:m-2,x:BA(u,f)})}else(h||f)&&A.push("translate("+h+t+f+r)}function o(d,u,h,f){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),f.push({i:h.push(s(h)+"rotate(",null,a)-2,x:BA(d,u)})):u&&h.push(s(h)+"rotate("+u+a)}function l(d,u,h,f){d!==u?f.push({i:h.push(s(h)+"skewX(",null,a)-2,x:BA(d,u)}):u&&h.push(s(h)+"skewX("+u+a)}function c(d,u,h,f,A,p){if(d!==h||u!==f){var m=A.push(s(A)+"scale(",null,",",null,")");p.push({i:m-4,x:BA(d,h)},{i:m-2,x:BA(u,f)})}else(h!==1||f!==1)&&A.push(s(A)+"scale("+h+","+f+")")}return function(d,u){var h=[],f=[];return d=e(d),u=e(u),i(d.translateX,d.translateY,u.translateX,u.translateY,h,f),o(d.rotate,u.rotate,h,f),l(d.skewX,u.skewX,h,f),c(d.scaleX,d.scaleY,u.scaleX,u.scaleY,h,f),d=u=null,function(A){for(var p=-1,m=f.length,x;++p<m;)h[(x=f[p]).i]=x.x(A);return h.join("")}}}var Pgt=ZAe(Bgt,"px, ","px)","deg)"),kgt=ZAe(Fgt,", ",")",")");function Tgt(e,t){var r,a;return function(){var s=Th(this,e),i=s.tween;if(i!==r){a=r=i;for(var o=0,l=a.length;o<l;++o)if(a[o].name===t){a=a.slice(),a.splice(o,1);break}}s.tween=a}}function Igt(e,t,r){var a,s;if(typeof r!="function")throw new Error;return function(){var i=Th(this,e),o=i.tween;if(o!==a){s=(a=o).slice();for(var l={name:t,value:r},c=0,d=s.length;c<d;++c)if(s[c].name===t){s[c]=l;break}c===d&&s.push(l)}i.tween=s}}function Ogt(e,t){var r=this._id;if(e+="",arguments.length<2){for(var a=wu(this.node(),r).tween,s=0,i=a.length,o;s<i;++s)if((o=a[s]).name===e)return o.value;return null}return this.each((t==null?Tgt:Igt)(r,e,t))}function KU(e,t,r){var a=e._id;return e.each(function(){var s=Th(this,a);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return wu(s,a).value[t]}}function eme(e,t){var r;return(typeof t=="number"?BA:t instanceof k2?cY:(r=k2(t))?(t=r,cY):Egt)(e,t)}function Dgt(e){return function(){this.removeAttribute(e)}}function Lgt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rgt(e,t,r){var a,s=r+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===a?i:i=t(a=o,r)}}function Mgt(e,t,r){var a,s=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===a?i:i=t(a=o,r)}}function Ugt(e,t,r){var a,s,i;return function(){var o,l=r(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===a&&c===s?i:(s=c,i=t(a=o,l)))}}function Qgt(e,t,r){var a,s,i;return function(){var o,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===a&&c===s?i:(s=c,i=t(a=o,l)))}}function $gt(e,t){var r=QF(e),a=r==="transform"?kgt:eme;return this.attrTween(e,typeof t=="function"?(r.local?Qgt:Ugt)(r,a,KU(this,"attr."+e,t)):t==null?(r.local?Lgt:Dgt)(r):(r.local?Mgt:Rgt)(r,a,t))}function Hgt(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function zgt(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Vgt(e,t){var r,a;function s(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&zgt(e,i)),r}return s._value=t,s}function Kgt(e,t){var r,a;function s(){var i=t.apply(this,arguments);return i!==a&&(r=(a=i)&&Hgt(e,i)),r}return s._value=t,s}function qgt(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var a=QF(e);return this.tween(r,(a.local?Vgt:Kgt)(a,t))}function Wgt(e,t){return function(){zU(this,e).delay=+t.apply(this,arguments)}}function Ggt(e,t){return t=+t,function(){zU(this,e).delay=t}}function Xgt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Wgt:Ggt)(t,e)):wu(this.node(),t).delay}function Ygt(e,t){return function(){Th(this,e).duration=+t.apply(this,arguments)}}function Jgt(e,t){return t=+t,function(){Th(this,e).duration=t}}function Zgt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ygt:Jgt)(t,e)):wu(this.node(),t).duration}function evt(e,t){if(typeof t!="function")throw new Error;return function(){Th(this,e).ease=t}}function tvt(e){var t=this._id;return arguments.length?this.each(evt(t,e)):wu(this.node(),t).ease}function rvt(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Th(this,e).ease=r}}function nvt(e){if(typeof e!="function")throw new Error;return this.each(rvt(this._id,e))}function avt(e){typeof e!="function"&&(e=IAe(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=a[s]=[],c,d=0;d<o;++d)(c=i[d])&&e.call(c,c.__data__,d,i)&&l.push(c);return new Qf(a,this._parents,this._name,this._id)}function svt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,a=t.length,s=r.length,i=Math.min(a,s),o=new Array(a),l=0;l<i;++l)for(var c=t[l],d=r[l],u=c.length,h=o[l]=new Array(u),f,A=0;A<u;++A)(f=c[A]||d[A])&&(h[A]=f);for(;l<a;++l)o[l]=t[l];return new Qf(o,this._parents,this._name,this._id)}function ivt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function ovt(e,t,r){var a,s,i=ivt(t)?zU:Th;return function(){var o=i(this,e),l=o.on;l!==a&&(s=(a=l).copy()).on(t,r),o.on=s}}function lvt(e,t){var r=this._id;return arguments.length<2?wu(this.node(),r).on.on(e):this.each(ovt(r,e,t))}function cvt(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function dvt(){return this.on("end.remove",cvt(this._id))}function uvt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=QU(e));for(var a=this._groups,s=a.length,i=new Array(s),o=0;o<s;++o)for(var l=a[o],c=l.length,d=i[o]=new Array(c),u,h,f=0;f<c;++f)(u=l[f])&&(h=e.call(u,u.__data__,f,l))&&("__data__"in u&&(h.__data__=u.__data__),d[f]=h,HF(d[f],t,r,f,d,wu(u,r)));return new Qf(i,this._parents,t,r)}function hvt(e){var t=this._name,r=this._id;typeof e!="function"&&(e=TAe(e));for(var a=this._groups,s=a.length,i=[],o=[],l=0;l<s;++l)for(var c=a[l],d=c.length,u,h=0;h<d;++h)if(u=c[h]){for(var f=e.call(u,u.__data__,h,c),A,p=wu(u,r),m=0,x=f.length;m<x;++m)(A=f[m])&&HF(A,t,r,m,f,p);i.push(f),o.push(u)}return new Qf(i,o,t,r)}var fvt=jN.prototype.constructor;function Avt(){return new fvt(this._groups,this._parents)}function mvt(e,t){var r,a,s;return function(){var i=gy(this,e),o=(this.style.removeProperty(e),gy(this,e));return i===o?null:i===r&&o===a?s:s=t(r=i,a=o)}}function tme(e){return function(){this.style.removeProperty(e)}}function pvt(e,t,r){var a,s=r+"",i;return function(){var o=gy(this,e);return o===s?null:o===a?i:i=t(a=o,r)}}function xvt(e,t,r){var a,s,i;return function(){var o=gy(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),gy(this,e))),o===c?null:o===a&&c===s?i:(s=c,i=t(a=o,l))}}function gvt(e,t){var r,a,s,i="style."+t,o="end."+i,l;return function(){var c=Th(this,e),d=c.on,u=c.value[i]==null?l||(l=tme(t)):void 0;(d!==r||s!==u)&&(a=(r=d).copy()).on(o,s=u),c.on=a}}function vvt(e,t,r){var a=(e+="")=="transform"?Pgt:eme;return t==null?this.styleTween(e,mvt(e,a)).on("end.style."+e,tme(e)):typeof t=="function"?this.styleTween(e,xvt(e,a,KU(this,"style."+e,t))).each(gvt(this._id,e)):this.styleTween(e,pvt(e,a,t),r).on("end.style."+e,null)}function yvt(e,t,r){return function(a){this.style.setProperty(e,t.call(this,a),r)}}function wvt(e,t,r){var a,s;function i(){var o=t.apply(this,arguments);return o!==s&&(a=(s=o)&&yvt(e,o,r)),a}return i._value=t,i}function bvt(e,t,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,wvt(e,t,r??""))}function jvt(e){return function(){this.textContent=e}}function Nvt(e){return function(){var t=e(this);this.textContent=t??""}}function Cvt(e){return this.tween("text",typeof e=="function"?Nvt(KU(this,"text",e)):jvt(e==null?"":e+""))}function Svt(e){return function(t){this.textContent=e.call(this,t)}}function _vt(e){var t,r;function a(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&Svt(s)),t}return a._value=e,a}function Evt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_vt(e))}function Bvt(){for(var e=this._name,t=this._id,r=rme(),a=this._groups,s=a.length,i=0;i<s;++i)for(var o=a[i],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var u=wu(c,t);HF(c,e,r,d,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Qf(a,this._parents,e,r)}function Fvt(){var e,t,r=this,a=r._id,s=r.size();return new Promise(function(i,o){var l={value:o},c={value:function(){--s===0&&i()}};r.each(function(){var d=Th(this,a),u=d.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),d.on=t}),s===0&&i()})}var Pvt=0;function Qf(e,t,r,a){this._groups=e,this._parents=t,this._name=r,this._id=a}function rme(){return++Pvt}var bp=jN.prototype;Qf.prototype={constructor:Qf,select:uvt,selectAll:hvt,filter:avt,merge:svt,selection:Avt,transition:Bvt,call:bp.call,nodes:bp.nodes,node:bp.node,size:bp.size,empty:bp.empty,each:bp.each,on:lvt,attr:$gt,attrTween:qgt,style:vvt,styleTween:bvt,text:Cvt,textTween:Evt,remove:dvt,tween:Ogt,delay:Xgt,duration:Zgt,ease:tvt,easeVarying:nvt,end:Fvt,[Symbol.iterator]:bp[Symbol.iterator]};function kvt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Tvt={time:null,delay:0,duration:250,ease:kvt};function Ivt(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Ovt(e){var t,r;e instanceof Qf?(t=e._id,e=e._name):(t=rme(),(r=Tvt).time=HU(),e=e==null?null:e+"");for(var a=this._groups,s=a.length,i=0;i<s;++i)for(var o=a[i],l=o.length,c,d=0;d<l;++d)(c=o[d])&&HF(c,e,t,d,o,r||Ivt(c,t));return new Qf(a,this._parents,e,t)}jN.prototype.interrupt=hgt;jN.prototype.transition=Ovt;const D4=e=>()=>e;function Dvt(e,{sourceEvent:t,target:r,transform:a,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function gf(e,t,r){this.k=e,this.x=t,this.y=r}gf.prototype={constructor:gf,scale:function(e){return e===1?this:new gf(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gf(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qU=new gf(1,0,0);gf.prototype;function iT(e){e.stopImmediatePropagation()}function dw(e){e.preventDefault(),e.stopImmediatePropagation()}function Lvt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Rvt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function uY(){return this.__zoom||qU}function Mvt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Uvt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qvt(e,t,r){var a=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function $vt(){var e=Lvt,t=Rvt,r=Qvt,a=Mvt,s=Uvt,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=agt,d=UU("start","zoom","end"),u,h,f,A=500,p=150,m=0,x=10;function g(O){O.property("__zoom",uY).on("wheel.zoom",F).on("mousedown.zoom",E).on("dblclick.zoom",L).filter(s).on("touchstart.zoom",N).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(O,k,P,R){var V=O.selection?O.selection():O;V.property("__zoom",uY),O!==V?b(O,k,P,R):V.interrupt().each(function(){w(this,arguments).event(R).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},g.scaleBy=function(O,k,P,R){g.scaleTo(O,function(){var V=this.__zoom.k,D=typeof k=="function"?k.apply(this,arguments):k;return V*D},P,R)},g.scaleTo=function(O,k,P,R){g.transform(O,function(){var V=t.apply(this,arguments),D=this.__zoom,Y=P==null?j(V):typeof P=="function"?P.apply(this,arguments):P,ne=D.invert(Y),S=typeof k=="function"?k.apply(this,arguments):k;return r(y(v(D,S),Y,ne),V,o)},P,R)},g.translateBy=function(O,k,P,R){g.transform(O,function(){return r(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),o)},null,R)},g.translateTo=function(O,k,P,R,V){g.transform(O,function(){var D=t.apply(this,arguments),Y=this.__zoom,ne=R==null?j(D):typeof R=="function"?R.apply(this,arguments):R;return r(qU.translate(ne[0],ne[1]).scale(Y.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof P=="function"?-P.apply(this,arguments):-P),D,o)},R,V)};function v(O,k){return k=Math.max(i[0],Math.min(i[1],k)),k===O.k?O:new gf(k,O.x,O.y)}function y(O,k,P){var R=k[0]-P[0]*O.k,V=k[1]-P[1]*O.k;return R===O.x&&V===O.y?O:new gf(O.k,R,V)}function j(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function b(O,k,P,R){O.on("start.zoom",function(){w(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(R).end()}).tween("zoom",function(){var V=this,D=arguments,Y=w(V,D).event(R),ne=t.apply(V,D),S=P==null?j(ne):typeof P=="function"?P.apply(V,D):P,z=Math.max(ne[1][0]-ne[0][0],ne[1][1]-ne[0][1]),Q=V.__zoom,W=typeof k=="function"?k.apply(V,D):k,U=c(Q.invert(S).concat(z/Q.k),W.invert(S).concat(z/W.k));return function(re){if(re===1)re=W;else{var de=U(re),ae=z/de[2];re=new gf(ae,S[0]-de[0]*ae,S[1]-de[1]*ae)}Y.zoom(null,re)}})}function w(O,k,P){return!P&&O.__zooming||new C(O,k)}function C(O,k){this.that=O,this.args=k,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,k),this.taps=0}C.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,k){return this.mouse&&O!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var k=uf(this.that).datum();d.call(O,this.that,new Dvt(O,{sourceEvent:this.sourceEvent,target:g,type:O,transform:this.that.__zoom,dispatch:d}),k)}};function F(O,...k){if(!e.apply(this,arguments))return;var P=w(this,k).event(O),R=this.__zoom,V=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,a.apply(this,arguments)))),D=wp(O);if(P.wheel)(P.mouse[0][0]!==D[0]||P.mouse[0][1]!==D[1])&&(P.mouse[1]=R.invert(P.mouse[0]=D)),clearTimeout(P.wheel);else{if(R.k===V)return;P.mouse=[D,R.invert(D)],bS(this),P.start()}dw(O),P.wheel=setTimeout(Y,p),P.zoom("mouse",r(y(v(R,V),P.mouse[0],P.mouse[1]),P.extent,o));function Y(){P.wheel=null,P.end()}}function E(O,...k){if(f||!e.apply(this,arguments))return;var P=w(this,k,!0).event(O),R=uf(O.view).on("mousemove.zoom",S,!0).on("mouseup.zoom",z,!0),V=wp(O,D),D=O.currentTarget,Y=O.clientX,ne=O.clientY;Zxt(O.view),iT(O),P.mouse=[V,this.__zoom.invert(V)],bS(this),P.start();function S(Q){if(dw(Q),!P.moved){var W=Q.clientX-Y,U=Q.clientY-ne;P.moved=W*W+U*U>m}P.event(Q).zoom("mouse",r(y(P.that.__zoom,P.mouse[0]=wp(Q,D),P.mouse[1]),P.extent,o))}function z(Q){R.on("mousemove.zoom mouseup.zoom",null),egt(Q.view,P.moved),dw(Q),P.event(Q).end()}}function L(O,...k){if(e.apply(this,arguments)){var P=this.__zoom,R=wp(O.changedTouches?O.changedTouches[0]:O,this),V=P.invert(R),D=P.k*(O.shiftKey?.5:2),Y=r(y(v(P,D),R,V),t.apply(this,k),o);dw(O),l>0?uf(this).transition().duration(l).call(b,Y,R,O):uf(this).call(g.transform,Y,R,O)}}function N(O,...k){if(e.apply(this,arguments)){var P=O.touches,R=P.length,V=w(this,k,O.changedTouches.length===R).event(O),D,Y,ne,S;for(iT(O),Y=0;Y<R;++Y)ne=P[Y],S=wp(ne,this),S=[S,this.__zoom.invert(S),ne.identifier],V.touch0?!V.touch1&&V.touch0[2]!==S[2]&&(V.touch1=S,V.taps=0):(V.touch0=S,D=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),D&&(V.taps<2&&(h=S[0],u=setTimeout(function(){u=null},A)),bS(this),V.start())}}function I(O,...k){if(this.__zooming){var P=w(this,k).event(O),R=O.changedTouches,V=R.length,D,Y,ne,S;for(dw(O),D=0;D<V;++D)Y=R[D],ne=wp(Y,this),P.touch0&&P.touch0[2]===Y.identifier?P.touch0[0]=ne:P.touch1&&P.touch1[2]===Y.identifier&&(P.touch1[0]=ne);if(Y=P.that.__zoom,P.touch1){var z=P.touch0[0],Q=P.touch0[1],W=P.touch1[0],U=P.touch1[1],re=(re=W[0]-z[0])*re+(re=W[1]-z[1])*re,de=(de=U[0]-Q[0])*de+(de=U[1]-Q[1])*de;Y=v(Y,Math.sqrt(re/de)),ne=[(z[0]+W[0])/2,(z[1]+W[1])/2],S=[(Q[0]+U[0])/2,(Q[1]+U[1])/2]}else if(P.touch0)ne=P.touch0[0],S=P.touch0[1];else return;P.zoom("touch",r(y(Y,ne,S),P.extent,o))}}function M(O,...k){if(this.__zooming){var P=w(this,k).event(O),R=O.changedTouches,V=R.length,D,Y;for(iT(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},A),D=0;D<V;++D)Y=R[D],P.touch0&&P.touch0[2]===Y.identifier?delete P.touch0:P.touch1&&P.touch1[2]===Y.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(Y=wp(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<x)){var ne=uf(this).on("dblclick.zoom");ne&&ne.apply(this,arguments)}}}return g.wheelDelta=function(O){return arguments.length?(a=typeof O=="function"?O:D4(+O),g):a},g.filter=function(O){return arguments.length?(e=typeof O=="function"?O:D4(!!O),g):e},g.touchable=function(O){return arguments.length?(s=typeof O=="function"?O:D4(!!O),g):s},g.extent=function(O){return arguments.length?(t=typeof O=="function"?O:D4([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),g):t},g.scaleExtent=function(O){return arguments.length?(i[0]=+O[0],i[1]=+O[1],g):[i[0],i[1]]},g.translateExtent=function(O){return arguments.length?(o[0][0]=+O[0][0],o[1][0]=+O[1][0],o[0][1]=+O[0][1],o[1][1]=+O[1][1],g):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},g.constrain=function(O){return arguments.length?(r=O,g):r},g.duration=function(O){return arguments.length?(l=+O,g):l},g.interpolate=function(O){return arguments.length?(c=O,g):c},g.on=function(){var O=d.on.apply(d,arguments);return O===d?g:O},g.clickDistance=function(O){return arguments.length?(m=(O=+O)*O,g):Math.sqrt(m)},g.tapDistance=function(O){return arguments.length?(x=+O,g):x},g}function hY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hY(Object(r),!0).forEach(function(a){Hvt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hY(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eL(e){"@babel/helpers - typeof";return eL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eL(e)}function Hvt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ul.apply(this,arguments)}function zvt(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function jd(e,t){if(e==null)return{};var r=zvt(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function to(e,t){return Vvt(e)||Kvt(e,t)||qvt(e,t)||Wvt()}function Vvt(e){if(Array.isArray(e))return e}function Kvt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],s=!0,i=!1,o,l;try{for(r=r.call(e);!(s=(o=r.next()).done)&&(a.push(o.value),!(t&&a.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return a}}function qvt(e,t){if(e){if(typeof e=="string")return fY(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fY(e,t)}}function fY(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Wvt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gvt=["width","height","projection","projectionConfig"],Xvt=jAe,Yvt=jd(u0t,["geoPath"]),Ih=B.createContext(),Jvt=function(t){var r=t.projectionConfig,a=r===void 0?{}:r,s=t.projection,i=s===void 0?"geoEqualEarth":s,o=t.width,l=o===void 0?800:o,c=t.height,d=c===void 0?600:c,u=typeof i=="function";if(u)return i;var h=Yvt[i]().translate([l/2,d/2]),f=[h.center?"center":null,h.rotate?"rotate":null,h.scale?"scale":null,h.parallels?"parallels":null];return f.forEach(function(A){A&&(h=h[A](a[A]||h[A]()))}),h},nme=function(t){var r=t.width,a=t.height,s=t.projection,i=t.projectionConfig,o=jd(t,Gvt),l=i.center||[],c=to(l,2),d=c[0],u=c[1],h=i.rotate||[],f=to(h,3),A=f[0],p=f[1],m=f[2],x=i.parallels||[],g=to(x,2),v=g[0],y=g[1],j=i.scale||null,b=B.useMemo(function(){return Jvt({projectionConfig:{center:d||d===0||u||u===0?[d,u]:null,rotate:A||A===0||p||p===0?[A,p,m]:null,parallels:v||v===0||y||y===0?[v,y]:null,scale:j},projection:s,width:r,height:a})},[r,a,s,d,u,A,p,m,v,y,j]),w=B.useCallback(b,[b]),C=B.useMemo(function(){return{width:r,height:a,projection:w,path:Xvt().projection(w)}},[r,a,w]);return Se.createElement(Ih.Provider,Ul({value:C},o))};nme.propTypes={width:Lt.number,height:Lt.number,projection:Lt.oneOfType([Lt.string,Lt.func]),projectionConfig:Lt.object};var Zvt=["width","height","projection","projectionConfig","className"],EE=B.forwardRef(function(e,t){var r=e.width,a=r===void 0?800:r,s=e.height,i=s===void 0?600:s,o=e.projection,l=o===void 0?"geoEqualEarth":o,c=e.projectionConfig,d=c===void 0?{}:c,u=e.className,h=u===void 0?"":u,f=jd(e,Zvt);return Se.createElement(nme,{width:a,height:i,projection:l,projectionConfig:d},Se.createElement("svg",Ul({ref:t,viewBox:"0 0 ".concat(a," ").concat(i),className:"rsm-svg ".concat(h)},f)))});EE.displayName="ComposableMap";EE.propTypes={width:Lt.number,height:Lt.number,projection:Lt.oneOfType([Lt.string,Lt.func]),projectionConfig:Lt.object,className:Lt.string};function AY(e,t,r){var a=(e*r.k-e)/2,s=(t*r.k-t)/2;return[e/2-(a+r.x)/r.k,t/2-(s+r.y)/r.k]}function eyt(e){return fetch(e).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).catch(function(t){console.log("There was a problem when fetching the data: ",t)})}function mY(e,t){var r=e.type==="Topology";if(!r)return t?t(e.features||e):e.features||e;var a=m0t(e,e.objects[Object.keys(e.objects)[0]]).features;return t?t(a):a}function pY(e){var t=e.type==="Topology";if(!t)return null;var r=WX(e,e.objects[Object.keys(e.objects)[0]],function(s,i){return s===i}),a=WX(e,e.objects[Object.keys(e.objects)[0]],function(s,i){return s!==i});return{outline:r,borders:a}}function tyt(e,t,r){return e&&t?{outline:Bg(Bg({},e),{},{rsmKey:"outline",svgPath:r(e)}),borders:Bg(Bg({},t),{},{rsmKey:"borders",svgPath:r(t)})}:{}}function ryt(e,t){return e?e.map(function(r,a){return Bg(Bg({},r),{},{rsmKey:"geo-".concat(a),svgPath:t(r)})}):[]}function nyt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,a=Array.isArray(r)?r:[r,r],s=e/2*a[0],i=t/2*a[1];return"M".concat(0,",",0," Q",-e/2-s,",").concat(-t/2+i," ").concat(-e,",").concat(-t)}function ayt(e){return typeof e=="string"}function syt(e){var t=e.geography,r=e.parseGeographies,a=B.useContext(Ih),s=a.path,i=B.useState({}),o=to(i,2),l=o[0],c=o[1];B.useEffect(function(){(typeof window>"u"?"undefined":eL(window))!=="undefined"&&t&&(ayt(t)?eyt(t).then(function(A){A&&c({geographies:mY(A,r),mesh:pY(A)})}):c({geographies:mY(t,r),mesh:pY(t)}))},[t,r]);var d=B.useMemo(function(){var A=l.mesh||{},p=tyt(A.outline,A.borders,s);return{geographies:ryt(l.geographies,s),outline:p.outline,borders:p.borders}},[l,s]),u=d.geographies,h=d.outline,f=d.borders;return{geographies:u,outline:h,borders:f}}var iyt=["geography","children","parseGeographies","className"],BE=B.forwardRef(function(e,t){var r=e.geography,a=e.children,s=e.parseGeographies,i=e.className,o=i===void 0?"":i,l=jd(e,iyt),c=B.useContext(Ih),d=c.path,u=c.projection,h=syt({geography:r,parseGeographies:s}),f=h.geographies,A=h.outline,p=h.borders;return Se.createElement("g",Ul({ref:t,className:"rsm-geographies ".concat(o)},l),f&&f.length>0&&a({geographies:f,outline:A,borders:p,path:d,projection:u}))});BE.displayName="Geographies";BE.propTypes={geography:Lt.oneOfType([Lt.string,Lt.object,Lt.array]),children:Lt.func,parseGeographies:Lt.func,className:Lt.string};var oyt=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],WU=B.forwardRef(function(e,t){var r=e.geography,a=e.onMouseEnter,s=e.onMouseLeave,i=e.onMouseDown,o=e.onMouseUp,l=e.onFocus,c=e.onBlur,d=e.style,u=d===void 0?{}:d,h=e.className,f=h===void 0?"":h,A=jd(e,oyt),p=B.useState(!1),m=to(p,2),x=m[0],g=m[1],v=B.useState(!1),y=to(v,2),j=y[0],b=y[1];function w(I){b(!0),a&&a(I)}function C(I){b(!1),x&&g(!1),s&&s(I)}function F(I){b(!0),l&&l(I)}function E(I){b(!1),x&&g(!1),c&&c(I)}function L(I){g(!0),i&&i(I)}function N(I){g(!1),o&&o(I)}return Se.createElement("path",Ul({ref:t,tabIndex:"0",className:"rsm-geography ".concat(f),d:r.svgPath,onMouseEnter:w,onMouseLeave:C,onFocus:F,onBlur:E,onMouseDown:L,onMouseUp:N,style:u[x||j?x?"pressed":"hover":"default"]},A))});WU.displayName="Geography";WU.propTypes={geography:Lt.object,onMouseEnter:Lt.func,onMouseLeave:Lt.func,onMouseDown:Lt.func,onMouseUp:Lt.func,onFocus:Lt.func,onBlur:Lt.func,style:Lt.object,className:Lt.string};var xY=B.memo(WU),lyt=["fill","stroke","step","className"],GU=B.forwardRef(function(e,t){var r=e.fill,a=r===void 0?"transparent":r,s=e.stroke,i=s===void 0?"currentcolor":s,o=e.step,l=o===void 0?[10,10]:o,c=e.className,d=c===void 0?"":c,u=jd(e,lyt),h=B.useContext(Ih),f=h.path;return Se.createElement("path",Ul({ref:t,d:f(CU().step(l)()),fill:a,stroke:i,className:"rsm-graticule ".concat(d)},u))});GU.displayName="Graticule";GU.propTypes={fill:Lt.string,stroke:Lt.string,step:Lt.array,className:Lt.string};B.memo(GU);var cyt=["value"],dyt=B.createContext(),uyt={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},ame=function(t){var r=t.value,a=r===void 0?uyt:r,s=jd(t,cyt);return Se.createElement(dyt.Provider,Ul({value:a},s))};ame.propTypes={x:Lt.number,y:Lt.number,k:Lt.number,transformString:Lt.string};function hyt(e){var t=e.center,r=e.filterZoomEvent,a=e.onMoveStart,s=e.onMoveEnd,i=e.onMove,o=e.translateExtent,l=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,c=e.scaleExtent,d=c===void 0?[1,8]:c,u=e.zoom,h=u===void 0?1:u,f=B.useContext(Ih),A=f.width,p=f.height,m=f.projection,x=to(t,2),g=x[0],v=x[1],y=B.useState({x:0,y:0,k:1}),j=to(y,2),b=j[0],w=j[1],C=B.useRef({x:0,y:0,k:1}),F=B.useRef(),E=B.useRef(),L=B.useRef(!1),N=to(l,2),I=N[0],M=N[1],O=to(I,2),k=O[0],P=O[1],R=to(M,2),V=R[0],D=R[1],Y=to(d,2),ne=Y[0],S=Y[1];return B.useEffect(function(){var z=uf(F.current);function Q(ae){!a||L.current||a({coordinates:m.invert(AY(A,p,ae.transform)),zoom:ae.transform.k},ae)}function W(ae){if(!L.current){var Ae=ae.transform,Me=ae.sourceEvent;w({x:Ae.x,y:Ae.y,k:Ae.k,dragging:Me}),i&&i({x:Ae.x,y:Ae.y,zoom:Ae.k,dragging:Me},ae)}}function U(ae){if(L.current){L.current=!1;return}var Ae=m.invert(AY(A,p,ae.transform)),Me=to(Ae,2),H=Me[0],Oe=Me[1];C.current={x:H,y:Oe,k:ae.transform.k},s&&s({coordinates:[H,Oe],zoom:ae.transform.k},ae)}function re(ae){return r?r(ae):ae?!ae.ctrlKey&&!ae.button:!1}var de=$vt().filter(re).scaleExtent([ne,S]).translateExtent([[k,P],[V,D]]).on("start",Q).on("zoom",W).on("end",U);E.current=de,z.call(de)},[A,p,k,P,V,D,ne,S,m,a,i,s,r]),B.useEffect(function(){if(!(g===C.current.x&&v===C.current.y&&h===C.current.k)){var z=m([g,v]),Q=z[0]*h,W=z[1]*h,U=uf(F.current);L.current=!0,U.call(E.current.transform,qU.translate(A/2-Q,p/2-W).scale(h)),w({x:A/2-Q,y:p/2-W,k:h}),C.current={x:g,y:v,k:h}}},[g,v,h,A,p,m]),{mapRef:F,position:b,transformString:"translate(".concat(b.x," ").concat(b.y,") scale(").concat(b.k,")")}}var fyt=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],sme=B.forwardRef(function(e,t){var r=e.center,a=r===void 0?[0,0]:r,s=e.zoom,i=s===void 0?1:s,o=e.minZoom,l=o===void 0?1:o,c=e.maxZoom,d=c===void 0?8:c,u=e.translateExtent,h=e.filterZoomEvent,f=e.onMoveStart,A=e.onMove,p=e.onMoveEnd,m=e.className,x=jd(e,fyt),g=B.useContext(Ih),v=g.width,y=g.height,j=hyt({center:a,filterZoomEvent:h,onMoveStart:f,onMove:A,onMoveEnd:p,scaleExtent:[l,d],translateExtent:u,zoom:i}),b=j.mapRef,w=j.transformString,C=j.position;return Se.createElement(ame,{value:{x:C.x,y:C.y,k:C.k,transformString:w}},Se.createElement("g",{ref:b},Se.createElement("rect",{width:v,height:y,fill:"transparent"}),Se.createElement("g",Ul({ref:t,transform:w,className:"rsm-zoomable-group ".concat(m)},x))))});sme.displayName="ZoomableGroup";sme.propTypes={center:Lt.array,zoom:Lt.number,minZoom:Lt.number,maxZoom:Lt.number,translateExtent:Lt.arrayOf(Lt.array),onMoveStart:Lt.func,onMove:Lt.func,onMoveEnd:Lt.func,className:Lt.string};var Ayt=["id","fill","stroke","strokeWidth","className"],XU=B.forwardRef(function(e,t){var r=e.id,a=r===void 0?"rsm-sphere":r,s=e.fill,i=s===void 0?"transparent":s,o=e.stroke,l=o===void 0?"currentcolor":o,c=e.strokeWidth,d=c===void 0?.5:c,u=e.className,h=u===void 0?"":u,f=jd(e,Ayt),A=B.useContext(Ih),p=A.path,m=B.useMemo(function(){return p({type:"Sphere"})},[p]);return Se.createElement(B.Fragment,null,Se.createElement("defs",null,Se.createElement("clipPath",{id:a},Se.createElement("path",{d:m}))),Se.createElement("path",Ul({ref:t,d:m,fill:i,stroke:l,strokeWidth:d,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(h)},f)))});XU.displayName="Sphere";XU.propTypes={id:Lt.string,fill:Lt.string,stroke:Lt.string,strokeWidth:Lt.number,className:Lt.string};B.memo(XU);var myt=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Ob=B.forwardRef(function(e,t){var r=e.coordinates,a=e.children,s=e.onMouseEnter,i=e.onMouseLeave,o=e.onMouseDown,l=e.onMouseUp,c=e.onFocus,d=e.onBlur,u=e.style,h=u===void 0?{}:u,f=e.className,A=f===void 0?"":f,p=jd(e,myt),m=B.useContext(Ih),x=m.projection,g=B.useState(!1),v=to(g,2),y=v[0],j=v[1],b=B.useState(!1),w=to(b,2),C=w[0],F=w[1],E=x(r),L=to(E,2),N=L[0],I=L[1];function M(D){F(!0),s&&s(D)}function O(D){F(!1),y&&j(!1),i&&i(D)}function k(D){F(!0),c&&c(D)}function P(D){F(!1),y&&j(!1),d&&d(D)}function R(D){j(!0),o&&o(D)}function V(D){j(!1),l&&l(D)}return Se.createElement("g",Ul({ref:t,transform:"translate(".concat(N,", ").concat(I,")"),className:"rsm-marker ".concat(A),onMouseEnter:M,onMouseLeave:O,onFocus:k,onBlur:P,onMouseDown:R,onMouseUp:V,style:h[y||C?y?"pressed":"hover":"default"]},p),a)});Ob.displayName="Marker";Ob.propTypes={coordinates:Lt.array,children:Lt.oneOfType([Lt.node,Lt.arrayOf(Lt.node)]),onMouseEnter:Lt.func,onMouseLeave:Lt.func,onMouseDown:Lt.func,onMouseUp:Lt.func,onFocus:Lt.func,onBlur:Lt.func,style:Lt.object,className:Lt.string};var pyt=["from","to","coordinates","stroke","strokeWidth","fill","className"],ime=B.forwardRef(function(e,t){var r=e.from,a=r===void 0?[0,0]:r,s=e.to,i=s===void 0?[0,0]:s,o=e.coordinates,l=e.stroke,c=l===void 0?"currentcolor":l,d=e.strokeWidth,u=d===void 0?3:d,h=e.fill,f=h===void 0?"transparent":h,A=e.className,p=A===void 0?"":A,m=jd(e,pyt),x=B.useContext(Ih),g=x.path,v={type:"LineString",coordinates:o||[a,i]};return Se.createElement("path",Ul({ref:t,d:g(v),className:"rsm-line ".concat(p),stroke:c,strokeWidth:u,fill:f},m))});ime.displayName="Line";ime.propTypes={from:Lt.array,to:Lt.array,coordinates:Lt.array,stroke:Lt.string,strokeWidth:Lt.number,fill:Lt.string,className:Lt.string};var xyt=["subject","children","connectorProps","dx","dy","curve","className"],ome=B.forwardRef(function(e,t){var r=e.subject,a=e.children,s=e.connectorProps,i=e.dx,o=i===void 0?30:i,l=e.dy,c=l===void 0?30:l,d=e.curve,u=d===void 0?0:d,h=e.className,f=h===void 0?"":h,A=jd(e,xyt),p=B.useContext(Ih),m=p.projection,x=m(r),g=to(x,2),v=g[0],y=g[1],j=nyt(o,c,u);return Se.createElement("g",Ul({ref:t,transform:"translate(".concat(v+o,", ").concat(y+c,")"),className:"rsm-annotation ".concat(f)},A),Se.createElement("path",Ul({d:j,fill:"transparent",stroke:"#000"},s)),a)});ome.displayName="Annotation";ome.propTypes={subject:Lt.array,children:Lt.oneOfType([Lt.node,Lt.arrayOf(Lt.node)]),dx:Lt.number,dy:Lt.number,curve:Lt.number,connectorProps:Lt.object,className:Lt.string};const gyt={"so paulo":[-46.6333,-23.5505],"rio de janeiro":[-43.1729,-22.9068],braslia:[-47.9292,-15.7801],salvador:[-38.5108,-12.9714],fortaleza:[-38.5434,-3.7172],"belo horizonte":[-43.9378,-19.9167],manaus:[-60.0217,-3.119],curitiba:[-49.2654,-25.4284],recife:[-34.8811,-8.0476],"porto alegre":[-51.2177,-30.0346],belm:[-48.5039,-1.4558],goinia:[-49.2539,-16.6869],guarulhos:[-46.5322,-23.4538],campinas:[-47.0626,-22.9099],"so lus":[-44.2825,-2.5297],macei:[-35.7353,-9.6658],natal:[-35.2094,-5.7945],teresina:[-42.8016,-5.092],"campo grande":[-54.6162,-20.4697],"joo pessoa":[-34.8631,-7.1195],cuiab:[-56.0978,-15.601],aracaju:[-37.0731,-10.9472],florianpolis:[-48.5482,-27.5954],vitria:[-40.2976,-20.2976],macap:[-51.0694,.0349],"porto velho":[-63.9004,-8.7612],"boa vista":[-60.6758,2.8235],"rio branco":[-67.8076,-9.9754],palmas:[-48.3558,-10.1689],"santo andr":[-46.5322,-23.6639],osasco:[-46.7916,-23.5329],"ribeiro preto":[-47.8103,-21.1775],sorocaba:[-47.4584,-23.5015],uberlndia:[-48.2772,-18.9186],contagem:[-44.0539,-19.9318],niteri:[-43.1049,-22.8833],londrina:[-51.1628,-23.3045],joinville:[-48.8456,-26.3045],"juiz de fora":[-43.3503,-21.7642],blumenau:[-49.0661,-26.9194],"caxias do sul":[-51.1798,-29.1634],pelotas:[-52.3422,-31.7654],canoas:[-51.1808,-29.9178],maring:[-51.9389,-23.4205],"ponta grossa":[-50.1619,-25.095],cascavel:[-53.4631,-24.9578],santos:[-46.3289,-23.9608],"so jos dos campos":[-45.8872,-23.2237],jundia:[-46.8844,-23.1857],piracicaba:[-47.6476,-22.7338],bauru:[-49.0606,-22.3246],limeira:[-47.4017,-22.5649],americana:[-47.3308,-22.7393],"so bernardo do campo":[-46.5503,-23.6914],diadema:[-46.6228,-23.6816],mau:[-46.4614,-23.6678],carapicuba:[-46.8403,-23.5225],franca:[-47.4008,-20.5386],"so jos do rio preto":[-49.3794,-20.8197],"praia grande":[-46.4122,-24.0058],sertozinho:[-47.9906,-21.1375],jaboticabal:[-48.3222,-21.2544],araraquara:[-48.1756,-21.7845],sumar:[-47.2669,-22.8211],indaiatuba:[-47.2178,-23.0903],"itapecerica da serra":[-46.8492,-23.7169],botucatu:[-48.445,-22.8861],marlia:[-49.9461,-22.2139],"presidente prudente":[-51.3889,-22.1207],assis:[-50.4117,-22.6617],ourinhos:[-49.8708,-22.9786],ja:[-48.5578,-22.2958],lins:[-49.7425,-21.6786],"so carlos":[-47.8908,-22.0175],"rio claro":[-47.5611,-22.4108],"novo hamburgo":[-51.1306,-29.6783],"so leopoldo":[-51.1478,-29.7604],gravata:[-50.9919,-29.9428],viamo:[-51.0833,-30.0833],alvorada:[-51.0833,-29.9833],cachoeirinha:[-51.1,-29.95],esteio:[-51.1833,-29.85],"sapucaia do sul":[-51.15,-29.8333]},gY="https://raw.githubusercontent.com/codeforamerica/click_that_hood/master/public/data/brazil-states.geojson",vY={AC:[-70.5,-9],AL:[-36.6,-9.5],AP:[-51,1.5],AM:[-64,-4],BA:[-41.5,-12.5],CE:[-39.5,-5.2],DF:[-47.9,-15.8],ES:[-40.5,-19.5],GO:[-49.5,-16],MA:[-45,-5],MT:[-55.5,-13],MS:[-55,-21],MG:[-44.5,-18.5],PA:[-53,-4],PB:[-36.8,-7.1],PR:[-51.5,-24.5],PE:[-37.5,-8.3],PI:[-42.8,-7.5],RJ:[-43,-22.5],RN:[-36.5,-5.8],RS:[-53.5,-29.5],RO:[-63,-10.5],RR:[-61,2.5],SC:[-49.5,-27.5],SP:[-48.5,-22.5],SE:[-37.4,-10.9],TO:[-48.5,-10]},Js=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C","#A855F7","#EC4899"],Yx=["#06D6A0","#118AB2","#EF476F","#3A86FF","#8338EC","#FF006E","#FB5607","#38B000","#073B4C","#9D4EDD"],yY=15e3,L4=[{id:"sales_overview",title:"Viso Geral de Vendas",icon:n.jsx(Li,{className:"h-8 w-8"}),color:"from-blue-500 to-blue-700"},{id:"top_vendors",title:"Top Vendedores",icon:n.jsx(ca,{className:"h-8 w-8"}),color:"from-green-500 to-green-700"},{id:"top_products",title:"Produtos Mais Vendidos",icon:n.jsx(gr,{className:"h-8 w-8"}),color:"from-purple-500 to-purple-700"},{id:"monthly_revenue",title:"Faturamento Mensal",icon:n.jsx(Mr,{className:"h-8 w-8"}),color:"from-yellow-500 to-orange-600"},{id:"revenue_by_state",title:"Faturamento por Estado",icon:n.jsx(Cm,{className:"h-8 w-8"}),color:"from-emerald-500 to-emerald-700"},{id:"orders_by_status",title:"Pedidos por Status",icon:n.jsx(jn,{className:"h-8 w-8"}),color:"from-pink-500 to-pink-700"},{id:"top_clients",title:"Principais Clientes",icon:n.jsx(XS,{className:"h-8 w-8"}),color:"from-cyan-500 to-cyan-700"},{id:"daily_sales",title:"Vendas Dirias (ltimos 15 dias)",icon:n.jsx(Rp,{className:"h-8 w-8"}),color:"from-indigo-500 to-indigo-700"},{id:"branch_performance",title:"Desempenho por Filial",icon:n.jsx(JS,{className:"h-8 w-8"}),color:"from-teal-500 to-teal-700"}];function wY(){const[e,t]=B.useState(0),[r,a]=B.useState(!0),[s,i]=B.useState(!1),[o,l]=B.useState(new Date),{data:c=[],refetch:d}=pt({queryKey:["/api/tv-dashboard/sales"],queryFn:async()=>{const je=await fetch("/api/tv-dashboard/sales");if(!je.ok)throw new Error("Failed to fetch sales");return je.json()},refetchInterval:3e4}),{data:u=[]}=pt({queryKey:["/api/vendors"],queryFn:async()=>{const je=await fetch("/api/vendors");if(!je.ok)throw new Error("Failed to fetch vendors");return je.json()},refetchInterval:6e4}),{data:h=[]}=pt({queryKey:["/api/clients"],queryFn:async()=>{const je=await fetch("/api/clients");if(!je.ok)throw new Error("Failed to fetch clients");return je.json()},refetchInterval:6e4}),{data:f=[]}=pt({queryKey:["/api/branches"],queryFn:async()=>{const je=await fetch("/api/branches");if(!je.ok)throw new Error("Failed to fetch branches");return je.json()},refetchInterval:6e4}),{data:A=[]}=pt({queryKey:["/api/budgets"],queryFn:async()=>{const je=await fetch("/api/budgets");if(!je.ok)throw new Error("Failed to fetch budgets");return je.json()},refetchInterval:6e4});pt({queryKey:["/api/production-orders"],queryFn:async()=>{const je=await fetch("/api/production-orders");if(!je.ok)throw new Error("Failed to fetch production orders");return je.json()},refetchInterval:3e4});const{data:p=[]}=pt({queryKey:["/api/finance/receivables"],queryFn:async()=>{const je=await fetch("/api/finance/receivables");if(!je.ok)throw new Error("Failed to fetch receivables");return je.json()},refetchInterval:6e4}),m=B.useCallback(()=>{t(je=>(je+1)%L4.length),l(new Date)},[]);B.useEffect(()=>{if(!r)return;const je=setInterval(()=>{m()},yY);return()=>clearInterval(je)},[r,m]);const x=()=>{document.fullscreenElement?(document.exitFullscreen(),i(!1)):(document.documentElement.requestFullscreen(),i(!0))};B.useEffect(()=>{const je=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",je),()=>document.removeEventListener("fullscreenchange",je)},[]);const g=c,v=g.reduce((je,De)=>je+parseFloat(De.totalValue||"0"),0);g.length>0&&v/g.length;const y=new Date,j=y.getFullYear(),b=y.getMonth(),w=new Date(y);w.setDate(y.getDate()-y.getDay()),w.setHours(0,0,0,0);const C=g.filter(je=>new Date(je.createdAt).getFullYear()===j),F=g.filter(je=>{const De=new Date(je.createdAt);return De.getFullYear()===j&&De.getMonth()===b}),E=g.filter(je=>new Date(je.createdAt)>=w),L=C.reduce((je,De)=>je+parseFloat(De.totalValue||"0"),0),N=F.reduce((je,De)=>je+parseFloat(De.totalValue||"0"),0),I=E.reduce((je,De)=>je+parseFloat(De.totalValue||"0"),0),M=C.length>0?L/C.length:0,O=F.length>0?N/F.length:0,k=E.length>0?I/E.length:0,P=je=>u.map(De=>{var At;const Ke=je.filter(He=>String(He.vendorId)===String(De.id));return{name:((At=De.name)==null?void 0:At.split(" ").slice(0,2).join(" "))||"N/A",fullName:De.name||"N/A",pedidos:Ke.length,valor:Ke.reduce((He,Te)=>He+parseFloat(Te.totalValue||"0"),0),photoUrl:De.photoUrl||null}}).filter(De=>De.pedidos>0).sort((De,Ke)=>Ke.valor-De.valor).slice(0,6),R=P(C),V=P(F),D=P(E),Y={};g.forEach(je=>{const De=je.budgetItems&&Array.isArray(je.budgetItems)?je.budgetItems:[],Ke=new Set;De.forEach(At=>{const He=At.productName||"Produto",Te=At.imageLink||"";Ke.has(He)||(Ke.add(He),Y[He]||(Y[He]={name:He,quantidade:0,valor:0,imageUrl:Te}),!Y[He].imageUrl&&Te&&(Y[He].imageUrl=Te),Y[He].quantidade+=1,Y[He].valor+=parseFloat(String(At.unitPrice||0))*parseFloat(String(At.quantity||1)))})});const ne=Object.values(Y).sort((je,De)=>De.quantidade-je.quantidade).slice(0,10),S={};g.forEach(je=>{const De=new Date(je.createdAt),Ke=`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}`;S[Ke]=(S[Ke]||0)+parseFloat(je.totalValue||"0")});const Q=Object.keys(S).sort().slice(-12).map(je=>({mes:new Date(je+"-01").toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),valor:S[je]})),W={};A.forEach(je=>{const De=je.status||"draft";W[De]=(W[De]||0)+1});const U={draft:"Rascunho",sent:"Enviado",approved:"Aprovado",rejected:"Rejeitado",converted:"Convertido",pending:"Pendente",confirmed:"Confirmado",production:"Em Produo",in_production:"Em Produo",ready:"Pronto",delivered:"Entregue",shipped:"Despachado",delayed:"Atrasado",pending_acceptance:"Aguardando Aceite"},re=Object.entries(W).map(([je,De])=>({name:U[je]||je,value:De})),de=h.map(je=>{var Ke;const De=g.filter(At=>String(At.clientId)===String(je.id));return{name:((Ke=je.name)==null?void 0:Ke.split(" ").slice(0,2).join(" "))||"N/A",pedidos:De.length,valor:De.reduce((At,He)=>At+parseFloat(He.totalValue||"0"),0)}}).filter(je=>je.pedidos>0).sort((je,De)=>De.valor-je.valor).slice(0,8),ae={},Ae=new Date;Ae.setHours(0,0,0,0),Ae.setDate(Ae.getDate()-15);for(let je=0;je<=15;je++){const De=new Date;De.setDate(De.getDate()-je);const Ke=De.toISOString().split("T")[0];ae[Ke]=0}g.forEach(je=>{const De=new Date(je.createdAt);if(De>=Ae){const Ke=De.toISOString().split("T")[0];Ke in ae?ae[Ke]+=parseFloat(je.totalValue||"0"):ae[Ke]=(ae[Ke]||0)+parseFloat(je.totalValue||"0")}});const H=Object.keys(ae).sort().map(je=>({dia:new Date(je+"T12:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),valor:ae[je]}));p.filter(je=>je.status!=="paid"&&je.status!=="cancelled").reduce((je,De)=>{const Ke=parseFloat(De.amount||"0"),At=parseFloat(De.receivedAmount||"0");return je+Math.max(0,Ke-At)},0),p.reduce((je,De)=>je+parseFloat(De.receivedAmount||"0"),0);const Oe=je=>{if(!je)return null;const De=je.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(const[Ke,At]of Object.entries(gyt)){const He=Ke.normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(De.includes(He)||He.includes(De))return At}return null},Ee=g.filter(je=>!je.branchId),st=[...Ee.length>0?[{id:"matriz-principal",name:"Matriz",city:"Novo Hamburgo - RS",valor:Ee.reduce((je,De)=>je+parseFloat(De.totalValue||"0"),0),pedidos:Ee.length,coordinates:[-51.1306,-29.6783],isHeadquarters:!0}]:[],...f.map(je=>{const De=g.filter(At=>At.branchId===je.id),Ke=Oe(je.city||je.name||"");return{id:je.id,name:je.name||"Filial",city:je.city||"",valor:De.reduce((At,He)=>At+parseFloat(He.totalValue||"0"),0),pedidos:De.length,coordinates:Ke,isHeadquarters:je.isHeadquarters||!1}}).filter(je=>je.coordinates!==null)],se={"so paulo":"SP","sao paulo":"SP",sp:"SP",guarulhos:"SP",campinas:"SP",santos:"SP","so jos dos campos":"SP",sorocaba:"SP","ribeiro preto":"SP","rio de janeiro":"RJ",niteri:"RJ",rj:"RJ","belo horizonte":"MG",uberlndia:"MG",contagem:"MG",mg:"MG",curitiba:"PR",londrina:"PR",maring:"PR",pr:"PR","porto alegre":"RS","novo hamburgo":"RS","caxias do sul":"RS",canoas:"RS","so leopoldo":"RS",gravata:"RS",pelotas:"RS",rs:"RS",florianpolis:"SC",joinville:"SC",blumenau:"SC",sc:"SC",salvador:"BA",ba:"BA",fortaleza:"CE",ce:"CE",recife:"PE",pe:"PE",braslia:"DF",df:"DF",manaus:"AM",am:"AM",belm:"PA",pa:"PA",goinia:"GO",go:"GO",vitria:"ES",es:"ES",natal:"RN",rn:"RN",macei:"AL",al:"AL","so lus":"MA",ma:"MA",teresina:"PI",pi:"PI","campo grande":"MS",ms:"MS",cuiab:"MT",mt:"MT","joo pessoa":"PB",pb:"PB",aracaju:"SE",se:"SE",palmas:"TO",to:"TO",macap:"AP",ap:"AP","porto velho":"RO",ro:"RO","boa vista":"RR",rr:"RR","rio branco":"AC",ac:"AC"},me=je=>{if(je.clientState)return je.clientState.toUpperCase();const De=(je.clientCity||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();if(De&&se[De])return se[De];for(const[Ke,At]of Object.entries(se)){const He=Ke.normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(De.includes(He)||He.includes(De))return At}return"RS"},nt={};g.forEach(je=>{const De=me(je);nt[De]||(nt[De]={valor:0,pedidos:0}),nt[De].valor+=parseFloat(je.totalValue||"0"),nt[De].pedidos+=1});const Nt=Math.max(...Object.values(nt).map(je=>je.valor),1),xt=je=>{const De=nt[je];if(!De||De.valor===0)return"#1e293b";const Ke=Math.min(De.valor/Nt,1);return Ke>.7?"#16a34a":Ke>.4?"#22c55e":Ke>.2?"#4ade80":Ke>.05?"#86efac":"#bbf7d0"},Ne={Acre:"AC",Alagoas:"AL",Amap:"AP",Amazonas:"AM",Bahia:"BA",Cear:"CE","Distrito Federal":"DF","Esprito Santo":"ES",Gois:"GO",Maranho:"MA","Mato Grosso":"MT","Mato Grosso do Sul":"MS","Minas Gerais":"MG",Par:"PA",Paraba:"PB",Paran:"PR",Pernambuco:"PE",Piau:"PI","Rio de Janeiro":"RJ","Rio Grande do Norte":"RN","Rio Grande do Sul":"RS",Rondnia:"RO",Roraima:"RR","Santa Catarina":"SC","So Paulo":"SP",Sergipe:"SE",Tocantins:"TO"},le=L4[e],Fe=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},ze=()=>{switch(le.id){case"sales_overview":return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(Le,{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-white border-0 shadow-2xl",children:n.jsxs(Re,{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("p",{className:"text-blue-100 text-xl font-medium",children:["Anual (",j,")"]}),n.jsx(XS,{className:"h-10 w-10 text-blue-200 opacity-80"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-4xl font-black",children:["R$ ",L.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-blue-200 text-sm mt-1 uppercase tracking-wider",children:"Total de Vendas"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-blue-400/30",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:C.length}),n.jsx("p",{className:"text-blue-200 text-xs uppercase",children:"Pedidos"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",M.toLocaleString("pt-BR",{maximumFractionDigits:0})]}),n.jsx("p",{className:"text-blue-200 text-xs uppercase",children:"Ticket Mdio"})]})]})]})]})}),n.jsx(Le,{className:"bg-gradient-to-br from-green-600 to-green-800 text-white border-0 shadow-2xl",children:n.jsxs(Re,{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("p",{className:"text-green-100 text-xl font-medium",children:["Mensal (",y.toLocaleDateString("pt-BR",{month:"long"}),")"]}),n.jsx(Li,{className:"h-10 w-10 text-green-200 opacity-80"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-4xl font-black",children:["R$ ",N.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-green-200 text-sm mt-1 uppercase tracking-wider",children:"Total de Vendas"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-green-400/30",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:F.length}),n.jsx("p",{className:"text-green-200 text-xs uppercase",children:"Pedidos"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",O.toLocaleString("pt-BR",{maximumFractionDigits:0})]}),n.jsx("p",{className:"text-green-200 text-xs uppercase",children:"Ticket Mdio"})]})]})]})]})}),n.jsx(Le,{className:"bg-gradient-to-br from-purple-600 to-purple-800 text-white border-0 shadow-2xl",children:n.jsxs(Re,{className:"p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("p",{className:"text-purple-100 text-xl font-medium",children:"Semanal"}),n.jsx(Rp,{className:"h-10 w-10 text-purple-200 opacity-80"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-4xl font-black",children:["R$ ",I.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-purple-200 text-sm mt-1 uppercase tracking-wider",children:"Total de Vendas"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-purple-400/30",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:E.length}),n.jsx("p",{className:"text-purple-200 text-xs uppercase",children:"Pedidos"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",k.toLocaleString("pt-BR",{maximumFractionDigits:0})]}),n.jsx("p",{className:"text-purple-200 text-xs uppercase",children:"Ticket Mdio"})]})]})]})]})})]});case"top_vendors":return n.jsx("div",{className:"h-[520px] flex flex-col gap-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full",children:[n.jsxs("div",{className:"flex flex-col bg-slate-900/40 rounded-2xl p-4 border border-slate-700/50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[n.jsx(Rp,{className:"h-5 w-5 text-purple-400"}),n.jsx("h3",{className:"text-purple-100 font-bold uppercase tracking-wider text-sm",children:"Top Vendedores (Semanal)"})]}),n.jsx("div",{className:"space-y-3 flex-1 overflow-hidden",children:D.map((He,Te)=>n.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/50 p-3 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center font-bold text-xs shrink-0",children:[Te+1,""]}),n.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-purple-500/30 overflow-hidden shrink-0 bg-slate-700 flex items-center justify-center",children:He.photoUrl?n.jsx("img",{src:He.photoUrl,alt:He.name,className:"w-full h-full object-cover"}):n.jsx(ca,{className:"h-5 w-5 text-slate-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-sm truncate",children:He.name}),n.jsxs("p",{className:"text-slate-400 text-[10px] uppercase",children:[He.pedidos," pedidos"]})]}),n.jsx("div",{className:"text-right shrink-0",children:n.jsxs("p",{className:"text-purple-300 font-bold text-sm",children:["R$ ",He.valor.toLocaleString("pt-BR",{maximumFractionDigits:0})]})})]},He.name+"week"))})]}),n.jsxs("div",{className:"flex flex-col bg-slate-900/40 rounded-2xl p-4 border border-slate-700/50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[n.jsx(Li,{className:"h-5 w-5 text-green-400"}),n.jsx("h3",{className:"text-green-100 font-bold uppercase tracking-wider text-sm",children:"Top Vendedores (Mensal)"})]}),n.jsx("div",{className:"space-y-3 flex-1 overflow-hidden",children:V.map((He,Te)=>n.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/50 p-3 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"w-6 h-6 rounded-full bg-green-500/20 text-green-400 flex items-center justify-center font-bold text-xs shrink-0",children:[Te+1,""]}),n.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-green-500/30 overflow-hidden shrink-0 bg-slate-700 flex items-center justify-center",children:He.photoUrl?n.jsx("img",{src:He.photoUrl,alt:He.name,className:"w-full h-full object-cover"}):n.jsx(ca,{className:"h-5 w-5 text-slate-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-sm truncate",children:He.name}),n.jsxs("p",{className:"text-slate-400 text-[10px] uppercase",children:[He.pedidos," pedidos"]})]}),n.jsx("div",{className:"text-right shrink-0",children:n.jsxs("p",{className:"text-green-300 font-bold text-sm",children:["R$ ",He.valor.toLocaleString("pt-BR",{maximumFractionDigits:0})]})})]},He.name+"month"))})]}),n.jsxs("div",{className:"flex flex-col bg-slate-900/40 rounded-2xl p-4 border border-slate-700/50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 px-2",children:[n.jsx(XS,{className:"h-5 w-5 text-blue-400"}),n.jsx("h3",{className:"text-blue-100 font-bold uppercase tracking-wider text-sm",children:"Top Vendedores (Anual)"})]}),n.jsx("div",{className:"space-y-3 flex-1 overflow-hidden",children:R.map((He,Te)=>n.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/50 p-3 rounded-xl border border-white/5",children:[n.jsxs("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center font-bold text-xs shrink-0",children:[Te+1,""]}),n.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-blue-500/30 overflow-hidden shrink-0 bg-slate-700 flex items-center justify-center",children:He.photoUrl?n.jsx("img",{src:He.photoUrl,alt:He.name,className:"w-full h-full object-cover"}):n.jsx(ca,{className:"h-5 w-5 text-slate-500"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-sm truncate",children:He.name}),n.jsxs("p",{className:"text-slate-400 text-[10px] uppercase",children:[He.pedidos," pedidos"]})]}),n.jsx("div",{className:"text-right shrink-0",children:n.jsxs("p",{className:"text-blue-300 font-bold text-sm",children:["R$ ",He.valor.toLocaleString("pt-BR",{maximumFractionDigits:0})]})})]},He.name+"year"))})]})]})});case"top_products":return n.jsx("div",{className:"h-[520px] flex flex-col",children:n.jsx("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 p-4",children:ne.map((He,Te)=>n.jsxs("div",{className:"relative bg-gradient-to-br rounded-xl p-4 flex flex-col items-center justify-between shadow-lg transform hover:scale-105 transition-transform",style:{background:`linear-gradient(135deg, ${Js[Te%Js.length]}22, ${Js[Te%Js.length]}44)`,border:`2px solid ${Js[Te%Js.length]}`},children:[n.jsxs("div",{className:"absolute -top-3 -left-3 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg",style:{backgroundColor:Js[Te%Js.length]},children:[Te+1,""]}),He.imageUrl?n.jsx("img",{src:He.imageUrl,alt:He.name,className:"w-20 h-20 object-contain rounded-lg bg-white/10 mb-2",onError:dr=>{dr.target.style.display="none"}}):n.jsx("div",{className:"w-20 h-20 rounded-lg bg-white/10 flex items-center justify-center mb-2",children:n.jsx(gr,{className:"w-10 h-10 text-gray-400"})}),n.jsx("p",{className:"text-white text-xs text-center font-medium line-clamp-2 mb-2",title:He.name,children:He.name.length>30?He.name.substring(0,30)+"...":He.name}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold",style:{color:Js[Te%Js.length]},children:He.quantidade}),n.jsx("p",{className:"text-gray-400 text-xs",children:"pedidos"})]})]},He.name))})});case"monthly_revenue":return n.jsx("div",{className:"h-[500px]",children:n.jsx(DA,{width:"100%",height:"100%",children:n.jsxs(wD,{data:Q,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#F59E0B",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#F59E0B",stopOpacity:.1})]})}),n.jsx(Xp,{strokeDasharray:"3 3",stroke:"#374151"}),n.jsx(Yd,{dataKey:"mes",stroke:"#9CA3AF"}),n.jsx(Jc,{tickFormatter:He=>`R$ ${(He/1e3).toFixed(0)}k`,stroke:"#9CA3AF"}),n.jsx(eo,{formatter:He=>[`R$ ${He.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Faturamento"],contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#F9FAFB"}}),n.jsx(gd,{type:"monotone",dataKey:"valor",stroke:"#F59E0B",fill:"url(#colorRevenue)",strokeWidth:3})]})})});case"revenue_by_state":return n.jsxs("div",{className:"h-[520px] flex",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsxs(EE,{projection:"geoMercator",projectionConfig:{scale:600,center:[-54,-15]},style:{width:"100%",height:"100%"},children:[n.jsx(BE,{geography:gY,children:({geographies:He})=>He.map(Te=>{const dr=Te.properties.name||Te.properties.NAME,Pe=Ne[dr]||"";return nt[Pe],n.jsx(xY,{geography:Te,fill:xt(Pe),stroke:"#334155",strokeWidth:.5,style:{default:{outline:"none"},hover:{outline:"none",fill:"#facc15",cursor:"pointer"},pressed:{outline:"none"}}},Te.rsmKey)})}),Object.entries(vY).map(([He,Te])=>{const dr=nt[He];return!dr||dr.valor===0?null:n.jsxs(Ob,{coordinates:Te,children:[n.jsx("text",{textAnchor:"middle",fill:"#fff",fontSize:8,fontWeight:"bold",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:He}),n.jsxs("text",{textAnchor:"middle",y:12,fill:"#fbbf24",fontSize:7,fontWeight:"bold",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:["R$ ",dr.valor>=1e3?`${(dr.valor/1e3).toFixed(1)}k`:dr.valor.toFixed(0)]})]},He)})]})}),n.jsxs("div",{className:"w-72 p-4 space-y-3 overflow-auto",children:[n.jsx("h3",{className:"text-white font-bold text-sm uppercase tracking-wider mb-3",children:"Ranking por Estado"}),Object.entries(nt).sort(([,He],[,Te])=>Te.valor-He.valor).map(([He,Te],dr)=>n.jsxs("div",{className:"flex items-center gap-3 bg-slate-800/60 p-3 rounded-xl border border-white/5",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs shrink-0",style:{backgroundColor:xt(He),color:"#fff"},children:dr+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-white font-medium text-sm",children:He}),n.jsxs("p",{className:"text-slate-400 text-[10px] uppercase",children:[Te.pedidos," pedidos"]})]}),n.jsx("div",{className:"text-right shrink-0",children:n.jsxs("p",{className:"text-emerald-300 font-bold text-sm",children:["R$ ",Te.valor.toLocaleString("pt-BR",{maximumFractionDigits:0})]})})]},He))]})]});case"orders_by_status":return n.jsx("div",{className:"h-[500px] flex items-center justify-center",children:n.jsx(DA,{width:"100%",height:"100%",children:n.jsxs(Hfe,{children:[n.jsx(Ph,{data:re,cx:"50%",cy:"50%",outerRadius:180,innerRadius:80,paddingAngle:2,dataKey:"value",label:({name:He,value:Te,percent:dr})=>`${He}: ${Te} (${(dr*100).toFixed(0)}%)`,labelLine:{stroke:"#9CA3AF"},children:re.map((He,Te)=>n.jsx(e1,{fill:Js[Te%Js.length]},`cell-${Te}`))}),n.jsx(eo,{formatter:He=>[He,"Pedidos"],contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),n.jsx(ch,{})]})})});case"top_clients":return n.jsx("div",{className:"h-[520px] flex flex-col",children:n.jsx("div",{className:"flex-1 grid grid-cols-4 gap-6 p-4",children:de.map((He,Te)=>n.jsxs("div",{className:"relative bg-gradient-to-br rounded-xl p-6 flex flex-col items-center justify-between shadow-lg transform hover:scale-105 transition-transform",style:{background:`linear-gradient(135deg, ${Js[Te%Js.length]}22, ${Js[Te%Js.length]}44)`,border:`2px solid ${Js[Te%Js.length]}`},children:[n.jsxs("div",{className:"absolute -top-3 -left-3 w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",style:{backgroundColor:Js[Te%Js.length]},children:[Te+1,""]}),n.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 flex items-center justify-center mb-3 border-4 border-white/20",children:n.jsx(jn,{className:"w-10 h-10 text-white opacity-80"})}),n.jsxs("div",{className:"text-center w-full",children:[n.jsx("h3",{className:"text-xl font-bold text-white truncate mb-1",children:He.name}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("div",{className:"flex items-center justify-center gap-2",children:n.jsxs(Yt,{variant:"outline",className:"bg-white/10 text-white border-white/20 text-sm py-1 px-3",children:[He.pedidos," pedidos"]})}),n.jsxs("p",{className:"text-2xl font-black text-white mt-1",children:["R$ ",He.valor.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]},He.name+Te))})});case"daily_sales":return n.jsx("div",{className:"h-[500px]",children:H.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Rp,{className:"h-24 w-24 mx-auto text-gray-400 mb-4"}),n.jsx("p",{className:"text-2xl text-gray-400",children:"Nenhuma venda nos ltimos 30 dias"})]})}):n.jsx(DA,{width:"100%",height:"100%",children:n.jsxs(wD,{data:H,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorVendas",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#6366F1",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#6366F1",stopOpacity:.1})]})}),n.jsx(Xp,{strokeDasharray:"3 3",stroke:"#374151"}),n.jsx(Yd,{dataKey:"dia",stroke:"#9CA3AF",angle:-45,textAnchor:"end",height:60}),n.jsx(Jc,{tickFormatter:He=>`R$ ${(He/1e3).toFixed(1)}k`,stroke:"#9CA3AF"}),n.jsx(eo,{formatter:He=>[`R$ ${He.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Vendas"],contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#F9FAFB"}}),n.jsx(gd,{type:"monotone",dataKey:"valor",stroke:"#6366F1",strokeWidth:3,fillOpacity:1,fill:"url(#colorVendas)",dot:{r:6,fill:"#6366F1"}})]})})});case"branch_performance":const je=Math.max(...st.map(He=>He.pedidos),1),De=new Set;f.forEach(He=>{const Te=(He.city||"").toLowerCase();(Te.includes("so paulo")||Te.includes("campinas")||Te.includes("santos")||Te.includes("ribeiro")||Te.includes("sorocaba"))&&De.add("SP"),(Te.includes("rio de janeiro")||Te.includes("niteri"))&&De.add("RJ"),(Te.includes("belo horizonte")||Te.includes("uberlndia")||Te.includes("contagem"))&&De.add("MG"),(Te.includes("curitiba")||Te.includes("londrina")||Te.includes("maring"))&&De.add("PR"),(Te.includes("porto alegre")||Te.includes("caxias")||Te.includes("novo hamburgo")||Te.includes("so leopoldo")||Te.includes("gravata"))&&De.add("RS"),Te.includes("salvador")&&De.add("BA"),Te.includes("recife")&&De.add("PE"),Te.includes("fortaleza")&&De.add("CE"),Te.includes("braslia")&&De.add("DF"),Te.includes("goinia")&&De.add("GO"),Te.includes("manaus")&&De.add("AM"),Te.includes("belm")&&De.add("PA"),(Te.includes("florianpolis")||Te.includes("joinville")||Te.includes("blumenau"))&&De.add("SC"),Te.includes("vitria")&&De.add("ES"),Te.includes("natal")&&De.add("RN"),Te.includes("macei")&&De.add("AL"),Te.includes("joo pessoa")&&De.add("PB"),Te.includes("aracaju")&&De.add("SE"),Te.includes("teresina")&&De.add("PI"),Te.includes("so lus")&&De.add("MA"),Te.includes("cuiab")&&De.add("MT"),Te.includes("campo grande")&&De.add("MS"),Te.includes("palmas")&&De.add("TO"),Te.includes("macap")&&De.add("AP"),Te.includes("boa vista")&&De.add("RR"),Te.includes("porto velho")&&De.add("RO"),Te.includes("rio branco")&&De.add("AC"),He.state&&De.add(He.state.toUpperCase())});const Ke={AC:"#00D4AA",AL:"#00B4D8",AP:"#0096C7",AM:"#48CAE4",BA:"#00C49A",CE:"#00B4D8",DF:"#2EC4B6",ES:"#3DD5F3",GO:"#00D4AA",MA:"#48CAE4",MT:"#00C49A",MS:"#00B4D8",MG:"#2EC4B6",PA:"#0096C7",PB:"#48CAE4",PR:"#00D4AA",PE:"#00B4D8",PI:"#3DD5F3",RJ:"#FFD166",RN:"#48CAE4",RS:"#00C49A",RO:"#0096C7",RR:"#48CAE4",SC:"#2EC4B6",SP:"#EF476F",SE:"#00B4D8",TO:"#00D4AA"},At="#2D3748";return n.jsxs("div",{className:"h-[520px] flex gap-4",children:[n.jsx("div",{className:"flex-1 relative",children:n.jsxs(EE,{projection:"geoMercator",projectionConfig:{scale:850,center:[-52,-15]},style:{width:"100%",height:"100%"},children:[n.jsx(BE,{geography:gY,children:({geographies:He})=>He.map(Te=>{var wt;const dr=Te.properties.sigla||((wt=Te.properties.name)==null?void 0:wt.substring(0,2).toUpperCase()),Pe=De.has(dr),X=Pe?Ke[dr]||"#00D4AA":At,We=Pe?.9:.4;return n.jsx(xY,{geography:Te,fill:X,stroke:Pe?"#FFFFFF":"#4A5568",strokeWidth:Pe?1.5:.5,style:{default:{outline:"none",fillOpacity:We},hover:{fill:X,fillOpacity:Pe?1:.5,outline:"none"},pressed:{outline:"none"}}},Te.rsmKey)})}),Object.entries(vY).map(([He,Te])=>n.jsx(Ob,{coordinates:Te,children:n.jsx("text",{textAnchor:"middle",style:{fontFamily:"system-ui",fill:"#1F2937",fontSize:"11px",fontWeight:"bold",textShadow:"1px 1px 0 white, -1px -1px 0 white, 1px -1px 0 white, -1px 1px 0 white"},children:He})},`label-${He}`)),st.map((He,Te)=>{if(!He.coordinates)return null;const dr=Math.max(15,He.pedidos/je*45);return n.jsx(Ob,{coordinates:He.coordinates,children:n.jsxs("g",{children:[n.jsx("circle",{r:dr,fill:He.isHeadquarters?"#F59E0B":Yx[Te%Yx.length],fillOpacity:.8,stroke:"#fff",strokeWidth:2,style:{cursor:"pointer"}}),n.jsx("text",{textAnchor:"middle",y:dr+14,style:{fontFamily:"system-ui",fill:"#F9FAFB",fontSize:"10px",fontWeight:"bold"},children:He.pedidos})]})},He.id)})]})}),n.jsxs("div",{className:"w-72 bg-gray-800/50 rounded-xl p-4 overflow-y-auto",children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(Cm,{className:"h-5 w-5"}),"Filiais"]}),n.jsx("div",{className:"space-y-3",children:st.sort((He,Te)=>Te.pedidos-He.pedidos).map((He,Te)=>n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 border-l-4",style:{borderColor:He.isHeadquarters?"#F59E0B":Yx[Te%Yx.length]},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-white font-medium text-sm",children:[He.name,He.isHeadquarters&&n.jsx("span",{className:"ml-1 text-yellow-500",children:""})]}),n.jsx("p",{className:"text-gray-400 text-xs",children:He.city})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold",style:{color:He.isHeadquarters?"#F59E0B":Yx[Te%Yx.length]},children:He.pedidos}),n.jsx("p",{className:"text-gray-400 text-xs",children:"pedidos"})]})]}),n.jsxs("p",{className:"text-gray-300 text-xs mt-1",children:["R$ ",He.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},He.id))})]})]});default:return n.jsx("div",{children:"Relatrio no encontrado"})}};return n.jsxs("div",{className:"fixed inset-0 bg-gray-900 text-white p-6 overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${le.color}`,children:le.icon}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:le.title}),n.jsxs("p",{className:"text-gray-400",children:["Atualizado s ",o.toLocaleTimeString("pt-BR")," - Prxima rotao em ",Math.ceil(yY/1e3),"s"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Yt,{variant:"outline",className:"text-lg px-4 py-2 border-gray-600 text-gray-300",children:[e+1," / ",L4.length]}),n.jsxs(Z,{variant:"outline",size:"lg",onClick:Fe,className:"border-red-600 text-red-400 hover:bg-red-900/20 hover:text-red-300",children:[n.jsx(Py,{className:"h-5 w-5 mr-2"}),"Sair"]}),n.jsxs(Z,{variant:"outline",size:"lg",onClick:()=>{d(),l(new Date)},className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),"Atualizar"]}),n.jsxs(Z,{variant:"outline",size:"lg",onClick:()=>a(!r),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[r?n.jsx(Aye,{className:"h-5 w-5 mr-2"}):n.jsx(mye,{className:"h-5 w-5 mr-2"}),r?"Pausar":"Iniciar"]}),n.jsxs(Z,{variant:"outline",size:"lg",onClick:m,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[n.jsx(Rp,{className:"h-5 w-5 mr-2"}),"Prximo"]}),n.jsx(Z,{variant:"outline",size:"lg",onClick:x,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:s?n.jsx(uye,{className:"h-5 w-5"}):n.jsx(lye,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"flex gap-2 mb-4 flex-wrap",children:L4.map((je,De)=>n.jsx(Z,{variant:e===De?"default":"outline",size:"sm",onClick:()=>{t(De),l(new Date)},className:e===De?`bg-gradient-to-r ${je.color} border-0 whitespace-nowrap`:"border-gray-600 text-gray-300 hover:bg-gray-800 whitespace-nowrap",children:je.title},je.id))}),n.jsx(Le,{className:"bg-gray-800 border-gray-700 flex-1 overflow-auto",children:n.jsx(Re,{className:"p-6 h-full",children:ze()})}),n.jsxs("div",{className:"fixed bottom-4 left-4 flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${r?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),n.jsx("span",{className:"text-sm text-gray-400",children:r?"Rotao automtica ativa":"Rotao pausada"})]})]})}function ea(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Xo(e,t){const r=ea(e);return isNaN(t)?Sc(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fu(e,t){const r=ea(e);if(isNaN(t))return Sc(e,NaN);if(!t)return r;const a=r.getDate(),s=Sc(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}const YU=6048e5,vyt=864e5;let yyt={};function CN(){return yyt}function bh(e,t){var l,c,d,u;const r=CN(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=ea(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function G0(e){return bh(e,{weekStartsOn:1})}function lme(e){const t=ea(e),r=t.getFullYear(),a=Sc(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=G0(a),i=Sc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=G0(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function yy(e){const t=ea(e);return t.setHours(0,0,0,0),t}function FE(e){const t=ea(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rh(e,t){const r=yy(e),a=yy(t),s=+r-FE(r),i=+a-FE(a);return Math.round((s-i)/vyt)}function wyt(e){const t=lme(e),r=Sc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),G0(r)}function tL(e,t){const r=t*7;return Xo(e,r)}function byt(e,t){return fu(e,t*12)}function jyt(e){let t;return e.forEach(function(r){const a=ea(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function Nyt(e){let t;return e.forEach(r=>{const a=ea(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function Pl(e,t){const r=yy(e),a=yy(t);return+r==+a}function JU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cyt(e){if(!JU(e)&&typeof e!="number")return!1;const t=ea(e);return!isNaN(Number(t))}function T2(e,t){const r=ea(e),a=ea(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function Syt(e,t,r){const a=bh(e,r),s=bh(t,r),i=+a-FE(a),o=+s-FE(s);return Math.round((i-o)/YU)}function ZU(e){const t=ea(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Dl(e){const t=ea(e);return t.setDate(1),t.setHours(0,0,0,0),t}function cme(e){const t=ea(e),r=Sc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function eQ(e,t){var l,c,d,u;const r=CN(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=ea(e),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function dme(e){return eQ(e,{weekStartsOn:1})}const _yt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Eyt=(e,t,r)=>{let a;const s=_yt[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function oT(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Byt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fyt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pyt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kyt={date:oT({formats:Byt,defaultWidth:"full"}),time:oT({formats:Fyt,defaultWidth:"full"}),dateTime:oT({formats:Pyt,defaultWidth:"full"})},Tyt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Iyt=(e,t,r,a)=>Tyt[e];function uw(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Oyt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dyt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lyt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ryt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Myt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Uyt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qyt=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$yt={ordinalNumber:Qyt,era:uw({values:Oyt,defaultWidth:"wide"}),quarter:uw({values:Dyt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:uw({values:Lyt,defaultWidth:"wide"}),day:uw({values:Ryt,defaultWidth:"wide"}),dayPeriod:uw({values:Myt,defaultWidth:"wide",formattingValues:Uyt,defaultFormattingWidth:"wide"})};function hw(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?zyt(l,h=>h.test(o)):Hyt(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Hyt(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zyt(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Vyt(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Kyt=/^(\d+)(th|st|nd|rd)?/i,qyt=/\d+/i,Wyt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gyt={any:[/^b/i,/^(a|c)/i]},Xyt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yyt={any:[/1/i,/2/i,/3/i,/4/i]},Jyt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zyt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e1t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t1t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r1t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n1t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a1t={ordinalNumber:Vyt({matchPattern:Kyt,parsePattern:qyt,valueCallback:e=>parseInt(e,10)}),era:hw({matchPatterns:Wyt,defaultMatchWidth:"wide",parsePatterns:Gyt,defaultParseWidth:"any"}),quarter:hw({matchPatterns:Xyt,defaultMatchWidth:"wide",parsePatterns:Yyt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hw({matchPatterns:Jyt,defaultMatchWidth:"wide",parsePatterns:Zyt,defaultParseWidth:"any"}),day:hw({matchPatterns:e1t,defaultMatchWidth:"wide",parsePatterns:t1t,defaultParseWidth:"any"}),dayPeriod:hw({matchPatterns:r1t,defaultMatchWidth:"any",parsePatterns:n1t,defaultParseWidth:"any"})},ume={code:"en-US",formatDistance:Eyt,formatLong:kyt,formatRelative:Iyt,localize:$yt,match:a1t,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s1t(e){const t=ea(e);return rh(t,cme(t))+1}function hme(e){const t=ea(e),r=+G0(t)-+wyt(t);return Math.round(r/YU)+1}function fme(e,t){var u,h,f,A;const r=ea(e),a=r.getFullYear(),s=CN(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(f=s.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)??1,o=Sc(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=bh(o,t),c=Sc(e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=bh(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function i1t(e,t){var l,c,d,u;const r=CN(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=fme(e,t),i=Sc(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),bh(i,t)}function Ame(e,t){const r=ea(e),a=+bh(r,t)-+i1t(r,t);return Math.round(a/YU)+1}function xa(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const xA={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return xa(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xa(r+1,2)},d(e,t){return xa(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xa(e.getHours()%12||12,t.length)},H(e,t){return xa(e.getHours(),t.length)},m(e,t){return xa(e.getMinutes(),t.length)},s(e,t){return xa(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return xa(s,t.length)}},Jx={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bY={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return xA.y(e,t)},Y:function(e,t,r,a){const s=fme(e,a),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return xa(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):xa(i,t.length)},R:function(e,t){const r=lme(e);return xa(r,t.length)},u:function(e,t){const r=e.getFullYear();return xa(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return xa(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return xa(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return xA.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return xa(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=Ame(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):xa(s,t.length)},I:function(e,t,r){const a=hme(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):xa(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xA.d(e,t)},D:function(e,t,r){const a=s1t(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):xa(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return xa(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return xa(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return xa(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=Jx.noon:a===0?s=Jx.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=Jx.evening:a>=12?s=Jx.afternoon:a>=4?s=Jx.morning:s=Jx.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return xA.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xA.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):xa(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):xa(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xA.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xA.s(e,t)},S:function(e,t){return xA.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return NY(a);case"XXXX":case"XX":return Fp(a);case"XXXXX":case"XXX":default:return Fp(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return NY(a);case"xxxx":case"xx":return Fp(a);case"xxxxx":case"xxx":default:return Fp(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jY(a,":");case"OOOO":default:return"GMT"+Fp(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jY(a,":");case"zzzz":default:return"GMT"+Fp(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return xa(a,t.length)},T:function(e,t,r){const a=e.getTime();return xa(a,t.length)}};function jY(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+xa(i,2)}function NY(e,t){return e%60===0?(e>0?"-":"+")+xa(Math.abs(e)/60,2):Fp(e,t)}function Fp(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=xa(Math.trunc(a/60),2),i=xa(a%60,2);return r+s+t+i}const CY=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mme=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},o1t=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return CY(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",CY(a,t)).replace("{{time}}",mme(s,t))},l1t={p:mme,P:o1t},c1t=/^D+$/,d1t=/^Y+$/,u1t=["D","DD","YY","YYYY"];function h1t(e){return c1t.test(e)}function f1t(e){return d1t.test(e)}function A1t(e,t,r){const a=m1t(e,t,r);if(console.warn(a),u1t.includes(e))throw new RangeError(a)}function m1t(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p1t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x1t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g1t=/^'([^]*?)'?$/,v1t=/''/g,y1t=/[a-zA-Z]/;function Ax(e,t,r){var u,h,f,A,p,m,x,g;const a=CN(),s=(r==null?void 0:r.locale)??a.locale??ume,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((A=(f=a.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??a.weekStartsOn??((g=(x=a.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=ea(e);if(!Cyt(l))throw new RangeError("Invalid time value");let c=t.match(x1t).map(v=>{const y=v[0];if(y==="p"||y==="P"){const j=l1t[y];return j(v,s.formatLong)}return v}).join("").match(p1t).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:w1t(v)};if(bY[y])return{isToken:!0,value:v};if(y.match(y1t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&f1t(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&h1t(y))&&A1t(y,t,String(e));const j=bY[y[0]];return j(l,y,s.localize,d)}).join("")}function w1t(e){const t=e.match(g1t);return t?t[1].replace(v1t,"'"):e}function b1t(e){const t=ea(e),r=t.getFullYear(),a=t.getMonth(),s=Sc(e,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function j1t(e){return Math.trunc(+ea(e)/1e3)}function N1t(e){const t=ea(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function C1t(e,t){return Syt(N1t(e),Dl(e),t)+1}function rL(e,t){const r=ea(e),a=ea(t);return r.getTime()>a.getTime()}function pme(e,t){const r=ea(e),a=ea(t);return+r<+a}function tQ(e,t){const r=ea(e),a=ea(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function S1t(e,t){const r=ea(e),a=ea(t);return r.getFullYear()===a.getFullYear()}function lT(e,t){return Xo(e,-t)}function cT(e,t){const r=ea(e),a=r.getFullYear(),s=r.getDate(),i=Sc(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const o=b1t(i);return r.setMonth(t,Math.min(s,o)),r}function SY(e,t){const r=ea(e);return isNaN(+r)?Sc(e,NaN):(r.setFullYear(t),r)}var tn=function(){return tn=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},tn.apply(this,arguments)};function _1t(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function xme(e,t,r){for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function SN(e){return e.mode==="multiple"}function _N(e){return e.mode==="range"}function zF(e){return e.mode==="single"}var E1t={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function B1t(e,t){return Ax(e,"LLLL y",t)}function F1t(e,t){return Ax(e,"d",t)}function P1t(e,t){return Ax(e,"LLLL",t)}function k1t(e){return"".concat(e)}function T1t(e,t){return Ax(e,"cccccc",t)}function I1t(e,t){return Ax(e,"yyyy",t)}var O1t=Object.freeze({__proto__:null,formatCaption:B1t,formatDay:F1t,formatMonthCaption:P1t,formatWeekNumber:k1t,formatWeekdayName:T1t,formatYearCaption:I1t}),D1t=function(e,t,r){return Ax(e,"do MMMM (EEEE)",r)},L1t=function(){return"Month: "},R1t=function(){return"Go to next month"},M1t=function(){return"Go to previous month"},U1t=function(e,t){return Ax(e,"cccc",t)},Q1t=function(e){return"Week n. ".concat(e)},$1t=function(){return"Year: "},H1t=Object.freeze({__proto__:null,labelDay:D1t,labelMonthDropdown:L1t,labelNext:R1t,labelPrevious:M1t,labelWeekNumber:Q1t,labelWeekday:U1t,labelYearDropdown:$1t});function z1t(){var e="buttons",t=E1t,r=ume,a={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:O1t,labels:H1t,locale:r,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function V1t(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=Dl(a):t&&(i=new Date(t,0,1)),s?o=ZU(s):r&&(o=new Date(r,11,31)),{fromDate:i?yy(i):void 0,toDate:o?yy(o):void 0}}var gme=B.createContext(void 0);function K1t(e){var t,r=e.initialProps,a=z1t(),s=V1t(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(zF(r)||SN(r)||_N(r))&&(c=r.onSelect);var d=tn(tn(tn({},a),r),{captionLayout:l,classNames:tn(tn({},a.classNames),r.classNames),components:tn({},r.components),formatters:tn(tn({},a.formatters),r.formatters),fromDate:i,labels:tn(tn({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:tn(tn({},a.modifiers),r.modifiers),modifiersClassNames:tn(tn({},a.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:tn(tn({},a.styles),r.styles),toDate:o});return n.jsx(gme.Provider,{value:d,children:e.children})}function Ha(){var e=B.useContext(gme);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function vme(e){var t=Ha(),r=t.locale,a=t.classNames,s=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function q1t(e){return n.jsx("svg",tn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yme(e){var t,r,a=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Ha(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:q1t;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:a,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function W1t(e){var t,r=Ha(),a=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!a)return n.jsx(n.Fragment,{});if(!s)return n.jsx(n.Fragment,{});var h=[];if(S1t(a,s))for(var f=Dl(a),A=a.getMonth();A<=s.getMonth();A++)h.push(cT(f,A));else for(var f=Dl(new Date),A=0;A<=11;A++)h.push(cT(f,A));var p=function(x){var g=Number(x.target.value),v=cT(Dl(e.displayMonth),g);e.onChange(v)},m=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:yme;return n.jsx(m,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(x){return n.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function G1t(e){var t,r=e.displayMonth,a=Ha(),s=a.fromDate,i=a.toDate,o=a.locale,l=a.styles,c=a.classNames,d=a.components,u=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,f=[];if(!s)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var A=s.getFullYear(),p=i.getFullYear(),m=A;m<=p;m++)f.push(SY(cme(new Date),m));var x=function(v){var y=SY(Dl(r),Number(v.target.value));e.onChange(y)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:yme;return n.jsx(g,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:u(r,{locale:o}),children:f.map(function(v){return n.jsx("option",{value:v.getFullYear(),children:u(v,{locale:o})},v.getFullYear())})})}function X1t(e,t){var r=B.useState(e),a=r[0],s=r[1],i=t===void 0?a:t;return[i,s]}function Y1t(e){var t=e.month,r=e.defaultMonth,a=e.today,s=t||r||a||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&T2(i,s)<0){var d=-1*(c-1);s=fu(i,d)}return o&&T2(s,o)<0&&(s=o),Dl(s)}function J1t(){var e=Ha(),t=Y1t(e),r=X1t(t,e.month),a=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Dl(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[a,i]}function Z1t(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,s=Dl(e),i=Dl(fu(s,a)),o=T2(i,s),l=[],c=0;c<o;c++){var d=fu(s,c);l.push(d)}return r&&(l=l.reverse()),l}function ewt(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=a?i:1,l=Dl(e);if(!r)return fu(l,o);var c=T2(r,e);if(!(c<i))return fu(l,o)}}function twt(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=a?i:1,l=Dl(e);if(!r)return fu(l,-o);var c=T2(l,r);if(!(c<=0))return fu(l,-o)}}var wme=B.createContext(void 0);function rwt(e){var t=Ha(),r=J1t(),a=r[0],s=r[1],i=Z1t(a,t),o=ewt(a,t),l=twt(a,t),c=function(h){return i.some(function(f){return tQ(h,f)})},d=function(h,f){c(h)||(f&&pme(h,f)?s(fu(h,1+t.numberOfMonths*-1)):s(h))},u={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(wme.Provider,{value:u,children:e.children})}function EN(){var e=B.useContext(wme);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function _Y(e){var t,r=Ha(),a=r.classNames,s=r.styles,i=r.components,o=EN().goToMonth,l=function(u){o(fu(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:vme,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[n.jsx("div",{className:a.vhidden,children:d}),n.jsx(W1t,{onChange:l,displayMonth:e.displayMonth}),n.jsx(G1t,{onChange:l,displayMonth:e.displayMonth})]})}function nwt(e){return n.jsx("svg",tn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function awt(e){return n.jsx("svg",tn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var PE=B.forwardRef(function(e,t){var r=Ha(),a=r.classNames,s=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),l=tn(tn({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),n.jsx("button",tn({},e,{ref:t,type:"button",className:o,style:l}))});function swt(e){var t,r,a=Ha(),s=a.dir,i=a.locale,o=a.classNames,l=a.styles,c=a.labels,d=c.labelPrevious,u=c.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var f=d(e.previousMonth,{locale:i}),A=[o.nav_button,o.nav_button_previous].join(" "),p=u(e.nextMonth,{locale:i}),m=[o.nav_button,o.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:awt,g=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:nwt;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(PE,{name:"previous-month","aria-label":f,className:A,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?n.jsx(x,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(PE,{name:"next-month","aria-label":p,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function EY(e){var t=Ha().numberOfMonths,r=EN(),a=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return tQ(e.displayMonth,p)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),f=function(){a&&i(a)},A=function(){s&&i(s)};return n.jsx(swt,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:s,previousMonth:a,onPreviousClick:f,onNextClick:A})}function iwt(e){var t,r=Ha(),a=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:vme,d;return s?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(_Y,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(_Y,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(EY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(EY,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:a.caption,style:i.caption,children:d})}function owt(e){var t=Ha(),r=t.footer,a=t.styles,s=t.classNames.tfoot;return r?n.jsx("tfoot",{className:s,style:a.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function lwt(e,t,r){for(var a=r?G0(new Date):bh(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=Xo(a,i);s.push(o)}return s}function cwt(){var e=Ha(),t=e.classNames,r=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=lwt(s,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,h){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:s}),children:l(u,{locale:s})},h)})]})}function dwt(){var e,t=Ha(),r=t.classNames,a=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:cwt;return n.jsx("thead",{style:a.head,className:r.head,children:n.jsx(i,{})})}function uwt(e){var t=Ha(),r=t.locale,a=t.formatters.formatDay;return n.jsx(n.Fragment,{children:a(e.date,{locale:r})})}var rQ=B.createContext(void 0);function hwt(e){if(!SN(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(rQ.Provider,{value:t,children:e.children})}return n.jsx(fwt,{initialProps:e.initialProps,children:e.children})}function fwt(e){var t=e.initialProps,r=e.children,a=t.selected,s=t.min,i=t.max,o=function(d,u,h){var f,A;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,h);var p=!!(u.selected&&s&&(a==null?void 0:a.length)===s);if(!p){var m=!!(!u.selected&&i&&(a==null?void 0:a.length)===i);if(!m){var x=a?xme([],a):[];if(u.selected){var g=x.findIndex(function(v){return Pl(d,v)});x.splice(g,1)}else x.push(d);(A=t.onSelect)===null||A===void 0||A.call(t,x,d,u,h)}}},l={disabled:[]};a&&l.disabled.push(function(d){var u=i&&a.length>i-1,h=a.some(function(f){return Pl(f,d)});return!!(u&&!h)});var c={selected:a,onDayClick:o,modifiers:l};return n.jsx(rQ.Provider,{value:c,children:r})}function nQ(){var e=B.useContext(rQ);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Awt(e,t){var r=t||{},a=r.from,s=r.to;return a&&s?Pl(s,e)&&Pl(a,e)?void 0:Pl(s,e)?{from:s,to:void 0}:Pl(a,e)?void 0:rL(a,e)?{from:e,to:s}:{from:a,to:e}:s?rL(e,s)?{from:s,to:e}:{from:e,to:s}:a?pme(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var aQ=B.createContext(void 0);function mwt(e){if(!_N(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(aQ.Provider,{value:t,children:e.children})}return n.jsx(pwt,{initialProps:e.initialProps,children:e.children})}function pwt(e){var t=e.initialProps,r=e.children,a=t.selected,s=a||{},i=s.from,o=s.to,l=t.min,c=t.max,d=function(A,p,m){var x,g;(x=t.onDayClick)===null||x===void 0||x.call(t,A,p,m);var v=Awt(A,a);(g=t.onSelect)===null||g===void 0||g.call(t,v,A,p,m)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Pl(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:lT(i,l-1),before:Xo(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Xo(i,l-1)}),!i&&o&&u.disabled.push({after:lT(o,l-1),before:Xo(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Xo(i,-c+1)}),u.disabled.push({after:Xo(i,c-1)})),i&&o){var h=rh(o,i)+1,f=c-h;u.disabled.push({before:lT(i,f)}),u.disabled.push({after:Xo(o,f)})}!i&&o&&(u.disabled.push({before:Xo(o,-c+1)}),u.disabled.push({after:Xo(o,c-1)}))}return n.jsx(aQ.Provider,{value:{selected:a,onDayClick:d,modifiers:u},children:r})}function sQ(){var e=B.useContext(aQ);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function jS(e){return Array.isArray(e)?xme([],e):e!==void 0?[e]:[]}function xwt(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],s=r[1];t[a]=jS(s)}),t}var Au;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Au||(Au={}));var gwt=Au.Selected,Jh=Au.Disabled,vwt=Au.Hidden,ywt=Au.Today,dT=Au.RangeEnd,uT=Au.RangeMiddle,hT=Au.RangeStart,wwt=Au.Outside;function bwt(e,t,r){var a,s=(a={},a[gwt]=jS(e.selected),a[Jh]=jS(e.disabled),a[vwt]=jS(e.hidden),a[ywt]=[e.today],a[dT]=[],a[uT]=[],a[hT]=[],a[wwt]=[],a);return e.fromDate&&s[Jh].push({before:e.fromDate}),e.toDate&&s[Jh].push({after:e.toDate}),SN(e)?s[Jh]=s[Jh].concat(t.modifiers[Jh]):_N(e)&&(s[Jh]=s[Jh].concat(r.modifiers[Jh]),s[hT]=r.modifiers[hT],s[uT]=r.modifiers[uT],s[dT]=r.modifiers[dT]),s}var bme=B.createContext(void 0);function jwt(e){var t=Ha(),r=nQ(),a=sQ(),s=bwt(t,r,a),i=xwt(t.modifiers),o=tn(tn({},s),i);return n.jsx(bme.Provider,{value:o,children:e.children})}function jme(){var e=B.useContext(bme);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Nwt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Cwt(e){return!!(e&&typeof e=="object"&&"from"in e)}function Swt(e){return!!(e&&typeof e=="object"&&"after"in e)}function _wt(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ewt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Bwt(e,t){var r,a=t.from,s=t.to;if(a&&s){var i=rh(s,a)<0;i&&(r=[s,a],a=r[0],s=r[1]);var o=rh(e,a)>=0&&rh(s,e)>=0;return o}return s?Pl(s,e):a?Pl(a,e):!1}function Fwt(e){return JU(e)}function Pwt(e){return Array.isArray(e)&&e.every(JU)}function kwt(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Fwt(r))return Pl(e,r);if(Pwt(r))return r.includes(e);if(Cwt(r))return Bwt(e,r);if(Ewt(r))return r.dayOfWeek.includes(e.getDay());if(Nwt(r)){var a=rh(r.before,e),s=rh(r.after,e),i=a>0,o=s<0,l=rL(r.before,r.after);return l?o&&i:i||o}return Swt(r)?rh(e,r.after)>0:_wt(r)?rh(r.before,e)>0:typeof r=="function"?r(e):!1})}function iQ(e,t,r){var a=Object.keys(t).reduce(function(i,o){var l=t[o];return kwt(e,l)&&i.push(o),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),r&&!tQ(e,r)&&(s.outside=!0),s}function Twt(e,t){for(var r=Dl(e[0]),a=ZU(e[e.length-1]),s,i,o=r;o<=a;){var l=iQ(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Xo(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=Xo(o,1)}return i||s}var Iwt=365;function Nme(e,t){var r=t.moveBy,a=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,h=s.locale,f={day:Xo,week:tL,month:fu,year:byt,startOfWeek:function(x){return s.ISOWeek?G0(x):bh(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?dme(x):eQ(x,{locale:h,weekStartsOn:c})}},A=f[r](e,a==="after"?1:-1);a==="before"&&d?A=jyt([d,A]):a==="after"&&u&&(A=Nyt([u,A]));var p=!0;if(i){var m=iQ(A,i);p=!m.disabled&&!m.hidden}return p?A:l.count>Iwt?l.lastFocused:Nme(A,{moveBy:r,direction:a,context:s,modifiers:i,retry:tn(tn({},l),{count:l.count+1})})}var Cme=B.createContext(void 0);function Owt(e){var t=EN(),r=jme(),a=B.useState(),s=a[0],i=a[1],o=B.useState(),l=o[0],c=o[1],d=Twt(t.displayMonths,r),u=s??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(s),i(void 0)},f=function(x){i(x)},A=Ha(),p=function(x,g){if(s){var v=Nme(s,{moveBy:x,direction:g,context:A,modifiers:r});Pl(s,v)||(t.goToDate(v,s),f(v))}},m={focusedDay:s,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return n.jsx(Cme.Provider,{value:m,children:e.children})}function oQ(){var e=B.useContext(Cme);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Dwt(e,t){var r=jme(),a=iQ(e,r,t);return a}var lQ=B.createContext(void 0);function Lwt(e){if(!zF(e.initialProps)){var t={selected:void 0};return n.jsx(lQ.Provider,{value:t,children:e.children})}return n.jsx(Rwt,{initialProps:e.initialProps,children:e.children})}function Rwt(e){var t=e.initialProps,r=e.children,a=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:a};return n.jsx(lQ.Provider,{value:s,children:r})}function Sme(){var e=B.useContext(lQ);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Mwt(e,t){var r=Ha(),a=Sme(),s=nQ(),i=sQ(),o=oQ(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,f=o.focus,A=o.focusMonthBefore,p=o.focusMonthAfter,m=o.focusYearBefore,x=o.focusYearAfter,g=o.focusStartOfWeek,v=o.focusEndOfWeek,y=function(R){var V,D,Y,ne;zF(r)?(V=a.onDayClick)===null||V===void 0||V.call(a,e,t,R):SN(r)?(D=s.onDayClick)===null||D===void 0||D.call(s,e,t,R):_N(r)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,t,R):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,R)},j=function(R){var V;f(e),(V=r.onDayFocus)===null||V===void 0||V.call(r,e,t,R)},b=function(R){var V;h(),(V=r.onDayBlur)===null||V===void 0||V.call(r,e,t,R)},w=function(R){var V;(V=r.onDayMouseEnter)===null||V===void 0||V.call(r,e,t,R)},C=function(R){var V;(V=r.onDayMouseLeave)===null||V===void 0||V.call(r,e,t,R)},F=function(R){var V;(V=r.onDayPointerEnter)===null||V===void 0||V.call(r,e,t,R)},E=function(R){var V;(V=r.onDayPointerLeave)===null||V===void 0||V.call(r,e,t,R)},L=function(R){var V;(V=r.onDayTouchCancel)===null||V===void 0||V.call(r,e,t,R)},N=function(R){var V;(V=r.onDayTouchEnd)===null||V===void 0||V.call(r,e,t,R)},I=function(R){var V;(V=r.onDayTouchMove)===null||V===void 0||V.call(r,e,t,R)},M=function(R){var V;(V=r.onDayTouchStart)===null||V===void 0||V.call(r,e,t,R)},O=function(R){var V;(V=r.onDayKeyUp)===null||V===void 0||V.call(r,e,t,R)},k=function(R){var V;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),d();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),u();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?m():A();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?x():p();break;case"Home":R.preventDefault(),R.stopPropagation(),g();break;case"End":R.preventDefault(),R.stopPropagation(),v();break}(V=r.onDayKeyDown)===null||V===void 0||V.call(r,e,t,R)},P={onClick:y,onFocus:j,onBlur:b,onKeyDown:k,onKeyUp:O,onMouseEnter:w,onMouseLeave:C,onPointerEnter:F,onPointerLeave:E,onTouchCancel:L,onTouchEnd:N,onTouchMove:I,onTouchStart:M};return P}function Uwt(){var e=Ha(),t=Sme(),r=nQ(),a=sQ(),s=zF(e)?t.selected:SN(e)?r.selected:_N(e)?a.selected:void 0;return s}function Qwt(e){return Object.values(Au).includes(e)}function $wt(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)r.push(s);else if(Qwt(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function Hwt(e,t){var r=tn({},e.styles.day);return Object.keys(t).forEach(function(a){var s;r=tn(tn({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),r}function zwt(e,t,r){var a,s,i,o=Ha(),l=oQ(),c=Dwt(e,t),d=Mwt(e,c),u=Uwt(),h=!!(o.onDayClick||o.mode!=="default");B.useEffect(function(){var w;c.outside||l.focusedDay&&h&&Pl(l.focusedDay,e)&&((w=r.current)===null||w===void 0||w.focus())},[l.focusedDay,e,r,h,c.outside]);var f=$wt(o,c).join(" "),A=Hwt(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),m=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:uwt,x=n.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),g={style:A,className:f,children:x,role:"gridcell"},v=l.focusTarget&&Pl(l.focusTarget,e)&&!c.outside,y=l.focusedDay&&Pl(l.focusedDay,e),j=tn(tn(tn({},g),(a={disabled:c.disabled,role:"gridcell"},a["aria-selected"]=c.selected,a.tabIndex=y||v?0:-1,a)),d),b={isButton:h,isHidden:p,activeModifiers:c,selectedDays:u,buttonProps:j,divProps:g};return b}function Vwt(e){var t=B.useRef(null),r=zwt(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(PE,tn({name:"day",ref:t},r.buttonProps)):n.jsx("div",tn({},r.divProps))}function Kwt(e){var t=e.number,r=e.dates,a=Ha(),s=a.onWeekNumberClick,i=a.styles,o=a.classNames,l=a.locale,c=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!s)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),f=function(A){s(t,r,A)};return n.jsx(PE,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:u})}function qwt(e){var t,r,a=Ha(),s=a.styles,i=a.classNames,o=a.showWeekNumber,l=a.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Vwt,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Kwt,u;return o&&(u=n.jsx("td",{className:i.cell,style:s.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:s.row,children:[u,e.dates.map(function(h){return n.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:h})},j1t(h))})]})}function BY(e,t,r){for(var a=r!=null&&r.ISOWeek?dme(t):eQ(t,r),s=r!=null&&r.ISOWeek?G0(e):bh(e,r),i=rh(a,s),o=[],l=0;l<=i;l++)o.push(Xo(s,l));var c=o.reduce(function(d,u){var h=r!=null&&r.ISOWeek?hme(u):Ame(u,r),f=d.find(function(A){return A.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function Wwt(e,t){var r=BY(Dl(e),ZU(e),t);if(t!=null&&t.useFixedWeeks){var a=C1t(e,t);if(a<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=tL(i,6-a),l=BY(tL(i,1),o,t);r.push.apply(r,l)}}return r}function Gwt(e){var t,r,a,s=Ha(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,A=s.ISOWeek,p=Wwt(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:A,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),m=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:dwt,x=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:qwt,g=(a=u==null?void 0:u.Footer)!==null&&a!==void 0?a:owt;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(m,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(v){return n.jsx(x,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),n.jsx(g,{displayMonth:e.displayMonth})]})}function Xwt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ywt=Xwt()?B.useLayoutEffect:B.useEffect,fT=!1,Jwt=0;function FY(){return"react-day-picker-".concat(++Jwt)}function Zwt(e){var t,r=e??(fT?FY():null),a=B.useState(r),s=a[0],i=a[1];return Ywt(function(){s===null&&i(FY())},[]),B.useEffect(function(){fT===!1&&(fT=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function ebt(e){var t,r,a=Ha(),s=a.dir,i=a.classNames,o=a.styles,l=a.components,c=EN().displayMonths,d=Zwt(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),u=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,A=e.displayIndex===0,p=e.displayIndex===c.length-1,m=!A&&!p;s==="rtl"&&(t=[A,p],p=t[0],A=t[1]),A&&(h.push(i.caption_start),f=tn(tn({},f),o.caption_start)),p&&(h.push(i.caption_end),f=tn(tn({},f),o.caption_end)),m&&(h.push(i.caption_between),f=tn(tn({},f),o.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:iwt;return n.jsxs("div",{className:h.join(" "),style:f,children:[n.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(Gwt,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function tbt(e){var t=Ha(),r=t.classNames,a=t.styles;return n.jsx("div",{className:r.months,style:a.months,children:e.children})}function rbt(e){var t,r,a=e.initialProps,s=Ha(),i=oQ(),o=EN(),l=B.useState(!1),c=l[0],d=l[1];B.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var h=tn(tn({},s.styles.root),s.style),f=Object.keys(a).filter(function(p){return p.startsWith("data-")}).reduce(function(p,m){var x;return tn(tn({},p),(x={},x[m]=a[m],x))},{}),A=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:tbt;return n.jsx("div",tn({className:u.join(" "),style:h,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},f,{children:n.jsx(A,{children:o.displayMonths.map(function(p,m){return n.jsx(ebt,{displayIndex:m,displayMonth:p},m)})})}))}function nbt(e){var t=e.children,r=_1t(e,["children"]);return n.jsx(K1t,{initialProps:r,children:n.jsx(rwt,{children:n.jsx(Lwt,{initialProps:r,children:n.jsx(hwt,{initialProps:r,children:n.jsx(mwt,{initialProps:r,children:n.jsx(jwt,{children:n.jsx(Owt,{children:t})})})})})})})}function abt(e){return n.jsx(nbt,tn({},e,{children:n.jsx(rbt,{initialProps:e})}))}function _me({className:e,classNames:t,showOutsideDays:r=!0,...a}){return n.jsx(abt,{showOutsideDays:r,className:mr("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:mr(tj({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:mr(tj({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:s,...i})=>n.jsx(ate,{className:mr("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>n.jsx(cR,{className:mr("h-4 w-4",s),...i})},...a})}_me.displayName="Calendar";var cQ="Popover",[Eme,jjt]=Ql(cQ,[Oy]),BN=Oy(),[sbt,rp]=Eme(cQ),Bme=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=BN(t),c=B.useRef(null),[d,u]=B.useState(!1),[h=!1,f]=Ah({prop:a,defaultProp:s,onChange:i});return n.jsx(wR,{...l,children:n.jsx(sbt,{scope:t,contentId:tu(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:B.useCallback(()=>f(A=>!A),[f]),hasCustomAnchor:d,onCustomAnchorAdd:B.useCallback(()=>u(!0),[]),onCustomAnchorRemove:B.useCallback(()=>u(!1),[]),modal:o,children:r})})};Bme.displayName=cQ;var Fme="PopoverAnchor",ibt=B.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=rp(Fme,r),i=BN(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return B.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(iB,{...i,...a,ref:t})});ibt.displayName=Fme;var Pme="PopoverTrigger",kme=B.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=rp(Pme,r),i=BN(r),o=$n(t,s.triggerRef),l=n.jsx(Kr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lme(s.open),...a,ref:o,onClick:fr(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:n.jsx(iB,{asChild:!0,...i,children:l})});kme.displayName=Pme;var dQ="PopoverPortal",[obt,lbt]=Eme(dQ,{forceMount:void 0}),Tme=e=>{const{__scopePopover:t,forceMount:r,children:a,container:s}=e,i=rp(dQ,t);return n.jsx(obt,{scope:t,forceMount:r,children:n.jsx(Bc,{present:r||i.open,children:n.jsx(Ey,{asChild:!0,container:s,children:a})})})};Tme.displayName=dQ;var wy="PopoverContent",Ime=B.forwardRef((e,t)=>{const r=lbt(wy,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,i=rp(wy,e.__scopePopover);return n.jsx(Bc,{present:a||i.open,children:i.modal?n.jsx(dbt,{...s,ref:t}):n.jsx(ubt,{...s,ref:t})})});Ime.displayName=wy;var cbt=Nm("PopoverContent.RemoveScroll"),dbt=B.forwardRef((e,t)=>{const r=rp(wy,e.__scopePopover),a=B.useRef(null),s=$n(t,a),i=B.useRef(!1);return B.useEffect(()=>{const o=a.current;if(o)return oB(o)},[]),n.jsx(V2,{as:cbt,allowPinchZoom:!0,children:n.jsx(Ome,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ubt=B.forwardRef((e,t)=>{const r=rp(wy,e.__scopePopover),a=B.useRef(!1),s=B.useRef(!1);return n.jsx(Ome,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ome=B.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=rp(wy,r),A=BN(r);return rB(),n.jsx(H2,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(_y,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:n.jsx(bR,{"data-state":Lme(f.open),role:"dialog",id:f.contentId,...A,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Dme="PopoverClose",hbt=B.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=rp(Dme,r);return n.jsx(Kr.button,{type:"button",...a,ref:t,onClick:fr(e.onClick,()=>s.onOpenChange(!1))})});hbt.displayName=Dme;var fbt="PopoverArrow",Abt=B.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=BN(r);return n.jsx(jR,{...s,...a,ref:t})});Abt.displayName=fbt;function Lme(e){return e?"open":"closed"}var mbt=Bme,pbt=kme,xbt=Tme,Rme=Ime;const gbt=mbt,vbt=pbt,Mme=B.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},s)=>n.jsx(xbt,{children:n.jsx(Rme,{ref:s,align:t,sideOffset:r,className:mr("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));Mme.displayName=Rme.displayName;function uQ({className:e,date:t,onDateChange:r}){return n.jsx("div",{className:mr("grid gap-2",e),children:n.jsxs(gbt,{children:[n.jsx(vbt,{asChild:!0,children:n.jsxs(Z,{id:"date",variant:"outline",className:mr("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[n.jsx(ps,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?n.jsxs(n.Fragment,{children:[t.from.toLocaleDateString("pt-BR")," -"," ",t.to.toLocaleDateString("pt-BR")]}):t.from.toLocaleDateString("pt-BR"):n.jsx("span",{children:"Selecionar perodo"})]})}),n.jsx(Mme,{className:"w-auto p-0",align:"start",children:n.jsx(_me,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:r,numberOfMonths:2})})]})})}function ybt(){const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState("all"),[o,l]=B.useState(),[c,d]=B.useState(!1),[u,h]=B.useState(null),[f,A]=B.useState(!1),[p,m]=B.useState(null),[x,g]=B.useState([]),{toast:v}=en(),{data:y,isLoading:j}=pt({queryKey:["/api/finance/producer-payments"]}),{data:b}=pt({queryKey:["/api/finance/producer-payments/pending"]}),{data:w}=pt({queryKey:["/api/finance/bank-transactions"]}),{data:C=[]}=pt({queryKey:["/api/producers"]}),F=jt({mutationFn:async U=>{const re=new FormData;re.append("file",U);const de=await fetch("/api/finance/producer-ofx-import",{method:"POST",body:re});if(!de.ok)throw new Error("Erro ao importar arquivo OFX");return de.json()},onSuccess:U=>{ct.invalidateQueries({queryKey:["/api/finance/bank-transactions"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments"]}),d(!1),h(null),v({title:"Sucesso!",description:U.message||"Arquivo OFX importado com sucesso"})},onError:()=>{v({title:"Erro",description:"No foi possvel importar o arquivo OFX",variant:"destructive"})}}),E=jt({mutationFn:async U=>(await _m("POST",`/api/finance/producer-payments/${U}/approve`)).json(),onSuccess:(U,re)=>{ct.invalidateQueries({queryKey:["/api/finance/producer-payments"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments/pending"]}),v({title:"Sucesso!",description:w&&w.length>0?"Pagamento aprovado. Clique em 'Associar Pagamento' para conciliar.":"Pagamento aprovado. Importe o OFX para fazer a conciliao."})},onError:()=>{v({title:"Erro",description:"No foi possvel aprovar o pagamento",variant:"destructive"})}}),L=jt({mutationFn:async({transactions:U,productionOrderId:re})=>(console.log("Sending association request:",{transactionIds:U.map(ae=>ae.id),productionOrderId:re,transactionCount:U.length}),(await _m("POST","/api/finance/producer-payments/associate-payment",{transactionIds:U.map(ae=>ae.id),productionOrderId:re})).json()),onSuccess:U=>{ct.invalidateQueries({queryKey:["/api/finance/bank-transactions"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments/pending"]}),A(!1),m(null),g([]);let re="default",de="Sucesso!",ae=U.message||`Pagamento de R$ ${parseFloat(U.payment.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})} confirmado para o produtor ${U.payment.producerName}`;if(U.payment.hasAdjustment&&Math.abs(parseFloat(U.payment.difference))>.01){const Ae=parseFloat(U.payment.difference),Me=Ae>0?"sobra":"falta";de="Conciliado com Ajuste",ae=`${ae}

 Diferena de R$ ${Math.abs(Ae).toLocaleString("pt-BR",{minimumFractionDigits:2})} (${Me}) registrada automaticamente.`}v({title:de,description:ae,variant:re})},onError:U=>{console.error("Association error:",U),v({title:"Erro na Associao",description:U.message||"No foi possvel associar o pagamento. Verifique se as transaes so vlidas e no foram conciliadas anteriormente.",variant:"destructive"})}}),N=U=>{var de;const re=(de=U.target.files)==null?void 0:de[0];re&&(re.name.endsWith(".ofx")||re.name.endsWith(".OFX"))?h(re):v({title:"Arquivo invlido",description:"Por favor, selecione um arquivo OFX vlido",variant:"destructive"})},I=()=>{u&&F.mutate(u)},M=U=>{m(U),g([]),A(!0)},O=()=>{if(!p||x.length===0){v({title:"Erro",description:"Selecione um pagamento e pelo menos uma transao para associar",variant:"destructive"});return}const U=x.filter(ae=>!ae.id||ae.status==="matched");if(U.length>0){v({title:"Transaes Invlidas",description:`${U.length} transao${U.length!==1?"es":""} ${U.length!==1?"so invlidas ou j foram":" invlida ou j foi"} conciliada${U.length!==1?"s":""}`,variant:"destructive"});return}const re=x.reduce((ae,Ae)=>ae+parseFloat(Ae.amount),0),de=parseFloat(p.amount);console.log("Association validation:",{selectedPayment:p.id,productionOrderId:p.productionOrderId,transactionCount:x.length,totalTransactionAmount:re,paymentAmount:de}),re>de*1.05&&v({title:"Ateno",description:`O valor total das transaes (R$ ${re.toLocaleString("pt-BR",{minimumFractionDigits:2})})  maior que o valor do pagamento (R$ ${de.toLocaleString("pt-BR",{minimumFractionDigits:2})}). Deseja continuar?`,variant:"destructive"}),L.mutate({transactions:x,productionOrderId:p.productionOrderId})},k=U=>{if(!w)return[];const re=.05;return w.filter(de=>{const ae=Math.abs(parseFloat(de.amount));return de.status==="unmatched"&&de.type==="debit"&&parseFloat(de.amount)<0&&Math.abs(ae-U)<=U*re}).map(de=>({...de,amount:Math.abs(parseFloat(de.amount)).toString()}))},P=()=>w?w.filter(U=>(U.status==="unmatched"||!U.status)&&U.type==="debit"&&parseFloat(U.amount)<0).map(U=>({...U,amount:Math.abs(parseFloat(U.amount)).toString()})):[],R=U=>{const re={pending:{label:"Pendente",color:"bg-yellow-100 text-yellow-800"},approved:{label:"Aprovado",color:"bg-blue-100 text-blue-800"},paid:{label:"Pago",color:"bg-green-100 text-green-800"},rejected:{label:"Rejeitado",color:"bg-red-100 text-red-800"}},de=re[U]||re.pending;return n.jsx(Yt,{className:`${de.color} border-0`,children:de.label})},V=y==null?void 0:y.filter(U=>{var Me,H,Oe;const re=r==="all"||U.status===r,de=s==="all"||U.producerId===s;let ae=!0;if(o!=null&&o.from&&(o!=null&&o.to)){const Ee=new Date(U.createdAt),ee=new Date(o.from),st=new Date(o.to);ee.setHours(0,0,0,0),st.setHours(23,59,59,999),ae=Ee>=ee&&Ee<=st}const Ae=e===""||((Me=U.producerName)==null?void 0:Me.toLowerCase().includes(e.toLowerCase()))||((H=U.orderNumber)==null?void 0:H.toLowerCase().includes(e.toLowerCase()))||((Oe=U.product)==null?void 0:Oe.toLowerCase().includes(e.toLowerCase()));return re&&de&&ae&&Ae}),D=(y==null?void 0:y.filter(U=>U.status==="pending").reduce((U,re)=>U+parseFloat(re.amount),0))||0,Y=(y==null?void 0:y.filter(U=>U.status==="approved").reduce((U,re)=>U+parseFloat(re.amount),0))||0,ne=(y==null?void 0:y.filter(U=>U.status==="paid").reduce((U,re)=>U+parseFloat(re.amount),0))||0,S=(w==null?void 0:w.filter(U=>U.status==="unmatched"&&U.type==="debit"))||[],z=(w==null?void 0:w.filter(U=>U.status==="matched"&&U.type==="debit"))||[],Q=U=>U.filter(re=>!x.some(de=>de.id===re.id)),W=U=>{const re=Q(U);g(de=>[...de,...re])};return j?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((U,re)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},re))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2","data-testid":"text-page-title",children:"Pagamentos aos Produtores"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie os pagamentos de servios de produo e concilie com extratos bancrios"})]}),n.jsxs(rr,{open:c,onOpenChange:d,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white","data-testid":"button-upload-ofx",children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar OFX"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Importar Arquivo OFX - Pagamentos"}),n.jsx(lr,{children:"Selecione o arquivo OFX do banco com as transaes de sada (pagamentos aos produtores)"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"ofx-file",children:"Arquivo OFX"}),n.jsx(ie,{id:"ofx-file",type:"file",accept:".ofx,.OFX",onChange:N,"data-testid":"input-ofx-file"})]}),u&&n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[n.jsx(Pn,{className:"h-5 w-5 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:u.name})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:I,disabled:!u||F.isPending,"data-testid":"button-confirm-upload",children:F.isPending?"Importando...":"Importar"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"md:col-span-1",children:[n.jsx(fe,{className:"text-sm font-medium mb-2 block",children:"Perodo"}),n.jsx(uQ,{date:o,setDate:U=>l(U)})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx(fe,{className:"text-sm font-medium mb-2 block",children:"Produtor"}),n.jsxs($t,{value:s,onValueChange:i,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todos os produtores"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os produtores"}),C==null?void 0:C.map(U=>n.jsx(ge,{value:U.id,children:U.name},U.id))]})]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx(fe,{className:"text-sm font-medium mb-2 block",children:"Status"}),n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todos os status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"approved",children:"Aprovado"}),n.jsx(ge,{value:"paid",children:"Pago"})]})]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx(fe,{className:"text-sm font-medium mb-2 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Produtor, pedido ou produto...",value:e,onChange:U=>t(U.target.value),className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-600","data-testid":"text-total-pending",children:["R$ ",D.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprovados"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-approved",children:["R$ ",Y.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Bn,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pagos"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600","data-testid":"text-total-paid",children:["R$ ",ne.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transaes Pendentes"}),n.jsx("p",{className:"text-2xl font-bold gradient-text","data-testid":"text-unmatched-transactions",children:S.length})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(mh,{className:"h-6 w-6 text-orange-600"})})]})})})]}),n.jsxs(mu,{defaultValue:"pending-payments",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-4",children:[n.jsxs(Vn,{value:"pending-payments","data-testid":"tab-pending-payments",children:["Aguardando Aprovao (",(b==null?void 0:b.filter(U=>U.status==="pending").length)||0,")"]}),n.jsxs(Vn,{value:"approved-payments","data-testid":"tab-approved-payments",children:["Aguardando Pagamento (",(b==null?void 0:b.filter(U=>U.status==="approved").length)||0,")"]}),n.jsxs(Vn,{value:"ofx-transactions","data-testid":"tab-ofx-transactions",children:["Transaes OFX (",S.length+z.length,")"]}),n.jsxs(Vn,{value:"all-payments","data-testid":"tab-all-payments",children:["Todos (",(V==null?void 0:V.length)||0,")"]})]}),n.jsx(Kn,{value:"pending-payments",className:"mt-6",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Pagamentos Aguardando Aprovao"})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-3",children:[b==null?void 0:b.filter(U=>U.status==="pending").map(U=>n.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 hover:border-yellow-300 transition-colors","data-testid":`card-payment-${U.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Yn,{className:"h-4 w-4 text-gray-500"}),n.jsx("p",{className:"font-medium text-gray-900",children:U.producerName}),n.jsx(Yt,{className:"bg-gray-100 text-gray-700 text-xs",children:U.orderNumber})]}),n.jsx("p",{className:"text-sm text-gray-600",children:U.product}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Cliente: ",U.clientName]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),R(U.status)]}),n.jsxs(Z,{onClick:()=>E.mutate(U.id),disabled:E.isPending,className:"gradient-bg text-white","data-testid":`button-approve-${U.id}`,children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),"Aprovar"]})]})]}),U.notes&&n.jsx("div",{className:"mt-3 p-2 bg-white rounded border border-yellow-200",children:n.jsx("p",{className:"text-xs text-gray-600",children:U.notes})})]},U.id)),(!b||b.filter(U=>U.status==="pending").length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No h pagamentos aguardando aprovao"})]})]})})]})}),n.jsx(Kn,{value:"approved-payments",className:"mt-6",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Pagamentos Aprovados - Conciliao OFX"})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-3",children:[b==null?void 0:b.filter(U=>U.status==="approved").map(U=>{const re=k(parseFloat(U.amount));return n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 hover:border-blue-300 transition-colors","data-testid":`card-approved-payment-${U.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Yn,{className:"h-4 w-4 text-gray-500"}),n.jsx("p",{className:"font-medium text-gray-900",children:U.producerName}),n.jsx(Yt,{className:"bg-gray-100 text-gray-700 text-xs",children:U.orderNumber})]}),n.jsx("p",{className:"text-sm text-gray-600",children:U.product}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Cliente: ",U.clientName]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),R(U.status)]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:re.length>0&&n.jsxs(Yt,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:[re.length," transao",re.length!==1?"es":""," compatvel",re.length!==1?"is":""]})}),n.jsxs(Z,{onClick:()=>M(U),variant:"outline",size:"sm","data-testid":`button-associate-${U.id}`,children:[n.jsx(eb,{className:"h-4 w-4 mr-2"}),"Associar Pagamento"]})]})]},U.id)}),(!b||b.filter(U=>U.status==="approved").length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Mr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No h pagamentos aprovados aguardando conciliao"})]})]})})]})}),n.jsx(Kn,{value:"ofx-transactions",className:"mt-6",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Transaes Bancrias (OFX)"}),n.jsxs(Yt,{variant:"secondary",className:"text-sm",children:[S.length," no conciliadas"]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-3",children:w&&w.length>0?n.jsxs(n.Fragment,{children:[S.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-sm font-semibold text-orange-700 mb-3 flex items-center",children:[n.jsx(mh,{className:"h-4 w-4 mr-2"}),"Pendentes de Conciliao (",S.length,")"]}),n.jsx("div",{className:"space-y-2",children:S.map(U=>n.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200","data-testid":`ofx-transaction-${U.id}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:U.description}),n.jsxs("div",{className:"flex gap-4 mt-1",children:[n.jsxs("p",{className:"text-xs text-gray-600",children:["Data: ",new Date(U.date).toLocaleDateString("pt-BR")]}),U.fitId&&n.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",U.fitId]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-red-600",children:["- R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{className:"bg-orange-100 text-orange-800 text-xs mt-1",children:"No Conciliado"})]})]})},U.id))})]}),z.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-green-700 mb-3 flex items-center",children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),"Conciliadas (",z.length,")"]}),n.jsx("div",{className:"space-y-2",children:z.map(U=>n.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200","data-testid":`ofx-reconciled-${U.id}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:U.description}),n.jsxs("div",{className:"flex gap-4 mt-1",children:[n.jsxs("p",{className:"text-xs text-gray-600",children:["Data: ",new Date(U.date).toLocaleDateString("pt-BR")]}),U.matchedOrderId&&n.jsxs("p",{className:"text-xs text-green-700 font-medium",children:["Pedido: ",U.matchedOrderId]})]}),U.notes&&n.jsx("p",{className:"text-xs text-gray-600 mt-1 italic",children:U.notes})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["- R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{className:"bg-green-100 text-green-800 text-xs mt-1",children:"Conciliado"})]})]})},U.id))})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Pn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhuma transao OFX importada"}),n.jsx("p",{className:"text-gray-500 mb-4",children:'Clique no boto "Importar OFX" para carregar transaes bancrias'})]})})})]})}),n.jsxs(Kn,{value:"all-payments",className:"mt-6",children:[n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por produtor, pedido ou produto...",value:e,onChange:U=>t(U.target.value),className:"pl-10","data-testid":"input-search"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-[150px]","data-testid":"select-status-filter",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"approved",children:"Aprovado"}),n.jsx(ge,{value:"paid",children:"Pago"})]})]})})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Todos os Pagamentos (",(V==null?void 0:V.length)||0,")"]})}),n.jsxs(Re,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produtor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V==null?void 0:V.map(U=>n.jsxs("tr",{"data-testid":`row-payment-${U.id}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Yn,{className:"h-4 w-4 mr-2 text-gray-400"}),U.producerName]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:U.orderNumber}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.product}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.clientName}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:["R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R(U.status)})]},U.id))})]})}),(!V||V.length===0)&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Mr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhum pagamento encontrado"}),n.jsx("p",{className:"text-gray-500",children:"No h pagamentos que correspondam aos filtros selecionados."})]})]})]})]})]}),n.jsx(rr,{open:f,onOpenChange:A,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(eb,{className:"h-5 w-5"}),"Conciliar Pagamento de Produtor"]}),n.jsx(lr,{children:"Selecione uma ou mais transaes bancrias que correspondem ao pagamento deste produtor. Voc pode associar mltiplas transaes para um nico pagamento."})]}),p&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:" Pagamento Selecionado"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Produtor:"})," ",p.producerName]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Produto:"})," ",p.product]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Valor:"}),n.jsxs("span",{className:"font-bold",children:[" R$ ",parseFloat(p.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Pedido:"})," ",p.orderNumber]})]})]}),x.length>0&&n.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsxs("h4",{className:"font-semibold text-green-900 mb-2",children:[" ",x.length," Transao",x.length!==1?"es":""," Selecionada",x.length!==1?"s":""]}),n.jsxs("div",{className:"space-y-2",children:[x.map((U,re)=>n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm p-2 bg-white rounded border",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-green-700 font-medium",children:["#",re+1," Data:"]})," ",new Date(U.date).toLocaleDateString("pt-BR")]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-green-700 font-medium",children:"Valor:"}),n.jsxs("span",{className:"font-bold",children:[" R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-green-700 font-medium",children:"Descrio:"})," ",U.description]})]},U.id)),n.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Total das transaes: "}),n.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",x.reduce((U,re)=>U+parseFloat(re.amount),0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("span",{className:"text-gray-600 ml-2",children:["(Valor do pagamento: R$ ",parseFloat(p.amount).toLocaleString("pt-BR",{minimumFractionDigits:2}),")"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-green-100 text-green-600 rounded-full text-xs font-bold",children:k(parseFloat(p.amount)).length})," Transaes Compatveis (valor similar)"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>W(k(parseFloat(p.amount))),disabled:Q(k(parseFloat(p.amount))).length===0,className:"text-xs",children:"Selecionar Todas"})})]}),n.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-2 bg-green-50",children:[k(parseFloat(p.amount)).map(U=>n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${x.find(re=>re.id===U.id)?"border-green-500 bg-green-100 shadow-md":"border-green-200 hover:bg-white hover:shadow-sm"}`,onClick:()=>{const re=x.find(de=>de.id===U.id);g(re?de=>de.filter(ae=>ae.id!==U.id):de=>[...de,U])},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:!!x.find(re=>re.id===U.id),onChange:()=>{},className:"h-4 w-4 text-green-600 rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:new Date(U.date).toLocaleDateString("pt-BR")}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[250px]",children:U.description}),n.jsx("div",{className:"text-xs text-green-600 font-medium mt-1",children:" Valor compatvel com pagamento"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),U.bankRef&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",U.bankRef]})]})]})},U.id)),k(parseFloat(p.amount)).length===0&&n.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nenhuma transao com valor compatvel encontrada"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-100 text-gray-600 rounded-full text-xs font-bold",children:P().length}),"Todas as Transaes de Sada No Conciliadas"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>W(P()),disabled:Q(P()).length===0,className:"text-xs",children:"Selecionar Todas"})})]}),n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-2 bg-gray-50",children:P().map(U=>n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${x.find(re=>re.id===U.id)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:bg-white hover:shadow-sm"}`,onClick:()=>{const re=x.find(de=>de.id===U.id);g(re?de=>de.filter(ae=>ae.id!==U.id):de=>[...de,U])},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:!!x.find(re=>re.id===U.id),onChange:()=>{},className:"h-4 w-4 text-blue-600 rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:new Date(U.date).toLocaleDateString("pt-BR")}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[250px]",children:U.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-red-600",children:["- R$ ",parseFloat(U.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-orange-600",children:"Dbito/Sada"}),U.bankRef&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",U.bankRef]})]})]})},U.id))})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx("div",{className:"flex space-x-2",children:x.length>0&&n.jsxs(Z,{variant:"outline",onClick:()=>g([]),className:"text-orange-600 hover:text-orange-700",children:["Limpar Seleo (",x.length,")"]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>A(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:O,disabled:x.length===0||L.isPending,children:L.isPending?"Associando...":`Associar ${x.length>1?`${x.length} Transaes`:"Transao"}`})]})]})]})]})})]})}function wbt(){const[e,t]=B.useState("all"),{data:r}=pt({queryKey:["/api/branches"],queryFn:async()=>{const i=await fetch("/api/branches");if(!i.ok)throw new Error("Failed to fetch branches");return i.json()}}),{data:a,isLoading:s}=pt({queryKey:["/api/finance/overview",e],queryFn:async()=>{const i=e&&e!=="all"?`/api/finance/overview?branchId=${e}`:"/api/finance/overview",o=await fetch(i);if(!o.ok)throw new Error("Failed to fetch overview");return o.json()}});return s?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-4 gap-6",children:[...Array(4)].map((i,o)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},o))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Viso Financeira"}),n.jsx("p",{className:"text-gray-600",children:"Controle financeiro completo do sistema"})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(si,{className:"h-5 w-5 text-gray-500"}),n.jsxs($t,{value:e,onValueChange:t,children:[n.jsx(Mt,{className:"w-[250px]","data-testid":"select-branch-filter",children:n.jsx(Ht,{placeholder:"Filtrar por filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as Filiais"}),r==null?void 0:r.map(i=>n.jsxs(ge,{value:i.id,children:[i.name," - ",i.city,i.isHeadquarters&&" (Matriz)"]},i.id))]})]})]}),e&&e!=="all"&&n.jsx("p",{className:"text-xs text-gray-500",children:"Filtrando pedidos, comisses e recebveis da filial selecionada"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contas a Receber"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.receivables)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Li,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contas a Pagar"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.payables)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Sm,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Saldo em Conta"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.balance)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Comisses Pendentes"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.pendingCommissions)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Aes Rpidas"})}),n.jsxs(Re,{className:"space-y-4",children:[n.jsx(Z,{className:"w-full justify-start gradient-bg text-white",children:"Importar Arquivo OFX"}),n.jsx(Z,{variant:"outline",className:"w-full justify-start",children:"Processar Comisses"}),n.jsx(Z,{variant:"outline",className:"w-full justify-start",children:"Gerar Relatrio Mensal"}),n.jsx(Z,{variant:"outline",className:"w-full justify-start",children:"Conciliar Pagamentos"})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Resumo do Ms"})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Receita Total"}),n.jsx("span",{className:"font-semibold",children:"R$ 84.500,00"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Custos de Produo"}),n.jsx("span",{className:"font-semibold",children:"R$ 52.300,00"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Comisses Pagas"}),n.jsx("span",{className:"font-semibold",children:"R$ 8.450,00"})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Lucro Lquido"}),n.jsx("span",{className:"gradient-text",children:"R$ 23.750,00"})]})})]})})]})]})]})}function PY(){const{toast:e}=en(),[t,r]=B.useState(""),[a,s]=B.useState("all"),[i,o]=B.useState(!1),[l,c]=B.useState(null),[d,u]=B.useState(!1),[h,f]=B.useState(null),[A,p]=B.useState([]),[m,x]=B.useState({name:"",description:"",category:"",minQuantity:"",price:"",isActive:!0}),[g,v]=B.useState(""),[y,j]=B.useState(!1),b=pt({queryKey:["/api/settings/customization-options"],queryFn:async()=>{const S=await fetch("/api/settings/customization-options");if(!S.ok)throw new Error("Failed to fetch customization options");return S.json()}}),w=pt({queryKey:["/api/customization-categories"],queryFn:async()=>{const S=await fetch("/api/customization-categories");if(!S.ok)throw new Error("Failed to fetch customization categories");return S.json()}}),C=jt({mutationFn:async S=>{const z=await fetch("/api/settings/customization-options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,minQuantity:parseInt(S.minQuantity),price:parseFloat(S.price)})});if(!z.ok)throw new Error("Erro ao criar personalizao");return z.json()},onSuccess:()=>{e({title:"Sucesso",description:"Personalizao criada com sucesso!"}),ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),ct.invalidateQueries({queryKey:["/api/customization-categories"]}),w.refetch(),N(),o(!1)}}),F=jt({mutationFn:async({id:S,data:z})=>{const Q=await fetch(`/api/settings/customization-options/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...z,minQuantity:parseInt(z.minQuantity),price:parseFloat(z.price)})});if(!Q.ok)throw new Error("Erro ao atualizar personalizao");return Q.json()},onSuccess:()=>{e({title:"Sucesso",description:"Personalizao atualizada com sucesso!"}),ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),ct.invalidateQueries({queryKey:["/api/customization-categories"]}),w.refetch(),N(),c(null),o(!1)}}),E=jt({mutationFn:async S=>{const z=await fetch(`/api/settings/customization-options/${S}`,{method:"DELETE"});if(!z.ok)throw new Error("Erro ao deletar personalizao");return z.json()},onSuccess:()=>{e({title:"Sucesso",description:"Personalizao deletada com sucesso!"}),ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),ct.invalidateQueries({queryKey:["/api/customization-categories"]})}}),L=jt({mutationFn:async S=>{const z=await fetch("/api/settings/customization-options/bulk-import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customizations:S})});if(!z.ok){const Q=await z.json();throw new Error(Q.error||"Erro ao importar personalizaes")}return z.json()},onSuccess:S=>{e({title:"Importao concluda!",description:`${S.imported} personalizaes importadas com sucesso!`}),ct.invalidateQueries({queryKey:["/api/settings/customization-options"]}),ct.invalidateQueries({queryKey:["/api/customization-categories"]}),w.refetch(),u(!1),f(null),p([])},onError:S=>{e({title:"Erro na importao",description:S.message,variant:"destructive"})}}),N=()=>{x({name:"",description:"",category:"",minQuantity:"",price:"",isActive:!0}),v(""),j(!1)},I=S=>{c(S),x({name:S.name,description:S.description||"",category:S.category,minQuantity:S.minQuantity.toString(),price:S.price,isActive:S.isActive}),o(!0)},M=S=>{confirm("Tem certeza que deseja deletar esta personalizao?")&&E.mutate(S)},O=S=>{S.preventDefault(),l?F.mutate({id:l.id,data:m}):C.mutate(m)},k=S=>{var Q;const z=(Q=S.target.files)==null?void 0:Q[0];if(z){if(!z.name.endsWith(".xlsx")&&!z.name.endsWith(".xls")){e({title:"Arquivo invlido",description:"Por favor, selecione um arquivo Excel (.xlsx ou .xls)",variant:"destructive"});return}f(z),P(z)}},P=S=>{const z=new FileReader;z.onload=Q=>{var W;try{const U=(W=Q.target)==null?void 0:W.result,re=HI(U,{type:"binary"}),de=re.SheetNames[0],ae=re.Sheets[de],Me=el.sheet_to_json(ae).map((Oe,Ee)=>{const ee=Oe.Nome||Oe.name||Oe.NOME||"",st=Oe.Categoria||Oe.category||Oe.CATEGORIA||"",se=parseInt(Oe["Quantidade Mnima"]||Oe.minQuantity||Oe["QUANTIDADE MINIMA"]||Oe["Qtd Mnima"]||"1"),me=parseFloat(Oe.Preo||Oe.price||Oe.PRECO||Oe.Valor||"0"),nt=Oe.Descrio||Oe.description||Oe.DESCRICAO||"",Nt=Oe.Ativo!==void 0?Oe.Ativo==="Sim"||Oe.Ativo==="sim"||Oe.Ativo===!0||Oe.Ativo==="TRUE"||Oe.Ativo===1:!0;return{name:ee,category:st,minQuantity:se,price:me,description:nt,isActive:Nt,valid:ee&&st&&se>0&&me>=0,row:Ee+2}});p(Me);const H=Me.filter(Oe=>!Oe.valid);H.length>0&&e({title:"Ateno",description:`${H.length} linha(s) com dados invlidos foram encontradas. Verifique o preview.`,variant:"destructive"})}catch(U){console.error("Erro ao processar Excel:",U),e({title:"Erro ao processar arquivo",description:"No foi possvel ler o arquivo Excel. Verifique o formato.",variant:"destructive"})}},z.readAsBinaryString(S)},R=()=>{const S=A.filter(z=>z.valid).map(z=>({name:z.name,category:z.category,minQuantity:z.minQuantity,price:z.price,description:z.description||"",isActive:z.isActive}));if(S.length===0){e({title:"Nenhum dado vlido",description:"No h dados vlidos para importar",variant:"destructive"});return}L.mutate(S)},V=()=>{const S=[{Nome:"Serigrafia 1 cor",Categoria:"Camisetas","Quantidade Mnima":50,Preo:5,Descrio:"Personalizao com serigrafia de uma cor",Ativo:"Sim"},{Nome:"Bordado Simples",Categoria:"Bons","Quantidade Mnima":100,Preo:8.5,Descrio:"Bordado simples no bon",Ativo:"Sim"}],z=el.json_to_sheet(S),Q=el.book_new();el.book_append_sheet(Q,z,"Personalizaes"),zB(Q,"modelo_personalizacoes.xlsx")},D=b.data||[],Y=w.data||[],ne=D.filter(S=>{var W;const z=!t||S.name.toLowerCase().includes(t.toLowerCase())||((W=S.description)==null?void 0:W.toLowerCase().includes(t.toLowerCase())),Q=a==="all"||S.category===a;return z&&Q});return b.isLoading?n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Opes de Personalizao"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Configure as opes de personalizao por categoria e quantidade mnima"})]})}),n.jsxs(Le,{className:"shadow-xl border-0",children:[n.jsx(Tt,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-t-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Ot,{className:"text-xl font-semibold",children:"Personalizaes Disponveis"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{onClick:V,className:"bg-white text-purple-600 hover:bg-purple-50","data-testid":"button-download-template",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Baixar Modelo"]}),n.jsxs(rr,{open:d,onOpenChange:u,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"bg-white text-purple-600 hover:bg-purple-50","data-testid":"button-import-excel",children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar Excel"]})}),n.jsxs(Jt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Importar Personalizaes do Excel"}),n.jsx(lr,{children:"Faa upload de um arquivo Excel (.xlsx ou .xls) com as personalizaes. Use o modelo para garantir o formato correto."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"excel-file",children:"Arquivo Excel"}),n.jsx(ie,{id:"excel-file",type:"file",accept:".xlsx,.xls",onChange:k,"data-testid":"input-excel-file"})]}),h&&n.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Uc,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-900",children:h.name})]})}),A.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Preview da Importao"}),n.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[A.filter(S=>S.valid).length," de ",A.length," linhas vlidas"]}),n.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg",children:n.jsxs(T0,{children:[n.jsx(I0,{children:n.jsxs(nl,{children:[n.jsx(bn,{children:"Status"}),n.jsx(bn,{children:"Nome"}),n.jsx(bn,{children:"Categoria"}),n.jsx(bn,{children:"Qtd Mn"}),n.jsx(bn,{children:"Preo"}),n.jsx(bn,{children:"Ativo"})]})}),n.jsx(O0,{children:A.map((S,z)=>{var Q;return n.jsxs(nl,{className:S.valid?"":"bg-red-50",children:[n.jsx(fn,{children:S.valid?n.jsx(Yt,{variant:"default",className:"bg-green-500",children:"Vlido"}):n.jsx(Yt,{variant:"destructive",children:"Invlido"})}),n.jsx(fn,{children:S.name||"-"}),n.jsx(fn,{children:S.category||"-"}),n.jsx(fn,{children:S.minQuantity||"-"}),n.jsxs(fn,{children:["R$ ",((Q=S.price)==null?void 0:Q.toFixed(2))||"0.00"]}),n.jsx(fn,{children:n.jsx(Yt,{variant:S.isActive?"default":"secondary",children:S.isActive?"Sim":"No"})})]},z)})})]})})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[n.jsx(Z,{variant:"outline",onClick:()=>{u(!1),f(null),p([])},children:"Cancelar"}),n.jsx(Z,{onClick:R,disabled:A.length===0||L.isPending,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white","data-testid":"button-confirm-import",children:L.isPending?"Importando...":"Importar Personalizaes"})]})]})]})]}),n.jsxs(rr,{open:i,onOpenChange:S=>{o(S),S||(c(null),N())},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"bg-white text-purple-600 hover:bg-purple-50","data-testid":"button-new-customization",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Nova Personalizao"]})}),n.jsxs(Jt,{className:"max-w-lg",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:l?"Editar Personalizao":"Nova Personalizao"}),n.jsx(lr,{children:"Configure uma opo de personalizao que ser oferecida para produtos da categoria selecionada"})]}),n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"name",children:"Nome da Personalizao"}),n.jsx(ie,{id:"name",value:m.name,onChange:S=>x({...m,name:S.target.value}),placeholder:"Ex: Serigrafia 1 cor",required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"description",children:"Descrio (Opcional)"}),n.jsx(Jn,{id:"description",value:m.description,onChange:S=>x({...m,description:S.target.value}),placeholder:"Detalhes sobre a personalizao...",rows:2})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"category",children:"Categoria do Produto"}),y?n.jsxs("div",{className:"space-y-2",children:[n.jsx(ie,{placeholder:"Digite o nome da nova categoria",value:g,onChange:S=>{v(S.target.value),x({...m,category:S.target.value})},required:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>{j(!1),v(""),x({...m,category:""})},children:"Cancelar"}),n.jsx(Z,{type:"button",size:"sm",onClick:()=>{if(g.trim()){j(!1);const S=w.data||[];S.includes(g)||ct.setQueryData(["/api/customization-categories"],[...S,g]),e({title:"Categoria criada",description:`A categoria "${g}" ser criada junto com a personalizao.`})}},disabled:!g.trim(),children:"Confirmar categoria"})]})]}):n.jsx("div",{className:"space-y-2",children:n.jsxs($t,{value:m.category,onValueChange:S=>{S==="create-new"?(j(!0),x({...m,category:""})):x({...m,category:S})},required:!y,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a categoria"})}),n.jsxs(Ut,{children:[Y.map(S=>n.jsx(ge,{value:S,children:S},S)),n.jsx(ge,{value:"create-new",className:"text-blue-600 font-medium",children:"+ Criar nova categoria"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"minQuantity",children:"Quantidade Mnima"}),n.jsx(ie,{id:"minQuantity",type:"number",min:"1",value:m.minQuantity,onChange:S=>x({...m,minQuantity:S.target.value}),placeholder:"50",required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"price",children:"Valor (R$)"}),n.jsx(ie,{id:"price",type:"number",step:"0.01",min:"0",value:m.price,onChange:S=>x({...m,price:S.target.value}),placeholder:"50.00",required:!0})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tl,{checked:m.isActive,onCheckedChange:S=>x({...m,isActive:S})}),n.jsx(fe,{children:"Personalizao Ativa"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),n.jsxs(Z,{type:"submit",disabled:C.isPending||F.isPending,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[l?"Atualizar":"Criar"," Personalizao"]})]})]})]})]})]})]})}),n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar personalizaes...",value:t,onChange:S=>r(S.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"min-w-48",children:n.jsxs($t,{value:a,onValueChange:s,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todas as categorias"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as categorias"}),Y.map(S=>n.jsx(ge,{value:S,children:S},S))]})]})})]}),ne.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fye,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma personalizao encontrada"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Comece criando opes de personalizao para seus produtos."}),n.jsxs(Z,{onClick:()=>o(!0),children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Adicionar Personalizao"]})]}):n.jsxs(T0,{children:[n.jsx(I0,{children:n.jsxs(nl,{children:[n.jsx(bn,{children:"Nome"}),n.jsx(bn,{children:"Categoria"}),n.jsx(bn,{children:"Qtd. Mnima"}),n.jsx(bn,{children:"Valor"}),n.jsx(bn,{children:"Status"}),n.jsx(bn,{className:"text-right",children:"Aes"})]})}),n.jsx(O0,{children:ne.map((S,z)=>n.jsxs(nl,{children:[n.jsx(fn,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:S.name}),S.description&&n.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:S.description})]})}),n.jsx(fn,{children:n.jsx(Yt,{variant:"outline",children:S.category})}),n.jsx(fn,{children:n.jsxs("span",{className:"font-medium",children:[S.minQuantity," un"]})}),n.jsx(fn,{children:n.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",parseFloat(S.price).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),n.jsx(fn,{children:n.jsx(Yt,{variant:S.isActive?"default":"secondary",children:S.isActive?"Ativo":"Inativo"})}),n.jsx(fn,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>I(S),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>M(S.id),children:n.jsx(Bs,{className:"h-4 w-4"})})]})})]},`${S.id}-${z}`))})]})]})]})]})}const bbt=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),city:Ge.string().min(2,"Cidade deve ter pelo menos 2 caracteres"),cnpj:Ge.string().optional(),address:Ge.string().optional(),email:Ge.string().email("E-mail invlido").optional().or(Ge.literal("")),phone:Ge.string().optional(),isHeadquarters:Ge.boolean().default(!1)});function kY(){const[e,t]=B.useState(!1),[r,a]=B.useState(null),{toast:s}=en(),{data:i,isLoading:o}=pt({queryKey:["/api/branches"]}),l=Pa({resolver:ka(bbt),defaultValues:{name:"",city:"",cnpj:"",address:"",email:"",phone:"",isHeadquarters:!1}}),c=jt({mutationFn:async m=>{const x=await fetch("/api/branches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!x.ok){const g=await x.json();throw new Error(g.error||"Erro ao criar filial")}return x.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/branches"]}),t(!1),l.reset(),s({title:"Sucesso!",description:"Filial criada com sucesso!"})},onError:m=>{s({title:"Erro",description:m.message||"No foi possvel criar a filial",variant:"destructive"})}}),d=jt({mutationFn:async m=>{const x=await fetch(`/api/branches/${m.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!x.ok){const g=await x.json();throw new Error(g.error||"Erro ao atualizar filial")}return x.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/branches"]}),a(null),l.reset(),s({title:"Sucesso!",description:"Filial atualizada com sucesso!"})},onError:m=>{s({title:"Erro",description:m.message||"No foi possvel atualizar a filial",variant:"destructive"})}}),u=jt({mutationFn:async m=>{const x=await fetch(`/api/branches/${m}`,{method:"DELETE"}),g=await x.json();if(!x.ok)throw new Error(g.error||"Erro ao excluir filial");return g},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/branches"]}),s({title:"Sucesso!",description:"Filial excluda com sucesso!"})},onError:m=>{s({title:"Erro ao excluir",description:m.message,variant:"destructive"})}}),h=(m,x)=>{confirm(`Tem certeza que deseja excluir a filial "${x}"?`)&&u.mutate(m)},f=m=>{r?d.mutate({...m,id:r.id}):c.mutate(m)},A=m=>{a(m),l.reset({name:m.name,city:m.city,cnpj:m.cnpj||"",address:m.address||"",email:m.email||"",phone:m.phone||"",isHeadquarters:m.isHeadquarters||!1})},p=m=>{m||(t(!1),a(null),l.reset())};return o?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gesto de Filiais"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre e gerencie filiais da empresa"})]}),n.jsxs(rr,{open:e||!!r,onOpenChange:p,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>{t(!0),a(null)},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Nova Filial"]})}),n.jsxs(Jt,{className:"sm:max-w-[425px]",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:r?"Editar Filial":"Cadastrar Nova Filial"}),n.jsx(lr,{children:r?"Altere os dados da filial":"Preencha os dados da nova filial"})]}),n.jsx(ya,{...l,children:n.jsxs("form",{onSubmit:l.handleSubmit(f),className:"space-y-4",children:[n.jsx(tt,{control:l.control,name:"name",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome da Filial *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Ex: Filial So Paulo Centro",...m})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:l.control,name:"city",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Ex: So Paulo",...m})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:l.control,name:"cnpj",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CNPJ"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Ex: 00.000.000/0000-00",...m,"data-testid":"input-cnpj"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:l.control,name:"address",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo Completo"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Ex: Rua das Flores, 123 - Centro, So Paulo/SP - CEP 01000-000",...m,"data-testid":"input-address"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:l.control,name:"email",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"Ex: filial@empresa.com.br",...m,"data-testid":"input-email"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:l.control,name:"phone",render:({field:m})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Ex: (11) 99999-9999",...m,"data-testid":"input-phone"})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:l.control,name:"isHeadquarters",render:({field:m})=>n.jsxs(Ze,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Je,{className:"text-base",children:"Matriz"}),n.jsx(ine,{className:"text-sm text-gray-600",children:"Marque se esta  a matriz da empresa"})]}),n.jsx(et,{children:n.jsx(tl,{checked:m.value,onCheckedChange:m.onChange})})]})}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:c.isPending||d.isPending,children:c.isPending||d.isPending?r?"Atualizando...":"Criando...":r?"Atualizar":"Criar Filial"})]})]})})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Lista de Filiais"})}),n.jsxs(Re,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i==null?void 0:i.map(m=>n.jsx(Le,{className:"card-hover",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${m.isHeadquarters?"bg-yellow-100":"bg-blue-100"}`,children:m.isHeadquarters?n.jsx(D$,{className:"h-6 w-6 text-yellow-600"}):n.jsx(si,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.name}),m.isHeadquarters&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1",children:[n.jsx(D$,{className:"h-3 w-3 mr-1"}),"Matriz"]})]})]}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>A(m),title:"Editar",children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>h(m.id,m.name),title:"Excluir",disabled:u.isPending,children:n.jsx(Bs,{className:"h-4 w-4 text-red-600"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Cm,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:m.city})]}),m.cnpj&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(si,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsxs("span",{children:["CNPJ: ",m.cnpj]})]}),m.address&&n.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[n.jsx(Cm,{className:"h-4 w-4 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"break-words",children:m.address})]}),m.email&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(rd,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:m.email})]}),m.phone&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ll,{className:"h-4 w-4 mr-2 flex-shrink-0"}),n.jsx("span",{children:m.phone})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`font-medium ${m.isActive?"text-green-600":"text-red-600"}`,children:m.isActive?"Ativa":"Inativa"})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsx("span",{className:"text-gray-600",children:"Criada em:"}),n.jsx("span",{className:"font-medium",children:new Date(m.createdAt).toLocaleDateString("pt-BR")})]})]})]})},m.id))}),(!i||i.length===0)&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(si,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhuma filial cadastrada"}),n.jsx("p",{className:"text-gray-400 text-sm",children:'Clique em "Nova Filial" para comear'})]})]})]})]})}function TY(){const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState("all"),[o,l]=B.useState("all"),[c,d]=B.useState("today"),{toast:u}=en(),{data:h=[],isLoading:f,refetch:A}=pt({queryKey:["/api/admin/logs",{search:e,action:r,user:s,level:o,date:c}],queryFn:async()=>{const N=new URLSearchParams({search:e,action:r,user:s,level:o,date:c}),I=await fetch(`/api/admin/logs?${N}`);if(!I.ok)throw new Error("Erro ao buscar logs");return I.json()},refetchInterval:1e4}),{data:p=[]}=pt({queryKey:["/api/users"],queryFn:async()=>{const N=await fetch("/api/users");if(!N.ok)throw new Error("Erro ao buscar usurios");return N.json()}}),{data:m=[],isLoading:x,refetch:g}=pt({queryKey:["/api/admin/logs/backups"],queryFn:async()=>{const N=await fetch("/api/admin/logs/backups");if(!N.ok)throw new Error("Erro ao buscar backups");return N.json()}}),v=jt({mutationFn:async()=>{const N=await fetch("/api/admin/logs/backup",{method:"POST",headers:{"Content-Type":"application/json"}});if(!N.ok)throw new Error("Erro ao criar backup");return N.json()},onSuccess:N=>{ct.invalidateQueries({queryKey:["/api/admin/logs/backups"]}),A(),u({title:"Backup criado",description:N.message})},onError:N=>{u({title:"Erro ao criar backup",description:N.message,variant:"destructive"})}}),y=jt({mutationFn:async()=>{const N=new URLSearchParams({search:e,action:r,user:s,level:o,date:c,export:"true"}),I=await fetch(`/api/admin/logs?${N}`);if(!I.ok)throw new Error("Erro ao exportar logs");const M=await I.blob(),O=window.URL.createObjectURL(M),k=document.createElement("a");k.href=O,k.download=`logs-sistema-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(O),document.body.removeChild(k)},onSuccess:()=>{u({title:"Logs exportados",description:"O arquivo CSV foi baixado com sucesso."})},onError:N=>{u({title:"Erro ao exportar",description:N.message,variant:"destructive"})}}),j=jt({mutationFn:async N=>{const I=await fetch(`/api/admin/logs/backups/${N}/download`);if(!I.ok)throw new Error("Erro ao baixar backup");const M=await I.json(),O=el.json_to_sheet(M.data),k=el.book_new();el.book_append_sheet(k,O,"Logs");const P=[{wch:20},{wch:20},{wch:15},{wch:10},{wch:50},{wch:30},{wch:15},{wch:30}];return O["!cols"]=P,zB(k,M.fileName),M},onSuccess:N=>{u({title:"Backup baixado",description:`Arquivo ${N.fileName} baixado com sucesso.`})},onError:N=>{u({title:"Erro ao baixar backup",description:N.message,variant:"destructive"})}}),b=jt({mutationFn:async N=>{const I=await fetch(`/api/admin/logs/backups/${N}`,{method:"DELETE"});if(!I.ok)throw new Error("Erro ao excluir backup");return I.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/admin/logs/backups"]}),u({title:"Backup excludo",description:"O backup foi excludo com sucesso."})},onError:N=>{u({title:"Erro ao excluir backup",description:N.message,variant:"destructive"})}}),w=N=>new Date(N).toLocaleString("pt-BR"),C=N=>{switch(N){case"error":return{icon:ej,color:"text-red-600 bg-red-50"};case"warning":return{icon:mh,color:"text-yellow-600 bg-yellow-50"};case"success":return{icon:Bn,color:"text-green-600 bg-green-50"};default:return{icon:_6,color:"text-blue-600 bg-blue-50"}}},F=N=>{switch(N){case"CREATE":return"bg-green-100 text-green-800";case"UPDATE":return"bg-blue-100 text-blue-800";case"DELETE":return"bg-red-100 text-red-800";case"LOGIN":return"bg-purple-100 text-purple-800";case"LOGOUT":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},E=N=>{switch(N){case"CREATE":return"CRIAR";case"UPDATE":return"ATUALIZAR";case"DELETE":return"EXCLUIR";case"LOGIN":return"LOGIN";case"LOGOUT":return"LOGOUT";default:return N}},L=h.filter(N=>!e||N.action.toLowerCase().includes(e.toLowerCase())||N.description.toLowerCase().includes(e.toLowerCase())||N.userName.toLowerCase().includes(e.toLowerCase()));return f?n.jsx("div",{className:"p-6 space-y-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((N,I)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},I))})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Logs do Sistema"}),n.jsx("p",{className:"text-gray-600",children:"Auditoria completa e backups automticos dos logs do sistema"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{variant:"outline",onClick:()=>A(),children:[n.jsx(oi,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),n.jsxs(Z,{variant:"outline",onClick:()=>v.mutate(),disabled:v.isPending,children:[n.jsx(O$,{className:"h-4 w-4 mr-2"}),"Criar Backup"]}),n.jsxs(Z,{onClick:()=>y.mutate(),children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),n.jsxs(mu,{defaultValue:"logs",className:"space-y-6",children:[n.jsxs(vd,{className:"grid w-full grid-cols-2",children:[n.jsxs(Vn,{value:"logs",children:[n.jsx(Rp,{className:"h-4 w-4 mr-2"}),"Logs Atuais"]}),n.jsxs(Vn,{value:"backups",children:[n.jsx(ste,{className:"h-4 w-4 mr-2"}),"Backups (",m.length,")"]})]}),n.jsxs(Kn,{value:"logs",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Logs"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:h.length})]}),n.jsx(Rp,{className:"h-8 w-8 text-blue-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hoje"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:h.filter(N=>{const I=new Date().toDateString();return new Date(N.createdAt).toDateString()===I}).length})]}),n.jsx(ps,{className:"h-8 w-8 text-green-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Erros"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:h.filter(N=>N.level==="error").length})]}),n.jsx(ej,{className:"h-8 w-8 text-red-600"})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Usurios Ativos"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:new Set(h.map(N=>N.userId)).size})]}),n.jsx(Yn,{className:"h-8 w-8 text-purple-600"})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Filtros"})}),n.jsx(Re,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"search",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{id:"search",placeholder:"Buscar logs...",value:e,onChange:N=>t(N.target.value),className:"pl-9"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Ao"}),n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as Aes"}),n.jsx(ge,{value:"CREATE",children:"Criao"}),n.jsx(ge,{value:"UPDATE",children:"Atualizao"}),n.jsx(ge,{value:"DELETE",children:"Excluso"}),n.jsx(ge,{value:"LOGIN",children:"Login"}),n.jsx(ge,{value:"LOGOUT",children:"Logout"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Usurio"}),n.jsxs($t,{value:s,onValueChange:i,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Usurios"}),p.map(N=>n.jsx(ge,{value:N.id,children:N.name},N.id))]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Nvel"}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Nveis"}),n.jsx(ge,{value:"info",children:"Info"}),n.jsx(ge,{value:"warning",children:"Warning"}),n.jsx(ge,{value:"error",children:"Error"}),n.jsx(ge,{value:"success",children:"Success"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Perodo"}),n.jsxs($t,{value:c,onValueChange:d,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"today",children:"Hoje"}),n.jsx(ge,{value:"week",children:"Esta Semana"}),n.jsx(ge,{value:"month",children:"Este Ms"}),n.jsx(ge,{value:"all",children:"Todos"})]})]})]})]})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Logs do Sistema (",L.length,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:L.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum log encontrado com os filtros aplicados."}):L.map(N=>{const{icon:I,color:M}=C(N.level);return n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-full ${M}`,children:n.jsx(I,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Yt,{className:F(N.action),children:E(N.action)}),n.jsxs("span",{className:"text-sm text-gray-600",children:["por ",n.jsx("strong",{children:N.userName})]}),n.jsx("span",{className:"text-sm text-gray-500",children:w(N.createdAt)})]}),n.jsx("p",{className:"text-gray-900 mb-1",children:N.description}),N.details&&n.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded mt-2",children:[n.jsx("strong",{children:"Detalhes:"})," ",N.details]}),N.ipAddress&&n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["IP: ",N.ipAddress]}),N.userAgent&&n.jsxs("span",{children:["User Agent: ",N.userAgent.substring(0,50),"..."]})]})]})]})},N.id)})})})]})]}),n.jsxs(Kn,{value:"backups",className:"space-y-6",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Backup Automtico de Logs"})}),n.jsx(Re,{children:n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_6,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Sistema de Backup Automtico"}),n.jsx("p",{children:" Os logs so automaticamente arquivados a cada 7 dias"}),n.jsx("p",{children:" Logs antigos so removidos do sistema aps o backup"}),n.jsx("p",{children:" Todos os backups ficam disponveis para download em formato Excel"}),n.jsx("p",{children:' Use "Criar Backup" para gerar um backup manual dos logs atuais'})]})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Arquivos de Backup (",m.length,")"]})}),n.jsx(Re,{children:x?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando backups..."})]}):m.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(O$,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Nenhum backup encontrado"}),n.jsx("p",{className:"text-sm",children:"Os backups sero criados automaticamente a cada 7 dias"})]}):n.jsx("div",{className:"space-y-4",children:m.map(N=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-green-50",children:n.jsx(Uc,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-900",children:["Backup - ",new Date(N.backupDate).toLocaleDateString("pt-BR")]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[N.logCount.toLocaleString()," logs  Criado em ",new Date(N.createdAt).toLocaleString("pt-BR")]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yt,{variant:N.status==="completed"?"default":"secondary",children:N.status==="completed"?"Completo":N.status}),n.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>j.mutate(N.id),disabled:j.isPending,children:[n.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Excel"]}),n.jsxs(zie,{children:[n.jsx(Vie,{asChild:!0,children:n.jsx(Z,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",children:n.jsx(Bs,{className:"h-4 w-4"})})}),n.jsxs(A8,{children:[n.jsxs(m8,{children:[n.jsx(x8,{children:"Excluir Backup"}),n.jsx(g8,{children:"Tem certeza que deseja excluir este backup? Esta ao no pode ser desfeita."})]}),n.jsxs(p8,{children:[n.jsx(y8,{children:"Cancelar"}),n.jsx(v8,{onClick:()=>b.mutate(N.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]})},N.id))})})]})]})]})]})}function jbt(){const{toast:e}=en(),[t,r]=B.useState(""),[a,s]=B.useState(null),[i,o]=B.useState(!1),[l,c]=B.useState(!1),[d,u]=B.useState(""),[h,f]=B.useState(null),{data:A=[],isLoading:p}=pt({queryKey:["/api/budgets/awaiting-approval"]}),m=jt({mutationFn:async w=>_m("POST",`/api/budgets/${w}/admin-approve`),onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets/awaiting-approval"]}),ct.invalidateQueries({queryKey:["/api/budgets"]}),e({title:"Oramento Autorizado",description:"O oramento foi autorizado com sucesso."})},onError:()=>{e({title:"Erro",description:"Erro ao autorizar oramento.",variant:"destructive"})}}),x=jt({mutationFn:async({budgetId:w,reason:C})=>_m("POST",`/api/budgets/${w}/admin-reject`,{reason:C}),onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets/awaiting-approval"]}),ct.invalidateQueries({queryKey:["/api/budgets"]}),c(!1),u(""),f(null),e({title:"Oramento No Autorizado",description:"O oramento foi devolvido ao vendedor."})},onError:()=>{e({title:"Erro",description:"Erro ao rejeitar oramento.",variant:"destructive"})}}),g=w=>{f(w),c(!0)},v=()=>{h&&x.mutate({budgetId:h.id,reason:d})},y=A.filter(w=>{var F,E,L,N;if(!t)return!0;const C=t.toLowerCase();return((F=w.budgetNumber)==null?void 0:F.toLowerCase().includes(C))||((E=w.title)==null?void 0:E.toLowerCase().includes(C))||((L=w.contactName)==null?void 0:L.toLowerCase().includes(C))||((N=w.vendorName)==null?void 0:N.toLowerCase().includes(C))}),j=w=>{const C=typeof w=="string"?parseFloat(w):w;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C||0)},b=w=>new Date(w).toLocaleDateString("pt-BR");return p?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Ll,{className:"h-6 w-6 text-orange-500"}),"Oramentos Para Autorizao"]}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Oramentos com desconto abaixo do preo mnimo que precisam de autorizao"})]}),n.jsxs("div",{className:"bg-orange-100 text-orange-800 px-4 py-2 rounded-full text-sm font-semibold",children:[y.length," pendente",y.length!==1?"s":""]})]}),n.jsxs("div",{className:"relative max-w-md",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar por nmero, ttulo, cliente ou vendedor...",value:t,onChange:w=>r(w.target.value),className:"pl-10"})]}),y.length===0?n.jsx(Le,{children:n.jsxs(Re,{className:"py-12 text-center",children:[n.jsx(Bn,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum oramento pendente"}),n.jsx("p",{className:"text-gray-500 mt-1",children:"Todos os oramentos esto dentro dos limites de preo mnimo."})]})}):n.jsx("div",{className:"space-y-4",children:y.map(w=>n.jsx(Le,{className:"border-l-4 border-l-orange-400 hover:shadow-md transition-shadow",children:n.jsx(Re,{className:"p-5",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxs("span",{className:"font-mono text-sm text-gray-500",children:["#",w.budgetNumber]}),n.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full text-xs font-medium flex items-center gap-1",children:[n.jsx(Un,{className:"h-3 w-3"}),"Aguardando Autorizao"]})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:w.title}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Yn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Vendedor: ",w.vendorName||"N/A"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Yn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Cliente: ",w.contactName||w.clientName||"N/A"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Mr,{className:"h-4 w-4"}),n.jsxs("span",{children:["Valor: ",j(w.totalValue||w.valor||0)]})]})]}),w.items&&w.items.length>0&&n.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-sm text-gray-500",children:[n.jsx(gr,{className:"h-4 w-4"}),n.jsxs("span",{children:[w.items.length," produto",w.items.length!==1?"s":""]})]}),n.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Criado em: ",b(w.createdAt)]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>{s(w),o(!0)},children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Detalhes"]}),n.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>m.mutate(w.id),disabled:m.isPending,children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Autorizar"]}),n.jsxs(Z,{size:"sm",variant:"destructive",onClick:()=>g(w),disabled:x.isPending,children:[n.jsx(ej,{className:"h-4 w-4 mr-1"}),"No Autorizar"]})]})]})})},w.id))}),n.jsx(rr,{open:i,onOpenChange:o,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Zt,{children:n.jsxs(er,{className:"flex items-center gap-2 text-xl",children:[n.jsx(Pn,{className:"h-5 w-5 text-orange-500"}),"Oramento #",a==null?void 0:a.budgetNumber]})}),a&&(()=>{var O,k,P;const w=((O=a.items)==null?void 0:O.reduce((R,V)=>R+parseFloat(V.totalPrice||0),0))||0,C=parseFloat(a.shippingCost||0),F=parseFloat(a.downPayment||0),E=parseFloat(a.remainingAmount||0),L=parseFloat(a.totalValue||0),N=a.hasDiscount,I=parseFloat(a.discountPercentage||0),M=parseFloat(a.discountValue||0);return a.discountType==="percentage"&&w*I/100,n.jsxs("div",{className:"space-y-5",children:[n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-orange-800 font-medium flex items-center gap-2",children:[n.jsx(Ll,{className:"h-4 w-4"}),"Este oramento possui produtos com preo abaixo do mnimo permitido e necessita de autorizao para prosseguir."]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:a.title})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendedor"}),n.jsx("p",{className:"text-gray-900",children:a.vendorName||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("p",{className:"text-gray-900",children:b(a.createdAt)})]})]}),n.jsx(as,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4"}),"Dados do Cliente"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Nome"}),n.jsx("p",{className:"text-sm font-medium",children:a.contactName||a.clientName||"N/A"})]}),a.contactPhone&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ll,{className:"h-3 w-3 text-gray-400"}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Telefone"}),n.jsx("p",{className:"text-sm",children:a.contactPhone})]})]}),a.contactEmail&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rd,{className:"h-3 w-3 text-gray-400"}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"E-mail"}),n.jsx("p",{className:"text-sm",children:a.contactEmail})]})]})]})]}),n.jsx(as,{}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(gr,{className:"h-4 w-4"}),"Itens do Oramento (",((k=a.items)==null?void 0:k.length)||0," produto",(((P=a.items)==null?void 0:P.length)||0)!==1?"s":"",")"]}),a.items&&a.items.length>0&&n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3 font-semibold",children:"Produto"}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Qtd"}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Custo"}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Preo Mn."}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Preo Unit."}),n.jsx("th",{className:"text-right p-3 font-semibold",children:"Total"})]})}),n.jsx("tbody",{children:a.items.map((R,V)=>{const D=parseFloat(R.unitPrice),Y=parseFloat(R.minimumPrice||0),ne=parseFloat(R.costPrice||0),S=R.hasItemCustomization&&parseFloat(R.itemCustomizationValue)||0,z=R.hasGeneralCustomization&&parseFloat(R.generalCustomizationValue)||0,Q=parseFloat(R.basePriceWithMargin)||Math.max(0,D-S-z),W=Y>0&&Q<Y,U=Y>0?((Q-Y)/Y*100).toFixed(1):null;return n.jsxs("tr",{className:`border-t ${W?"bg-red-50":""}`,children:[n.jsxs("td",{className:"p-3",children:[n.jsx("span",{className:"font-medium",children:R.productName}),W&&n.jsxs("span",{className:"block text-xs text-red-600 font-semibold mt-0.5",children:[U,"% abaixo do mnimo"]})]}),n.jsx("td",{className:"p-3 text-right",children:parseFloat(R.quantity).toLocaleString("pt-BR")}),n.jsx("td",{className:"p-3 text-right text-gray-500",children:ne>0?j(ne):"-"}),n.jsx("td",{className:"p-3 text-right text-gray-500 font-medium",children:Y>0?j(Y):"-"}),n.jsx("td",{className:`p-3 text-right font-semibold ${W?"text-red-600":"text-gray-900"}`,children:j(D)}),n.jsx("td",{className:"p-3 text-right font-medium",children:j(R.totalPrice)})]},V)})})]})})]}),n.jsx(as,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(io,{className:"h-4 w-4"}),"Entrega e Frete"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1.5 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Tipo de Entrega:"}),n.jsx("span",{className:"font-medium",children:a.deliveryType==="pickup"?"Retirada":a.deliveryType==="delivery"?"Entrega":a.deliveryType})]}),a.shippingMethodName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Mtodo de Frete:"}),n.jsx("span",{className:"font-medium",children:a.shippingMethodName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Valor do Frete:"}),n.jsx("span",{className:"font-medium",children:j(C)})]}),a.deliveryDeadline&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Prazo de Entrega:"}),n.jsx("span",{className:"font-medium",children:b(a.deliveryDeadline)})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(lo,{className:"h-4 w-4"}),"Pagamento"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1.5 text-sm",children:[a.paymentMethodName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Forma de Pagamento:"}),n.jsx("span",{className:"font-medium",children:a.paymentMethodName})]}),a.installments>1&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Parcelas:"}),n.jsxs("span",{className:"font-medium",children:[a.installments,"x"]})]}),F>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Entrada:"}),n.jsx("span",{className:"font-medium text-green-700",children:j(F)})]}),E>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Restante:"}),n.jsx("span",{className:"font-medium",children:j(E)})]}),a.validUntil&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Vlido at:"}),n.jsx("span",{className:"font-medium",children:b(a.validUntil)})]})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"rounded-xl overflow-hidden border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-4 py-3 flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4 text-green-400"}),n.jsx("h4",{className:"text-sm font-bold text-white tracking-wide",children:"Resumo Financeiro"})]}),a.items&&a.items.length>0&&(()=>{const R=a.items.map(Q=>{const W=parseFloat(Q.quantity)||1,U=parseFloat(Q.unitPrice)||0,re=parseFloat(Q.costPrice)||0,de=Q.hasItemCustomization&&parseFloat(Q.itemCustomizationValue)||0,ae=Q.hasGeneralCustomization&&parseFloat(Q.generalCustomizationValue)||0,Ae=de+ae,Me=parseFloat(Q.basePriceWithMargin)||Math.max(0,U-Ae),H=Me*W,Oe=re*W,Ee=Ae*W,ee=H-Oe,st=H>0?ee/H*100:0,se=parseFloat(Q.minimumPrice||0)>0&&Me<parseFloat(Q.minimumPrice);return{item:Q,qty:W,unitPrice:U,baseUnitPrice:Me,productRevenue:H,productCost:Oe,customizationRevenue:Ee,productProfit:ee,marginPct:st,totalCustomUnit:Ae,isBelowMin:se}}),V=R.reduce((Q,W)=>Q+W.productRevenue,0),D=R.reduce((Q,W)=>Q+W.productCost,0),Y=R.reduce((Q,W)=>Q+W.customizationRevenue,0),ne=V-D,S=N?a.discountType==="percentage"?w*I/100:M:0,z=V+Y>0?ne/(V+Y)*100:0;return n.jsxs("div",{children:[R.map(({item:Q,productRevenue:W,productCost:U,customizationRevenue:re,productProfit:de,marginPct:ae,isBelowMin:Ae},Me)=>n.jsxs("div",{className:`px-4 py-2.5 border-b border-gray-100 text-xs ${Ae?"bg-red-50":Me%2===0?"bg-white":"bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"font-semibold text-gray-800 truncate max-w-[55%]",children:Q.productName}),n.jsxs("div",{className:"flex items-center gap-3 text-right",children:[n.jsxs("span",{className:"text-gray-400",children:["Custo: ",n.jsx("span",{className:"text-gray-600 font-medium",children:j(U)})]}),n.jsxs("span",{className:"text-gray-400",children:["Venda: ",n.jsx("span",{className:"font-medium text-gray-800",children:j(W)})]}),n.jsxs("span",{className:`px-1.5 py-0.5 rounded font-bold ${de>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[de>=0?"+":"",j(de)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-1 text-xs px-1.5 py-0.5 rounded-full font-semibold ${ae>=20?"bg-emerald-100 text-emerald-700":ae>=10?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[ae.toFixed(1),"% margem"]}),Ae&&n.jsx("span",{className:"text-red-600 font-bold",children:" Abaixo do mnimo"})]}),re>0&&n.jsxs("span",{className:"text-blue-600 font-medium",children:["+ ",j(re)," personalizao"]})]})]},Me)),n.jsxs("div",{className:"bg-gray-50 px-4 pt-3 pb-2 space-y-1.5 text-sm border-b border-gray-200",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Subtotal produtos"}),n.jsx("span",{className:"font-medium",children:j(V)})]}),Y>0&&n.jsxs("div",{className:"flex justify-between text-blue-600",children:[n.jsx("span",{children:"Personalizaes"}),n.jsx("span",{className:"font-medium",children:j(Y)})]}),N&&S>0&&n.jsxs("div",{className:"flex justify-between text-red-500",children:[n.jsx("span",{children:"Desconto"}),n.jsxs("span",{className:"font-medium",children:["- ",j(S)]})]}),C>0&&n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Frete"}),n.jsx("span",{className:"font-medium",children:j(C)})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-0 divide-x divide-gray-200",children:[n.jsxs("div",{className:"px-4 py-3 text-center bg-white",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Lucro em Vendas"}),n.jsxs("p",{className:`text-base font-bold ${ne>=0?"text-green-600":"text-red-600"}`,children:[ne>=0?"+":"",j(ne)]})]}),n.jsxs("div",{className:"px-4 py-3 text-center bg-white",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Receita Personaliz."}),n.jsx("p",{className:"text-base font-bold text-blue-600",children:Y>0?j(Y):n.jsx("span",{className:"text-gray-400 text-sm",children:""})})]}),n.jsxs("div",{className:"px-4 py-3 text-center bg-white",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Margem Geral"}),n.jsxs("p",{className:`text-base font-bold ${z>=20?"text-emerald-600":z>=10?"text-yellow-600":"text-red-600"}`,children:[z.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 px-4 py-3 flex justify-between items-center",children:[n.jsx("span",{className:"text-white font-semibold text-sm",children:"Valor Total do Oramento"}),n.jsx("span",{className:"text-green-300 font-bold text-xl",children:j(L)})]})]})})(),(!a.items||a.items.length===0)&&n.jsxs("div",{className:"px-4 py-4 text-sm space-y-2",children:[C>0&&n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Frete"}),n.jsx("span",{children:j(C)})]}),n.jsxs("div",{className:"flex justify-between font-bold text-base border-t pt-2",children:[n.jsx("span",{children:"Valor Total"}),n.jsx("span",{className:"text-green-700",children:j(L)})]})]})]}),a.description&&n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Observaes"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded mt-1",children:a.description})]}),n.jsxs(Am,{className:"gap-2 pt-2",children:[n.jsxs(Z,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{m.mutate(a.id),o(!1)},disabled:m.isPending,children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Autorizar Oramento"]}),n.jsxs(Z,{variant:"destructive",onClick:()=>{o(!1),g(a)},children:[n.jsx(ej,{className:"h-4 w-4 mr-1"}),"No Autorizar"]})]})]})})()]})}),n.jsx(rr,{open:l,onOpenChange:c,children:n.jsxs(Jt,{children:[n.jsx(Zt,{children:n.jsx(er,{children:"No Autorizar Oramento"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["O oramento ser devolvido ao vendedor para ajuste.",h&&n.jsxs("span",{className:"block mt-1 font-medium",children:["Oramento: #",h.budgetNumber," - ",h.title]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Motivo (opcional)"}),n.jsx(Jn,{value:d,onChange:w=>u(w.target.value),placeholder:"Informe o motivo da no autorizao...",rows:3})]})]}),n.jsxs(Am,{children:[n.jsx(Z,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(Z,{variant:"destructive",onClick:v,disabled:x.isPending,children:"Confirmar"})]})]})})]})}function Nbt(){var ze,je,De,Ke,At,He,Te,dr,Pe;const t=JSON.parse(localStorage.getItem("user")||"{}").id,[r,a]=B.useState(!1),[s,i]=B.useState(""),[o,l]=B.useState("all"),[c,d]=B.useState(null),[u,h]=B.useState(!1),[f,A]=B.useState(""),[p,m]=B.useState("all"),[x,g]=B.useState("all"),[v,y]=B.useState(!1),[j,b]=B.useState(null),{toast:w}=en(),C=async(X,We)=>{var Ct;const wt=(Ct=X.target.files)==null?void 0:Ct[0];if(wt){if(wt.size>5*1024*1024){w({title:"Erro",description:"Imagem deve ter at 5MB",variant:"destructive"});return}try{const Qt=new FormData;Qt.append("file",wt);const pe=await fetch("/api/upload",{method:"POST",body:Qt});if(!pe.ok)throw new Error("Upload failed");const{url:dt}=await pe.json();H(We,"customizationPhoto",dt),w({title:"Sucesso!",description:"Imagem enviada com sucesso"})}catch(Qt){console.error("Upload error:",Qt),w({title:"Erro",description:"Erro ao enviar imagem",variant:"destructive"})}}},F=X=>{H(X,"customizationPhoto","")},[E,L]=B.useState(null),[N,I]=B.useState(!1),[M,O]=B.useState({title:"",description:"",clientId:"",contactName:"",contactPhone:"",contactEmail:"",vendorId:t,branchId:"matriz",deadline:"",deliveryDeadline:"",deliveryType:"delivery",items:[],paymentMethodId:"",shippingMethodId:"",installments:1,downPayment:0,remainingAmount:0,shippingCost:0,hasDiscount:!1,discountType:"percentage",discountPercentage:0,discountValue:0}),{data:k,isLoading:P}=pt({queryKey:["/api/vendors",t,"orders"],queryFn:async()=>{const X=await fetch(`/api/vendors/${t}/orders`);if(!X.ok)throw new Error("Failed to fetch vendor orders");return X.json()}}),{data:R}=pt({queryKey:["/api/commissions/vendor",t],queryFn:async()=>{const X=await fetch(`/api/commissions/vendor/${t}`);if(!X.ok)throw new Error("Failed to fetch vendor commissions");return X.json()}}),{data:V}=pt({queryKey:["/api/production-orders/status",t],queryFn:async()=>{const X=await fetch(`/api/production-orders/vendor/${t}/status`);if(!X.ok)return{};const We=await X.json(),wt={};return We.forEach(Ct=>{Ct.orderId&&(wt[Ct.orderId]=Ct)}),wt}}),{data:D}=pt({queryKey:["/api/vendors",t,"clients"],queryFn:async()=>{const X=await fetch(`/api/vendors/${t}/clients`);if(!X.ok)throw new Error("Failed to fetch clients");return X.json()}}),{data:Y}=pt({queryKey:["/api/products",{limit:9999}],queryFn:async()=>{const X=await fetch("/api/products?limit=9999");if(!X.ok)throw new Error("Failed to fetch products");return X.json()}}),{data:ne}=pt({queryKey:["/api/payment-methods"],queryFn:async()=>{const X=await fetch("/api/payment-methods");if(!X.ok)throw new Error("Failed to fetch payment methods");return X.json()}}),{data:S}=pt({queryKey:["/api/shipping-methods"],queryFn:async()=>{const X=await fetch("/api/shipping-methods");if(!X.ok)throw new Error("Failed to fetch shipping methods");return X.json()}}),{data:z}=pt({queryKey:["/api/branches"],queryFn:async()=>{const X=await fetch("/api/branches");if(!X.ok)throw new Error("Failed to fetch branches");return X.json()}}),{data:Q}=pt({queryKey:["/api/producers"],queryFn:async()=>{const X=await fetch("/api/producers");if(!X.ok)throw new Error("Failed to fetch producers");return X.json()}}),W=(Y==null?void 0:Y.products)||[],U=new Set;(W||[]).forEach(X=>{X.category&&typeof X.category=="string"&&U.add(X.category)});const re=["all",...Array.from(U)],de=ne==null?void 0:ne.find(X=>X.id===M.paymentMethodId),ae=S==null?void 0:S.find(X=>X.id===M.shippingMethodId),Ae=()=>{if(M.deliveryType==="pickup"||!ae)return 0;const X=Ee();return ae.type==="free"||ae.freeShippingThreshold>0&&X>=ae.freeShippingThreshold?0:ae.type==="fixed"?parseFloat(ae.basePrice):parseFloat(ae.basePrice||"0")},Me=(X,We)=>{const wt={productId:X.id,productName:X.name,producerId:We,quantity:1,unitPrice:parseFloat(X.basePrice),totalPrice:parseFloat(X.basePrice),hasItemCustomization:!1,selectedCustomizationId:"",itemCustomizationValue:0,itemCustomizationDescription:"",additionalCustomizationNotes:"",customizationPhoto:"",hasGeneralCustomization:!1,generalCustomizationName:"",generalCustomizationValue:0,productWidth:"",productHeight:"",productDepth:"",hasItemDiscount:!1,itemDiscountType:"percentage",itemDiscountPercentage:0,itemDiscountValue:0};O(Ct=>({...Ct,items:[...Ct.items,wt]}))},H=(X,We,wt)=>{O(Ct=>{const Qt=[...Ct.items],pe={...Qt[X]};if(We==="quantity"){const dt=parseInt(wt)||1;pe.quantity=dt,pe.totalPrice=pe.unitPrice*dt}else We==="itemCustomizationValue"?pe[We]=parseFloat(wt)||0:pe[We]=wt;return Qt[X]=pe,{...Ct,items:Qt}})},Oe=X=>{O(We=>({...We,items:We.items.filter((wt,Ct)=>Ct!==X)}))},Ee=()=>{const X=M.items.reduce((We,wt)=>We+ee(wt),0);if(M.hasDiscount){if(M.discountType==="percentage"){const We=X*M.discountPercentage/100;return Math.max(0,X-We)}else if(M.discountType==="value")return Math.max(0,X-M.discountValue)}return X},ee=X=>{const We=X.unitPrice*X.quantity,wt=X.hasItemCustomization?X.quantity*(X.itemCustomizationValue||0):0,Ct=X.hasGeneralCustomization?X.quantity*(X.generalCustomizationValue||0):0;let Qt=We+wt+Ct;if(X.hasItemDiscount)if(X.itemDiscountType==="percentage"){const pe=We*(X.itemDiscountPercentage||0)/100;Qt=Qt-pe}else X.itemDiscountType==="value"&&(Qt=Qt-(X.itemDiscountValue||0));return Math.max(0,Qt)},st=()=>{const X=Ee(),We=parseFloat(M.shippingCost)||Ae();return X+We},se=()=>{O({title:"",description:"",clientId:"",contactName:"",contactPhone:"",contactEmail:"",vendorId:t,branchId:"matriz",deadline:"",deliveryDeadline:"",deliveryType:"delivery",items:[],paymentMethodId:"",shippingMethodId:"",installments:1,downPayment:0,remainingAmount:0,shippingCost:0,hasDiscount:!1,discountType:"percentage",discountPercentage:0,discountValue:0}),y(!1),b(null),L(null),I(!1)},me=jt({mutationFn:async X=>{const We=D==null?void 0:D.find(Qt=>Qt.id===X.clientId),wt={clientId:(We==null?void 0:We.userId)||X.clientId,vendorId:X.vendorId,product:X.title,description:X.description||"",totalValue:st().toFixed(2),deadline:X.deadline||null,deliveryDeadline:X.deliveryDeadline||null,status:"confirmed",contactName:X.contactName,contactPhone:X.contactPhone||"",contactEmail:X.contactEmail||"",deliveryType:X.deliveryType||"delivery",paymentMethodId:X.paymentMethodId||"",shippingMethodId:X.shippingMethodId||"",installments:X.installments||1,downPayment:X.downPayment||0,remainingAmount:X.remainingAmount||0,shippingCost:X.shippingCost||0,hasDiscount:X.hasDiscount||!1,discountType:X.discountType||"percentage",discountPercentage:X.discountPercentage||0,discountValue:X.discountValue||0,items:X.items||[]};console.log("Creating order with data:",wt);const Ct=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(wt)});if(!Ct.ok){const Qt=await Ct.text();throw console.error("Order creation failed:",Qt),new Error("Erro ao criar pedido: "+Qt)}return Ct.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors",t,"orders"]}),a(!1),se(),i(""),l("all"),w({title:"Sucesso!",description:"Pedido criado com sucesso"})}}),nt=jt({mutationFn:async X=>{const We={vendorId:X.vendorId,product:X.title,description:X.description||"",totalValue:st().toFixed(2),deadline:X.deadline||null,deliveryDeadline:X.deliveryDeadline||null,contactName:X.contactName,contactPhone:X.contactPhone||"",contactEmail:X.contactEmail||"",deliveryType:X.deliveryType||"delivery",paymentMethodId:X.paymentMethodId||"",shippingMethodId:X.shippingMethodId||"",installments:X.installments||1,downPayment:X.downPayment||0,remainingAmount:X.remainingAmount||0,shippingCost:X.shippingCost||0,hasDiscount:X.hasDiscount||!1,discountType:X.discountType||"percentage",discountPercentage:X.discountPercentage||0,discountValue:X.discountValue||0,items:X.items||[]};console.log("Updating order with data:",We);const wt=await fetch(`/api/orders/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(We)});if(!wt.ok){const Ct=await wt.text();throw console.error("Order update failed:",Ct),new Error("Erro ao atualizar pedido: "+Ct)}return wt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors",t,"orders"]}),a(!1),se(),i(""),l("all"),w({title:"Sucesso!",description:"Pedido atualizado com sucesso"})}}),Nt=jt({mutationFn:async X=>{const We=await fetch(`/api/orders/${X}/mark-notes-read`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!We.ok)throw new Error("Erro ao marcar observaes como lidas");return We.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/vendors",t,"orders"]}),w({title:"Observaes marcadas como lidas",description:"As observaes da produo foram marcadas como lidas"})}}),xt=async X=>{var We,wt,Ct,Qt,pe,dt,Rt;console.log("Editing order:",X);try{const Dt=await fetch(`/api/orders/${X.id}`);if(!Dt.ok)throw new Error("Erro ao buscar pedido");const ot=await Dt.json();console.log("Order items:",ot.items),O({title:ot.product||ot.title||"",description:ot.description||"",clientId:ot.clientId||"",contactName:ot.contactName||"",contactPhone:ot.contactPhone||"",contactEmail:ot.contactEmail||"",vendorId:ot.vendorId,branchId:ot.branchId||"",deadline:ot.deadline?new Date(ot.deadline).toISOString().split("T")[0]:"",deliveryDeadline:ot.deliveryDeadline?new Date(ot.deliveryDeadline).toISOString().split("T")[0]:"",deliveryType:ot.deliveryType||"delivery",items:((We=ot.items)==null?void 0:We.map(Ft=>{var xr;let Er=Ft.producerId;if(!Er&&Ft.productId){const on=W.find(zt=>zt.id===Ft.productId);Er=(on==null?void 0:on.producerId)||"internal"}return Er||(Er="internal"),console.log(`Mapping item ${Ft.productName}: producerId=${Er}`),{productId:Ft.productId,productName:Ft.productName||((xr=Ft.product)==null?void 0:xr.name)||"Produto no encontrado",producerId:Er,quantity:parseInt(Ft.quantity)||1,unitPrice:parseFloat(Ft.unitPrice)||0,totalPrice:parseFloat(Ft.totalPrice)||0,hasItemCustomization:Ft.hasItemCustomization||!1,selectedCustomizationId:Ft.selectedCustomizationId||"",itemCustomizationValue:parseFloat(Ft.itemCustomizationValue||0),itemCustomizationDescription:Ft.itemCustomizationDescription||"",additionalCustomizationNotes:Ft.additionalCustomizationNotes||"",customizationPhoto:Ft.customizationPhoto||"",hasGeneralCustomization:Ft.hasGeneralCustomization||!1,generalCustomizationName:Ft.generalCustomizationName||"",generalCustomizationValue:parseFloat(Ft.generalCustomizationValue||0),productWidth:Ft.productWidth||"",productHeight:Ft.productHeight||"",productDepth:Ft.productDepth||"",hasItemDiscount:Ft.hasItemDiscount||!1,itemDiscountType:Ft.itemDiscountType||"percentage",itemDiscountPercentage:parseFloat(Ft.itemDiscountPercentage||0),itemDiscountValue:parseFloat(Ft.itemDiscountValue||0)}}))||[],paymentMethodId:((wt=ot.paymentInfo)==null?void 0:wt.paymentMethodId)||ot.paymentMethodId||"",shippingMethodId:((Ct=ot.paymentInfo)==null?void 0:Ct.shippingMethodId)||ot.shippingMethodId||"",installments:Number(((Qt=ot.paymentInfo)==null?void 0:Qt.installments)??ot.installments??1),downPayment:Number(((pe=ot.paymentInfo)==null?void 0:pe.downPayment)??ot.downPayment??0),remainingAmount:Number(((dt=ot.paymentInfo)==null?void 0:dt.remainingAmount)??ot.remainingAmount??0),shippingCost:Number(((Rt=ot.paymentInfo)==null?void 0:Rt.shippingCost)??ot.shippingCost??0),hasDiscount:!!ot.hasDiscount,discountType:ot.discountType||"percentage",discountPercentage:Number(ot.discountPercentage??0),discountValue:Number(ot.discountValue??0)}),y(!0),b(X.id),a(!0)}catch{w({title:"Erro",description:"Erro ao carregar pedido para edio",variant:"destructive"})}},Ne=X=>{if(X.preventDefault(),M.items.length===0){w({title:"Erro",description:"Adicione pelo menos um produto ao pedido",variant:"destructive"});return}if(M.branchId||O(wt=>({...wt,branchId:"matriz"})),!M.title){w({title:"Erro",description:"O ttulo do pedido  obrigatrio.",variant:"destructive"});return}if(!M.contactName){w({title:"Erro",description:"O nome de contato  obrigatrio.",variant:"destructive"});return}if(!M.paymentMethodId){w({title:"Erro",description:"A forma de pagamento  obrigatria.",variant:"destructive"});return}if(M.installments<1){w({title:"Erro",description:"O nmero de parcelas deve ser pelo menos 1.",variant:"destructive"});return}if(M.deliveryType!=="pickup"&&!M.shippingMethodId){w({title:"Erro",description:"O mtodo de frete  obrigatrio quando o tipo de entrega no  'Retirada no Local'.",variant:"destructive"});return}if(!M.deadline){w({title:"Erro",description:"O prazo de produo  obrigatrio",variant:"destructive"});return}if(!M.deliveryDeadline){w({title:"Erro",description:"O prazo de entrega  obrigatrio",variant:"destructive"});return}const We=new Date().toISOString().split("T")[0];if(M.deadline<We){w({title:"Erro",description:"O prazo de produo no pode ser anterior a hoje",variant:"destructive"});return}v?nt.mutate(M):me.mutate(M)},le=(X,We)=>{if(We&&X==="production"){const Qt={pending:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",accepted:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",production:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",ready:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",shipped:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded-full text-xs font-medium",completed:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",rejected:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium"},pe={pending:"Aguardando Produtor",accepted:"Aceito pelo Produtor",production:"Em Produo",ready:"Pronto para Envio",shipped:"Enviado",completed:"Finalizado",rejected:"Rejeitado"};return n.jsx("span",{className:Qt[We.status]||"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:pe[We.status]||We.status})}const wt={pending:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",confirmed:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",production:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",delayed:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",ready:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",shipped:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded-full text-xs font-medium",partial_shipped:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium animate-pulse border border-yellow-300",delivered:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",cancelled:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium"},Ct={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",delayed:"Em Atraso",ready:"Pronto",shipped:"Enviado",partial_shipped:"Parcialmente Enviado",delivered:"Entregue",cancelled:"Cancelado"};return n.jsx("span",{className:wt[X]||"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:Ct[X]||X})},Fe=k==null?void 0:k.filter(X=>{var Qt,pe,dt;const We=f===""||X.orderNumber.toLowerCase().includes(f.toLowerCase())||((Qt=X.title)==null?void 0:Qt.toLowerCase().includes(f.toLowerCase()))||((pe=X.clientName)==null?void 0:pe.toLowerCase().includes(f.toLowerCase()))||((dt=X.contactName)==null?void 0:dt.toLowerCase().includes(f.toLowerCase())),wt=p==="all"||X.status===p;let Ct=!0;if(x!=="all"&&X.createdAt){const Rt=new Date(X.createdAt),Dt=new Date,ot=new Date(Dt.setHours(0,0,0,0)),Ft=new Date(Dt.setDate(Dt.getDate()-Dt.getDay())),Er=new Date(Dt.getFullYear(),Dt.getMonth(),1),xr=new Date(Dt.getFullYear(),Math.floor(Dt.getMonth()/3)*3,1);switch(x){case"today":Ct=Rt>=ot;break;case"week":Ct=Rt>=Ft;break;case"month":Ct=Rt>=Er;break;case"quarter":Ct=Rt>=xr;break}}return We&&wt&&Ct});return P?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meus Pedidos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie pedidos criados para seus clientes"})]}),n.jsxs(rr,{open:r,onOpenChange:X=>{a(X),X&&!v&&(se(),i(""),l("all"))},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>{y(!1),b(null),se(),i(""),l("all")},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Pedido"]})}),n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:v?"Editar Pedido":"Criar Novo Pedido"}),n.jsx(lr,{children:v?"Modifique os dados do pedido existente":"Crie um pedido personalizado com produtos do catlogo"})]}),n.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-title",children:"Ttulo do Pedido *"}),n.jsx(ie,{id:"order-title",value:M.title,onChange:X=>O({...M,title:X.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-deadline",children:"Prazo de Produo *"}),n.jsx(ie,{id:"order-deadline",type:"date",value:M.deadline,onChange:X=>{const We=X.target.value,wt=new Date().toISOString().split("T")[0];if(We<wt){w({title:"Data Invlida",description:"O prazo de produo no pode ser anterior  data de hoje.",variant:"destructive"});return}O({...M,deadline:We})},min:new Date().toISOString().split("T")[0],required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-deliveryDeadline",children:"Prazo de Entrega *"}),n.jsxs($t,{value:M.deliveryDeadline?(()=>{var X;try{const We=new Date,wt=new Date(M.deliveryDeadline);if(isNaN(wt.getTime()))return"";const Ct=wt.getTime()-We.getTime(),Qt=Math.ceil(Ct/(1e3*60*60*24));return((X=[5,10,15,20,25,30,35,40,45,50,55,60].find(dt=>dt===Qt))==null?void 0:X.toString())||""}catch{return""}})():"",onValueChange:X=>{try{const We=parseInt(X);if(isNaN(We))return;const wt=new Date,Ct=new Date(wt);if(Ct.setDate(wt.getDate()+We),isNaN(Ct.getTime()))return;O({...M,deliveryDeadline:Ct.toISOString().split("T")[0]})}catch(We){console.error("Error setting delivery deadline:",We)}},required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o prazo em dias"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"5",children:"5 dias"}),n.jsx(ge,{value:"10",children:"10 dias"}),n.jsx(ge,{value:"15",children:"15 dias"}),n.jsx(ge,{value:"20",children:"20 dias"}),n.jsx(ge,{value:"25",children:"25 dias"}),n.jsx(ge,{value:"30",children:"30 dias"}),n.jsx(ge,{value:"35",children:"35 dias"}),n.jsx(ge,{value:"40",children:"40 dias"}),n.jsx(ge,{value:"45",children:"45 dias"}),n.jsx(ge,{value:"50",children:"50 dias"}),n.jsx(ge,{value:"55",children:"55 dias"}),n.jsx(ge,{value:"60",children:"60 dias"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-delivery-type",children:"Tipo de Entrega *"}),n.jsxs($t,{value:M.deliveryType,onValueChange:X=>O({...M,deliveryType:X}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o tipo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"delivery",children:"Entrega com Frete"}),n.jsx(ge,{value:"pickup",children:"Retirada no Local"})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-branch",children:"Filial do Pedido *"}),n.jsxs($t,{value:M.branchId||"matriz",onValueChange:X=>O({...M,branchId:X}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"matriz",children:"Matriz (Padro)"}),z==null?void 0:z.map(X=>n.jsxs(ge,{value:X.id,children:[X.name," - ",X.city,X.isHeadquarters&&" (Matriz)"]},X.id))]})]})]})}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-description",children:"Descrio"}),n.jsx(Jn,{id:"order-description",rows:2,value:M.description,onChange:X=>O({...M,description:X.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-contact-name",children:"Nome de Contato *"}),n.jsx(ie,{id:"order-contact-name",value:M.contactName,onChange:X=>O({...M,contactName:X.target.value}),required:!0,placeholder:"Nome do cliente/contato"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-contact-phone",children:"Telefone"}),n.jsx(ie,{id:"order-contact-phone",value:M.contactPhone,onChange:X=>O({...M,contactPhone:gB(X.target.value)}),placeholder:"(11) 99999-9999",maxLength:15})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-contact-email",children:"Email"}),n.jsx(ie,{id:"order-contact-email",type:"email",value:M.contactEmail,onChange:X=>O({...M,contactEmail:X.target.value}),placeholder:"cliente@email.com"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"order-client",children:"Cliente Cadastrado (Opcional)"}),n.jsxs($t,{value:M.clientId||"none",onValueChange:X=>O({...M,clientId:X==="none"?"":X}),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione um cliente cadastrado (opcional)"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"none",children:"Nenhum cliente selecionado"}),D==null?void 0:D.map(X=>n.jsx(ge,{value:X.id,children:X.name},X.id))]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Produtos do Pedido"}),M.items.length>0&&n.jsx("div",{className:"space-y-4",children:M.items.map((X,We)=>{var wt,Ct,Qt;return n.jsxs("div",{className:`p-4 border rounded-lg ${We%2===0?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}`,children:[n.jsx("div",{className:"mb-3 p-2 bg-white/80 rounded-md border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(En,{className:"h-4 w-4 text-gray-600"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Produtor: ",X.producerId==="internal"?"Produtos Internos":((wt=Q==null?void 0:Q.find(pe=>pe.id===X.producerId))==null?void 0:wt.name)||"Produtor no encontrado"]})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-medium",children:X.productName}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>Oe(We),children:n.jsx(Bs,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`quantity-${We}`,children:"Quantidade"}),n.jsx(ie,{id:`quantity-${We}`,type:"number",min:"1",value:X.quantity,onChange:pe=>H(We,"quantity",pe.target.value)})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`unit-price-${We}`,children:"Preo Unitrio"}),n.jsx(ie,{id:`unit-price-${We}`,value:`R$ ${X.unitPrice.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`subtotal-${We}`,children:"Subtotal (Qtd x Preo)"}),n.jsx(ie,{id:`subtotal-${We}`,value:`R$ ${(X.unitPrice*X.quantity).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`width-${We}`,children:"Largura (cm)"}),n.jsx(ie,{id:`width-${We}`,type:"number",step:"0.1",min:"0",value:X.productWidth,onChange:pe=>H(We,"productWidth",pe.target.value),placeholder:"Ex: 150.0"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`height-${We}`,children:"Altura (cm)"}),n.jsx(ie,{id:`height-${We}`,type:"number",step:"0.1",min:"0",value:X.productHeight,onChange:pe=>H(We,"productHeight",pe.target.value),placeholder:"Ex: 80.0"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`depth-${We}`,children:"Profundidade (cm)"}),n.jsx(ie,{id:`depth-${We}`,type:"number",step:"0.1",min:"0",value:X.productDepth,onChange:pe=>H(We,"productDepth",pe.target.value),placeholder:"Ex: 60.0"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(tl,{id:`item-customization-${We}`,checked:X.hasItemCustomization,onCheckedChange:pe=>H(We,"hasItemCustomization",pe)}),n.jsxs(fe,{htmlFor:`item-customization-${We}`,className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Personalizao do Item"]})]}),X.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-3 space-y-3",children:[n.jsx(c8,{productCategory:(Ct=W.find(pe=>pe.id===X.productId))==null?void 0:Ct.category,quantity:X.quantity,selectedCustomization:X.selectedCustomizationId,onCustomizationChange:pe=>{pe?(H(We,"selectedCustomizationId",pe.id),H(We,"itemCustomizationValue",pe.price),H(We,"itemCustomizationDescription",pe.name)):(H(We,"selectedCustomizationId",""),H(We,"itemCustomizationValue",0),H(We,"itemCustomizationDescription",""),H(We,"additionalCustomizationNotes",""))},customizationValue:X.itemCustomizationValue||0,onCustomizationValueChange:pe=>H(We,"itemCustomizationValue",pe),customizationDescription:X.itemCustomizationDescription||"",onCustomizationDescriptionChange:pe=>H(We,"itemCustomizationDescription",pe)}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.jsxs("div",{children:[n.jsx(fe,{children:"Total da Personalizao"}),n.jsx(ie,{value:`R$ ${(X.quantity*(X.itemCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[X.quantity,"  R$ ",(X.itemCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})," = R$ ",(X.quantity*(X.itemCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsxs("div",{children:[n.jsx(fe,{children:"Observaes Adicionais (Opcional)"}),n.jsx(ie,{value:X.additionalCustomizationNotes||"",onChange:pe=>H(We,"additionalCustomizationNotes",pe.target.value),placeholder:"Observaes extras sobre a personalizao..."})]}),n.jsxs("div",{children:[n.jsxs(fe,{children:["Imagem da Personalizao - ",X.productName,n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",X.producerId==="internal"?"Produto Interno":((Qt=Q==null?void 0:Q.find(pe=>pe.id===X.producerId))==null?void 0:Qt.name)||"Produtor no encontrado",")"]})]}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center pt-2 pb-2",children:[n.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:n.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para enviar imagem"}),n.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Para: ",X.productName]})]}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:pe=>C(pe,We)})]})}),X.customizationPhoto&&n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:X.customizationPhoto,alt:`Personalizao ${X.productName}`,className:"w-24 h-24 object-cover rounded-lg",onError:pe=>{console.error("Erro ao carregar imagem:",X.customizationPhoto),pe.currentTarget.style.display="none"}}),n.jsx(Z,{variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>F(We),type:"button",children:""})]})]})]}),n.jsx(as,{className:"my-4"}),n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(tl,{id:`general-customization-${We}`,checked:X.hasGeneralCustomization,onCheckedChange:pe=>H(We,"hasGeneralCustomization",pe)}),n.jsxs(fe,{htmlFor:`general-customization-${We}`,className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Personalizao Geral"]})]}),X.hasGeneralCustomization&&n.jsxs("div",{className:"bg-green-50 p-3 rounded mb-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`general-customization-name-${We}`,children:"Nome da Personalizao"}),n.jsx(ie,{id:`general-customization-name-${We}`,value:X.generalCustomizationName||"",onChange:pe=>H(We,"generalCustomizationName",pe.target.value),placeholder:"Ex: Bordado, Gravao, etc."})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`general-customization-value-${We}`,children:"Valor Unitrio (R$)"}),n.jsx(ie,{id:`general-customization-value-${We}`,value:X.generalCustomizationValue>0?Pi(X.generalCustomizationValue.toString().replace(".",",")):"",onChange:pe=>{const dt=ki(pe.target.value);H(We,"generalCustomizationValue",dt)},placeholder:"R$ 0,00"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Total da Personalizao Geral"}),n.jsx(ie,{value:`R$ ${(X.quantity*(X.generalCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[X.quantity,"  R$ ",(X.generalCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})," = R$ ",(X.quantity*(X.generalCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(tl,{id:`item-discount-${We}`,checked:X.hasItemDiscount,onCheckedChange:pe=>H(We,"hasItemDiscount",pe)}),n.jsxs(fe,{htmlFor:`item-discount-${We}`,className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Desconto no Item"]})]}),X.hasItemDiscount&&n.jsx("div",{className:"bg-orange-50 p-3 rounded mb-3 space-y-3",children:n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`item-discount-type-${We}`,children:"Tipo de Desconto"}),n.jsxs($t,{value:X.itemDiscountType||"percentage",onValueChange:pe=>H(We,"itemDiscountType",pe),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"percentage",children:"Porcentagem (%)"}),n.jsx(ge,{value:"value",children:"Valor Fixo (R$)"})]})]})]}),X.itemDiscountType==="percentage"?n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`item-discount-percentage-${We}`,children:"Desconto (%)"}),n.jsx(ie,{id:`item-discount-percentage-${We}`,type:"number",step:"0.01",min:"0",max:"100",value:X.itemDiscountPercentage||0,onChange:pe=>H(We,"itemDiscountPercentage",parseFloat(pe.target.value)||0),placeholder:"Ex: 10.50"})]}):n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`item-discount-value-${We}`,children:"Desconto (R$)"}),n.jsx(ie,{id:`item-discount-value-${We}`,type:"number",step:"0.01",min:"0",value:X.itemDiscountValue||0,onChange:pe=>H(We,"itemDiscountValue",parseFloat(pe.target.value)||0),placeholder:"Ex: 50.00"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Valor do Desconto"}),n.jsxs("p",{className:"text-lg font-semibold text-orange-600 mt-2",children:["R$ ",(()=>{const pe=X.unitPrice*X.quantity;return X.hasItemDiscount?X.itemDiscountType==="percentage"?(pe*(X.itemDiscountPercentage||0)/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):(X.itemDiscountValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"})()]})]})]})}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{className:"font-medium",children:["R$ ",ee(X).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]},We)})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"text-base flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"Adicionar Produtos"]})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar produtos...",value:s,onChange:X=>i(X.target.value),className:"pl-9"})]}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Categoria"})}),n.jsx(Ut,{children:re.map(X=>n.jsx(ge,{value:X,children:X==="all"?"Todas as Categorias":X},X))})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:(()=>{const X=W.filter(We=>{var Qt;const wt=!s||We.name.toLowerCase().includes(s.toLowerCase())||((Qt=We.description)==null?void 0:Qt.toLowerCase().includes(s.toLowerCase()))||We.id.toLowerCase().includes(s.toLowerCase()),Ct=o==="all"||We.category===o;return wt&&Ct});return X.length===0?n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado com os filtros aplicados"}),(s||o!=="all")&&n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{i(""),l("all")},className:"mt-2",children:"Limpar filtros"})]}):X.map(We=>n.jsx("div",{className:"p-2 border rounded hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{L(We),I(!0)},children:n.jsxs("div",{className:"flex items-center gap-2",children:[We.imageLink?n.jsx("img",{src:We.imageLink,alt:We.name,className:"w-8 h-8 object-cover rounded"}):n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(gr,{className:"h-4 w-4 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:We.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["R$ ",parseFloat(We.basePrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),We.category&&n.jsx("p",{className:"text-xs text-blue-600",children:We.category})]})]})},We.id))})()}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-2",children:[n.jsx("span",{children:`${W.filter(We=>{var Qt;const wt=!s||We.name.toLowerCase().includes(s.toLowerCase())||((Qt=We.description)==null?void 0:Qt.toLowerCase().includes(s.toLowerCase()))||We.id.toLowerCase().includes(s.toLowerCase()),Ct=o==="all"||We.category===o;return wt&&Ct}).length} produtos encontrados`}),(s||o!=="all")&&n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{i(""),l("all")},children:"Limpar filtros"})]})]}),N&&E&&n.jsx(rr,{open:N,onOpenChange:I,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Selecionar Produtor"}),n.jsxs(lr,{children:["Escolha qual produtor executar o produto: ",n.jsx("strong",{children:E.name})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>{Me(E,"internal"),I(!1),L(null)},children:"Produtos Internos"}),Q==null?void 0:Q.map(X=>n.jsxs(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>{Me(E,X.id),I(!1),L(null)},children:[X.name," - ",X.specialty]},X.id))]})]})})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Pagamento e Frete"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-method",children:"Forma de Pagamento *"}),n.jsxs($t,{value:M.paymentMethodId||"",onValueChange:X=>O({...M,paymentMethodId:X}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(Ut,{children:ne==null?void 0:ne.map(X=>n.jsx(ge,{value:X.id,children:X.name},X.id))})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"shipping-method",children:"Mtodo de Frete *"}),n.jsxs($t,{value:M.shippingMethodId||"",onValueChange:X=>O({...M,shippingMethodId:X}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o mtodo de frete"})}),n.jsx(Ut,{children:S==null?void 0:S.map(X=>n.jsx(ge,{value:X.id,children:X.name},X.id))})]})]})]}),de&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Configurao de Pagamento"}),de.type==="credit_card"&&n.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"installments",children:"Nmero de Parcelas *"}),n.jsxs($t,{value:((ze=M.installments)==null?void 0:ze.toString())||"1",onValueChange:X=>O({...M,installments:parseInt(X)}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsx(Ut,{children:Array.from({length:de.maxInstallments},(X,We)=>We+1).map(X=>n.jsxs(ge,{value:X.toString(),children:[X,"x ",X>1&&de.installmentInterest>0&&`(${de.installmentInterest}% a.m.)`]},X))})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"down-payment",children:"Valor de Entrada (R$) *"}),n.jsx(ie,{id:"down-payment",value:M.downPayment>0?Pi(M.downPayment.toString().replace(".",",")):"",onChange:X=>{const We=ki(X.target.value),wt=st();O({...M,downPayment:We,remainingAmount:Math.max(0,wt-We)})},placeholder:"R$ 0,00",required:!0}),n.jsxs("div",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal dos Produtos:"}),n.jsxs("span",{children:["R$ ",Ee().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),M.deliveryType!=="pickup"&&M.shippingCost>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Frete:"}),n.jsxs("span",{children:["R$ ",M.shippingCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between font-medium text-green-700 pt-1 border-t",children:[n.jsx("span",{children:"Entrada para Iniciar:"}),n.jsxs("span",{children:["R$ ",(M.downPayment||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"remaining-amount",children:"Valor Restante (R$)"}),n.jsx(ie,{id:"remaining-amount",value:`R$ ${(M.remainingAmount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor a pagar aps incio da produo"})]})]})]}),M.deliveryType==="pickup"?n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-800",children:"Retirada no Local"}),n.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"O cliente ir retirar o pedido no local. No h cobrana de frete."})]}):ae&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Configurao de Frete"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"shipping-cost",children:"Valor do Frete (R$) *"}),n.jsx(ie,{id:"shipping-cost",value:M.shippingCost>0?Pi(M.shippingCost.toString().replace(".",",")):"",onChange:X=>{const We=ki(X.target.value),wt=Ee()+We;O({...M,shippingCost:We,remainingAmount:Math.max(0,wt-(M.downPayment||0))})},placeholder:"R$ 0,00",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor do frete ser somado ao total do pedido"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Prazo Estimado"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[ae.estimatedDays," dias teis"]})]})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tl,{id:"has-discount",checked:M.hasDiscount,onCheckedChange:X=>O({...M,hasDiscount:X})}),n.jsxs(fe,{htmlFor:"has-discount",className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Aplicar Desconto"]})]}),M.hasDiscount&&n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg space-y-3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"discount-type",children:"Tipo de Desconto"}),n.jsxs($t,{value:M.discountType,onValueChange:X=>O({...M,discountType:X}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"percentage",children:"Porcentagem (%)"}),n.jsx(ge,{value:"value",children:"Valor Fixo (R$)"})]})]})]}),M.discountType==="percentage"?n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"discount-percentage",children:"Desconto (%)"}),n.jsx(ie,{id:"discount-percentage",type:"number",step:"0.01",min:"0",max:"100",value:M.discountPercentage,onChange:X=>O({...M,discountPercentage:parseFloat(X.target.value)||0}),placeholder:"Ex: 10.50"})]}):n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"discount-value",children:"Desconto (R$)"}),n.jsx(ie,{id:"discount-value",type:"number",step:"0.01",min:"0",value:M.discountValue,onChange:X=>O({...M,discountValue:parseFloat(X.target.value)||0}),placeholder:"Ex: 150.00"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Valor do Desconto"}),n.jsxs("p",{className:"text-lg font-semibold text-orange-600 mt-2",children:["R$ ",(()=>{const X=M.items.reduce((We,wt)=>{const Ct=wt.unitPrice*wt.quantity,Qt=wt.hasItemCustomization?wt.quantity*(wt.itemCustomizationValue||0):0;return We+Ct+Qt},0);return M.discountType==="percentage"?(X*M.discountPercentage/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):M.discountValue.toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]})]})})]}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal dos Produtos:"}),n.jsxs("span",{children:["R$ ",M.items.reduce((We,wt)=>{const Ct=wt.unitPrice*wt.quantity,Qt=wt.hasItemCustomization?wt.quantity*(wt.itemCustomizationValue||0):0;return We+Ct+Qt},0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),M.hasDiscount&&n.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[n.jsx("span",{children:"Desconto:"}),n.jsxs("span",{children:["- R$ ",(()=>{const X=M.items.reduce((We,wt)=>{const Ct=wt.unitPrice*wt.quantity,Qt=wt.hasItemCustomization?wt.quantity*(wt.itemCustomizationValue||0):0;return We+Ct+Qt},0);return M.discountType==="percentage"?(X*M.discountPercentage/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):M.discountValue.toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal com Desconto:"}),n.jsxs("span",{children:["R$ ",Ee().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor da Entrada:"}),n.jsxs("span",{children:["R$ ",M.downPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor do Frete:"}),n.jsx("span",{children:M.deliveryType==="pickup"?"R$ 0,00":`R$ ${(parseFloat(M.shippingCost)||Ae()).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),n.jsxs("div",{className:"flex justify-between text-sm font-medium text-blue-600 bg-blue-50 p-2 rounded",children:[n.jsx("span",{children:"Entrada + Frete (para financeiro):"}),n.jsxs("span",{children:["R$ ",(M.downPayment+(M.deliveryType==="pickup"?0:parseFloat(M.shippingCost)||Ae())).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[n.jsx("span",{children:"Total do Pedido:"}),n.jsxs("span",{className:"text-blue-600",children:["R$ ",st().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",type:"button",onClick:()=>{a(!1),se(),i(""),l("all")},children:"Cancelar"}),n.jsx(Z,{type:"submit",disabled:(v?nt.isPending:me.isPending)||M.items.length===0,children:v?nt.isPending?"Atualizando...":"Atualizar Pedido":me.isPending?"Criando...":"Criar Pedido"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmados"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(k==null?void 0:k.filter(X=>X.status==="confirmed").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(jn,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Em Produo"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(k==null?void 0:k.filter(X=>X.status==="production").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(td,{className:"h-6 w-6 text-purple-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Entregues"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(k==null?void 0:k.filter(X=>X.status==="delivered").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Ur,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Comisses"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",(R==null?void 0:R.filter(X=>X.status==="confirmed").reduce((X,We)=>X+parseFloat(We.amount||0),0).toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"A Receber"})]}),n.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-emerald-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),n.jsxs("p",{className:"text-lg font-bold gradient-text",children:["R$ ",(k==null?void 0:k.filter(X=>X.status!=="cancelled").reduce((X,We)=>X+parseFloat(We.totalValue),0).toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold",children:"R$"})})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1 min-w-64",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por nmero, ttulo ou cliente...",value:f,onChange:X=>A(X.target.value),className:"pl-10"})]}),n.jsxs($t,{value:p,onValueChange:m,children:[n.jsx(Mt,{className:"w-48",children:n.jsx(Ht,{placeholder:"Status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"confirmed",children:"Confirmado"}),n.jsx(ge,{value:"production",children:"Em Produo"}),n.jsx(ge,{value:"shipped",children:"Enviado"}),n.jsx(ge,{value:"delivered",children:"Entregue"}),n.jsx(ge,{value:"cancelled",children:"Cancelado"})]})]}),n.jsxs($t,{value:x,onValueChange:g,children:[n.jsx(Mt,{className:"w-48",children:n.jsx(Ht,{placeholder:"Perodo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Perodos"}),n.jsx(ge,{value:"today",children:"Hoje"}),n.jsx(ge,{value:"week",children:"Esta Semana"}),n.jsx(ge,{value:"month",children:"Este Ms"}),n.jsx(ge,{value:"quarter",children:"Trimestre"})]})]})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Lista de Pedidos (",(Fe==null?void 0:Fe.length)||0,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Fe==null?void 0:Fe.map(X=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.orderNumber}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.title}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.contactName||X.clientName||"Nome no informado"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(X.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[le(X.status,V==null?void 0:V[X.id]),X.hasUnreadNotes&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-600 rounded-full"})]})]}),X.status==="production"&&(V==null?void 0:V[X.id])&&n.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Produtor: ",V[X.id].producerName]}),V[X.id].deliveryDate&&n.jsxs("div",{children:["Entrega: ",new Date(V[X.id].deliveryDate).toLocaleDateString("pt-BR")]})]}),(X.status==="production"||X.status==="delayed"||X.status==="ready"||X.status==="shipped"||X.status==="delivered")&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${X.status==="delayed"?"bg-red-500":X.status==="ready"?"bg-yellow-500":X.status==="shipped"?"bg-blue-500":X.status==="delivered"?"bg-green-500":"bg-purple-500"}`,style:{width:V!=null&&V[X.id]?(()=>{const We=V[X.id].status;return We==="pending"||We==="accepted"?"15%":We==="production"?"40%":We==="ready"?"70%":We==="shipped"?"85%":We==="completed"?"100%":"25%"})():X.status==="production"||X.status==="delayed"?"25%":X.status==="ready"?"50%":X.status==="shipped"?"75%":"100%"}})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(X.createdAt).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-0.5",children:[n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>{d(X),h(!0)},"data-testid":`button-view-${X.id}`,children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver"]}),X.status!=="production"&&X.status!=="shipped"&&X.status!=="delivered"&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-900",onClick:()=>xt(X),"data-testid":`button-edit-${X.id}`,children:[n.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Editar"]}),X.hasUnreadNotes&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",onClick:()=>Nt.mutate(X.id),disabled:Nt.isPending,children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Ciente"]}),(X.status==="confirmed"||X.status==="pending")&&parseFloat(X.paidValue||"0")===0&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-900",disabled:!0,"data-testid":`button-waiting-payment-${X.id}`,children:[n.jsx(Un,{className:"h-4 w-4 mr-1"}),"Aguardando Pagamento"]}),(X.status==="confirmed"||X.status==="pending")&&parseFloat(X.paidValue||"0")>0&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-900",disabled:!0,"data-testid":`button-paid-logistics-${X.id}`,children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Pago - Aguardando Logstica"]}),X.status==="production"&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-purple-600 hover:text-purple-900",disabled:!0,"data-testid":`button-in-production-${X.id}`,children:[n.jsx(En,{className:"h-4 w-4 mr-1"}),"Em Produo"]}),X.status==="ready"&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-900",disabled:!0,"data-testid":`button-ready-logistics-${X.id}`,children:[n.jsx(gr,{className:"h-4 w-4 mr-1"}),"Pronto - Aguardando Logstica"]})]})})]},X.id))})]})})})]}),n.jsx(rr,{open:u,onOpenChange:h,children:n.jsxs(Jt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Pedido"}),n.jsx(lr,{children:"Informaes completas do pedido"})]}),c&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes do Pedido"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Pedido"}),n.jsx("p",{className:"text-lg font-bold",children:c.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Cliente"}),n.jsx("p",{children:c.contactName||c.clientName||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descrio"}),n.jsx("p",{className:"text-gray-700",children:c.description})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status e Valores"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status Atual"}),n.jsx("div",{className:"mt-1",children:le(c.status,V==null?void 0:V[c.id])})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",parseFloat(c.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Pago"}),n.jsxs("p",{className:"text-lg",children:["R$ ",parseFloat(c.paidValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Prazo de Entrega"}),n.jsx("p",{children:c.deadline?new Date(c.deadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsx("p",{children:new Date(c.createdAt).toLocaleDateString("pt-BR")})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes de Contato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nome de Contato"}),n.jsx("p",{className:"font-medium",children:c.contactName||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Telefone"}),n.jsx("p",{children:c.contactPhone||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),n.jsx("p",{children:c.contactEmail||"No informado"})]})]})]}),c.items&&c.items.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Itens do Pedido (",c.items.length,")"]}),n.jsx("div",{className:"space-y-3",children:c.items.map((X,We)=>{const wt=X.producerId&&X.producerId!=="internal";return n.jsxs("div",{className:`p-4 rounded-lg border ${wt?"bg-orange-50 border-orange-200":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:X.productName}),wt&&n.jsx(Yt,{variant:"outline",className:"text-orange-700 border-orange-300",children:"Produo Externa"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Quantidade:"}),n.jsx("p",{className:"font-medium",children:Math.round(parseFloat(X.quantity||0)).toLocaleString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor Unit.:"}),n.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(X.unitPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses:"}),n.jsx("p",{className:"font-medium",children:X.productWidth&&X.productHeight&&X.productDepth?`${X.productWidth}${X.productHeight}${X.productDepth}cm`:"No informado"})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(X.totalPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),X.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-2",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-blue-700 font-medium",children:" Personalizao do Item"})}),n.jsx("p",{className:"text-blue-600 font-medium",children:X.itemCustomizationDescription||"Personalizao especial"}),X.itemCustomizationValue>0&&n.jsxs("p",{className:"text-sm text-blue-500",children:["Valor: +R$ ",parseFloat(X.itemCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})," por unidade"]}),X.additionalCustomizationNotes&&n.jsxs("p",{className:"text-sm text-blue-500 mt-1",children:[n.jsx("strong",{children:"Observaes:"})," ",X.additionalCustomizationNotes]}),X.customizationPhoto&&n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-xs text-blue-600 block mb-1",children:"Imagem de referncia:"}),n.jsx("img",{src:X.customizationPhoto,alt:"Personalizao do produto",className:"w-20 h-20 object-cover rounded border cursor-pointer",onClick:()=>window.open(X.customizationPhoto,"_blank")})]})]}),X.hasGeneralCustomization&&n.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-green-700 font-medium",children:" Personalizao Geral"})}),n.jsx("p",{className:"text-green-600 font-medium",children:X.generalCustomizationName||"Personalizao geral"}),X.generalCustomizationValue>0&&n.jsxs("p",{className:"text-sm text-green-500",children:["Valor: +R$ ",parseFloat(X.generalCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})," por unidade"]})]})]},We)})})]}),(c==null?void 0:c.budgetItems)&&c.budgetItems.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Produtos do Oramento"}),n.jsx("div",{className:"space-y-4",children:c.budgetItems.map((X,We)=>{var wt,Ct,Qt;return n.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:n.jsxs("div",{className:"flex items-start gap-4",children:[((wt=X.product)==null?void 0:wt.imageLink)&&n.jsx("img",{src:X.product.imageLink,alt:X.product.name,className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:((Ct=X.product)==null?void 0:Ct.name)||"Produto"}),((Qt=X.product)==null?void 0:Qt.description)&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.product.description}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Quantidade:"}),n.jsx("span",{className:"ml-1 font-medium",children:Math.round(parseFloat(X.quantity||0)).toLocaleString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Preo Unit.:"}),n.jsxs("span",{className:"ml-1 font-medium",children:["R$ ",parseFloat(X.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Total:"}),n.jsxs("span",{className:"ml-1 font-medium text-green-600",children:["R$ ",parseFloat(X.totalPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),(X.productWidth||X.productHeight||X.productDepth)&&n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses: "}),n.jsx("span",{className:"font-medium",children:[X.productWidth&&`L: ${X.productWidth}cm`,X.productHeight&&`A: ${X.productHeight}cm`,X.productDepth&&`P: ${X.productDepth}cm`].filter(Boolean).join("  ")})]}),X.hasItemCustomization&&n.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm",children:[n.jsx("div",{className:"font-medium text-blue-800",children:"Personalizao:"}),X.itemCustomizationDescription&&n.jsx("div",{className:"text-blue-700",children:X.itemCustomizationDescription}),parseFloat(X.itemCustomizationValue||"0")>0&&n.jsxs("div",{className:"text-blue-700",children:["Valor: R$ ",parseFloat(X.itemCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})},We)})})]}),(c==null?void 0:c.budgetPhotos)&&c.budgetPhotos.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Fotos de Personalizao"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:c.budgetPhotos.map((X,We)=>n.jsx("div",{className:"relative",children:n.jsx("img",{src:X,alt:`Foto ${We+1}`,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>window.open(X,"_blank")})},We))})]}),c.status==="production"&&(V==null?void 0:V[c.id])&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status de Produo"}),n.jsx(Le,{className:"bg-purple-50 border-purple-200",children:n.jsxs(Re,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Un,{className:"h-4 w-4 text-purple-600"}),n.jsxs("span",{className:"font-medium",children:["Produtor: ",(je=V[c.id])==null?void 0:je.producerName]})]}),n.jsx("div",{className:"flex items-center gap-2",children:le("",V[c.id])})]}),((De=V[c.id])==null?void 0:De.notes)&&n.jsxs("div",{className:"mt-3 p-3 bg-white border border-purple-200 rounded-lg",children:[n.jsx("label",{className:"text-sm font-medium text-purple-700",children:"Observaes da Produo:"}),n.jsx("p",{className:"text-gray-800 mt-1",children:V[c.id].notes}),((Ke=V[c.id])==null?void 0:Ke.lastNoteAt)&&n.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["ltima atualizao: ",new Date(V[c.id].lastNoteAt).toLocaleString("pt-BR")]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-purple-600",children:"Prazo de Entrega:"}),n.jsx("p",{children:(At=V[c.id])!=null&&At.deliveryDate?new Date(V[c.id].deliveryDate).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-purple-600",children:"Status:"}),n.jsx("p",{className:"font-medium",children:((He=V[c.id])==null?void 0:He.status)==="production"?"Em Produo":((Te=V[c.id])==null?void 0:Te.status)==="ready"?"Pronto":((dr=V[c.id])==null?void 0:dr.status)==="shipped"?"Enviado":(Pe=V[c.id])==null?void 0:Pe.status})]})]})]})})]})]})]})})]})}function Cbt(){var xr,on,zt,ar,is,gs;const t=JSON.parse(localStorage.getItem("user")||"{}").id,[r,a]=B.useState("all"),[s,i]=B.useState(""),[o,l]=B.useState(!1),[c,d]=B.useState(""),[u,h]=B.useState("all"),[f,A]=B.useState(!1),[p,m]=B.useState(null),[x,g]=B.useState(null),{toast:v}=en(),y=async(te,Xe)=>{var Gt;const ht=(Gt=te.target.files)==null?void 0:Gt[0];if(ht){if(ht.size>5*1024*1024){v({title:"Erro",description:"Imagem deve ter at 5MB",variant:"destructive"});return}try{const oe=new FormData;oe.append("file",ht),oe.append("folder","product-customizations");const ce=await fetch("/api/upload",{method:"POST",body:oe});if(!ce.ok)throw new Error("Upload failed");const{url:we}=await ce.json();ae(Xe,"customizationPhoto",we),v({title:"Sucesso!",description:"Imagem enviada com sucesso"})}catch{v({title:"Erro",description:"Erro ao enviar imagem",variant:"destructive"})}}},j=te=>{ae(te,"customizationPhoto","")},[b,w]=B.useState(null),[C,F]=B.useState(!1),[E,L]=B.useState({title:"",description:"",clientId:"",contactName:"",contactPhone:"",contactEmail:"",vendorId:t,branchId:"matriz",validUntil:"",deliveryDeadline:"",deliveryType:"delivery",items:[],paymentMethodId:"",shippingMethodId:"",installments:1,downPayment:0,remainingAmount:0,shippingCost:0,hasDiscount:!1,discountType:"percentage",discountPercentage:0,discountValue:0}),{data:N,isLoading:I}=pt({queryKey:["/api/budgets/vendor",t],queryFn:async()=>{console.log(`Fetching budgets for vendor: ${t}`);const te=await fetch(`/api/budgets/vendor/${t}`);if(!te.ok)throw console.error(`Failed to fetch budgets: ${te.status} ${te.statusText}`),new Error("Failed to fetch vendor budgets");const Xe=await te.json();return console.log(`Received ${Xe.length} budgets from API:`,Xe),Xe}}),{data:M}=pt({queryKey:["/api/vendors",t,"clients"],queryFn:async()=>{const te=await fetch(`/api/vendors/${t}/clients`);if(!te.ok)throw new Error("Failed to fetch clients");return te.json()}}),{data:O,isLoading:k}=pt({queryKey:["/api/products/search",{search:c,category:u}],queryFn:async({queryKey:te})=>{const[,Xe]=te;if(!Xe.search&&Xe.category==="all")return{products:[],total:0};const ht=new URLSearchParams;Xe.search&&ht.append("search",Xe.search),Xe.category&&Xe.category!=="all"&&ht.append("category",Xe.category),ht.append("limit","1000");const Gt=await fetch(`/api/logistics/products?${ht}`);if(!Gt.ok)throw new Error("Failed to fetch products");return Gt.json()},enabled:c.length>=2||u!=="all"}),{data:P}=pt({queryKey:["/api/producers"],queryFn:async()=>{const te=await fetch("/api/producers");if(!te.ok)throw new Error("Failed to fetch producers");return te.json()}}),R=(O==null?void 0:O.products)||[];R.reduce((te,Xe)=>{const ht=Xe.producerId||"internal";return te[ht]||(te[ht]=[]),te[ht].push(Xe),te},{});const{data:V}=pt({queryKey:["/api/payment-methods"],queryFn:async()=>{const te=await fetch("/api/payment-methods");if(!te.ok)throw new Error("Failed to fetch payment methods");return te.json()}}),{data:D}=pt({queryKey:["/api/shipping-methods"],queryFn:async()=>{const te=await fetch("/api/shipping-methods");if(!te.ok)throw new Error("Failed to fetch shipping methods");return te.json()}}),{data:Y}=pt({queryKey:["/api/branches"],queryFn:async()=>{const te=await fetch("/api/branches");if(!te.ok)throw new Error("Failed to fetch branches");return te.json()}}),{data:ne}=pt({queryKey:["/api/pricing/settings"],queryFn:async()=>{const te=await fetch("/api/pricing/settings");return te.ok?te.json():null}}),{data:S}=pt({queryKey:["/api/pricing/margin-tiers",ne==null?void 0:ne.id],queryFn:async()=>{if(!(ne!=null&&ne.id))return[];const te=await fetch(`/api/pricing/margin-tiers/${ne.id}`);return te.ok?te.json():[]},enabled:!!(ne!=null&&ne.id)}),z=(te,Xe=0)=>d8(te,Xe,ne,S),Q=["all",...new Set((R||[]).map(te=>te.category).filter(Boolean))],W=V==null?void 0:V.find(te=>te.id===E.paymentMethodId),U=D==null?void 0:D.find(te=>te.id===E.shippingMethodId),re=()=>{if(E.deliveryType==="pickup"||!U)return 0;const te=Me();return U.type==="free"||U.freeShippingThreshold>0&&te>=U.freeShippingThreshold?0:U.type==="fixed"?parseFloat(U.basePrice):parseFloat(U.basePrice||"0")},de=(te,Xe)=>{var ke;const ht=parseFloat(te.costPrice)||0,Gt=E.items.reduce((Ie,q)=>Ie+q.unitPrice*q.quantity,0),oe=Xg(te,Gt,ne,S),ce=oe.price,we=oe.source==="computed"&&((ke=oe.details)==null?void 0:ke.minimumPrice)||0,ye={productId:te.id,productName:te.name,producerId:Xe||te.producerId||"internal",quantity:1,unitPrice:ce,basePriceWithMargin:ce,totalPrice:ce,costPrice:ht,minimumPrice:we,priceSource:oe.source,hasItemCustomization:!1,selectedCustomizationId:"",itemCustomizationValue:0,itemCustomizationDescription:"",additionalCustomizationNotes:"",customizationPhoto:"",productWidth:"",productHeight:"",productDepth:"",hasItemDiscount:!1,itemDiscountType:"percentage",itemDiscountPercentage:0,itemDiscountValue:0,hasGeneralCustomization:!1,generalCustomizationName:"",generalCustomizationValue:0,notes:te.description||""};L(Ie=>({...Ie,items:[...Ie.items,ye]})),w(null),F(!1)},ae=(te,Xe,ht)=>{L(Gt=>{const oe=[...Gt.items],ce={...oe[te]},we=ye=>{const ke=ye.basePriceWithMargin||0,Ie=ye.hasItemCustomization&&parseFloat(ye.itemCustomizationValue)||0,q=ye.hasGeneralCustomization&&parseFloat(ye.generalCustomizationValue)||0;return Math.round((ke+Ie+q)*100)/100};if(Xe==="quantity"){const ye=parseInt(ht)||1;if(ce.quantity=ye,ce.priceSource==="computed"&&ce.costPrice&&ce.costPrice>0){const ke=Gt.items.reduce((q,xe,_e)=>{const Ye=_e===te?ye:xe.quantity;return q+xe.unitPrice*Ye},0),Ie=z(ce.costPrice,ke);ce.minimumPrice=Math.round(Ie.minimumPrice*100)/100,ce.basePriceWithMargin=Math.round(Ie.idealPrice*100)/100,ce.unitPrice=we(ce)}ce.totalPrice=H({...ce,quantity:ye,unitPrice:ce.unitPrice})}else if(Xe==="unitPrice"){const ye=parseFloat(ht)||0;ce.unitPrice=ye;const ke=ce.hasItemCustomization&&parseFloat(ce.itemCustomizationValue)||0,Ie=ce.hasGeneralCustomization&&parseFloat(ce.generalCustomizationValue)||0;ce.basePriceWithMargin=Math.max(0,Math.round((ye-ke-Ie)*100)/100),ce.totalPrice=H({...ce,unitPrice:ye}),ce.minimumPrice&&ce.minimumPrice>0&&ce.basePriceWithMargin<ce.minimumPrice&&v({title:"Ateno",description:`Preo base (R$ ${ce.basePriceWithMargin.toFixed(2)}) abaixo do mnimo (R$ ${ce.minimumPrice.toFixed(2)}). Necessita aprovao do administrador.`,variant:"destructive"})}else if(Xe==="itemCustomizationValue"||Xe==="generalCustomizationValue"){ce[Xe]=parseFloat(ht)||0;const ye={...ce,[Xe]:parseFloat(ht)||0};ce.unitPrice=we(ye),ce.totalPrice=H({...ye,unitPrice:ce.unitPrice})}else if(Xe==="hasItemCustomization"||Xe==="hasGeneralCustomization"){ce[Xe]=!!ht;const ye={...ce,[Xe]:!!ht};ce.unitPrice=we(ye),ce.totalPrice=H({...ye,unitPrice:ce.unitPrice})}else ce[Xe]=ht,(Xe.includes("Discount")||Xe.includes("discount"))&&(ce.totalPrice=H({...ce,[Xe]:ht}));return oe[te]=ce,{...Gt,items:oe}})},Ae=te=>{L(Xe=>({...Xe,items:Xe.items.filter((ht,Gt)=>Gt!==te)}))},Me=()=>{const te=E.items.reduce((ht,Gt)=>ht+H(Gt),0),Xe=E.items.length>0&&E.items.every(ht=>ht.minimumPrice>0&&(ht.basePriceWithMargin||ht.unitPrice)<=ht.minimumPrice);if(E.hasDiscount&&!Xe){let ht=0;E.discountType==="percentage"?ht=te*E.discountPercentage/100:E.discountType==="value"&&(ht=E.discountValue);const Gt=E.items.reduce((ce,we)=>{const ye=we.minimumPrice>0?we.minimumPrice:we.basePriceWithMargin||we.unitPrice,ke=we.hasItemCustomization&&parseFloat(we.itemCustomizationValue)||0,Ie=we.hasGeneralCustomization&&parseFloat(we.generalCustomizationValue)||0,q=ye+ke+Ie;return ce+q*we.quantity},0),oe=Math.max(0,te-ht);return Math.max(Gt,oe)}return te},H=te=>{let ht=te.unitPrice*te.quantity;if(te.hasItemDiscount){const Gt=(te.basePriceWithMargin||te.unitPrice)*te.quantity;if(te.itemDiscountType==="percentage"){const oe=Gt*(parseFloat(te.itemDiscountPercentage)||0)/100;ht=ht-oe}else te.itemDiscountType==="value"&&(ht=ht-(parseFloat(te.itemDiscountValue)||0))}return Math.max(0,ht)},Oe=()=>{if(!W||W.type!=="credit_card"||E.installments<=1)return 0;const te=parseFloat(W.installmentInterest||"0");if(te===0)return 0;const Xe=Me(),ht=parseFloat(E.shippingCost)||re();return(Xe+ht)*te*E.installments/100},Ee=()=>{const te=Me(),Xe=parseFloat(E.shippingCost)||re(),ht=Oe();return te+Xe+ht};B.useEffect(()=>{const te=Ee();if(te>0){const Xe=Math.round(te*100/2)/100;L(ht=>({...ht,downPayment:Xe,remainingAmount:Math.max(0,te-Xe)}))}},[E.items,E.hasDiscount,E.discountPercentage,E.discountValue,E.shippingCost]),B.useEffect(()=>{E.hasDiscount&&E.items.length>0&&E.items.every(Xe=>Xe.minimumPrice>0&&(Xe.basePriceWithMargin||Xe.unitPrice)<=Xe.minimumPrice)&&(L(Xe=>({...Xe,hasDiscount:!1,discountPercentage:0,discountValue:0})),v({title:"Desconto removido",description:"Todos os produtos esto no preo mnimo. O desconto foi desabilitado automaticamente.",variant:"destructive"}))},[E.items]);const ee=()=>{L({title:"",description:"",clientId:"",contactName:"",contactPhone:"",contactEmail:"",vendorId:t,branchId:"matriz",validUntil:"",deliveryDeadline:"",deliveryType:"delivery",items:[],paymentMethodId:"",shippingMethodId:"",installments:1,downPayment:0,remainingAmount:0,shippingCost:0,hasDiscount:!1,discountType:"percentage",discountPercentage:0,discountValue:0}),A(!1),m(null),w(null),F(!1)},st=jt({mutationFn:async te=>{const Xe=Oe(),ht=(W==null?void 0:W.type)==="credit_card"?parseFloat((W==null?void 0:W.installmentInterest)||"0"):0,Gt={...te,totalValue:Ee().toFixed(2),interestRate:ht,interestValue:Xe.toFixed(2)},oe=await fetch("/api/budgets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Gt)});if(!oe.ok)throw new Error("Erro ao criar oramento");return oe.json()},onSuccess:te=>{ct.invalidateQueries({queryKey:["/api/budgets/vendor",t]}),ct.setQueryData(["/api/budgets/vendor",t],Xe=>Xe?Xe.find(Gt=>Gt.id===te.id)?Xe.map(Gt=>Gt.id===te.id?te:Gt):[te,...Xe]:[te]),l(!1),ee(),d(""),h("all"),v({title:"Sucesso!",description:"Oramento criado com sucesso"})}}),se=jt({mutationFn:async te=>{const Xe=Oe(),ht=(W==null?void 0:W.type)==="credit_card"?parseFloat((W==null?void 0:W.installmentInterest)||"0"):0,Gt={...te,totalValue:Ee().toFixed(2),interestRate:ht,interestValue:Xe.toFixed(2)},oe=await fetch(`/api/budgets/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Gt)});if(!oe.ok)throw new Error("Erro ao atualizar oramento");return oe.json()},onSuccess:te=>{ct.invalidateQueries({queryKey:["/api/budgets/vendor",t]}),ct.setQueryData(["/api/budgets/vendor",t],Xe=>Xe?Xe.map(ht=>ht.id===te.id?te:ht):[te]),l(!1),ee(),d(""),h("all"),v({title:"Sucesso!",description:"Oramento atualizado com sucesso"})}}),me=jt({mutationFn:async te=>{var Gt,oe,ce;console.log("Starting PDF generation for budget:",te);const Xe=await fetch(`/api/budgets/${te}/pdf-data`);if(!Xe.ok){const we=await Xe.text();throw console.error("PDF data fetch failed:",Xe.status,we),new Error(`Erro ${Xe.status}: ${we}`)}const ht=await Xe.json();return console.log("PDF data received successfully:",{budgetId:(Gt=ht.budget)==null?void 0:Gt.id,budgetNumber:(oe=ht.budget)==null?void 0:oe.budgetNumber,itemCount:((ce=ht.items)==null?void 0:ce.length)||0,hasClient:!!ht.client,hasVendor:!!ht.vendor}),ht},onSuccess:async te=>{var Xe;try{if(console.log("Processing PDF generation..."),!te)throw new Error("Nenhum dado retornado da API");if(!te.budget)throw new Error("Dados do oramento no encontrados na resposta da API");console.log(`Generating PDF for budget ${te.budget.budgetNumber} with ${((Xe=te.items)==null?void 0:Xe.length)||0} items`);const Gt=await new vie().generateBudgetPDF(te),oe=URL.createObjectURL(Gt),ce=document.createElement("a");ce.href=oe,ce.download=`orcamento-${te.budget.budgetNumber||"sem-numero"}.pdf`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(oe),v({title:"Sucesso!",description:"PDF gerado e baixado com sucesso!"})}catch(ht){console.error("Error generating PDF:",ht),console.error("Error details:",{message:ht.message,stack:ht.stack,data:te}),v({title:"Erro ao gerar PDF",description:`${ht.message}. Verifique o console para mais detalhes.`,variant:"destructive"})}},onError:te=>{console.error("PDF generation mutation error:",te),v({title:"Erro na requisio",description:`Erro ao buscar dados do oramento: ${te.message}`,variant:"destructive"})}}),[nt,Nt]=B.useState(!1),[xt,Ne]=B.useState(null),[le,Fe]=B.useState(""),[ze,je]=B.useState(""),[De,Ke]=B.useState(""),[At,He]=B.useState(!1),[Te,dr]=B.useState(null),Pe=jt({mutationFn:async({budgetId:te,clientId:Xe,deliveryDate:ht})=>{const Gt=await fetch(`/api/budgets/${te}/convert-to-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientId:Xe,deliveryDate:ht})});if(!Gt.ok){const oe=await Gt.text();throw new Error(`Erro ao converter oramento: ${oe}`)}return Gt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/budgets/vendor",t]}),ct.invalidateQueries({queryKey:["/api/vendors",t,"orders"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),ct.invalidateQueries({queryKey:["/api/production-orders"]}),Nt(!1),Ne(null),Fe(""),je(""),Ke(""),v({title:"Sucesso!",description:"Oramento convertido em pedido com sucesso"})},onError:te=>{v({title:"Erro",description:te.message||"Erro ao converter oramento",variant:"destructive"})}}),X=jt({mutationFn:async te=>{const Xe=await fetch(`/api/budgets/${te}/send-whatsapp`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Xe.ok)throw new Error("Erro ao enviar oramento");return Xe.json()},onSuccess:te=>{ct.invalidateQueries({queryKey:["/api/budgets/vendor",t]}),te.whatsappUrl&&window.open(te.whatsappUrl,"_blank"),v({title:"Sucesso!",description:"Oramento enviado via WhatsApp"})}}),We=te=>{Ne(te),Nt(!0)},wt=()=>{xt&&le&&De&&Pe.mutate({budgetId:xt,clientId:le,deliveryDate:De})},Ct=te=>{dr(te),He(!0)},Qt=te=>{me.mutate(te.id)},pe=te=>{if(te==null)return 0;if(typeof te=="number")return te;let Xe=String(te).trim();if(Xe=Xe.replace("R$","").replace(/\s/g,""),!Xe)return 0;if(Xe.includes(","))Xe=Xe.replace(/\./g,""),Xe=Xe.replace(",",".");else{const Gt=Xe.split(".");if(Gt.length>2){const oe=Gt.pop();Xe=Gt.join("")+"."+oe}Xe=Xe.replace(/,/g,"")}const ht=Number(Xe);return Number.isFinite(ht)?ht:0},dt=te=>{if(!te)return"";const Xe=new Date(te);return isNaN(Xe.getTime())?"":Xe.toISOString().slice(0,10)},Rt=te=>te?new Date(te+"T00:00:00.000Z").toISOString():null,Dt=async te=>{var Xe,ht,Gt,oe,ce;console.log("Editing budget:",te);try{const we=await fetch(`/api/budgets/${te.id}`);if(!we.ok)throw new Error("Erro ao buscar oramento");const ye=await we.json();console.log("Budget items:",ye.items);const ke=Number(((Xe=ye.paymentInfo)==null?void 0:Xe.downPayment)??ye.downPayment??0),Ie=Number(((ht=ye.paymentInfo)==null?void 0:ht.shippingCost)??ye.shippingCost??0),q=(ye.items||[]).map(Ve=>{var un;let qe=Ve.producerId;if(!qe&&Ve.productId){const ta=R.find(Qr=>Qr.id===Ve.productId);qe=(ta==null?void 0:ta.producerId)||"internal"}qe||(qe="internal");const bt=pe(Ve.unitPrice),yt=R.find(ta=>ta.id===Ve.productId),It=yt&&parseFloat(yt.costPrice)||0,Wt=Ve.hasItemCustomization?pe(Ve.itemCustomizationValue):0,yr=Ve.hasGeneralCustomization?pe(Ve.generalCustomizationValue):0,In=Math.max(0,Math.round((bt-Wt-yr)*100)/100);return{productId:Ve.productId,productName:Ve.productName||((un=Ve.product)==null?void 0:un.name),producerId:qe,quantity:Math.max(1,Math.round(pe(Ve.quantity))),unitPrice:bt,basePriceWithMargin:In,minimumPrice:0,costPrice:It,priceSource:It>0?"computed":"manual",totalPrice:pe(Ve.totalPrice),hasItemCustomization:!!Ve.hasItemCustomization,selectedCustomizationId:Ve.selectedCustomizationId||"",itemCustomizationValue:pe(Ve.itemCustomizationValue),itemCustomizationDescription:Ve.itemCustomizationDescription||"",additionalCustomizationNotes:Ve.additionalCustomizationNotes||"",customizationPhoto:Ve.customizationPhoto||"",productWidth:Ve.productWidth?Ve.productWidth.toString():"",productHeight:Ve.productHeight?Ve.productHeight.toString():"",productDepth:Ve.productDepth?Ve.productDepth.toString():"",hasItemDiscount:!!Ve.hasItemDiscount,itemDiscountType:Ve.itemDiscountType||"percentage",itemDiscountPercentage:pe(Ve.itemDiscountPercentage),itemDiscountValue:pe(Ve.itemDiscountValue),hasGeneralCustomization:!!Ve.hasGeneralCustomization,generalCustomizationName:Ve.generalCustomizationName||"",generalCustomizationValue:pe(Ve.generalCustomizationValue)}}),xe=q.reduce((Ve,qe)=>Ve+pe(qe.unitPrice)*qe.quantity,0);for(const Ve of q)if(Ve.costPrice&&Ve.costPrice>0){const qe=z(Ve.costPrice,xe);Ve.minimumPrice=Math.round(qe.minimumPrice*100)/100}const _e=q.reduce((Ve,qe)=>{let bt=pe(qe.unitPrice);if(qe.hasItemDiscount){const yt=qe.basePriceWithMargin||bt,It=qe.itemDiscountType==="percentage"?yt*qe.itemDiscountPercentage/100:qe.itemDiscountValue;bt-=It}return Ve+Math.max(0,bt)*qe.quantity},0),Ye=Math.max(0,_e-ke);L({title:ye.title,description:ye.description||"",clientId:ye.clientId||"",contactName:ye.contactName||"",contactPhone:ye.contactPhone||"",contactEmail:ye.contactEmail||"",vendorId:ye.vendorId,branchId:ye.branchId||"matriz",validUntil:dt(ye.validUntil),deliveryDeadline:dt(ye.deliveryDeadline),deliveryType:ye.deliveryType||"delivery",items:q,paymentMethodId:((Gt=ye.paymentInfo)==null?void 0:Gt.paymentMethodId)||ye.paymentMethodId||"",shippingMethodId:((oe=ye.paymentInfo)==null?void 0:oe.shippingMethodId)||ye.shippingMethodId||"",installments:Number(((ce=ye.paymentInfo)==null?void 0:ce.installments)??ye.installments??1),downPayment:pe(ke),remainingAmount:pe(Ye),shippingCost:pe(Ie),hasDiscount:!!ye.hasDiscount,discountType:ye.discountType||"percentage",discountPercentage:pe(ye.discountPercentage),discountValue:pe(ye.discountValue)}),A(!0),m(te.id),l(!0)}catch{v({title:"Erro",description:"Erro ao carregar oramento para edio",variant:"destructive"})}},ot=te=>{if(te.preventDefault(),E.items.length===0){v({title:"Erro",description:"Adicione pelo menos um produto ao oramento",variant:"destructive"});return}const Xe=new Date().toISOString().split("T")[0];if(E.validUntil&&E.validUntil<Xe){v({title:"Erro de Validao",description:"A data de 'Vlido At' no pode ser anterior a hoje.",variant:"destructive"});return}if(!E.title){v({title:"Erro",description:"O ttulo do oramento  obrigatrio.",variant:"destructive"});return}if(!E.contactName){v({title:"Erro",description:"O nome de contato  obrigatrio.",variant:"destructive"});return}if(!E.paymentMethodId){v({title:"Erro",description:"A forma de pagamento  obrigatria.",variant:"destructive"});return}if(E.installments<1){v({title:"Erro",description:"O nmero de parcelas deve ser pelo menos 1.",variant:"destructive"});return}if(E.deliveryType!=="pickup"&&!E.shippingMethodId){v({title:"Erro",description:"O mtodo de frete  obrigatrio quando o tipo de entrega no  'Retirada no Local'.",variant:"destructive"});return}const ht=E.items.map(ce=>({...ce,quantity:Math.max(1,Math.round(pe(ce.quantity))),unitPrice:pe(ce.unitPrice),totalPrice:pe(ce.totalPrice),itemCustomizationValue:pe(ce.itemCustomizationValue),generalCustomizationValue:pe(ce.generalCustomizationValue),itemDiscountPercentage:pe(ce.itemDiscountPercentage),itemDiscountValue:pe(ce.itemDiscountValue)})),Gt=ht.reduce((ce,we)=>{let ye=we.unitPrice;if(we.hasItemDiscount){const ke=we.basePriceWithMargin||ye,Ie=we.itemDiscountType==="percentage"?ke*we.itemDiscountPercentage/100:we.itemDiscountValue;ye-=Ie}return ce+Math.max(0,ye)*we.quantity},0),oe={...E,validUntil:Rt(E.validUntil),deliveryDeadline:Rt(E.deliveryDeadline),items:ht,totalValue:Gt.toFixed(2),downPayment:pe(E.downPayment),remainingAmount:pe(E.remainingAmount),shippingCost:pe(E.shippingCost),discountPercentage:pe(E.discountPercentage),discountValue:pe(E.discountValue)};f?se.mutate(oe):st.mutate(oe)};R.filter(te=>{var Gt;const Xe=!c||te.name.toLowerCase().includes(c.toLowerCase())||((Gt=te.description)==null?void 0:Gt.toLowerCase().includes(c.toLowerCase()))||te.id.toLowerCase().includes(c.toLowerCase()),ht=u==="all"||te.category===u;return Xe&&ht});const Ft=te=>{const Xe={draft:"status-badge status-pending",sent:"status-badge status-confirmed",approved:"status-badge status-production",rejected:"status-badge status-cancelled",converted:"status-badge status-completed",awaiting_approval:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",admin_approved:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",not_approved:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium"},ht={draft:"Rascunho",sent:"Enviado",approved:"Aprovado",rejected:"Rejeitado",converted:"Convertido",awaiting_approval:"Aguardando Autorizao",admin_approved:"Autorizado",not_approved:"No Autorizado"};return n.jsx("span",{className:Xe[te]||"status-badge",children:ht[te]||te})},Er=N==null?void 0:N.filter(te=>{var Gt;const Xe=r==="all"||te.status===r,ht=s===""||te.budgetNumber.toLowerCase().includes(s.toLowerCase())||te.title.toLowerCase().includes(s.toLowerCase())||((Gt=te.clientName)==null?void 0:Gt.toLowerCase().includes(s.toLowerCase()));return Xe&&ht});return I?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-4 md:p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 md:mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1 md:mb-2",children:"Meus Oramentos"}),n.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Gerencie oramentos criados para seus clientes"})]}),n.jsxs(rr,{open:o,onOpenChange:te=>{l(te),te&&!f&&(ee(),d(""),h("all"))},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>{A(!1),m(null),ee(),d(""),h("all")},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Oramento"]})}),n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:f?"Editar Oramento":"Criar Novo Oramento"}),n.jsx(lr,{children:f?"Modifique os dados do oramento existente":"Crie um oramento personalizado com produtos do catlogo"})]}),n.jsxs("form",{onSubmit:ot,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-title",children:"Ttulo do Oramento *"}),n.jsx(ie,{id:"budget-title",value:E.title,onChange:te=>L({...E,title:te.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-validUntil",children:"Vlido At *"}),n.jsx(ie,{id:"budget-validUntil",type:"date",value:E.validUntil,onChange:te=>{const Xe=te.target.value,ht=new Date().toISOString().split("T")[0];if(Xe<ht){v({title:"Data Invlida",description:"A data 'Vlido At' no pode ser anterior  data de hoje.",variant:"destructive"});return}L({...E,validUntil:Xe})},min:new Date().toISOString().split("T")[0],required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-deliveryDeadline",children:"Prazo de Entrega *"}),n.jsxs($t,{value:E.deliveryDeadline?(()=>{var te;try{const Xe=new Date,ht=new Date(E.deliveryDeadline);if(isNaN(ht.getTime()))return"";const Gt=ht.getTime()-Xe.getTime(),oe=Math.ceil(Gt/(1e3*60*60*24));return((te=[5,10,15,20,25,30,35,40,45,50,55,60].find(we=>we===oe))==null?void 0:te.toString())||""}catch{return""}})():"",onValueChange:te=>{try{const Xe=parseInt(te);if(isNaN(Xe))return;const ht=new Date,Gt=new Date(ht);if(Gt.setDate(ht.getDate()+Xe),isNaN(Gt.getTime()))return;L({...E,deliveryDeadline:Gt.toISOString().split("T")[0]})}catch(Xe){console.error("Error setting delivery deadline:",Xe)}},required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o prazo em dias"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"5",children:"5 dias"}),n.jsx(ge,{value:"10",children:"10 dias"}),n.jsx(ge,{value:"15",children:"15 dias"}),n.jsx(ge,{value:"20",children:"20 dias"}),n.jsx(ge,{value:"25",children:"25 dias"}),n.jsx(ge,{value:"30",children:"30 dias"}),n.jsx(ge,{value:"35",children:"35 dias"}),n.jsx(ge,{value:"40",children:"40 dias"}),n.jsx(ge,{value:"45",children:"45 dias"}),n.jsx(ge,{value:"50",children:"50 dias"}),n.jsx(ge,{value:"55",children:"55 dias"}),n.jsx(ge,{value:"60",children:"60 dias"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-delivery-type",children:"Tipo de Entrega *"}),n.jsxs($t,{value:E.deliveryType,onValueChange:te=>L({...E,deliveryType:te}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o tipo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"delivery",children:"Entrega com Frete"}),n.jsx(ge,{value:"pickup",children:"Retirada no Local"})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-branch",children:"Filial do Oramento *"}),n.jsxs($t,{value:E.branchId||"matriz",onValueChange:te=>L({...E,branchId:te}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"matriz",children:"Matriz (Padro)"}),Y==null?void 0:Y.map(te=>n.jsxs(ge,{value:te.id,children:[te.name," - ",te.city,te.isHeadquarters&&" (Matriz)"]},te.id))]})]})]})}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-description",children:"Descrio"}),n.jsx(Jn,{id:"budget-description",rows:2,value:E.description,onChange:te=>L({...E,description:te.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-contact-name",children:"Nome de Contato *"}),n.jsx(ie,{id:"budget-contact-name",value:E.contactName,onChange:te=>L({...E,contactName:te.target.value}),required:!0,placeholder:"Nome do cliente/contato"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-contact-phone",children:"Telefone"}),n.jsx(ie,{id:"budget-contact-phone",value:E.contactPhone,onChange:te=>L({...E,contactPhone:gB(te.target.value)}),placeholder:"(11) 99999-9999",maxLength:15})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-contact-email",children:"Email"}),n.jsx(ie,{id:"budget-contact-email",type:"email",value:E.contactEmail,onChange:te=>L({...E,contactEmail:te.target.value}),placeholder:"cliente@email.com"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"budget-client",children:"Cliente Cadastrado (Opcional)"}),n.jsxs($t,{value:E.clientId||"none",onValueChange:te=>L({...E,clientId:te==="none"?"":te}),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione um cliente cadastrado (opcional)"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"none",children:"Nenhum cliente selecionado"}),M==null?void 0:M.map(te=>n.jsx(ge,{value:te.id,children:te.name},te.id))]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Produtos do Oramento *"}),E.items.length>0&&n.jsx("div",{className:"space-y-4",children:E.items.map((te,Xe)=>{var ht,Gt,oe;return n.jsxs("div",{className:`p-4 border rounded-lg ${Xe%2===0?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}`,children:[n.jsx("div",{className:"mb-3 p-2 bg-white/80 rounded-md border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(En,{className:"h-4 w-4 text-gray-600"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Produtor: ",te.producerId==="internal"?"Produtos Internos":((ht=P==null?void 0:P.find(ce=>ce.id===te.producerId))==null?void 0:ht.name)||"Produtor no encontrado"]})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-medium",children:te.productName}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{type:"button",title:"Editar descrio que sair no PDF",onClick:()=>g(x===Xe?null:Xe),className:`p-1.5 rounded-md border transition-colors ${x===Xe?"bg-blue-100 border-blue-400 text-blue-700":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:n.jsx(Mn,{className:"h-3.5 w-3.5"})}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>Ae(Xe),children:n.jsx(Bs,{className:"h-4 w-4"})})]})]}),x===Xe?n.jsxs("div",{className:"mb-3 bg-white/80 rounded-md p-2 border border-blue-200",children:[n.jsxs(fe,{htmlFor:`description-${Xe}`,className:"text-xs text-blue-700 font-medium flex items-center gap-1 mb-1",children:[n.jsx(Mn,{className:"h-3 w-3"})," Descrio no PDF"]}),n.jsx(Jn,{id:`description-${Xe}`,value:te.notes||"",onChange:ce=>ae(Xe,"notes",ce.target.value),rows:2,className:"text-sm",placeholder:"Descrio que aparecer para o cliente no PDF...",autoFocus:!0}),n.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"Clique no lpis para fechar"})]}):te.notes?n.jsxs("p",{className:"text-xs text-gray-500 mb-3 italic truncate",title:te.notes,children:[" ",te.notes]}):null,n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx(fe,{htmlFor:`quantity-${Xe}`,children:"Quantidade *"}),n.jsxs("button",{type:"button",title:te.hasItemCustomization?"Personalizao ativa":"Adicionar personalizao",onClick:()=>ae(Xe,"hasItemCustomization",!te.hasItemCustomization),className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border transition-colors ${te.hasItemCustomization?"bg-blue-100 border-blue-400 text-blue-700":"bg-gray-100 border-gray-300 text-gray-500 hover:bg-blue-50"}`,children:[n.jsx(no,{className:"h-3 w-3"}),te.hasItemCustomization?"Personaliz.":"Personalizar"]})]}),n.jsx(ie,{id:`quantity-${Xe}`,type:"number",min:"1",value:te.quantity,onChange:ce=>ae(Xe,"quantity",ce.target.value),required:!0})]}),n.jsxs("div",{className:"flex-1 min-w-[120px]",children:[n.jsx(fe,{className:"text-xs",children:"Preo Unitrio (R$)"}),n.jsx(ie,{placeholder:"R$ 0,00",value:te.unitPrice>0?Pi(te.unitPrice.toString().replace(".",",")):"",onChange:ce=>ae(Xe,"unitPrice",ki(ce.target.value))}),n.jsx("div",{className:"flex justify-end mt-1 px-1",children:(()=>{const ce=te.basePriceWithMargin||te.unitPrice;return te.minimumPrice>0&&ce>0&&ce<te.minimumPrice?n.jsx("span",{className:"text-xs text-red-600 font-bold",children:"Abaixo do mn."}):null})()})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`subtotal-${Xe}`,children:"Subtotal (Qtd x Preo)"}),n.jsx(ie,{id:`subtotal-${Xe}`,value:`R$ ${(te.unitPrice*te.quantity).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`width-${Xe}`,children:"Largura (cm)"}),n.jsx(ie,{id:`width-${Xe}`,type:"number",step:"0.1",min:"0",value:te.productWidth,onChange:ce=>ae(Xe,"productWidth",ce.target.value),placeholder:"Ex: 150.0"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`height-${Xe}`,children:"Altura (cm)"}),n.jsx(ie,{id:`height-${Xe}`,type:"number",step:"0.1",min:"0",value:te.productHeight,onChange:ce=>ae(Xe,"productHeight",ce.target.value),placeholder:"Ex: 80.0"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`depth-${Xe}`,children:"Profundidade (cm)"}),n.jsx(ie,{id:`depth-${Xe}`,type:"number",step:"0.1",min:"0",value:te.productDepth,onChange:ce=>ae(Xe,"productDepth",ce.target.value),placeholder:"Ex: 60.0"})]})]}),te.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-3 space-y-3",children:[n.jsx(c8,{productCategory:(Gt=R.find(ce=>ce.id===te.productId))==null?void 0:Gt.category,quantity:te.quantity,selectedCustomization:te.selectedCustomizationId,onCustomizationChange:ce=>{ce?(ae(Xe,"selectedCustomizationId",ce.id),ae(Xe,"itemCustomizationValue",ce.price),ae(Xe,"itemCustomizationDescription",ce.name)):(ae(Xe,"selectedCustomizationId",""),ae(Xe,"itemCustomizationValue",0),ae(Xe,"itemCustomizationDescription",""),ae(Xe,"additionalCustomizationNotes",""))},customizationValue:te.itemCustomizationValue||0,onCustomizationValueChange:ce=>ae(Xe,"itemCustomizationValue",ce),customizationDescription:te.itemCustomizationDescription||"",onCustomizationDescriptionChange:ce=>ae(Xe,"itemCustomizationDescription",ce)}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{children:"Valor Unitrio (R$)"}),n.jsx(ie,{value:te.itemCustomizationValue>0?Pi(te.itemCustomizationValue.toString().replace(".",",")):"",onChange:ce=>{const we=ki(ce.target.value);ae(Xe,"itemCustomizationValue",we)},placeholder:"0,00"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Total da Personalizao (R$)"}),n.jsx(ie,{value:Pi((te.quantity*(te.itemCustomizationValue||0)).toFixed(2).replace(".",",")),onChange:ce=>{const we=ki(ce.target.value),ye=te.quantity>0?we/te.quantity:0;ae(Xe,"itemCustomizationValue",ye)},placeholder:"0,00"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[te.quantity,"  R$ ",(te.itemCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Observaes Adicionais (Opcional)"}),n.jsx(ie,{value:te.additionalCustomizationNotes||"",onChange:ce=>ae(Xe,"additionalCustomizationNotes",ce.target.value),placeholder:"Observaes extras sobre a personalizao..."})]}),n.jsxs("div",{children:[n.jsxs(fe,{children:["Imagem da Personalizao - ",te.productName,n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",te.producerId==="internal"?"Produto Interno":((oe=P==null?void 0:P.find(ce=>ce.id===te.producerId))==null?void 0:oe.name)||"Produtor no encontrado",")"]})]}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center pt-2 pb-2",children:[n.jsx("svg",{className:"w-6 h-6 mb-2 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:n.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para enviar imagem"}),n.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Para: ",te.productName]})]}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ce=>y(ce,Xe)})]})}),te.customizationPhoto&&n.jsxs("div",{className:"relative inline-block",children:[n.jsx("img",{src:te.customizationPhoto,alt:`Personalizao ${te.productName}`,className:"w-24 h-24 object-cover rounded-lg",onError:ce=>{console.error("Erro ao carregar imagem:",te.customizationPhoto),ce.currentTarget.style.display="none"}}),n.jsx(Z,{variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 p-0",onClick:()=>j(Xe),type:"button",children:""})]})]})]}),n.jsx(as,{className:"my-4"}),n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx(tl,{id:`general-customization-${Xe}`,checked:te.hasGeneralCustomization,onCheckedChange:ce=>ae(Xe,"hasGeneralCustomization",ce)}),n.jsxs(fe,{htmlFor:`general-customization-${Xe}`,className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Personalizao Geral"]})]}),te.hasGeneralCustomization&&n.jsxs("div",{className:"bg-green-50 p-3 rounded mb-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`general-customization-name-${Xe}`,children:"Nome da Personalizao"}),n.jsx(ie,{id:`general-customization-name-${Xe}`,value:te.generalCustomizationName||"",onChange:ce=>ae(Xe,"generalCustomizationName",ce.target.value),placeholder:"Ex: Bordado, Gravao, etc."})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:`general-customization-value-${Xe}`,children:"Valor Unitrio (R$)"}),n.jsx(ie,{id:`general-customization-value-${Xe}`,value:te.generalCustomizationValue>0?Pi(te.generalCustomizationValue.toString().replace(".",",")):"",onChange:ce=>{const we=ki(ce.target.value);ae(Xe,"generalCustomizationValue",we)},placeholder:"R$ 0,00"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Total da Personalizao Geral (R$)"}),n.jsx(ie,{value:Pi((te.quantity*(te.generalCustomizationValue||0)).toFixed(2).replace(".",",")),onChange:ce=>{const we=ki(ce.target.value),ye=te.quantity>0?we/te.quantity:0;ae(Xe,"generalCustomizationValue",ye)},placeholder:"0,00"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[te.quantity,"  R$ ",(te.generalCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 mb-1",children:[n.jsx("span",{children:"Custo Unitrio (c/ Personalizaes):"}),n.jsxs("span",{children:["R$ ",((te.costPrice||0)+(te.itemCustomizationValue||0)+(te.generalCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{className:"font-medium",children:["R$ ",H(te).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]},Xe)})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"text-base flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"Adicionar Produtos ao Oramento *"]})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Digite nome ou cdigo do produto...",value:c,onChange:te=>d(te.target.value),className:"pl-9"})]}),n.jsxs($t,{value:u,onValueChange:h,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Categoria"})}),n.jsx(Ut,{children:Q.map(te=>n.jsx(ge,{value:te,children:te==="all"?"Todas as Categorias":te},te))})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:(()=>{if(c.length<2&&u==="all")return n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Digite o nome ou cdigo do produto para buscar"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Mnimo 2 caracteres para iniciar a busca"})]});const te=R.filter(Xe=>{var ce,we,ye,ke,Ie,q;const ht=c.toLowerCase(),Gt=!c||((ce=Xe.name)==null?void 0:ce.toLowerCase().includes(ht))||((we=Xe.description)==null?void 0:we.toLowerCase().includes(ht))||((ye=Xe.id)==null?void 0:ye.toLowerCase().includes(ht))||((ke=Xe.externalCode)==null?void 0:ke.toLowerCase().includes(ht))||((Ie=Xe.compositeCode)==null?void 0:Ie.toLowerCase().includes(ht))||((q=Xe.friendlyCode)==null?void 0:q.toLowerCase().includes(ht)),oe=u==="all"||Xe.category===u;return Gt&&oe});return te.length===0?n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsxs("p",{className:"text-gray-500",children:['Nenhum produto encontrado para "',c,'"']}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(""),h("all")},className:"mt-2",children:"Limpar busca"})]}):te.map(Xe=>{const ht=Xe.friendlyCode||Xe.externalCode||Xe.compositeCode;return Xg(Xe,0,ne,S).price,n.jsx("div",{className:"p-2 border rounded hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors",onClick:()=>{w(Xe),F(!0)},children:n.jsxs("div",{className:"flex items-center gap-2",children:[Xe.imageLink?n.jsx("img",{src:Xe.imageLink,alt:Xe.name,className:"w-10 h-10 object-cover rounded"}):n.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(gr,{className:"h-5 w-5 text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:Xe.name}),Xe.friendlyCode?n.jsxs("p",{className:"text-xs text-purple-600 font-mono",children:["Cd: ",Xe.friendlyCode]}):ht&&n.jsxs("p",{className:"text-xs text-purple-600 font-mono",children:["Cd: ",ht]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["R$ ",Xg(Xe,0,ne,S).price.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),Xe.category&&n.jsxs("span",{className:"text-xs text-gray-400",children:[" ",Xe.category]})]})]})]})},Xe.id)})})()}),(c.length>=2||u!=="all")&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mt-2",children:[n.jsx("span",{children:(()=>{const te=c.toLowerCase();return`${R.filter(ht=>{var ce,we,ye,ke,Ie,q;const Gt=!c||((ce=ht.name)==null?void 0:ce.toLowerCase().includes(te))||((we=ht.description)==null?void 0:we.toLowerCase().includes(te))||((ye=ht.id)==null?void 0:ye.toLowerCase().includes(te))||((ke=ht.externalCode)==null?void 0:ke.toLowerCase().includes(te))||((Ie=ht.compositeCode)==null?void 0:Ie.toLowerCase().includes(te))||((q=ht.friendlyCode)==null?void 0:q.toLowerCase().includes(te)),oe=u==="all"||ht.category===u;return Gt&&oe}).length} produto(s) encontrado(s)`})()}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{d(""),h("all")},children:"Limpar busca"})]})]}),C&&b&&n.jsx(rr,{open:C,onOpenChange:F,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Selecionar Produtor"}),n.jsxs(lr,{children:["Escolha qual produtor executar o produto: ",n.jsx("strong",{children:b.name})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>{de(b,"internal"),F(!1),w(null)},children:"Produtos Internos"}),P==null?void 0:P.map(te=>n.jsxs(Z,{variant:"outline",className:"w-full justify-start",onClick:()=>{de(b,te.id),F(!1),w(null)},children:[te.name," - ",te.specialty]},te.id))]})]})})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Pagamento e Frete"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-method",children:"Forma de Pagamento *"}),n.jsxs($t,{value:E.paymentMethodId||"",onValueChange:te=>L({...E,paymentMethodId:te}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a forma de pagamento"})}),n.jsx(Ut,{children:V==null?void 0:V.map(te=>n.jsx(ge,{value:te.id,children:te.name},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"shipping-method",children:"Mtodo de Frete *"}),n.jsxs($t,{value:E.shippingMethodId||"",onValueChange:te=>L({...E,shippingMethodId:te}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o mtodo de frete"})}),n.jsx(Ut,{children:D==null?void 0:D.map(te=>n.jsx(ge,{value:te.id,children:te.name},te.id))})]})]})]}),W&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Configurao de Pagamento"}),W.type==="credit_card"&&n.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"installments",children:"Nmero de Parcelas *"}),n.jsxs($t,{value:((xr=E.installments)==null?void 0:xr.toString())||"1",onValueChange:te=>L({...E,installments:parseInt(te)}),required:!0,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsx(Ut,{children:Array.from({length:W.maxInstallments},(te,Xe)=>Xe+1).map(te=>n.jsxs(ge,{value:te.toString(),children:[te,"x ",te>1&&W.installmentInterest>0&&`(${W.installmentInterest}% a.m.)`]},te))})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"down-payment",children:"Valor de Entrada (R$) *"}),n.jsx(ie,{id:"down-payment",value:E.downPayment>0?Pi(E.downPayment.toString().replace(".",",")):"",onChange:te=>{const Xe=ki(te.target.value);L({...E,downPayment:Xe})},placeholder:"R$ 0,00",required:!0}),n.jsxs("div",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal dos Produtos:"}),n.jsxs("span",{children:["R$ ",Me().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),E.deliveryType!=="pickup"&&E.shippingCost>0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Frete:"}),n.jsxs("span",{children:["R$ ",E.shippingCost.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between font-medium text-green-700 pt-1 border-t",children:[n.jsx("span",{children:"Entrada para Iniciar:"}),n.jsxs("span",{children:["R$ ",(E.downPayment||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"remaining-amount",children:"Valor Restante (R$)"}),n.jsx(ie,{id:"remaining-amount",value:`R$ ${(E.remainingAmount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,disabled:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor a pagar aps incio da produo"})]})]})]}),E.deliveryType==="pickup"?n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-800",children:"Retirada no Local"}),n.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"O cliente ir retirar o pedido no local. No h cobrana de frete."})]}):U&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Configurao de Frete"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"shipping-cost",children:"Valor do Frete (R$) *"}),n.jsx(ie,{id:"shipping-cost",value:E.shippingCost>0?Pi(E.shippingCost.toString().replace(".",",")):"",onChange:te=>{const Xe=ki(te.target.value);L({...E,shippingCost:Xe})},placeholder:"R$ 0,00",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor do frete ser somado ao total do oramento"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Prazo Estimado de Entrega"}),n.jsx(ie,{placeholder:"Ex: 15 dias",value:E.deliveryDeadline,onChange:te=>L({...E,deliveryDeadline:te.target.value})})]})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tl,{id:"has-discount",checked:E.hasDiscount,onCheckedChange:te=>L({...E,hasDiscount:te})}),n.jsxs(fe,{htmlFor:"has-discount",className:"flex items-center gap-2",children:[n.jsx(no,{className:"h-4 w-4"}),"Aplicar Desconto"]})]}),E.hasDiscount&&n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"discount-type",children:"Tipo de Desconto"}),n.jsxs($t,{value:E.discountType,onValueChange:te=>L({...E,discountType:te}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"percentage",children:"Porcentagem (%)"}),n.jsx(ge,{value:"value",children:"Valor Fixo (R$)"})]})]})]}),E.discountType==="percentage"?n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"discount-percentage",children:"Desconto (%)"}),n.jsx(ie,{id:"discount-percentage",type:"number",step:"0.01",min:"0",max:"100",value:E.discountPercentage,onChange:te=>L({...E,discountPercentage:parseFloat(te.target.value)||0}),placeholder:"Ex: 10.50"})]}):n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"discount-value",children:"Desconto (R$)"}),n.jsx(ie,{id:"discount-value",type:"number",step:"0.01",min:"0",value:E.discountValue,onChange:te=>L({...E,discountValue:parseFloat(te.target.value)||0}),placeholder:"Ex: 150.00"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Valor do Desconto"}),n.jsxs("p",{className:"text-lg font-semibold text-orange-600 mt-2",children:["R$ ",(()=>{const te=E.items.reduce((Xe,ht)=>Xe+(parseFloat(ht.unitPrice)||0)*(parseInt(ht.quantity)||1),0);return E.discountType==="percentage"?(te*(parseFloat(E.discountPercentage)||0)/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):(parseFloat(E.discountValue)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]})]}),(()=>{const te=E.items.reduce((oe,ce)=>oe+(parseFloat(ce.unitPrice)||0)*(parseInt(ce.quantity)||1),0),Xe=E.items.reduce((oe,ce)=>{const we=ce.minimumPrice>0?ce.minimumPrice:ce.basePriceWithMargin||ce.unitPrice,ye=ce.hasItemCustomization&&parseFloat(ce.itemCustomizationValue)||0,ke=ce.hasGeneralCustomization&&parseFloat(ce.generalCustomizationValue)||0,Ie=we+ye+ke;return oe+Ie*(parseInt(ce.quantity)||1)},0);let ht=0;return E.discountType==="percentage"?ht=te*(parseFloat(E.discountPercentage)||0)/100:ht=parseFloat(E.discountValue)||0,te-ht<Xe&&E.items.length>0?n.jsx("p",{className:"text-xs text-orange-600 mt-1 font-semibold",children:" Desconto abaixo do preo mnimo - Requer autorizao do administrador"}):null})()]})]}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal dos Produtos:"}),n.jsxs("span",{children:["R$ ",E.items.reduce((Xe,ht)=>Xe+ht.unitPrice*ht.quantity,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),E.hasDiscount&&n.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[n.jsx("span",{children:"Desconto:"}),n.jsxs("span",{children:["- R$ ",(()=>{const te=E.items.reduce((Xe,ht)=>Xe+ht.unitPrice*ht.quantity,0);return E.discountType==="percentage"?(te*E.discountPercentage/100).toLocaleString("pt-BR",{minimumFractionDigits:2}):E.discountValue.toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Subtotal com Desconto:"}),n.jsxs("span",{children:["R$ ",Me().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor da Entrada:"}),n.jsxs("span",{children:["R$ ",E.downPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor do Frete:"}),n.jsx("span",{children:E.deliveryType==="pickup"?"R$ 0,00":`R$ ${(parseFloat(E.shippingCost)||re()).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),Oe()>0&&n.jsxs("div",{className:"flex justify-between text-sm text-orange-600",children:[n.jsxs("span",{children:["Juros do Carto (",W==null?void 0:W.installmentInterest,"% x ",E.installments,"x):"]}),n.jsxs("span",{children:["R$ ",Oe().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between text-sm font-medium text-blue-600 bg-blue-50 p-2 rounded",children:[n.jsx("span",{children:"Entrada + Frete (para financeiro):"}),n.jsxs("span",{children:["R$ ",(E.downPayment+(E.deliveryType==="pickup"?0:parseFloat(E.shippingCost)||re())).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[n.jsx("span",{children:"Total do Oramento:"}),n.jsxs("span",{className:"text-blue-600",children:["R$ ",Ee().toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",type:"button",onClick:()=>{l(!1),ee(),d(""),h("all")},children:"Cancelar"}),n.jsx(Z,{type:"submit",disabled:(f?se.isPending:st.isPending)||E.items.length===0,children:f?se.isPending?"Atualizando...":"Atualizar Oramento":st.isPending?"Criando...":"Criar Oramento"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Rascunhos"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold gradient-text",children:(N==null?void 0:N.filter(te=>te.status==="draft").length)||0})]}),n.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx(Pn,{className:"h-4 w-4 md:h-6 md:w-6 text-gray-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Enviados"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold gradient-text",children:(N==null?void 0:N.filter(te=>te.status==="sent").length)||0})]}),n.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Rg,{className:"h-4 w-4 md:h-6 md:w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Aguardando Autorizao"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold text-orange-600",children:(N==null?void 0:N.filter(te=>te.status==="awaiting_approval").length)||0})]}),n.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-4 w-4 md:h-6 md:w-6 text-orange-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-600",children:"Aprovados"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold gradient-text",children:(N==null?void 0:N.filter(te=>te.status==="approved"||te.status==="admin_approved"||te.status==="converted").length)||0})]}),n.jsx("div",{className:"w-8 h-8 md:w-12 md:h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Ur,{className:"h-4 w-4 md:h-6 md:w-6 text-green-600"})})]})})})]}),n.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[n.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-full sm:w-48",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"draft",children:"Rascunho"}),n.jsx(ge,{value:"sent",children:"Enviado"}),n.jsx(ge,{value:"approved",children:"Aprovado"}),n.jsx(ge,{value:"rejected",children:"Rejeitado"}),n.jsx(ge,{value:"converted",children:"Convertido"}),n.jsx(ge,{value:"awaiting_approval",children:"Aguardando Autorizao"}),n.jsx(ge,{value:"admin_approved",children:"Autorizado"}),n.jsx(ge,{value:"not_approved",children:"No Autorizado"})]})]})}),n.jsx("div",{className:"flex-1",children:n.jsx(ie,{placeholder:"Buscar por ttulo, descrio ou cliente...",value:s,onChange:te=>i(te.target.value)})})]}),(N==null?void 0:N.filter(te=>te.status==="awaiting_approval").length)>0&&n.jsxs("div",{className:"mb-6 bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"font-bold text-orange-800 mb-3 flex items-center gap-2",children:[n.jsx(Un,{className:"h-5 w-5"})," Aguardando Autorizao do Administrador"]}),n.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Estes oramentos possuem itens com preo abaixo do mnimo e precisam de autorizao do administrador antes de serem convertidos em pedido."}),n.jsx("div",{className:"space-y-2",children:N.filter(te=>te.status==="awaiting_approval").map(te=>n.jsxs("div",{className:"bg-white p-3 rounded border border-orange-200 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:te.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",te.contactName]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Total: R$ ",parseFloat(te.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>Ct(te),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]}),n.jsxs("span",{className:"text-xs text-orange-600 font-medium px-3 py-1.5 bg-orange-100 rounded-full flex items-center gap-1",children:[n.jsx(Un,{className:"h-3 w-3"}),"Aguardando autorizao"]})]})]},te.id))})]}),(N==null?void 0:N.filter(te=>te.status==="not_approved").length)>0&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"font-bold text-red-800 mb-3 flex items-center gap-2",children:[n.jsx(fd,{className:"h-5 w-5"})," Oramentos No Autorizados"]}),n.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Estes oramentos foram rejeitados pelo administrador. Edite os preos para atender ao mnimo exigido e reenvie para nova anlise."}),n.jsx("div",{className:"space-y-2",children:N.filter(te=>te.status==="not_approved").map(te=>n.jsxs("div",{className:"bg-white p-3 rounded border border-red-200 flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:te.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",te.contactName]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Total: R$ ",parseFloat(te.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),te.adminRejectionReason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-100 rounded text-sm",children:[n.jsx("span",{className:"font-medium text-red-800",children:"Motivo da rejeio:"}),n.jsx("p",{className:"text-red-700",children:te.adminRejectionReason})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>Ct(te),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver"]}),n.jsxs(Z,{size:"sm",variant:"outline",className:"text-orange-600 border-orange-300 hover:bg-orange-50",onClick:()=>Dt(te),children:[n.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Editar e Reenviar"]})]})]},te.id))})]}),(N==null?void 0:N.filter(te=>te.status==="approved"||te.status==="admin_approved").length)>0&&n.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("h3",{className:"font-bold text-green-800 mb-3 flex items-center gap-2",children:[n.jsx(rte,{className:"h-5 w-5"})," Oramentos Aprovados - Prontos para Converso"]}),n.jsx("div",{className:"space-y-2",children:N.filter(te=>te.status==="approved"||te.status==="admin_approved").map(te=>n.jsxs("div",{className:"bg-white p-3 rounded border border-green-200 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:te.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",te.contactName]}),n.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Total: R$ ",parseFloat(te.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),te.status==="admin_approved"&&n.jsx("span",{className:"text-xs text-green-700 bg-green-100 px-2 py-0.5 rounded-full mt-1 inline-block",children:"Autorizado pelo Admin"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>Ct(te),children:"Ver Detalhes"}),n.jsxs(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>{Ne(te.id),Nt(!0)},children:[n.jsx(jn,{className:"h-4 w-4 mr-1"}),"Converter em Pedido"]})]})]},te.id))})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Lista de Oramentos (",(Er==null?void 0:Er.length)||0,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Er==null?void 0:Er.map(te=>n.jsxs("tr",{className:te.hasVendorNotification?"bg-blue-50":"",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.budgetNumber}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[te.title,te.hasVendorNotification&&n.jsx(Yt,{className:"bg-blue-100 text-blue-800 text-xs",children:"Nova Resposta!"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.contactName||te.clientName||"Nome no informado"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(te.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-2",children:[Ft(te.status),te.clientObservations&&n.jsx("div",{className:`text-xs p-1 rounded ${te.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.clientObservations}),te.status==="not_approved"&&te.adminRejectionReason&&n.jsxs("div",{className:"text-xs p-1 rounded bg-red-100 text-red-700 max-w-[200px] truncate",title:te.adminRejectionReason,children:["Motivo: ",te.adminRejectionReason]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(te.createdAt).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>Ct(te),"data-testid":`button-view-${te.id}`,children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver"]}),(te.status==="draft"||te.status==="sent")&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-900",onClick:()=>Dt(te),"data-testid":`button-edit-${te.id}`,children:[n.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Editar"]}),(te.status==="draft"||te.status==="sent")&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-900",onClick:()=>X.mutate(te.id),disabled:X.isPending,"data-testid":`button-send-${te.id}`,children:[n.jsx(Rg,{className:"h-4 w-4 mr-1"}),"Enviar"]}),(te.status==="approved"||te.status==="admin_approved")&&n.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{We(te.id)},"data-testid":`button-convert-${te.id}`,children:[n.jsx(jn,{className:"h-4 w-4 mr-1"}),"Converter"]}),te.status==="not_approved"&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-900",onClick:()=>Dt(te),children:[n.jsx(Mn,{className:"h-4 w-4 mr-1"}),"Editar"]}),te.status==="awaiting_approval"&&n.jsxs("span",{className:"text-xs text-orange-500 px-2 py-1 bg-orange-50 rounded-full flex items-center gap-1",children:[n.jsx(Un,{className:"h-3 w-3"}),"Aguardando"]}),n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>Qt(te),"data-testid":`button-pdf-${te.id}`,children:[n.jsx(Pn,{className:"h-4 w-4 mr-1"}),"PDF"]})]})})]},te.id))})]})})})]}),n.jsx(rr,{open:At,onOpenChange:He,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Oramento"}),n.jsxs(lr,{children:["Visualizao completa do oramento ",Te==null?void 0:Te.budgetNumber]})]}),Te&&n.jsxs("div",{className:"space-y-6",children:[Te.status==="awaiting_approval"&&n.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg flex items-start gap-3",children:[n.jsx(Ll,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-orange-800",children:"Aguardando Autorizao do Administrador"}),n.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Este oramento possui itens com preo abaixo do mnimo permitido. A converso em pedido est bloqueada at a autorizao do administrador."})]})]}),Te.status==="not_approved"&&n.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[n.jsx(fd,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-red-800",children:"Oramento No Autorizado"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:"O administrador rejeitou este oramento. Edite os preos para atender ao mnimo exigido e reenvie para nova anlise."}),Te.adminRejectionReason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-100 rounded",children:[n.jsx("span",{className:"font-medium text-red-800 text-sm",children:"Motivo da rejeio:"}),n.jsx("p",{className:"text-red-700 text-sm mt-0.5",children:Te.adminRejectionReason})]})]})]}),Te.status==="admin_approved"&&n.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[n.jsx(jn,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-green-800",children:"Oramento Autorizado pelo Administrador"}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Este oramento foi autorizado mesmo com preos abaixo do mnimo. Voc pode convert-lo em pedido."})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Nmero do Oramento"}),n.jsx("p",{className:"text-lg",children:Te.budgetNumber})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Status"}),n.jsx("div",{className:"mt-1",children:Ft(Te.status)})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Nome de Contato"}),n.jsx("p",{children:Te.contactName})]}),Te.contactPhone&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Telefone"}),n.jsx("p",{children:Te.contactPhone})]}),Te.contactEmail&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Email"}),n.jsx("p",{children:Te.contactEmail})]}),Te.clientName&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Cliente Cadastrado"}),n.jsx("p",{children:Te.clientName})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Data de Criao"}),n.jsx("p",{children:new Date(Te.createdAt).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Vlido At"}),n.jsx("p",{children:Te.validUntil?new Date(Te.validUntil).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Prazo de Entrega"}),n.jsx("p",{children:Te.deliveryDeadline?new Date(Te.deliveryDeadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Tipo de Entrega"}),n.jsx("p",{className:Te.deliveryType==="pickup"?"text-blue-600 font-medium":"text-green-600 font-medium",children:Te.deliveryType==="pickup"?"Retirada no Local":"Entrega com Frete"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Valor Total"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(Te.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),Te.items&&Te.items.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Itens do Oramento (",Te.items.length,")"]}),n.jsx("div",{className:"space-y-3",children:Te.items.map((te,Xe)=>n.jsxs("div",{className:"p-4 rounded-lg border bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:te.productName})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Quantidade:"}),n.jsx("p",{className:"font-medium",children:Number(te.quantity).toLocaleString("pt-BR",{maximumFractionDigits:0})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor Unit.:"}),n.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(te.unitPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses:"}),n.jsx("p",{className:"font-medium",children:te.productWidth&&te.productHeight&&te.productDepth?`${te.productWidth}${te.productHeight}${te.productDepth}cm`:"No informado"})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(te.totalPrice||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]}),te.hasItemCustomization&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded mb-2",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-blue-700 font-medium",children:" Personalizao do Item"})}),n.jsx("p",{className:"text-blue-600 font-medium",children:te.itemCustomizationDescription||"Personalizao especial"}),te.itemCustomizationValue>0&&n.jsxs("p",{className:"text-sm text-blue-500",children:["Valor: +R$ ",parseFloat(te.itemCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})," por unidade"]}),te.additionalCustomizationNotes&&n.jsxs("p",{className:"text-sm text-blue-500 mt-1",children:[n.jsx("strong",{children:"Observaes:"})," ",te.additionalCustomizationNotes]}),te.customizationPhoto&&n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-xs text-blue-600 block mb-1",children:"Imagem de referncia:"}),n.jsx("img",{src:te.customizationPhoto,alt:"Personalizao do produto",className:"w-20 h-20 object-cover rounded border cursor-pointer",onClick:()=>window.open(te.customizationPhoto,"_blank")})]})]}),te.hasGeneralCustomization&&n.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"text-green-700 font-medium",children:" Personalizao Geral"})}),n.jsx("p",{className:"text-green-600 font-medium",children:te.generalCustomizationName||"Personalizao geral"}),te.generalCustomizationValue>0&&n.jsxs("p",{className:"text-sm text-green-500",children:["Valor: +R$ ",parseFloat(te.generalCustomizationValue).toLocaleString("pt-BR",{minimumFractionDigits:2})," por unidade"]})]})]},Xe))})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Ttulo"}),n.jsx("p",{className:"mt-1",children:Te.title})]}),Te.description&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Descrio"}),n.jsx("p",{className:"mt-1",children:Te.description})]}),(Te.paymentMethodId||Te.shippingMethodId)&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Informaes de Pagamento e Frete"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[Te.paymentMethodId&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Forma de Pagamento"}),n.jsx("p",{children:((on=V==null?void 0:V.find(te=>te.id===Te.paymentMethodId))==null?void 0:on.name)||"No especificado"}),Te.installments>1&&n.jsxs("p",{className:"text-sm text-gray-600",children:[Te.installments,"x"]}),Te.downPayment>0&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Entrada:"})," R$ ",parseFloat(Te.downPayment||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("span",{className:"font-medium",children:"Restante:"})," R$ ",parseFloat(Te.remainingAmount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),Te.shippingMethodId&&n.jsxs("div",{children:[n.jsx(fe,{className:"font-semibold",children:"Mtodo de Frete"}),n.jsx("p",{children:((zt=D==null?void 0:D.find(te=>te.id===Te.shippingMethodId))==null?void 0:zt.name)||"No especificado"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",parseFloat(Te.shippingCost||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Itens do Oramento"}),n.jsx("div",{className:"space-y-3",children:(ar=Te.items)==null?void 0:ar.map((te,Xe)=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Produto"}),n.jsx("p",{className:"font-semibold text-sm md:text-base",children:te.productName})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Quantidade"}),n.jsx("p",{className:"text-sm md:text-base",children:Number(te.quantity).toLocaleString("pt-BR",{maximumFractionDigits:0})})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Preo Unitrio"}),n.jsxs("p",{className:"text-sm md:text-base",children:["R$ ",parseFloat(te.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Subtotal"}),n.jsxs("p",{className:"font-semibold text-sm md:text-base",children:["R$ ",(parseFloat(te.unitPrice)*parseInt(te.quantity)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),(te.productWidth||te.productHeight||te.productDepth)&&n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Dimenses (cm)"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 mt-2",children:[te.productWidth&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Largura:"}),n.jsxs("p",{className:"font-medium",children:[te.productWidth," cm"]})]}),te.productHeight&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Altura:"}),n.jsxs("p",{className:"font-medium",children:[te.productHeight," cm"]})]}),te.productDepth&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Profundidade:"}),n.jsxs("p",{className:"font-medium",children:[te.productDepth," cm"]})]})]})]}),te.hasItemCustomization&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Qtd. Personalizada"}),n.jsxs("p",{className:"text-sm",children:[te.customizationQuantity||0," unidades"]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Valor Unit. Personalizao"}),n.jsxs("p",{className:"text-sm",children:["R$ ",parseFloat(te.itemCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs md:text-sm font-medium",children:"Total Personalizao"}),n.jsxs("p",{className:"font-semibold text-blue-600",children:["R$ ",((te.customizationQuantity||0)*parseFloat(te.itemCustomizationValue||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Descrio"}),n.jsx("p",{children:te.itemCustomizationDescription||"N/A"})]}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total do Item (Produto + Personalizao)"}),n.jsxs("p",{className:"font-semibold text-lg",children:["R$ ",(()=>{const ht=parseFloat(te.unitPrice)*parseInt(te.quantity),Gt=(te.customizationQuantity||0)*parseFloat(te.itemCustomizationValue||0);return(ht+Gt).toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]})]}),te.hasGeneralCustomization&&n.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium",children:"Nome da Personalizao Geral"}),n.jsx("p",{children:te.generalCustomizationName||"N/A"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium",children:"Valor Unit. Personalizao Geral"}),n.jsxs("p",{children:["R$ ",parseFloat(te.generalCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Total do Item (Produto + Personalizao Geral)"}),n.jsxs("p",{className:"font-semibold text-lg",children:["R$ ",(()=>{const ht=parseFloat(te.unitPrice)*parseInt(te.quantity),Gt=(te.quantity||0)*parseFloat(te.generalCustomizationValue||0);return(ht+Gt).toLocaleString("pt-BR",{minimumFractionDigits:2})})()]})]})]})]},Xe))})]}),Te.hasDiscount&&n.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Desconto Aplicado"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"font-medium",children:"Tipo de Desconto"}),n.jsx("p",{children:Te.discountType==="percentage"?"Porcentagem":"Valor Fixo"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-medium",children:"Valor do Desconto"}),n.jsx("p",{className:"text-orange-600 font-semibold",children:Te.discountType==="percentage"?`${Te.discountPercentage}%`:`R$ ${parseFloat(Te.discountValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]}),Te.hasCustomization&&n.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personalizao Geral"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"font-medium",children:"Percentual"}),n.jsxs("p",{children:[Te.customizationPercentage,"%"]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"font-medium",children:"Valor"}),n.jsxs("p",{children:["R$ ",parseFloat(Te.customizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx(fe,{className:"font-medium",children:"Descrio"}),n.jsx("p",{children:Te.customizationDescription})]})]})]}),((is=Te.items)==null?void 0:is.some(te=>te.customizationPhoto))&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Fotos de Personalizao por Produto"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(gs=Te.items)==null?void 0:gs.filter(te=>te.customizationPhoto).map((te,Xe)=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-lg mb-3",children:te.productName}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("img",{src:te.customizationPhoto,alt:`Personalizao ${te.productName}`,className:"w-full max-w-sm h-64 object-contain rounded-lg border",onError:ht=>{console.error("Erro ao carregar imagem:",te.customizationPhoto),ht.currentTarget.style.display="none"}}),te.itemCustomizationDescription&&n.jsx("p",{className:"text-sm text-gray-600 mt-3 text-center",children:te.itemCustomizationDescription})]})]},Xe))})]}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[n.jsxs(Z,{variant:"outline",onClick:()=>me.mutate(Te.id),disabled:me.isPending,children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),me.isPending?"Gerando...":"Baixar PDF"]}),(Te.status==="draft"||Te.status==="sent")&&n.jsxs(Z,{variant:"outline",className:"text-blue-600 hover:text-blue-900",onClick:()=>{He(!1),X.mutate(Te.id)},disabled:X.isPending,children:[n.jsx(Rg,{className:"h-4 w-4 mr-2"}),X.isPending?"Enviando...":"Enviar WhatsApp"]}),(Te.status==="approved"||Te.status==="admin_approved")&&n.jsxs(Z,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{He(!1),We(Te.id)},children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),"Converter"]}),Te.status==="not_approved"&&n.jsxs(Z,{variant:"outline",className:"text-orange-600 border-orange-300",onClick:()=>{He(!1),Dt(Te)},children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Editar e Reenviar"]}),Te.status==="awaiting_approval"&&n.jsxs("span",{className:"text-sm text-orange-600 font-medium px-3 py-2 bg-orange-50 rounded-lg flex items-center gap-2",children:[n.jsx(Un,{className:"h-4 w-4"}),"Converso bloqueada - aguardando autorizao"]}),n.jsx(Z,{variant:"outline",onClick:()=>{He(!1),dr(null)},className:"ml-auto",children:"Fechar"})]})]})]})}),n.jsx(rr,{open:nt,onOpenChange:Nt,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Converter Oramento em Pedido"}),n.jsx(lr,{children:"Para converter em pedido,  necessrio associar um cliente cadastrado e definir a data de entrega."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"convert-client",children:"Cliente *"}),n.jsxs($t,{value:le,onValueChange:Fe,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o cliente"})}),n.jsx(Ut,{children:M==null?void 0:M.map(te=>n.jsx(ge,{value:te.id,children:te.name},te.id))})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"convert-delivery-date",children:"Data de Entrega *"}),n.jsx(ie,{id:"convert-delivery-date",type:"date",value:De,onChange:te=>Ke(te.target.value),min:new Date().toISOString().split("T")[0]})]}),xt&&(()=>{const te=N==null?void 0:N.find(ht=>ht.id===xt);if(!(te!=null&&te.items))return null;const Xe=new Set;return te.items.forEach(ht=>{if(ht.producerId&&ht.producerId!=="internal"){const Gt=P==null?void 0:P.find(oe=>oe.id===ht.producerId);Gt&&Xe.add(`${Gt.name} - ${Gt.specialty}`)}else ht.producerId==="internal"&&Xe.add("Produtos Internos")}),Xe.size>0?n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[n.jsx(fe,{className:"text-sm font-medium text-blue-800",children:"Produtores Envolvidos:"}),n.jsx("ul",{className:"text-sm text-blue-700 mt-1",children:Array.from(Xe).map((ht,Gt)=>n.jsxs("li",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-1 h-1 bg-blue-600 rounded-full"}),ht]},Gt))})]}):null})()]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",onClick:()=>{Nt(!1),Ne(null),Fe(""),je(""),Ke("")},className:"flex-1",children:"Cancelar"}),n.jsx(Z,{onClick:wt,disabled:Pe.isPending||!le||!De,className:"flex-1 gradient-bg text-white",children:Pe.isPending?"Convertendo...":"Converter em Pedido"})]})]})})]})}const Sbt=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido").optional(),phone:Ge.string().min(10,"Telefone invlido").optional(),whatsapp:Ge.string().optional(),cpfCnpj:Ge.string().optional(),address:Ge.string().optional(),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres"),nomeFantasia:Ge.string().optional(),razaoSocial:Ge.string().optional(),inscricaoEstadual:Ge.string().optional(),logradouro:Ge.string().optional(),numero:Ge.string().optional(),complemento:Ge.string().optional(),bairro:Ge.string().optional(),cidade:Ge.string().optional(),cep:Ge.string().optional(),emailBoleto:Ge.string().email("Email invlido").optional().or(Ge.literal("")),emailNF:Ge.string().email("Email invlido").optional().or(Ge.literal("")),nomeContato:Ge.string().optional(),emailContato:Ge.string().email("Email invlido").optional().or(Ge.literal("")),enderecoFaturamentoLogradouro:Ge.string().optional(),enderecoFaturamentoNumero:Ge.string().optional(),enderecoFaturamentoComplemento:Ge.string().optional(),enderecoFaturamentoBairro:Ge.string().optional(),enderecoFaturamentoCidade:Ge.string().optional(),enderecoFaturamentoCep:Ge.string().optional(),enderecoEntregaLogradouro:Ge.string().optional(),enderecoEntregaNumero:Ge.string().optional(),enderecoEntregaComplemento:Ge.string().optional(),enderecoEntregaBairro:Ge.string().optional(),enderecoEntregaCidade:Ge.string().optional(),enderecoEntregaCep:Ge.string().optional()});function _bt(){var L;const t=JSON.parse(localStorage.getItem("user")||"{}").id,[r,a]=B.useState(!1),[s,i]=B.useState(null),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(""),[f,A]=B.useState(!1),[p,m]=B.useState(!1),{toast:x}=en(),g=()=>{const N=Date.now().toString().slice(-6),I=Math.random().toString(36).substring(2,6).toUpperCase();return`CLI${N}${I}`};B.useEffect(()=>{r&&h(g())},[r]);const{data:v,isLoading:y}=pt({queryKey:["/api/vendor/clients",t],queryFn:async()=>{const N=await fetch(`/api/vendors/${t}/clients`);if(!N.ok)throw new Error("Failed to fetch clients");return N.json()}}),{data:j}=pt({queryKey:["/api/clients",s,"orders"],queryFn:async()=>{if(!s)return[];const N=await fetch(`/api/clients/${s}/orders`);if(!N.ok)throw new Error("Failed to fetch client orders");return N.json()},enabled:!!s&&o}),b=Pa({resolver:ka(Sbt),defaultValues:{name:"",email:"",phone:"",whatsapp:"",cpfCnpj:"",address:"",password:"",nomeFantasia:"",razaoSocial:"",inscricaoEstadual:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",emailBoleto:"",emailNF:"",nomeContato:"",emailContato:"",enderecoFaturamentoLogradouro:"",enderecoFaturamentoNumero:"",enderecoFaturamentoComplemento:"",enderecoFaturamentoBairro:"",enderecoFaturamentoCidade:"",enderecoFaturamentoCep:"",enderecoEntregaLogradouro:"",enderecoEntregaNumero:"",enderecoEntregaComplemento:"",enderecoEntregaBairro:"",enderecoEntregaCidade:"",enderecoEntregaCep:""}}),w=()=>{const N=b.getValues();b.setValue("enderecoFaturamentoLogradouro",N.logradouro||""),b.setValue("enderecoFaturamentoNumero",N.numero||""),b.setValue("enderecoFaturamentoComplemento",N.complemento||""),b.setValue("enderecoFaturamentoBairro",N.bairro||""),b.setValue("enderecoFaturamentoCidade",N.cidade||""),b.setValue("enderecoFaturamentoCep",N.cep||"")},C=()=>{const N=b.getValues();b.setValue("enderecoEntregaLogradouro",N.logradouro||""),b.setValue("enderecoEntregaNumero",N.numero||""),b.setValue("enderecoEntregaComplemento",N.complemento||""),b.setValue("enderecoEntregaBairro",N.bairro||""),b.setValue("enderecoEntregaCidade",N.cidade||""),b.setValue("enderecoEntregaCep",N.cep||"")};B.useEffect(()=>{f&&w()},[f]),B.useEffect(()=>{p&&C()},[p]);const F=jt({mutationFn:async N=>{const I={...N,userCode:u,vendorId:t},M=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!M.ok)throw new Error("Erro ao criar cliente");return M.json()},onSuccess:N=>{ct.invalidateQueries({queryKey:["/api/vendor/clients",t]}),ct.invalidateQueries({queryKey:["/api/vendors",t,"clients"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),a(!1),b.reset(),x({title:"Sucesso!",description:`Cliente ${N.name} criado com sucesso!`}),setTimeout(()=>{x({title:"Cdigo de Acesso do Cliente:",description:`${u} - Anote este cdigo para fornecer ao cliente`,duration:1e4})},1e3)}}),E=N=>{F.mutate(N)};return y?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-3 gap-6",children:[...Array(3)].map((N,I)=>n.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"},I))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meus Clientes"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie seus clientes e acompanhe suas compras"})]}),n.jsxs(rr,{open:r,onOpenChange:a,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})}),n.jsxs(Jt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Cliente"}),n.jsx(lr,{children:"Preencha os dados completos do cliente"})]}),n.jsx(ya,{...b,children:n.jsxs("form",{onSubmit:b.handleSubmit(E),className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Acesso do Cliente"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:u})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Este cdigo ser usado para login no sistema"})]}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>h(g()),className:"border-blue-300 text-blue-600 hover:bg-blue-100",children:n.jsx(oi,{className:"h-4 w-4"})})]})}),n.jsx(tt,{control:b.control,name:"name",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Completo *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Silva",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"password",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma senha",...N})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Senha que o cliente usar para acessar o sistema"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:b.control,name:"email",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"joao@email.com",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"phone",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...N})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:b.control,name:"whatsapp",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"WhatsApp"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"cpfCnpj",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CPF/CNPJ"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123.456.789-00",...N})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:b.control,name:"nomeFantasia",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome Fantasia"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Nome Fantasia da Empresa",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"razaoSocial",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Razo Social"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Razo Social da Empresa",...N})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:b.control,name:"inscricaoEstadual",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Inscrio Estadual"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"12.345.678.9",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"cep",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"12345-678",...N})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:b.control,name:"logradouro",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Logradouro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua das Flores",...N})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(tt,{control:b.control,name:"numero",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"complemento",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto 456",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"bairro",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Centro",...N})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:b.control,name:"cidade",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"So Paulo",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"nomeContato",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome do Contato"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Joo Silva",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"emailContato",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail do Contato"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"contato@email.com",...N})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:b.control,name:"emailBoleto",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para Boleto"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"boleto@email.com",...N})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"emailNF",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"E-mail para NF"}),n.jsx(et,{children:n.jsx(ie,{type:"email",placeholder:"nf@email.com",...N})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Endereo de Faturamento"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uu,{id:"useSameAddressForBilling",checked:f,onCheckedChange:N=>{A(N===!0),N&&w()}}),n.jsx("label",{htmlFor:"useSameAddressForBilling",className:"text-sm text-gray-600 cursor-pointer",children:"Usar endereo principal"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:b.control,name:"enderecoFaturamentoLogradouro",render:({field:N})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua, Avenida...",...N,disabled:f})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoFaturamentoNumero",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...N,disabled:f})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoFaturamentoComplemento",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto, Sala...",...N,disabled:f})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoFaturamentoBairro",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Bairro",...N,disabled:f})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoFaturamentoCidade",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Cidade",...N,disabled:f})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoFaturamentoCep",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"00000-000",...N,disabled:f})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Endereo de Entrega"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uu,{id:"useSameAddressForDelivery",checked:p,onCheckedChange:N=>{m(N===!0),N&&C()}}),n.jsx("label",{htmlFor:"useSameAddressForDelivery",className:"text-sm text-gray-600 cursor-pointer",children:"Usar endereo principal"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(tt,{control:b.control,name:"enderecoEntregaLogradouro",render:({field:N})=>n.jsxs(Ze,{className:"col-span-2",children:[n.jsx(Je,{children:"Logradouro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua, Avenida...",...N,disabled:p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoEntregaNumero",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nmero"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"123",...N,disabled:p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoEntregaComplemento",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Complemento"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Apto, Sala...",...N,disabled:p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoEntregaBairro",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Bairro"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Bairro",...N,disabled:p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoEntregaCidade",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Cidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Cidade",...N,disabled:p})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:b.control,name:"enderecoEntregaCep",render:({field:N})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"CEP"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"00000-000",...N,disabled:p})}),n.jsx(rt,{})]})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:F.isPending,children:F.isPending?"Criando...":"Criar Cliente"})]})]})})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Lista de Clientes"})}),n.jsxs(Re,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefone"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CPF/CNPJ"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v==null?void 0:v.map(N=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:N.name}),n.jsx("td",{className:"px-4 py-4 text-sm",children:n.jsx("span",{className:"text-xs font-mono text-blue-600 bg-blue-50 px-2 py-1 rounded",children:N.userCode||N.username||"N/A"})}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600 truncate",children:N.email||""}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:N.phone||""}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:N.cpfCnpj||""}),n.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{i(N.id),l(!0)},title:"Ver Pedidos",className:"hover:bg-blue-50 hover:text-blue-600",children:n.jsx(Pn,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"ghost",size:"sm",title:"Ver Detalhes",onClick:()=>{i(N.id),d(!0)},children:n.jsx(Ur,{className:"h-4 w-4"})})]})})]},N.id))})]})}),(v==null?void 0:v.length)===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Ainda no h clientes cadastrados"}),n.jsxs(Z,{onClick:()=>a(!0),className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Cadastrar Primeiro Cliente"]})]})]})]}),n.jsx(rr,{open:o,onOpenChange:N=>{l(N),N||i(null)},children:n.jsxs(Jt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Pedidos do Cliente"}),n.jsx(lr,{children:s&&((L=v==null?void 0:v.find(N=>N.id===s))==null?void 0:L.name)})]}),n.jsx("div",{className:"space-y-4",children:j&&j.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(N=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:N.orderNumber}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:N.product}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(N.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N.status==="delivered"?"bg-green-100 text-green-800":N.status==="production"?"bg-blue-100 text-blue-800":N.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:N.status==="delivered"?"Entregue":N.status==="production"?"Em Produo":N.status==="pending"?"Pendente":N.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(N.createdAt).toLocaleDateString("pt-BR")})]},N.id))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado para este cliente"})]})})]})}),n.jsx(rr,{open:c,onOpenChange:N=>{d(N),N||i(null)},children:n.jsxs(Jt,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Detalhes do Cliente"})}),s&&n.jsx("div",{className:"space-y-4",children:(()=>{const N=v==null?void 0:v.find(I=>I.id===s);return N?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Informaes Bsicas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome do Contato:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cdigo de Acesso:"}),n.jsx("p",{className:"text-sm font-mono font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:N.userCode||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome Fantasia:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.nome_fantasia||N.nomeFantasia||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Razo Social:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.razao_social||N.razaoSocial||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CPF/CNPJ:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.cpfCnpj||N.cpf_cnpj||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Inscrio Estadual:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.inscricao_estadual||N.inscricaoEstadual||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Endereo Principal"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Logradouro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.logradouro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nmero:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.numero||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complemento:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.complemento||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bairro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.bairro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cidade:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.cidade||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CEP:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.cep||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Endereo de Faturamento"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Logradouro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoFaturamentoLogradouro||N.endereco_faturamento_logradouro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nmero:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoFaturamentoNumero||N.endereco_faturamento_numero||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complemento:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoFaturamentoComplemento||N.endereco_faturamento_complemento||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bairro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoFaturamentoBairro||N.endereco_faturamento_bairro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cidade:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoFaturamentoCidade||N.endereco_faturamento_cidade||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CEP:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoFaturamentoCep||N.endereco_faturamento_cep||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Endereo de Entrega"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Logradouro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoEntregaLogradouro||N.endereco_entrega_logradouro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nmero:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoEntregaNumero||N.endereco_entrega_numero||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complemento:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoEntregaComplemento||N.endereco_entrega_complemento||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bairro:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoEntregaBairro||N.endereco_entrega_bairro||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cidade:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoEntregaCidade||N.endereco_entrega_cidade||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"CEP:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.enderecoEntregaCep||N.endereco_entrega_cep||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Telefone:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"WhatsApp:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.whatsapp||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Nome do Contato:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.nome_contato||N.nomeContato||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail do Contato:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.email_contato||N.emailContato||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"E-mails Comerciais"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail Principal:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail para Boleto:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.email_boleto||N.emailBoleto||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"E-mail para NF:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.email_nf||N.emailNF||"N/A"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Estatsticas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total de Pedidos:"}),n.jsx("p",{className:"text-sm text-gray-900",children:N.ordersCount||0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Total Gasto:"}),n.jsxs("p",{className:"text-sm text-gray-900",children:["R$ ",(N.totalSpent||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}):null})()})]})})]})}function Ebt(){const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState("list"),[o,l]=B.useState(1),[c,d]=B.useState(!1),[u,h]=B.useState(null),f=s==="list"?50:20,{data:A,isLoading:p}=pt({queryKey:["/api/products",o,e,r,f],queryFn:async()=>{const w=new URLSearchParams({page:o.toString(),limit:f.toString(),search:e,category:r!=="all"?r:""}),C=await fetch(`/api/products?${w}`);if(!C.ok)throw new Error("Failed to fetch products");return C.json()}}),{data:m}=pt({queryKey:["/api/products/categories"],queryFn:async()=>{const w=await fetch("/api/products/categories");if(!w.ok)throw new Error("Failed to fetch categories");return w.json()}}),x=(A==null?void 0:A.products)||[],g=(A==null?void 0:A.total)||0,v=Math.ceil(g/f),y=m||[],j=w=>{t(w),l(1)},b=w=>{a(w),l(1)};return p?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(10)].map((w,C)=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},C))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catlogo de Produtos"}),n.jsxs("p",{className:"text-gray-600",children:["Explore nosso catlogo com ",g.toLocaleString("pt-BR")," produtos disponveis"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Z,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>i("list"),children:n.jsx(ote,{className:"h-4 w-4"})}),n.jsx(Z,{variant:s==="grid"?"default":"outline",size:"sm",onClick:()=>i("grid"),children:n.jsx(ite,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar produtos por nome, cdigo ou descrio...",value:e,onChange:w=>j(w.target.value),className:"pl-10","data-testid":"input-search-products"})]}),n.jsxs($t,{value:r,onValueChange:b,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Filtrar por categoria"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as categorias"}),y.map(w=>n.jsx(ge,{value:w,children:w},w))]})]}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["Mostrando ",(o-1)*f+1," - ",Math.min(o*f,g)," de ",g.toLocaleString("pt-BR")," produtos"]})]})]}),s==="list"?n.jsx(Le,{children:n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>n.jsxs("tr",{className:"hover:bg-gray-50","data-testid":`row-product-${w.id}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-blue-600","data-testid":`text-product-code-${w.id}`,children:w.friendlyCode||w.id}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[w.imageLink&&n.jsx("div",{className:"flex-shrink-0 h-12 w-12 mr-3",children:n.jsx("img",{className:"h-12 w-12 rounded object-cover",src:w.imageLink,alt:w.name,"data-testid":`img-product-${w.id}`,onError:C=>{C.target.style.display="none"}})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 line-clamp-2","data-testid":`text-product-name-${w.id}`,children:w.name}),w.mainColor&&n.jsxs("div",{className:"text-xs text-gray-500","data-testid":`text-product-color-${w.id}`,children:["Cor: ",w.mainColor]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900","data-testid":`text-product-category-${w.id}`,children:w.category||"No informado"}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600","data-testid":`text-product-price-${w.id}`,children:["R$ ",parseFloat(w.basePrice||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900","data-testid":`text-product-stock-${w.id}`,children:w.availableQuantity!==void 0?n.jsx("span",{className:w.availableQuantity>10?"text-green-600":w.availableQuantity>0?"text-yellow-600":"text-red-600",children:w.availableQuantity}):"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx(Z,{variant:"ghost",size:"sm","data-testid":`button-product-details-${w.id}`,onClick:()=>{h(w),d(!0)},children:n.jsx(Ur,{className:"h-4 w-4"})})})]},w.id))})]})})})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(w=>n.jsx(Le,{className:"card-hover","data-testid":`card-product-${w.id}`,children:n.jsxs(Re,{className:"p-4",children:[w.imageLink&&n.jsx("div",{className:"aspect-square mb-4 overflow-hidden rounded-lg bg-gray-100",children:n.jsx("img",{src:w.imageLink,alt:w.name,className:"w-full h-full object-cover","data-testid":`img-product-${w.id}`,onError:C=>{C.target.style.display="none"}})}),n.jsx("div",{className:"mb-2",children:w.friendlyCode&&n.jsx("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded font-mono","data-testid":`text-product-code-${w.id}`,children:w.friendlyCode})}),n.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2","data-testid":`text-product-name-${w.id}`,children:w.name}),w.category&&n.jsx("p",{className:"text-sm text-gray-600 mb-2","data-testid":`text-product-category-${w.id}`,children:w.category}),w.mainColor&&n.jsxs("p",{className:"text-xs text-gray-500 mb-2","data-testid":`text-product-color-${w.id}`,children:["Cor: ",w.mainColor]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600","data-testid":`text-product-price-${w.id}`,children:["R$ ",parseFloat(w.basePrice||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),w.availableQuantity!==void 0&&n.jsxs("span",{className:"text-xs text-gray-500","data-testid":`text-product-stock-${w.id}`,children:["Estoque: ",w.availableQuantity]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(Z,{variant:"outline",size:"sm",className:"flex-1","data-testid":`button-product-details-${w.id}`,onClick:()=>{h(w),d(!0)},children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Detalhes"]})})]})},w.id))}),v>1&&n.jsxs("div",{className:"flex items-center justify-between mt-8",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Pgina ",o," de ",v]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>l(w=>Math.max(w-1,1)),disabled:o===1,children:[n.jsx(ate,{className:"h-4 w-4"}),"Anterior"]}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,v)},(w,C)=>{const F=Math.max(1,Math.min(o-2+C,v-4+C));return F>v?null:n.jsx(Z,{variant:o===F?"default":"outline",size:"sm",onClick:()=>l(F),children:F},F)}).filter(Boolean)}),n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>l(w=>Math.min(w+1,v)),disabled:o===v,children:["Prxima",n.jsx(cR,{className:"h-4 w-4"})]})]})]}),x.length===0&&e&&n.jsxs("div",{className:"text-center py-12","data-testid":"text-no-products-found",children:[n.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum produto encontrado"}),n.jsx("p",{className:"text-gray-500",children:"Tente alterar os termos de busca ou filtros."})]}),g===0&&n.jsxs("div",{className:"text-center py-12","data-testid":"text-catalog-empty",children:[n.jsx(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Catlogo vazio"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum produto foi encontrado no catlogo."})]}),n.jsx(rr,{open:c,onOpenChange:d,children:n.jsxs(Jt,{className:"max-w-2xl","data-testid":"dialog-product-details",children:[n.jsxs(Zt,{children:[n.jsx(er,{"data-testid":"text-dialog-product-name",children:u==null?void 0:u.name}),n.jsx(lr,{"data-testid":"text-dialog-product-code",children:(u==null?void 0:u.friendlyCode)&&`Cdigo: ${u.friendlyCode}`})]}),u&&n.jsxs("div",{className:"space-y-6",children:[u.imageLink&&n.jsx("div",{className:"aspect-video overflow-hidden rounded-lg bg-gray-100",children:n.jsx("img",{src:u.imageLink,alt:u.name,className:"w-full h-full object-cover","data-testid":"img-dialog-product",onError:w=>{w.target.style.display="none"}})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Informaes Bsicas"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[u.friendlyCode&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Cdigo:"}),n.jsx("span",{className:"font-mono","data-testid":"text-dialog-product-code-value",children:u.friendlyCode})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Categoria:"}),n.jsx("span",{"data-testid":"text-dialog-product-category",children:u.category||"No informado"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Preo:"}),n.jsxs("span",{className:"font-semibold","data-testid":"text-dialog-product-price",children:["R$ ",parseFloat(u.basePrice||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),u.availableQuantity!==void 0&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Estoque:"}),n.jsxs("span",{"data-testid":"text-dialog-product-stock",children:[u.availableQuantity," unidades"]})]}),u.mainColor&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Cor Principal:"}),n.jsx("span",{"data-testid":"text-dialog-product-main-color",children:u.mainColor})]}),u.secondaryColor&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Cor Secundria:"}),n.jsx("span",{"data-testid":"text-dialog-product-secondary-color",children:u.secondaryColor})]})]})]}),(u.weight||u.height||u.width||u.depth)&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Dimenses"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[u.weight&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Peso:"}),n.jsxs("span",{"data-testid":"text-dialog-product-weight",children:[u.weight,"g"]})]}),u.height&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Altura:"}),n.jsxs("span",{"data-testid":"text-dialog-product-height",children:[u.height,"cm"]})]}),u.width&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Largura:"}),n.jsxs("span",{"data-testid":"text-dialog-product-width",children:[u.width,"cm"]})]}),u.depth&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Profundidade:"}),n.jsxs("span",{"data-testid":"text-dialog-product-depth",children:[u.depth,"cm"]})]})]})]})]}),u.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Descrio"}),n.jsx("p",{className:"text-sm text-gray-600","data-testid":"text-dialog-product-description",children:u.description})]}),n.jsx("div",{className:"flex space-x-2",children:u.siteLink&&n.jsx(Z,{variant:"outline","data-testid":"button-product-site-link",onClick:()=>window.open(u.siteLink,"_blank"),children:"Ver no Site Oficial"})})]})]})})]})}function Bbt(){const t=JSON.parse(localStorage.getItem("user")||"{}").id,{data:r,isLoading:a}=pt({queryKey:["/api/commissions/vendor",t],enabled:!!t});if(a)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((l,c)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},c))})]})});const s=(r==null?void 0:r.filter(l=>l.status!=="cancelled").reduce((l,c)=>l+parseFloat(c.amount),0))||0,i=(r==null?void 0:r.filter(l=>l.status==="confirmed").reduce((l,c)=>l+parseFloat(c.amount),0))||0,o=(r==null?void 0:r.filter(l=>l.status==="pending").reduce((l,c)=>l+parseFloat(c.amount),0))||0;return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Minhas Comisses"}),n.jsx("p",{className:"text-gray-600",children:"Acompanhe suas comisses de vendas"}),n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:" Importante:"})," As comisses so confirmadas para pagamento apenas quando o pedido for ",n.jsx("strong",{children:"entregue"})," ao cliente."]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Comisses"}),n.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmadas"}),n.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Li,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["R$ ",o.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Histrico de Comisses"})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Venda"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"%"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comisso"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r==null?void 0:r.map(l=>{var c;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(l.createdAt).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.orderNumber}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",(c=l.orderValue)==null?void 0:c.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[parseFloat(l.percentage),"%"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:["R$ ",parseFloat(l.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`status-badge ${l.status==="confirmed"?"status-production":l.status==="paid"?"status-confirmed":l.status==="pending"?"status-pending":l.status==="cancelled"?"status-cancelled":"status-production"}`,children:l.status==="confirmed"?"Confirmada (A Receber)":l.status==="paid"?"Paga":l.status==="pending"?"Aguardando Entrega do Pedido":l.status==="cancelled"?"Pedido Cancelado":l.status})})]},l.id)})})]})})})]})]})}function Fbt({requestId:e,uniqueKey:t}){const{toast:r}=en(),[a,s]=B.useState(!1),{mutate:i}=jt({mutationFn:async()=>{console.log(`Converting quote request ${e} to budget`);const o=await fetch(`/api/quote-requests/${e}/convert-to-budget`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error("Erro ao converter em oramento");return o.json()},onMutate:()=>{s(!0)},onSuccess:o=>{s(!1);const c=JSON.parse(localStorage.getItem("user")||"{}").id;ct.invalidateQueries({queryKey:["/api/quote-requests/vendor",c]}),ct.invalidateQueries({queryKey:["/api/budgets/vendor",c]}),r({title:"Sucesso!",description:"Solicitao convertida em oramento oficial! Agora voc pode edit-lo na aba de Oramentos."})},onError:o=>{s(!1),console.error(`Error converting to budget ${e}:`,o),r({title:"Erro",description:o.message||"Erro ao converter em oramento",variant:"destructive"})}});return n.jsxs(Z,{size:"sm",className:"bg-gradient-to-r from-green-600 to-emerald-500 hover:from-green-700 hover:to-emerald-600 text-white",onClick:o=>{o.preventDefault(),o.stopPropagation(),a||i()},disabled:a,title:"Converter em oramento oficial","data-testid":`button-convert-${t}`,children:[n.jsx(Pn,{className:"h-4 w-4 mr-1"}),a?"Convertendo...":"Converter em Oramento"]})}function Pbt({requestId:e,uniqueKey:t}){const{toast:r}=en(),[a,s]=B.useState(!1),{mutate:i}=jt({mutationFn:async()=>{console.log(`Rejecting quote request ${e}`);const o=await fetch(`/api/quote-requests/${e}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected"})});if(!o.ok)throw new Error("Erro ao rejeitar solicitao");return o.json()},onMutate:()=>{s(!0)},onSuccess:()=>{s(!1);const l=JSON.parse(localStorage.getItem("user")||"{}").id;ct.invalidateQueries({queryKey:["/api/quote-requests/vendor",l]}),r({title:"Sucesso!",description:"Solicitao rejeitada com sucesso"})},onError:o=>{s(!1),console.error(`Error rejecting request ${e}:`,o),r({title:"Erro",description:o.message||"Erro ao rejeitar solicitao",variant:"destructive"})}});return n.jsxs(Z,{size:"sm",variant:"outline",className:"text-red-600 border-red-300 hover:bg-red-50",onClick:o=>{o.preventDefault(),o.stopPropagation(),a||i()},disabled:a,title:"Rejeitar esta solicitao","data-testid":`button-reject-${t}`,children:[n.jsx(fd,{className:"h-4 w-4 mr-1"}),a?"Rejeitando...":"Rejeitar"]})}function kbt(){const r=JSON.parse(localStorage.getItem("user")||"{}").id,[a,s]=B.useState(null),[i,o]=B.useState(!1),[l,c]=B.useState("all");en();const{data:d,isLoading:u}=pt({queryKey:["/api/quote-requests/vendor",r],queryFn:async()=>{const A=await fetch(`/api/quote-requests/vendor/${r}`);if(!A.ok)throw new Error("Failed to fetch quote requests");return A.json()}}),h=A=>{const p={pending:"bg-yellow-100 text-yellow-800",reviewing:"bg-blue-100 text-blue-800",quoted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},m={pending:"Pendente",reviewing:"Em Anlise",quoted:"Orado",rejected:"Rejeitado"};return n.jsx(Yt,{className:`${p[A]} border-0`,children:m[A]||A})},f=(d==null?void 0:d.filter(A=>l==="all"?!0:A.status===l))||[];return u?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((A,p)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},p))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Solicitaes de Oramento"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie as solicitaes de oramento dos seus clientes"})]})}),n.jsx(Le,{className:"mb-8",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Z,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:["Todas (",(d==null?void 0:d.length)||0,")"]}),n.jsxs(Z,{variant:l==="pending"?"default":"outline",size:"sm",onClick:()=>c("pending"),children:["Pendentes (",(d==null?void 0:d.filter(A=>A.status==="pending").length)||0,")"]}),n.jsxs(Z,{variant:l==="quoted"?"default":"outline",size:"sm",onClick:()=>c("quoted"),children:["Orados (",(d==null?void 0:d.filter(A=>A.status==="quoted").length)||0,")"]})]})})}),n.jsx("div",{className:"space-y-6",children:f.map(A=>n.jsxs(Le,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:A.productCount>1?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-5 w-5 text-blue-600"}),"Oramento com ",A.productCount," produtos"]}):A.productName}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Yn,{className:"h-4 w-4"}),A.contactName||A.clientName||"Cliente no identificado"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Un,{className:"h-4 w-4"}),new Date(A.createdAt).toLocaleDateString("pt-BR")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(gr,{className:"h-4 w-4"}),A.productCount>1?`${A.productCount} produtos`:`Qtd: ${A.quantity}`]}),A.totalEstimatedValue>0&&n.jsxs("span",{className:"flex items-center gap-1 font-medium text-green-600",children:["Valor estimado: R$ ",parseFloat(A.totalEstimatedValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-blue-600 mb-2",children:[A.whatsapp&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ll,{className:"h-4 w-4"}),A.whatsapp]}),A.email&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(rd,{className:"h-4 w-4"}),A.email]})]})]}),n.jsx("div",{className:"text-right",children:h(A.status)})]})}),n.jsxs(Re,{children:[A.items&&A.items.length>0&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Produtos solicitados:"}),n.jsx("div",{className:"space-y-2",children:A.items.map((p,m)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[p.imageLink&&n.jsx("img",{src:p.imageLink,alt:p.productName,className:"w-8 h-8 object-cover rounded"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:p.productName}),p.category&&n.jsxs("span",{className:"text-gray-500 ml-2",children:["(",p.category,")"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{children:["Qtd: ",p.quantity]}),n.jsxs("div",{className:"text-gray-500",children:["R$ ",parseFloat(p.basePrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]},m))})]}),A.observations&&n.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:"Observaes gerais:"})," ",A.observations]})}),A.items&&A.items.some(p=>p.observations)&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:"Observaes especficas dos produtos:"}),n.jsx("div",{className:"space-y-1",children:A.items.filter(p=>p.observations).map((p,m)=>n.jsxs("div",{className:"text-sm",children:[n.jsxs("strong",{children:[p.productName,":"]})," ",p.observations]},m))})]}),n.jsx("div",{className:"flex justify-end items-center pt-4 border-t",children:n.jsxs("div",{className:"flex space-x-2",children:[A.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(Fbt,{requestId:A.id,uniqueKey:`${A.id}-convert`},`convert-${A.id}`),n.jsx(Pbt,{requestId:A.id,uniqueKey:`${A.id}-reject`},`reject-${A.id}`)]}),A.status==="quoted"&&n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-sm font-medium",children:"Oramento enviado"})]})]})})]})]},A.id))}),f.length===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(YS,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-xl font-medium text-gray-600 mb-2",children:l==="all"?"Nenhuma solicitao de oramento encontrada":`Nenhuma solicitao ${l==="pending"?"pendente":l==="reviewing"?"em anlise":l==="quoted"?"orada":"rejeitada"} encontrada`}),n.jsx("p",{className:"text-gray-500",children:l==="all"?"As solicitaes dos seus clientes aparecero aqui.":"Tente selecionar um filtro diferente."})]})}),n.jsx(rr,{open:i,onOpenChange:o,children:n.jsxs(Jt,{className:"sm:max-w-[600px]",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes da Solicitao"}),n.jsx(lr,{children:"Informaes completas da solicitao de oramento"})]}),a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Produto"}),n.jsx("p",{className:"text-lg",children:a.productName}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantidade: ",a.quantity]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Status"}),h(a.status)]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informaes de Contato"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Nome:"})," ",a.contactName]}),a.whatsapp&&n.jsxs("p",{children:[n.jsx("strong",{children:"WhatsApp:"})," ",a.whatsapp]}),a.email&&n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",a.email]})]})]}),a.observations&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Observaes"}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:n.jsx("p",{className:"text-gray-700",children:a.observations})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Data da Solicitao"}),n.jsx("p",{className:"text-gray-600",children:new Date(a.createdAt).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})})]})}function Tbt({orderId:e,status:t}){const{data:r,isLoading:a}=pt({queryKey:[`/api/orders/${e}/shipping-details`],queryFn:async()=>{const i=await fetch(`/api/orders/${e}/shipping-details`);if(!i.ok)throw new Error("Failed to fetch shipping details");return i.json()},refetchInterval:3e4});if(a||!r)return n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4"})]});const s=t==="partial_shipped";return n.jsxs("div",{className:`mt-4 p-4 border rounded-lg ${s?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(io,{className:`h-4 w-4 ${s?"text-yellow-600":"text-blue-600"}`}),n.jsx("span",{className:`text-sm font-medium ${s?"text-yellow-800":"text-blue-800"}`,children:s?`Envio Parcial - ${r.shippedCount}/${r.totalCount} produtores despacharam`:"Pedido Totalmente Despachado!"})]}),r.shipmentDetails&&r.shipmentDetails.length>0&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("h4",{className:`text-md font-semibold ${s?"text-yellow-900":"text-blue-900"}`,children:"Status dos Envios:"}),r.shipmentDetails.map((i,o)=>{var l;return n.jsxs("div",{className:`bg-white p-4 rounded-lg border ${s?"border-yellow-200":"border-blue-200"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("div",{className:`font-semibold ${s?"text-yellow-900":"text-blue-900"}`,children:[" ",i.producerName]}),n.jsxs("div",{className:`text-sm mt-1 ${s?"text-yellow-700":"text-blue-700"}`,children:[((l=i.items)==null?void 0:l.length)||0," item(s) neste envio"]})]}),n.jsx("div",{className:"text-right",children:i.status==="shipped"?n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:" Enviado"}):n.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:" Aguardando"})})]}),i.status==="shipped"&&n.jsxs("div",{className:"mt-2 space-y-1",children:[i.trackingCode&&n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("strong",{children:"Cdigo de rastreio:"}),n.jsx("span",{className:"font-mono ml-1",children:i.trackingCode})]}),i.dispatchDate&&n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("strong",{children:"Despachado em:"})," ",new Date(i.dispatchDate).toLocaleDateString("pt-BR")]})]}),i.items&&i.items.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[n.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Itens neste envio:"}),n.jsx("div",{className:"space-y-1",children:i.items.map((c,d)=>n.jsxs("div",{className:"text-xs text-gray-600",children:[" ",c.productName," (Qtd: ",c.quantity,")"]},d))})]})]},o)})]}),n.jsx("div",{className:`text-xs mt-3 ${s?"text-yellow-600":"text-blue-600"}`,children:s?"Alguns itens j foram despachados. Os demais sero enviados conforme ficarem prontos.":"Todos os itens foram despachados. A entrega ser confirmada pelo nosso sistema de logstica."})]})}function Ibt(){const t=JSON.parse(localStorage.getItem("user")||"{}").id;Z0();const{data:r,isLoading:a}=pt({queryKey:["/api/orders/client",t],queryFn:async()=>{const o=await fetch(`/api/orders/client/${t}`);if(!o.ok)throw new Error("Failed to fetch client orders");return o.json()},enabled:!!t,refetchInterval:3e4}),s=o=>[{id:"confirmed",label:"Confirmado",icon:Bn,completed:["confirmed","production","ready","shipped","partial_shipped","delivered","completed"].includes(o)},{id:"production",label:"Em Produo",icon:Un,completed:["production","ready","shipped","partial_shipped","delivered","completed"].includes(o)},{id:"ready",label:"Pronto",icon:gr,completed:["ready","shipped","partial_shipped","delivered","completed"].includes(o)},{id:"shipped",label:"Enviado",icon:io,completed:["shipped","partial_shipped","delivered","completed"].includes(o)},{id:"delivered",label:"Entregue",icon:CA,completed:["delivered","completed"].includes(o)}],i=o=>{const l={pending:"bg-gray-100 text-gray-800",confirmed:"bg-blue-100 text-blue-800",production:"bg-purple-100 text-purple-800",ready:"bg-orange-100 text-orange-800",shipped:"bg-green-100 text-green-800",partial_shipped:"bg-yellow-100 text-yellow-800 animate-pulse border border-yellow-300",delivered:"bg-green-100 text-green-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},c={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",ready:"Pronto para Envio",shipped:"Enviado",partial_shipped:"Parcialmente Enviado",delivered:"Entregue",completed:"Finalizado",cancelled:"Cancelado"};return n.jsx(Yt,{className:`${l[o]} border-0`,children:c[o]||o})};return a?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((o,l)=>n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"},l))})]})}):n.jsxs("div",{className:"p-8 client-panel",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meus Pedidos"}),n.jsx("p",{className:"text-gray-600",children:"Acompanhe o status e detalhes dos seus pedidos"})]}),n.jsx("div",{className:"space-y-6",children:r==null?void 0:r.map(o=>n.jsxs(Le,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(Ot,{className:"text-xl text-gray-900 mb-2",children:[o.orderNumber," - ",o.product]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ps,{className:"h-4 w-4"}),"Pedido em: ",o.createdAt?new Date(o.createdAt).toLocaleDateString("pt-BR"):"Data no disponvel"]}),o.deadline&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Un,{className:"h-4 w-4"}),"Prazo: ",new Date(o.deadline).toLocaleDateString("pt-BR")]})]})]}),n.jsxs("div",{className:"text-right",children:[i(o.status),n.jsx("div",{className:"mt-2",children:n.jsx(ai,{href:`/client/order/${o.id}/timeline`,children:n.jsxs(Z,{size:"sm",className:"gradient-bg text-white",children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]})})})]})]})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-700",children:["R$ ",(parseFloat(o.totalValue)-parseFloat(o.shippingCost||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Produtos"})]}),parseFloat(o.shippingCost||"0")>0&&n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:["R$ ",parseFloat(o.shippingCost||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Frete"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",parseFloat(o.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Valor Total"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",parseFloat(o.paidValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("div",{className:"text-sm text-gray-600",children:parseFloat(o.paidValue||"0")>0?"Valor Pago":"Nenhum Pagamento"}),parseFloat(o.paidValue||"0")>0&&parseFloat(o.paidValue||"0")<parseFloat(o.totalValue)&&n.jsx("div",{className:"text-xs text-blue-600 font-medium mt-1",children:"Entrada Paga"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["R$ ",(o.remainingValue?parseFloat(o.remainingValue):parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Saldo Restante"})]})]}),parseFloat(o.paidValue||"0")>0&&o.payments&&o.payments.length>0&&n.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Histrico de Pagamentos:"}),n.jsx("div",{className:"space-y-1",children:o.payments.map((l,c)=>{var d;return n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:[(d=l.method)==null?void 0:d.toUpperCase()," - ",l.paidAt?new Date(l.paidAt).toLocaleDateString("pt-BR"):"Data no informada"]}),n.jsxs("span",{className:"font-medium text-green-600",children:["+R$ ",parseFloat(l.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},l.id||c)})})]})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:s(o.status).map((l,c)=>{const d=l.icon;return n.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[n.jsx("div",{className:`w-10 h-10 ${l.completed?"gradient-bg":"bg-gray-300"} rounded-full flex items-center justify-center mb-2`,children:n.jsx(d,{className:`h-5 w-5 ${l.completed?"text-white":"text-gray-500"}`})}),n.jsx("p",{className:`text-sm font-medium text-center ${l.completed?"text-gray-900":"text-gray-500"}`,children:l.label}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:l.completed?new Date(o.updatedAt||o.createdAt).toLocaleDateString("pt-BR"):"Aguardando"})]},l.id)})}),n.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200",children:n.jsx("div",{className:`h-full transition-all duration-500 ${o.status==="partial_shipped"?"bg-gradient-to-r from-green-500 to-yellow-400":"gradient-bg"}`,style:{width:o.status==="pending"?"0%":o.status==="confirmed"?"20%":o.status==="production"?"40%":o.status==="ready"?"60%":o.status==="shipped"?"80%":o.status==="partial_shipped"?"70%":["delivered","completed"].includes(o.status)?"100%":"0%"}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Descrio"}),n.jsx("p",{className:"font-medium text-gray-900",children:o.description||"Descrio no informada"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Produtor"}),n.jsx("p",{className:"font-medium text-gray-900",children:o.producerName||"Em definio"})]})]}),(()=>{const c=(o.budgetItems||o.items||[]).filter((d,u,h)=>h.findIndex(f=>f.productId===d.productId&&f.producerId===d.producerId&&f.quantity===d.quantity&&(f.unitPrice===d.unitPrice||f.totalPrice===d.totalPrice)&&f.hasItemCustomization===d.hasItemCustomization&&f.selectedCustomizationId===d.selectedCustomizationId&&f.hasGeneralCustomization===d.hasGeneralCustomization&&f.generalCustomizationName===d.generalCustomizationName)===u);return c.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("p",{className:"text-sm font-medium text-blue-800 mb-2",children:["Itens do Pedido (",c.length,"):"]}),n.jsx("div",{className:"space-y-1",children:c.map((d,u)=>{var h;return n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-blue-700",children:[d.productName||((h=d.product)==null?void 0:h.name)||"Produto"," - Qtd: ",d.quantity]}),n.jsxs("span",{className:"font-medium text-blue-800",children:["R$ ",parseFloat(d.totalPrice||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},`${d.id||u}-${d.productId}`)})})]})})(),parseFloat(o.paidValue||"0")>0&&n.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lo,{className:"h-4 w-4 text-green-600"}),n.jsxs("span",{className:"text-sm font-medium text-green-800",children:[parseFloat(o.paidValue||"0")>=parseFloat(o.totalValue)?"Pagamento completo realizado":o.budgetInfo?"Entrada paga conforme oramento":"Entrada paga",": R$ ",parseFloat(o.paidValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"text-xs text-green-700",children:[n.jsx("strong",{children:"Detalhes:"}),o.budgetInfo&&o.budgetInfo.downPayment>0?n.jsxs("div",{className:"ml-2",children:[n.jsx("div",{children:" Entrada do oramento paga"}),o.budgetInfo.installments>1&&n.jsxs("div",{children:[" Restante em ",o.budgetInfo.installments-1,"x"]}),n.jsxs("div",{children:[" Saldo: R$ ",(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}):o.payments&&o.payments.length>0&&o.payments.map((l,c)=>{var d;return n.jsxs("div",{className:"ml-2 flex justify-between",children:[n.jsxs("span",{children:[(d=l.method)==null?void 0:d.toUpperCase()," - ",l.paidAt?new Date(l.paidAt).toLocaleDateString("pt-BR"):"Data no informada"]}),n.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(l.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},l.id||c)})]})]}),o.status==="shipped"&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(io,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Seu pedido foi despachado!"})]}),o.trackingCode&&n.jsxs("div",{className:"text-xs text-blue-700 mt-2",children:[n.jsx("strong",{children:"Cdigo de rastreio:"})," ",o.trackingCode]}),n.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"A entrega ser confirmada automaticamente pelo nosso sistema de logstica."})]}),o.status==="partial_shipped"&&n.jsx(Tbt,{orderId:o.id,status:o.status})]})]},o.id))}),(r==null?void 0:r.length)===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(gr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-xl font-medium text-gray-600 mb-2",children:"Nenhum pedido encontrado"}),n.jsx("p",{className:"text-gray-500",children:"Seus pedidos aparecero aqui quando forem criados."})]})})]})}function Obt(){const t=JSON.parse(localStorage.getItem("user")||"{}").id,[r,a]=B.useState(null),[s,i]=B.useState(!1),[o,l]=B.useState(""),{toast:c}=en(),d=jt({mutationFn:async({budgetId:v,status:y,observations:j})=>{const b=await fetch(`/api/budgets/${v}/approve`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:y,observations:j})});if(!b.ok)throw new Error("Erro ao atualizar oramento");return b.json()},onSuccess:(v,y)=>{ct.invalidateQueries({queryKey:["/api/budgets/client",t]}),i(!1),l(""),c({title:"Sucesso!",description:y.status==="approved"?"Oramento aprovado com sucesso!":"Oramento rejeitado.",variant:y.status==="approved"?"default":"destructive"})},onError:()=>{c({title:"Erro",description:"No foi possvel atualizar o oramento",variant:"destructive"})}}),u=v=>{a(v),i(!0)},{data:h,isLoading:f,refetch:A}=pt({queryKey:["/api/budgets/client",t],queryFn:async()=>{const v=await fetch(`/api/budgets/client/${t}`);if(!v.ok)throw new Error("Failed to fetch client budgets");return v.json()},enabled:!!t,refetchInterval:3e4,refetchOnWindowFocus:!0}),{data:p,isLoading:m,refetch:x}=pt({queryKey:["/api/quote-requests/client",t],enabled:!!t,refetchInterval:3e4,refetchOnWindowFocus:!0,retry:1}),g=(v,y)=>{if(y==="request"){const w={pending:"bg-yellow-100 text-yellow-800",reviewing:"bg-blue-100 text-blue-800",quoted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},C={pending:"Pendente",reviewing:"Em Anlise",quoted:"Orado",rejected:"Rejeitado"};return n.jsx(Yt,{className:`${w[v]||"bg-gray-100 text-gray-800"} border-0`,children:C[v]||v})}const j={draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",converted:"bg-purple-100 text-purple-800"},b={draft:"Rascunho",sent:"Enviado para Anlise",approved:"Aprovado",rejected:"Rejeitado",converted:"Convertido em Pedido"};return n.jsx(Yt,{className:`${j[v]||"bg-gray-100 text-gray-800"} border-0`,children:b[v]||v})};return f||m?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((v,y)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},y))})]})}):n.jsxs("div",{className:"p-8 client-panel",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Meus Oramentos"}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>{A(),x()},disabled:f||m,children:f||m?"Atualizando...":"Atualizar"})]}),n.jsx("p",{className:"text-gray-600",children:"Acompanhe suas solicitaes de oramento e propostas recebidas"})]}),n.jsxs(Le,{className:"mb-8",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(YS,{className:"h-5 w-5"}),"Solicitaes Enviadas"]})}),n.jsx(Re,{children:m?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando solicitaes..."})]}):p&&p.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Encontradas ",p.length," solicitaes de oramento"]}),p.map(v=>{var b,w;const y=((b=v.items)==null?void 0:b.reduce((C,F)=>C+(F.quantity||0),0))||0,j=((w=v.items)==null?void 0:w.map(C=>C.productName).join(", "))||"Solicitao de Oramento";return n.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:j}),v.items&&v.items.length>1&&n.jsxs("p",{className:"text-sm text-blue-600 mb-2",children:[v.items.length," produtos solicitados"]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ps,{className:"h-4 w-4"}),new Date(v.createdAt).toLocaleDateString("pt-BR")]}),y>0&&n.jsxs("span",{children:["Qtd: ",y]})]}),n.jsx("div",{className:"text-sm text-gray-600",children:n.jsxs("span",{children:["Vendedor: ",v.vendorName||"No informado"]})})]}),n.jsx("div",{children:g(v.status,"request")})]}),v.items&&v.items.length>0&&n.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded mb-3",children:[n.jsx("p",{className:"font-medium mb-1",children:"Itens solicitados:"}),v.items.map((C,F)=>n.jsxs("p",{className:"text-gray-700",children:[" ",C.productName," (Qtd: ",C.quantity,")"]},F))]}),v.observations&&n.jsxs("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded mb-3",children:[n.jsx("strong",{children:"Observaes:"})," ",v.observations]}),v.status==="quoted"&&n.jsx("div",{className:"text-green-600 font-medium text-sm",children:" Oramento enviado pelo vendedor"})]},v.id)})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(YS,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhuma solicitao de oramento enviada"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"V para o catlogo de produtos para solicitar oramentos"})]})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5"}),"Oramentos Recebidos"]})}),n.jsx(Re,{children:h&&h.length>0?n.jsx("div",{className:"space-y-6",children:h.map(v=>n.jsxs(Le,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx(Ot,{className:"text-xl text-gray-900 mb-2",children:v.title}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ps,{className:"h-4 w-4"}),"Criado em: ",new Date(v.createdAt).toLocaleDateString("pt-BR")]}),v.validUntil&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Un,{className:"h-4 w-4"}),"Vlido at: ",new Date(v.validUntil).toLocaleDateString("pt-BR")]})]})]}),n.jsx("div",{className:"text-right",children:g(v.status,"budget")})]})}),n.jsxs(Re,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Prazo de Entrega"}),n.jsx("p",{className:"font-medium text-gray-900",children:v.deliveryDeadline?new Date(v.deliveryDeadline).toLocaleDateString("pt-BR"):"A definir"})]})}),v.description&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Descrio"}),n.jsx("p",{className:"text-gray-900",children:v.description})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[n.jsxs("div",{className:"flex space-x-2",children:[v.status==="sent"&&n.jsxs(n.Fragment,{children:[n.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>d.mutate({budgetId:v.id,status:"approved",observations:""}),disabled:d.isPending,children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),"Aceitar"]}),n.jsxs(Z,{size:"sm",variant:"destructive",onClick:()=>d.mutate({budgetId:v.id,status:"rejected",observations:""}),disabled:d.isPending,children:[n.jsx(fd,{className:"h-4 w-4 mr-1"}),"Rejeitar"]}),n.jsxs(Z,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-teal-500 hover:from-blue-700 hover:to-teal-600 text-white",onClick:()=>u(v),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]})]}),v.status==="approved"&&n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-sm font-medium",children:"Oramento aprovado"})]}),v.status==="converted"&&n.jsxs("div",{className:"flex items-center text-purple-600",children:[n.jsx(gr,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"text-sm font-medium",children:"Convertido em pedido"})]})]}),n.jsxs(Z,{size:"sm",variant:"ghost",onClick:()=>u(v),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]})]})]})]},v.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum oramento recebido"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Os oramentos enviados pelo seu vendedor aparecero aqui"})]})})]}),n.jsx(rr,{open:s,onOpenChange:i,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsxs(er,{children:["Detalhes do Oramento - ",r==null?void 0:r.title]}),n.jsx(lr,{children:"Revise os detalhes do oramento e aprove ou rejeite"})]}),r&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(fe,{children:"Ttulo"}),n.jsx("p",{className:"font-medium",children:r.title})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Status"}),n.jsx("span",{className:`status-badge ${r.status==="sent"?"status-confirmed":r.status==="approved"?"status-production":r.status==="rejected"?"status-cancelled":"status-pending"}`,children:r.status==="sent"?"Enviado":r.status==="approved"?"Aprovado":r.status==="rejected"?"Rejeitado":r.status})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Vlido At"}),n.jsx("p",{children:r.validUntil?new Date(r.validUntil).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Prazo de Entrega"}),n.jsx("p",{children:r.deliveryDeadline?new Date(r.deliveryDeadline).toLocaleDateString("pt-BR"):"No definido"})]})]}),r.items&&r.items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Produtos"}),n.jsx("div",{className:"space-y-3",children:r.items.map((v,y)=>n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:v.productName}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantidade: ",v.quantity]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Preo unitrio: R$ ",parseFloat(v.unitPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),v.hasItemCustomization&&n.jsxs("p",{className:"text-sm text-blue-600",children:["Personalizao: ",v.itemCustomizationDescription,"(+R$ ",parseFloat(v.itemCustomizationValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2}),")"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold",children:["R$ ",parseFloat(v.totalPrice).toLocaleString("pt-BR",{minimumFractionDigits:2})]})})]})},y))})]}),r.photos&&r.photos.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Fotos"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:r.photos.map((v,y)=>n.jsx("img",{src:v,alt:`Foto ${y+1}`,className:"w-full h-32 object-cover rounded-lg"},y))})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{className:"gradient-text",children:["R$ ",parseFloat(r.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),r.status==="sent"&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Aprovao do Oramento"}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"client-observations",children:"Observaes (opcional)"}),n.jsx(Jn,{id:"client-observations",placeholder:"Deixe suas observaes sobre o oramento...",value:o,onChange:v=>l(v.target.value),rows:3})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(Z,{className:"flex-1 bg-green-600 hover:bg-green-700 text-white",onClick:()=>d.mutate({budgetId:r.id,status:"approved",observations:o}),disabled:d.isPending,children:[n.jsx(By,{className:"h-4 w-4 mr-2"}),"Aprovar Oramento"]}),n.jsxs(Z,{variant:"destructive",className:"flex-1",onClick:()=>d.mutate({budgetId:r.id,status:"rejected",observations:o}),disabled:d.isPending,children:[n.jsx(fd,{className:"h-4 w-4 mr-2"}),"Rejeitar Oramento"]})]})]}),r.clientObservations&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx(fe,{className:"font-medium",children:"Observaes do Cliente:"}),n.jsx("p",{className:"mt-1",children:r.clientObservations})]})]})]})})]})}function Dbt(){const e=JSON.parse(localStorage.getItem("user")||"{}"),[t,r]=B.useState(""),[a,s]=B.useState("all"),[i,o]=B.useState(!1),[l,c]=B.useState([]),[d,u]=B.useState(!1),[h,f]=B.useState("list"),[A,p]=B.useState(1),[m]=B.useState(50),{toast:x}=en(),[g,v]=B.useState({observations:""}),{data:y,isLoading:j}=pt({queryKey:["/api/products",{limit:5e4}],queryFn:async()=>{const S=await fetch("/api/products?limit=50000");if(!S.ok)throw new Error("Failed to fetch products");return S.json()}}),{data:b}=pt({queryKey:["/api/clients/profile",e.id],queryFn:async()=>{const S=await fetch(`/api/clients/profile/${e.id}`);if(!S.ok)throw new Error("Failed to fetch client profile");return S.json()}}),w=(y==null?void 0:y.products)||[],C=new Set;w.forEach(S=>{S.category&&C.add(S.category)});const F=["all",...Array.from(C)],E=jt({mutationFn:async S=>{const z=await fetch("/api/quote-requests/consolidated",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!z.ok)throw new Error("Erro ao solicitar oramento");return z.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/quote-requests"]}),o(!1),L(),c([]),x({title:"Sucesso!",description:`Oramento consolidado enviado com ${l.length} produto(s)!`})}}),L=()=>{v({observations:""})},N=S=>{if(l.find(Q=>Q.productId===S.id))c(l.map(Q=>Q.productId===S.id?{...Q,quantity:Q.quantity+1}:Q));else{const Q={productId:S.id,productName:S.name,basePrice:parseFloat(S.basePrice),quantity:1,imageLink:S.imageLink,category:S.category,observations:""};c([...l,Q])}x({title:"Produto adicionado",description:`${S.name} foi adicionado ao seu carrinho`})},I=(S,z)=>{const Q=Math.max(1,Math.min(999999,Math.floor(z)));if(Q<=0){O(S);return}c(l.map(W=>W.productId===S?{...W,quantity:Q}:W))},M=(S,z)=>{c(l.map(Q=>Q.productId===S?{...Q,observations:z}:Q))},O=S=>{c(l.filter(z=>z.productId!==S))},k=()=>l.reduce((S,z)=>S+z.quantity,0),P=()=>{if(l.length===0){x({title:"Carrinho vazio",description:"Adicione pelo menos um produto ao carrinho",variant:"destructive"});return}if(!(b!=null&&b.vendorId)){x({title:"Vendedor no atribudo",description:"Entre em contato com o administrador para ter um vendedor atribudo",variant:"destructive"});return}v({observations:""}),o(!0)},R=S=>{if(S.preventDefault(),l.length===0){x({title:"Erro",description:"Adicione pelo menos um produto ao carrinho",variant:"destructive"});return}if(!(b!=null&&b.vendorId)){x({title:"Erro",description:"Voc precisa ter um vendedor atribudo para solicitar oramentos",variant:"destructive"});return}if(l.filter(W=>!W.quantity||W.quantity<=0).length>0){x({title:"Erro",description:"Todos os produtos devem ter quantidade maior que zero",variant:"destructive"});return}const Q={clientId:e.id,vendorId:b==null?void 0:b.vendorId,observations:g.observations.trim(),products:l.map(W=>({productId:W.productId,productName:W.productName,quantity:Math.max(1,W.quantity),category:W.category,imageLink:W.imageLink,observations:W.observations.trim()}))};console.log("Submitting consolidated quote:",Q),E.mutate(Q)},V=w.filter(S=>{var W;const z=!t||S.name.toLowerCase().includes(t.toLowerCase())||((W=S.description)==null?void 0:W.toLowerCase().includes(t.toLowerCase())),Q=a==="all"||S.category===a;return z&&Q&&S.isActive}),D=Math.ceil(V.length/m),Y=(A-1)*m,ne=V.slice(Y,Y+m);return j?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-4",children:[...Array(10)].map((S,z)=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},z))})]})}):n.jsxs("div",{className:"p-8 client-panel",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catlogo de Produtos"}),n.jsx("p",{className:"text-gray-600",children:"Explore nossos produtos e solicite oramentos"}),(b==null?void 0:b.vendorName)&&n.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Seu vendedor: ",n.jsx("strong",{children:b.vendorName})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",V.length," produtos encontrados"]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs(Z,{onClick:()=>u(!d),variant:"outline",className:"relative",children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),"Carrinho",k()>0&&n.jsx(Yt,{className:"absolute -top-2 -right-2 min-w-5 h-5 flex items-center justify-center p-1 text-xs",children:k()})]}),d&&n.jsxs(Le,{className:"absolute right-0 top-12 w-[500px] z-50 shadow-lg max-h-[600px] overflow-hidden",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"text-lg flex items-center justify-between",children:["Carrinho de Oramento",n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),n.jsx(Re,{className:"overflow-y-auto max-h-[400px]",children:l.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Carrinho vazio"}):n.jsxs("div",{className:"space-y-4",children:[l.map(S=>n.jsxs("div",{className:"border rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[S.imageLink&&n.jsx("img",{src:S.imageLink,alt:S.productName,className:"w-12 h-12 object-cover rounded"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-sm truncate",children:S.productName}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qtd: ",S.quantity]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>I(S.productId,S.quantity-1),children:n.jsx(hye,{className:"h-3 w-3"})}),n.jsx(ie,{type:"number",min:"1",max:"999999",value:S.quantity,onChange:z=>I(S.productId,parseInt(z.target.value)||1),className:"w-16 text-center text-sm h-8"}),n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>I(S.productId,S.quantity+1),children:n.jsx(Rn,{className:"h-3 w-3"})}),n.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>O(S.productId),children:n.jsx(Bs,{className:"h-3 w-3 text-red-500"})})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx(fe,{className:"text-xs text-gray-600",children:"Observaes do produto:"}),n.jsx(Jn,{placeholder:"Detalhes especficos deste produto...",value:S.observations,onChange:z=>M(S.productId,z.target.value),className:"mt-1 text-xs h-16 resize-none"})]})]},S.productId)),n.jsxs("div",{className:"border-t pt-3",children:[n.jsxs(Z,{onClick:P,className:"w-full gradient-bg text-white",disabled:l.length===0,children:[n.jsx(YS,{className:"h-4 w-4 mr-2"}),"Solicitar Oramento (",k()," itens)"]}),l.length===0&&n.jsx("p",{className:"text-xs text-gray-600 text-center mt-2",children:"Adicione produtos ao carrinho"}),!(b!=null&&b.vendorId)&&l.length>0&&n.jsx("p",{className:"text-xs text-red-600 text-center mt-2",children:"Voc precisa ter um vendedor atribudo"})]})]})})]})]})]})}),n.jsx(Le,{className:"mb-8",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar produtos...",value:t,onChange:S=>{r(S.target.value),p(1)},className:"pl-9"})]}),n.jsxs($t,{value:a,onValueChange:S=>{s(S),p(1)},children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Categoria"})}),n.jsx(Ut,{children:F.map(S=>n.jsx(ge,{value:S,children:S==="all"?"Todas as Categorias":S},S))})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>f("list"),children:n.jsx(ote,{className:"h-4 w-4"})}),n.jsx(Z,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>f("grid"),children:n.jsx(ite,{className:"h-4 w-4"})})]})]})})}),h==="list"?n.jsx(Le,{children:n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ne.map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[S.imageLink&&n.jsx("img",{src:S.imageLink,alt:S.name,className:"w-10 h-10 object-cover rounded mr-3",onError:z=>{z.currentTarget.style.display="none"}}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:S.name}),S.description&&n.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:S.description})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.category||"No informada"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs(Z,{onClick:()=>N(S),size:"sm",className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Adicionar"]})})]},S.id))})]})})})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ne.map(S=>n.jsxs(Le,{className:"card-hover",children:[n.jsxs(Tt,{children:[S.imageLink&&n.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg mb-4 overflow-hidden",children:n.jsx("img",{src:S.imageLink,alt:S.name,className:"w-full h-full object-cover",onError:z=>{z.currentTarget.style.display="none"}})}),n.jsx(Ot,{className:"text-lg",children:S.name})]}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-3",children:[S.description&&n.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:S.description}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Categoria:"}),n.jsx("p",{className:"font-medium",children:S.category||"No informada"})]})}),n.jsxs(Z,{onClick:()=>N(S),className:"w-full gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Adicionar ao Carrinho"]}),!(b!=null&&b.vendorId)&&n.jsx("p",{className:"text-xs text-amber-600 text-center",children:"Voc pode adicionar produtos, mas precisar ter um vendedor atribudo para solicitar oramentos"})]})})]},S.id))}),D>1&&n.jsx(Le,{className:"mt-6",children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",Y+1," a ",Math.min(Y+m,V.length)," de ",V.length," produtos"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p(S=>Math.max(1,S-1)),disabled:A<=1,children:"Anterior"}),n.jsxs("span",{className:"flex items-center px-3 text-sm",children:["Pgina ",A," de ",D]}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p(S=>Math.min(D,S+1)),disabled:A>=D,children:"Prximo"})]})]})})}),V.length===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(gr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-xl font-medium text-gray-600 mb-2",children:"Nenhum produto encontrado"}),n.jsx("p",{className:"text-gray-500",children:"Tente ajustar os filtros de busca."})]})}),n.jsx(rr,{open:i,onOpenChange:o,children:n.jsxs(Jt,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Solicitar Oramento"}),n.jsxs(lr,{children:["Voc est solicitando oramento para ",l.length," produto(s). Preencha os dados do pedido abaixo."]})]}),n.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg p-3 bg-gray-50",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Produtos selecionados:"}),l.map(S=>n.jsxs("div",{className:"border-b last:border-b-0 pb-2 mb-2 last:mb-0",children:[n.jsxs("div",{className:"flex justify-between items-start text-sm mb-1",children:[n.jsx("span",{className:"font-medium",children:S.productName}),n.jsxs("span",{className:"text-gray-600",children:[S.quantity,"x"]})]}),S.observations&&n.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',S.observations,'"']})]},S.productId))]}),n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"observations",children:"Observaes do Pedido"}),n.jsx(Jn,{id:"observations",value:g.observations,onChange:S=>v({...g,observations:S.target.value}),placeholder:"Descreva detalhes especficos, personalizaes desejadas, prazo de entrega, etc.",rows:4})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:E.isPending,children:E.isPending?"Enviando...":"Solicitar Oramento"})]})]})]})})]})}function Lbt({orderId:e,status:t}){const{data:r,isLoading:a}=pt({queryKey:[`/api/orders/${e}/shipping-details`],queryFn:async()=>{const i=await fetch(`/api/orders/${e}/shipping-details`);if(!i.ok)throw new Error("Failed to fetch shipping details");return i.json()},refetchInterval:3e4});if(a||!r)return n.jsx(Le,{className:"mb-8 border-gray-200 bg-gray-50",children:n.jsx(Re,{className:"p-6 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),n.jsxs("div",{children:[n.jsx("div",{className:"h-6 bg-gray-300 rounded w-48 mb-2"}),n.jsx("div",{className:"h-4 bg-gray-300 rounded w-64"})]})]})})});const s=t==="partial_shipped";return n.jsx(Le,{className:`mb-8 ${s?"border-yellow-200 bg-yellow-50":"border-blue-200 bg-blue-50"}`,children:n.jsxs(Re,{className:"p-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-yellow-100":"bg-blue-100"}`,children:n.jsx(io,{className:`h-6 w-6 ${s?"text-yellow-600":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-lg font-semibold ${s?"text-yellow-900":"text-blue-900"}`,children:s?"Envio Parcial Realizado!":"Pedido Totalmente Enviado!"}),n.jsx("p",{className:`${s?"text-yellow-700":"text-blue-700"}`,children:s?`${r.shippedCount} de ${r.totalCount} produtores j despacharam seus itens. Os demais sero enviados conforme ficarem prontos.`:"Todos os itens foram despachados e esto a caminho. A confirmao de entrega ser feita pela nossa equipe de logstica."})]})]})}),r.shipmentDetails&&r.shipmentDetails.length>0&&n.jsxs("div",{className:"mt-6 space-y-4",children:[n.jsx("h4",{className:`text-md font-semibold ${s?"text-yellow-900":"text-blue-900"}`,children:"Detalhes dos Envios:"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:r.shipmentDetails.map((i,o)=>{var l;return n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold text-gray-900",children:[" ",i.producerName]}),n.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[((l=i.items)==null?void 0:l.length)||0," item(s)"]})]}),n.jsx("div",{children:i.status==="shipped"?n.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:" Despachado"}):n.jsx("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:" Preparando"})})]}),i.status==="shipped"&&n.jsxs("div",{className:"space-y-2 mb-3",children:[i.trackingCode&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:"Rastreio:"}),n.jsx("span",{className:"font-mono text-blue-600 bg-blue-50 px-2 py-1 rounded",children:i.trackingCode})]}),i.dispatchDate&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ps,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:"Despachado:"}),n.jsx("span",{className:"text-gray-800",children:new Date(i.dispatchDate).toLocaleDateString("pt-BR")})]})]}),i.items&&i.items.length>0&&n.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Itens:"}),n.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:i.items.map((c,d)=>n.jsxs("div",{className:"text-sm text-gray-600 flex justify-between",children:[n.jsxs("span",{children:[" ",c.productName]}),n.jsxs("span",{className:"text-gray-500",children:["Qtd: ",c.quantity]})]},d))})]})]},o)})})]})]})})}function Rbt(){const[,e]=fee("/client/order/:id/timeline"),t=Z0(),{data:r,isLoading:a}=pt({queryKey:[`/api/orders/${e==null?void 0:e.id}`],queryFn:async()=>{const c=await fetch(`/api/orders/${e==null?void 0:e.id}`);if(!c.ok)throw new Error("Failed to fetch order");return c.json()},enabled:!!(e!=null&&e.id),refetchInterval:3e4});jt({mutationFn:async()=>{const c=await fetch(`/api/orders/${e==null?void 0:e.id}/confirm-delivery`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!c.ok)throw new Error("Failed to confirm delivery");return c.json()},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/orders/${e==null?void 0:e.id}`]})}});const s=c=>{const d={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",production:"bg-purple-100 text-purple-800",ready:"bg-orange-100 text-orange-800",preparing_shipment:"bg-yellow-200 text-yellow-800",shipped:"bg-indigo-100 text-indigo-800",partial_shipped:"bg-cyan-100 text-cyan-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"},u={pending:"Aguardando",confirmed:"Confirmado",production:"Em Produo",ready:"Pronto",preparing_shipment:"Preparando Envio",shipped:"Enviado",partial_shipped:"Enviado Parcialmente",delivered:"Entregue",cancelled:"Cancelado",completed:"Finalizado"};return n.jsx(Yt,{className:`${d[c]} border-0`,children:u[c]})},i=c=>{var u,h,f;return[{id:"created",status:"created",title:"Pedido Criado",description:"Pedido foi criado e est aguardando confirmao",date:c.createdAt,completed:!0,icon:"file-plus"},{id:"confirmed",status:"confirmed",title:"Pedido Confirmado",description:"Pedido foi confirmado e enviado para produo",date:["confirmed","production","ready","shipped","delivered","completed"].includes(c.status)?c.updatedAt:null,completed:["confirmed","production","ready","shipped","delivered","completed"].includes(c.status),icon:"check-circle"},{id:"production",status:"production",title:"Em Produo",description:((u=c.productionOrder)==null?void 0:u.notes)||"Pedido em processo de produo",date:((h=c.productionOrder)==null?void 0:h.acceptedAt)||(["production","ready","shipped","delivered","completed"].includes(c.status)?c.updatedAt:null),completed:["production","ready","shipped","delivered","completed"].includes(c.status),icon:"settings"},{id:"ready",status:"ready",title:"Pronto para Envio",description:"Produto finalizado e pronto para envio",date:["ready","shipped","delivered","completed"].includes(c.status)?c.updatedAt:null,completed:["ready","shipped","delivered","completed"].includes(c.status),icon:"package"},{id:"shipped",status:"shipped",title:"Enviado",description:c.trackingCode?`Cdigo de rastreamento: ${c.trackingCode}`:(f=c.productionOrder)!=null&&f.trackingCode?`Cdigo de rastreamento: ${c.productionOrder.trackingCode}`:"Produto foi enviado para o cliente",date:["shipped","partial_shipped","delivered","completed"].includes(c.status)?c.updatedAt:null,completed:["shipped","partial_shipped","delivered","completed"].includes(c.status),icon:"truck"},{id:"completed",status:"completed",title:"Entregue",description:"Pedido foi entregue com sucesso",date:["delivered","completed"].includes(c.status)?c.updatedAt:null,completed:["delivered","completed"].includes(c.status),icon:"check-circle-2"}]};if(a)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"space-y-6",children:[...Array(3)].map((c,d)=>n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"},d))})]})});if(!r)return n.jsx("div",{className:"p-8",children:n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(gr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-xl font-medium text-gray-600",children:"Pedido no encontrado"})]})})});const o=r,l=i(o);return n.jsxs("div",{className:"p-8 max-w-6xl mx-auto client-panel",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx(ai,{href:"/client/orders",children:n.jsxs(Z,{variant:"ghost",className:"mb-4",children:[n.jsx(ete,{className:"h-4 w-4 mr-2"}),"Voltar para Pedidos"]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Pedido #",o.orderNumber]}),n.jsx("p",{className:"text-gray-600",children:o.product})]}),n.jsx("div",{className:"text-right",children:s(o.status)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[(o.status==="shipped"||o.status==="partial_shipped")&&n.jsx(Lbt,{orderId:o.id,status:o.status}),o.status==="partial_shipped"&&n.jsx(Le,{className:"mb-8 border-cyan-200 bg-cyan-50",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:n.jsx(io,{className:"h-6 w-6 text-cyan-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-cyan-900",children:"Envio Parcial!"}),n.jsx("p",{className:"text-cyan-700",children:"Parte do seu pedido j foi despachada e est a caminho. Os demais itens sero enviados assim que ficarem prontos."})]})]}),o.shipmentDetails&&o.shipmentDetails.length>0&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsx("h4",{className:"text-md font-semibold text-cyan-900",children:"Status dos Envios:"}),o.shipmentDetails.map((c,d)=>{var u;return n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-cyan-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold text-cyan-900",children:[" ",c.producerName]}),n.jsxs("div",{className:"text-sm text-cyan-700 mt-1",children:[((u=c.items)==null?void 0:u.length)||0," item(s) neste envio"]})]}),n.jsx("div",{className:"text-right",children:c.status==="shipped"?n.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:" Enviado"}):n.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:" Preparando"})})]}),c.items&&c.items.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-xs font-medium text-cyan-800 mb-2",children:"Itens:"}),n.jsx("div",{className:"space-y-1",children:c.items.map((h,f)=>{var A;return n.jsxs("div",{className:"flex justify-between text-xs text-cyan-700 bg-cyan-50 px-2 py-1 rounded",children:[n.jsx("span",{children:((A=h.product)==null?void 0:A.name)||h.productName}),n.jsxs("span",{children:["Qtd: ",h.quantity]})]},f)})})]}),c.trackingCode&&n.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[n.jsx("div",{className:"text-xs font-medium text-blue-800",children:"Cdigo de Rastreamento:"}),n.jsx("div",{className:"text-xs text-blue-700 font-mono",children:c.trackingCode})]}),c.shippedAt&&n.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Despachado em: ",new Date(c.shippedAt).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]},d)})]})]})})}),n.jsxs(Le,{className:"mb-8",children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Resumo do Pedido"})}),n.jsxs(Re,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5"}),"Informaes do Pedido"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Pedido"}),n.jsx("p",{className:"text-lg font-bold",children:o.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx("div",{className:"mt-1",children:s(o.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor dos Produtos"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",(parseFloat(o.totalValue)-parseFloat(o.shippingCost||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(o.shippingCost||"0")>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor do Frete"}),n.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["R$ ",parseFloat(o.shippingCost||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Total"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(o.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsx("p",{className:"text-sm text-gray-900",children:new Date(o.createdAt).toLocaleDateString("pt-BR")})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(lo,{className:"h-5 w-5"}),"Informaes de Pagamento"]}),n.jsxs("div",{className:"space-y-3",children:[parseFloat(o.downPayment||"0")>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Entrada Paga"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(o.downPayment||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(o.paidValue||"0")>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Total Pago"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",parseFloat(o.paidValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(o.remainingBalance||"0")>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Saldo Restante"}),n.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["R$ ",parseFloat(o.remainingBalance||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status de Pagamento"}),n.jsx("p",{className:`text-sm font-medium ${parseFloat(o.paidValue||"0")>=parseFloat(o.totalValue)?"text-green-600":parseFloat(o.paidValue||"0")>0?"text-orange-600":"text-red-600"}`,children:parseFloat(o.paidValue||"0")>=parseFloat(o.totalValue)?"Pago Integralmente":parseFloat(o.paidValue||"0")>0?"Pagamento Parcial":"Aguardando Pagamento"})]})]})]})]}),o.description&&n.jsxs("div",{className:"mt-6 pt-6 border-t",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Descrio do Pedido"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:o.description})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Acompanhamento do Pedido"})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-8",children:l.map((c,d)=>{o.status,c.id;const u=c.completed;return c.id,c.id,c.id,n.jsxs("div",{className:"flex items-start",children:[n.jsxs("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-4 ${u?"gradient-bg text-white":"bg-gray-100 text-gray-400"}`,children:[c.icon==="check-circle"&&n.jsx(Bn,{className:"h-5 w-5"}),c.icon==="clock"&&n.jsx(Un,{className:"h-5 w-5"}),c.icon==="package"&&n.jsx(gr,{className:"h-5 w-5"}),c.icon==="truck"&&n.jsx(io,{className:"h-5 w-5"}),c.icon==="file-plus"&&n.jsx(Pn,{className:"h-5 w-5"}),c.icon==="settings"&&n.jsx(gr,{className:"h-5 w-5"}),c.icon==="check-circle-2"&&n.jsx(Bn,{className:"h-5 w-5"}),c.icon==="home"&&n.jsx(CA,{className:"h-5 w-5"})]}),n.jsxs("div",{className:"flex-1 pb-8 border-l-2 border-gray-200 pl-6 ml-5 relative",children:[n.jsx("div",{className:`absolute -left-2 top-0 w-4 h-4 ${u?"bg-blue-500":"bg-white border-2 border-gray-300"} rounded-full`}),n.jsx("h4",{className:`font-bold text-lg mb-2 ${u?"text-gray-900":"text-gray-500"}`,children:c.title}),n.jsx("p",{className:`text-sm mb-3 ${u?"text-gray-700":"text-gray-400"}`,children:c.description}),c.date&&n.jsxs("div",{className:"flex items-center text-sm text-gray-500 bg-gray-50 px-3 py-1 rounded-full inline-flex",children:[n.jsx(ps,{className:"h-4 w-4 mr-2"}),new Date(c.date).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),c.trackingCode&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Cdigo de Rastreamento:"}),n.jsx("p",{className:"font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded",children:n.jsx("a",{href:`https://rastreamento.correios.com.br/${c.trackingCode}`,target:"_blank",rel:"noopener noreferrer",children:c.trackingCode})})]}),c.estimatedDelivery&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Data Prevista de Entrega:"}),n.jsx("p",{className:"font-medium text-orange-600 bg-orange-50 px-2 py-1 rounded",children:new Date(c.estimatedDelivery).toLocaleDateString("pt-BR")})]})]})]},c.id)})})})]})]}),n.jsxs("div",{children:[n.jsxs(Le,{className:"mb-6",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(lo,{className:"h-5 w-5 mr-2"}),"Resumo Financeiro"]})}),n.jsxs(Re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Valor dos Produtos:"}),n.jsxs("span",{className:"font-bold text-lg text-gray-800",children:["R$ ",(parseFloat(o.totalValue)-parseFloat(o.shippingCost||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(o.shippingCost||"0")>0&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Frete:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",parseFloat(o.shippingCost||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Valor Total:"}),n.jsxs("span",{className:"font-bold text-xl text-green-600",children:["R$ ",parseFloat(o.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:parseFloat(o.paidValue||"0")>=parseFloat(o.totalValue)?"Pagamento Completo:":parseFloat(o.paidValue||"0")>0?"Entrada Paga:":"Valor Pago:"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",parseFloat(o.paidValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"Saldo Restante:"}),n.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["R$ ",(o.remainingValue?parseFloat(o.remainingValue):parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(o.paidValue||"0")>0&&n.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-sm text-green-800 mb-2",children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"font-medium",children:parseFloat(o.paidValue||"0")>=parseFloat(o.totalValue)?"Pagamento completo realizado":o.budgetInfo?"Entrada paga conforme oramento":"Entrada paga - Saldo pendente"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-xs font-medium text-green-800 mb-1",children:"Detalhes do pagamento:"}),o.budgetInfo&&o.budgetInfo.downPayment>0?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-xs text-green-700 flex justify-between bg-white p-1 rounded",children:[n.jsxs("span",{children:["Entrada Oramento - ",new Date(o.createdAt).toLocaleDateString("pt-BR")]}),n.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(o.budgetInfo.downPayment).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),o.budgetInfo.installments>1&&n.jsxs("div",{className:"text-xs text-blue-700 bg-blue-50 p-1 rounded",children:["Restante em ",o.budgetInfo.installments-1," parcelas"]})]}):o.payments&&o.payments.length>0&&o.payments.map((c,d)=>{var u;return n.jsxs("div",{className:"text-xs text-green-700 flex justify-between bg-white p-1 rounded",children:[n.jsxs("span",{children:[(u=c.method)==null?void 0:u.toUpperCase()," - ",c.paidAt?new Date(c.paidAt).toLocaleDateString("pt-BR"):"Data no informada"]}),n.jsxs("span",{className:"font-medium",children:["R$ ",parseFloat(c.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},c.id||d)}),n.jsxs("div",{className:"text-xs text-green-800 font-medium pt-1 border-t border-green-200",children:["Total pago: R$ ",parseFloat(o.paidValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),(o.vendorName||o.producerName)&&n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(Yn,{className:"h-5 w-5 mr-2"}),"Equipe Responsvel"]})}),n.jsxs(Re,{className:"space-y-4",children:[o.vendorName&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Vendedor Responsvel"}),n.jsx("p",{className:"font-medium text-gray-900",children:o.vendorName})]}),o.producerName&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Produtor"}),n.jsx("p",{className:"font-medium text-gray-900",children:o.producerName})]})]})]})]})]})]})}function Mbt(){const e=JSON.parse(localStorage.getItem("user")||"{}"),[t,r]=B.useState(!1),[a,s]=B.useState(!1),[i,o]=B.useState(!1),{toast:l}=en(),[c,d]=B.useState({name:"",email:"",phone:"",whatsapp:"",address:"",nomeFantasia:"",razaoSocial:"",inscricaoEstadual:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",cep:"",emailBoleto:"",emailNF:"",nomeContato:"",emailContato:""}),[u,h]=B.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{data:f,isLoading:A}=pt({queryKey:["/api/clients/profile",e.id],queryFn:async()=>{const v=await fetch(`/api/clients/profile/${e.id}`);if(!v.ok)throw new Error("Failed to fetch client profile");return await v.json()},enabled:!!e.id});B.useEffect(()=>{f&&d({name:f.name||"",email:f.email||"",phone:f.phone||"",whatsapp:f.whatsapp||"",address:f.address||"",nomeFantasia:f.nomeFantasia||"",razaoSocial:f.razaoSocial||"",inscricaoEstadual:f.inscricaoEstadual||"",logradouro:f.logradouro||"",numero:f.numero||"",complemento:f.complemento||"",bairro:f.bairro||"",cidade:f.cidade||"",cep:f.cep||"",emailBoleto:f.emailBoleto||"",emailNF:f.emailNF||"",nomeContato:f.nomeContato||"",emailContato:f.emailContato||""})},[f]);const p=jt({mutationFn:async v=>{const y=await fetch(`/api/clients/profile/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!y.ok)throw new Error("Erro ao atualizar perfil");return y.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/clients/profile",e.id]}),l({title:"Sucesso!",description:"Perfil atualizado com sucesso"})}}),m=jt({mutationFn:async v=>{const y=await fetch(`/api/clients/password/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!y.ok){const j=await y.json();throw new Error(j.error||"Erro ao atualizar senha")}return y.json()},onSuccess:()=>{h({currentPassword:"",newPassword:"",confirmPassword:""}),l({title:"Sucesso!",description:"Senha atualizada com sucesso"})},onError:v=>{l({title:"Erro",description:v.message,variant:"destructive"})}}),x=v=>{v.preventDefault(),p.mutate(c)},g=v=>{if(v.preventDefault(),u.newPassword!==u.confirmPassword){l({title:"Erro",description:"Nova senha e confirmao no coincidem",variant:"destructive"});return}if(u.newPassword.length<6){l({title:"Erro",description:"Nova senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}m.mutate({currentPassword:u.currentPassword,newPassword:u.newPassword})};return A?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8 max-w-6xl mx-auto client-panel",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Meu Perfil"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie suas informaes pessoais e configuraes de conta"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(Yn,{className:"h-5 w-5 mr-2"}),"Informaes do Perfil"]})}),n.jsx(Re,{children:n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mb-6",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx(fe,{className:"text-blue-700",children:"Cdigo de Acesso"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800",children:e.username})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Este cdigo no pode ser alterado"})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(si,{className:"h-5 w-5 mr-2"}),"Informaes Bsicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"name",children:"Nome do Contato"}),n.jsx(ie,{id:"name",value:c.name,disabled:!0,className:"bg-gray-50",placeholder:"No pode ser alterado"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este campo no pode ser editado"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"email",children:"Email Principal"}),n.jsxs("div",{className:"relative",children:[n.jsx(rd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{id:"email",type:"email",value:c.email,onChange:v=>d({...c,email:v.target.value}),placeholder:"seu.email@exemplo.com",className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"nomeFantasia",children:"Nome Fantasia"}),n.jsx(ie,{id:"nomeFantasia",value:c.nomeFantasia,onChange:v=>d({...c,nomeFantasia:v.target.value}),placeholder:"Empresa Ltda"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"razaoSocial",children:"Razo Social"}),n.jsx(ie,{id:"razaoSocial",value:c.razaoSocial,onChange:v=>d({...c,razaoSocial:v.target.value}),placeholder:"Empresa Comercial Ltda"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"cpfCnpj",children:"CPF/CNPJ"}),n.jsx(ie,{id:"cpfCnpj",value:(f==null?void 0:f.cpfCnpj)||"No informado",disabled:!0,className:"bg-gray-50",placeholder:"No pode ser alterado"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este campo no pode ser editado"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"inscricaoEstadual",children:"Inscrio Estadual"}),n.jsx(ie,{id:"inscricaoEstadual",value:c.inscricaoEstadual,onChange:v=>d({...c,inscricaoEstadual:v.target.value}),placeholder:"123.456.789.012"})]})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Cm,{className:"h-5 w-5 mr-2"}),"Endereo Completo"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(fe,{htmlFor:"logradouro",children:"Logradouro/Rua"}),n.jsx(ie,{id:"logradouro",value:c.logradouro,onChange:v=>d({...c,logradouro:v.target.value}),placeholder:"Rua das Flores"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"numero",children:"Nmero"}),n.jsx(ie,{id:"numero",value:c.numero,onChange:v=>d({...c,numero:v.target.value}),placeholder:"123"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"complemento",children:"Complemento"}),n.jsx(ie,{id:"complemento",value:c.complemento,onChange:v=>d({...c,complemento:v.target.value}),placeholder:"Apto 45, Bloco B"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"bairro",children:"Bairro"}),n.jsx(ie,{id:"bairro",value:c.bairro,onChange:v=>d({...c,bairro:v.target.value}),placeholder:"Centro"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"cidade",children:"Cidade"}),n.jsx(ie,{id:"cidade",value:c.cidade,onChange:v=>d({...c,cidade:v.target.value}),placeholder:"So Paulo"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"cep",children:"CEP"}),n.jsx(ie,{id:"cep",value:c.cep,onChange:v=>d({...c,cep:v.target.value}),placeholder:"01234-567"})]})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(ll,{className:"h-5 w-5 mr-2"}),"Contato"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"phone",children:"Telefone"}),n.jsxs("div",{className:"relative",children:[n.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{id:"phone",value:c.phone,onChange:v=>d({...c,phone:v.target.value}),placeholder:"(11) 99999-9999",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"whatsapp",children:"WhatsApp"}),n.jsxs("div",{className:"relative",children:[n.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{id:"whatsapp",value:c.whatsapp,onChange:v=>d({...c,whatsapp:v.target.value}),placeholder:"(11) 99999-9999",className:"pl-10"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"nomeContato",children:"Nome do Contato"}),n.jsx(ie,{id:"nomeContato",value:c.nomeContato,onChange:v=>d({...c,nomeContato:v.target.value}),placeholder:"Nome da pessoa de contato"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"emailContato",children:"E-mail do Contato"}),n.jsxs("div",{className:"relative",children:[n.jsx(rd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{id:"emailContato",type:"email",value:c.emailContato,onChange:v=>d({...c,emailContato:v.target.value}),placeholder:"contato@empresa.com",className:"pl-10"})]})]})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Pn,{className:"h-5 w-5 mr-2"}),"E-mails Comerciais"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"emailBoleto",children:"E-mail para Boleto"}),n.jsxs("div",{className:"relative",children:[n.jsx(rd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{id:"emailBoleto",type:"email",value:c.emailBoleto,onChange:v=>d({...c,emailBoleto:v.target.value}),placeholder:"financeiro@empresa.com",className:"pl-10"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"emailNF",children:"E-mail para Nota Fiscal"}),n.jsxs("div",{className:"relative",children:[n.jsx(rd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{id:"emailNF",type:"email",value:c.emailNF,onChange:v=>d({...c,emailNF:v.target.value}),placeholder:"nf@empresa.com",className:"pl-10"})]})]})]})]}),n.jsxs("div",{className:"space-y-4 border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Observaes Adicionais"}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"address",children:"Observaes de Endereo"}),n.jsx(Jn,{id:"address",value:c.address,onChange:v=>d({...c,address:v.target.value}),placeholder:"Informaes adicionais sobre entrega, localizao, etc.",rows:3})]})]}),n.jsx(Z,{type:"submit",className:"w-full gradient-bg text-white",disabled:p.isPending,children:p.isPending?"Salvando...":"Salvar Alteraes"})]})})]})}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(ph,{className:"h-5 w-5 mr-2"}),"Alterar Senha"]})}),n.jsx(Re,{children:n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"currentPassword",children:"Senha Atual"}),n.jsxs("div",{className:"relative",children:[n.jsx(ie,{id:"currentPassword",type:t?"text":"password",value:u.currentPassword,onChange:v=>h({...u,currentPassword:v.target.value}),placeholder:"Digite sua senha atual",required:!0}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!t),children:t?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"newPassword",children:"Nova Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(ie,{id:"newPassword",type:a?"text":"password",value:u.newPassword,onChange:v=>h({...u,newPassword:v.target.value}),placeholder:"Digite sua nova senha",required:!0,minLength:6}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!a),children:a?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mnimo de 6 caracteres"})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"confirmPassword",children:"Confirmar Nova Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx(ie,{id:"confirmPassword",type:i?"text":"password",value:u.confirmPassword,onChange:v=>h({...u,confirmPassword:v.target.value}),placeholder:"Confirme sua nova senha",required:!0,minLength:6}),n.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),children:i?n.jsx(Eo,{className:"h-4 w-4"}):n.jsx(Ur,{className:"h-4 w-4"})})]})]}),n.jsx(Z,{type:"submit",className:"w-full gradient-bg text-white",disabled:m.isPending||!u.currentPassword||!u.newPassword||!u.confirmPassword,children:m.isPending?"Alterando...":"Alterar Senha"})]})})]}),n.jsxs(Le,{className:"mt-6",children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Informaes da Conta"})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Data de Cadastro"}),n.jsx("p",{className:"text-sm text-gray-900",children:f!=null&&f.createdAt?new Date(f.createdAt).toLocaleDateString("pt-BR"):"No informado"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"ltima Atualizao"}),n.jsx("p",{className:"text-sm text-gray-900",children:f!=null&&f.updatedAt?new Date(f.updatedAt).toLocaleDateString("pt-BR"):"No informado"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Status da Conta"}),n.jsx("span",{className:`text-sm font-medium ${f!=null&&f.isActive?"text-green-600":"text-red-600"}`,children:f!=null&&f.isActive?"Ativa":"Inativa"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Vendedor Responsvel"}),n.jsx("p",{className:"text-sm text-gray-900",children:(f==null?void 0:f.vendorName)||"No atribudo"})]})]})})]})]})]})]})}function Ubt(){const[e,t]=B.useState(null),[r,a]=B.useState(!1),[s,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState(""),[u,h]=B.useState(""),{toast:f}=en(),A="producer-1",{data:p,isLoading:m}=pt({queryKey:["/api/production-orders/producer",A]}),x=jt({mutationFn:async({orderId:w,status:C,notes:F,deliveryDate:E})=>{const L=await fetch(`/api/production-orders/${w}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:C,notes:F,deliveryDate:E})});if(!L.ok)throw new Error("Erro ao atualizar status");return L.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/production-orders/producer",A]}),ct.invalidateQueries({queryKey:["/api/orders"]}),a(!1),i(!1),d(""),h(""),f({title:"Sucesso!",description:"Status atualizado com sucesso"})}}),g=w=>{const C={pending:"status-badge status-pending",accepted:"status-badge status-confirmed",production:"status-badge status-production",completed:"status-badge status-completed",rejected:"status-badge status-cancelled",cancelled:"status-badge status-cancelled"},F={pending:"Aguardando",accepted:"Aceito",production:"Em Produo",completed:"Concludo",rejected:"Rejeitado",cancelled:"Cancelado"};return n.jsx("span",{className:C[w]||"status-badge",children:F[w]||w})},v=(w,C)=>{t(w),C==="completed"?a(!0):x.mutate({orderId:w.id,status:C,notes:""})},y=w=>{t(w),h(w.deadline?new Date(w.deadline).toISOString().split("T")[0]:""),i(!0)},j=w=>{t(w),d(""),a(!0)},b=w=>{t(w),l(!0)};return m?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ordens de Produo"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie suas ordens de produo"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(p==null?void 0:p.filter(w=>w.status==="pending").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Em Produo"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(p==null?void 0:p.filter(w=>w.status==="production"||w.status==="accepted").length)||0})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx(oi,{className:"h-6 w-6 text-white"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Concludas"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(p==null?void 0:p.filter(w=>w.status==="completed").length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Bn,{className:"h-6 w-6 text-green-600"})})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Ordens de Produo"})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:p==null?void 0:p.map(w=>n.jsx(Le,{className:"border-l-4 border-l-blue-500",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["#",w.id.slice(-6)," - ",w.product]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Pedido: ",w.orderNumber]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Prazo: ",w.deadline?new Date(w.deadline).toLocaleDateString("pt-BR"):"A definir"]})]}),n.jsx("div",{className:"text-right",children:g(w.status)})]}),w.notes&&n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-700",children:w.notes})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>b(w),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>y(w),children:"Alterar Prazo"}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>j(w),children:"Adicionar Observao"}),w.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>v(w,"accepted"),disabled:x.isPending,children:"Aceitar Ordem"}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>v(w,"rejected"),disabled:x.isPending,children:"Rejeitar"})]}),w.status==="accepted"&&n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>v(w,"production"),disabled:x.isPending,children:"Iniciar Produo"}),w.status==="production"&&n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>v(w,"completed"),disabled:x.isPending,children:"Marcar como Concludo"})]})]})},w.id))})})]}),n.jsx(rr,{open:r,onOpenChange:a,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:(e==null?void 0:e.status)==="completed"?"Finalizar Ordem de Produo":"Adicionar Observao"}),n.jsx(lr,{children:(e==null?void 0:e.status)==="completed"?"Adicione observaes sobre a concluso da ordem":"Adicione uma observao sobre o andamento da produo"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"notes",children:"Observaes"}),n.jsx(Jn,{id:"notes",placeholder:"Descreva o andamento, observaes tcnicas, etc.",value:c,onChange:w=>d(w.target.value)})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:()=>{(e==null?void 0:e.status)==="completed"?x.mutate({orderId:e.id,status:"completed",notes:c}):x.mutate({orderId:e.id,status:e.status,notes:c})},disabled:x.isPending,children:x.isPending?"Salvando...":"Salvar Observao"})]})]})]})}),n.jsx(rr,{open:s,onOpenChange:i,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Alterar Prazo de Entrega"}),n.jsx(lr,{children:"Defina um novo prazo para a entrega deste pedido"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"deadline",children:"Nova Data de Entrega"}),n.jsx(ie,{id:"deadline",type:"date",value:u,onChange:w=>h(w.target.value)})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"deadline-notes",children:"Motivo da Alterao (Opcional)"}),n.jsx(Jn,{id:"deadline-notes",placeholder:"Explique o motivo da alterao do prazo...",value:c,onChange:w=>d(w.target.value)})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:()=>x.mutate({orderId:e.id,status:e.status,notes:c,deliveryDate:u}),disabled:x.isPending||!u,children:x.isPending?"Salvando...":"Alterar Prazo"})]})]})]})}),n.jsx(rr,{open:o,onOpenChange:l,children:n.jsxs(Jt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes da Ordem de Produo"}),n.jsx(lr,{children:"Informaes completas da ordem de produo"})]}),e&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"ID da Ordem"}),n.jsxs("p",{className:"font-semibold",children:["#",e.id.slice(-6)]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsx("div",{className:"mt-1",children:g(e.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Produto"}),n.jsx("p",{children:e.product})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Pedido"}),n.jsx("p",{children:e.orderNumber})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Prazo de Entrega"}),n.jsx("p",{children:e.deadline?new Date(e.deadline).toLocaleDateString("pt-BR"):"A definir"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor"}),n.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",parseFloat(e.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.description&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descrio"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg mt-1",children:e.description})]}),e.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Observaes"}),n.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg mt-1",children:e.notes})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aceito em"}),n.jsx("p",{className:"text-sm",children:e.acceptedAt?new Date(e.acceptedAt).toLocaleDateString("pt-BR"):"Pendente"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Iniciado em"}),n.jsx("p",{className:"text-sm",children:e.startedAt?new Date(e.startedAt).toLocaleDateString("pt-BR"):"No iniciado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Concludo em"}),n.jsx("p",{className:"text-sm",children:e.completedAt?new Date(e.completedAt).toLocaleDateString("pt-BR"):"Em andamento"})]})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>{x.mutate({orderId:e.id,status:"accepted",notes:""}),l(!1)},disabled:x.isPending,children:"Aceitar Ordem"}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>{x.mutate({orderId:e.id,status:"rejected",notes:""}),l(!1)},disabled:x.isPending,children:"Rejeitar"})]}),e.status==="accepted"&&n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>{x.mutate({orderId:e.id,status:"production",notes:""}),l(!1)},disabled:x.isPending,children:"Iniciar Produo"}),e.status==="production"&&n.jsx(Z,{size:"sm",className:"gradient-bg text-white",onClick:()=>{l(!1),v(e,"completed")},disabled:x.isPending,children:"Marcar como Concludo"})]}),n.jsx(Z,{variant:"outline",onClick:()=>l(!1),children:"Fechar"})]})]})]})})]})}function Qbt(){var R,V,D,Y,ne,S,z,Q,W,U,re,de,ae,Ae,Me,H,Oe,Ee,ee,st,se;const[e,t]=fee("/producer/order/:id"),[,r]=Hf(),{toast:a}=en(),s=t==null?void 0:t.id,[i,o]=B.useState(!1),[l,c]=B.useState(!1),[d,u]=B.useState(!1),[h,f]=B.useState(""),[A,p]=B.useState(""),[m,x]=B.useState(""),[g,v]=B.useState(""),[y,j]=B.useState(""),{data:b,isLoading:w}=pt({queryKey:["/api/production-orders",s],enabled:!!s,refetchOnWindowFocus:!0,refetchInterval:5e3}),C=jt({mutationFn:async({status:me,notes:nt,deliveryDate:Nt,trackingCode:xt})=>{const Ne=await fetch(`/api/production-orders/${s}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:me,notes:nt,deliveryDate:Nt,trackingCode:xt})}),le=await Ne.json();if(!Ne.ok)throw new Error(le.error||"Erro ao atualizar status");return le},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/production-orders",s]}),ct.invalidateQueries({queryKey:["/api/production-orders/producer"]}),o(!1),c(!1),f(""),p(""),N(""),a({title:"Sucesso!",description:"Status atualizado com sucesso"})},onError:me=>{a({title:"Erro!",description:me.message,variant:"destructive"})}}),F=jt({mutationFn:async({value:me,notes:nt})=>{const Nt=await fetch(`/api/production-orders/${s}/value`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:me,notes:nt})});if(!Nt.ok){const xt=await Nt.text();throw new Error(xt||"Erro ao definir valor")}return Nt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/production-orders",s]}),ct.invalidateQueries({queryKey:["/api/production-orders/producer"]}),u(!1),v(""),j(""),a({title:"Sucesso!",description:"Valor definido com sucesso"})},onError:me=>{a({title:"Erro",description:me.message||"Erro ao definir valor",variant:"destructive"})}}),E=me=>{me==="completed"||me==="rejected"?(x(me),o(!0)):C.mutate({status:me})},[L,N]=B.useState(""),I=()=>{C.mutate({status:m,notes:h,deliveryDate:A||void 0,trackingCode:L||void 0})},M=()=>{C.mutate({status:b==null?void 0:b.status,notes:h,deliveryDate:A})},O=()=>{b!=null&&b.producerValue?v(parseFloat(b.producerValue).toFixed(2)):v(""),j((b==null?void 0:b.producerNotes)||""),u(!0)},k=()=>{if(!g||g.trim()===""){a({title:"Erro",description:"Por favor, insira um valor",variant:"destructive"});return}const me=parseFloat(g.replace(",","."));if(isNaN(me)||me<=0){a({title:"Erro",description:"O valor deve ser um nmero vlido maior que zero",variant:"destructive"});return}F.mutate({value:me.toFixed(2),notes:y.trim()||void 0})},P=me=>{const Nt={pending:{label:"Aguardando",className:"bg-yellow-100 text-yellow-800"},accepted:{label:"Aceito",className:"bg-blue-100 text-blue-800"},production:{label:"Em Produo",className:"bg-purple-100 text-purple-800"},quality_check:{label:"Controle Qualidade",className:"bg-indigo-100 text-indigo-800"},ready:{label:"Pronto",className:"bg-green-100 text-green-800"},shipped:{label:"Enviado",className:"bg-cyan-100 text-cyan-800"},completed:{label:"Finalizado",className:"bg-green-100 text-green-800"},rejected:{label:"Rejeitado",className:"bg-red-100 text-red-800"}}[me]||{label:me,className:"bg-gray-100 text-gray-800"};return n.jsx(Yt,{className:Nt.className,children:Nt.label})};return w?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):b?n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs(Z,{variant:"ghost",onClick:()=>r("/producer/production-dashboard"),className:"mb-4",children:[n.jsx(ete,{className:"h-4 w-4 mr-2"}),"Voltar para Ordens"]}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Ordem #",b.id.slice(-6)]}),n.jsxs("p",{className:"text-gray-600",children:["Pedido: ",((R=b.order)==null?void 0:R.orderNumber)||"N/A"]})]}),n.jsx("div",{className:"text-right",children:P(b.status)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5"}),"Informaes do Pedido"]})}),n.jsxs(Re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Produto"}),n.jsx("p",{className:"text-lg font-semibold",children:((Y=(D=(V=b.orderDetails)==null?void 0:V.items)==null?void 0:D[0])==null?void 0:Y.productName)||((z=(S=(ne=b.order)==null?void 0:ne.items)==null?void 0:S[0])==null?void 0:z.productName)||"Produto N/A"})]}),n.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx(fe,{className:"text-sm font-medium text-blue-800",children:"Seu Valor para este Pedido"}),b.producerValue&&parseFloat(b.producerValue)>0?n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("p",{className:"text-xl font-bold text-green-700",children:["R$ ",parseFloat(b.producerValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.status==="pending"||b.status==="accepted"?n.jsx(Z,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-300 hover:bg-blue-50",onClick:O,children:"Editar"}):n.jsx(Yt,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Valor Definido"})]}):n.jsxs("div",{className:"mt-1",children:[n.jsx("p",{className:"text-red-600 font-medium",children:" Valor no definido"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Defina quanto voc cobrar por este pedido"})]}),b.producerNotes&&n.jsxs("p",{className:"text-xs text-gray-600 mt-2 italic",children:["Obs: ",b.producerNotes]})]})]}),((Q=b.order)==null?void 0:Q.description)&&n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Descrio"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg mt-1",children:b.order.description})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Prazo Original"}),n.jsx("p",{children:b.deadline?new Date(b.deadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Prazo Atualizado"}),n.jsx("p",{className:b.deliveryDeadline?"font-semibold text-blue-600":"",children:b.deliveryDeadline?new Date(b.deliveryDeadline).toLocaleDateString("pt-BR"):"No definido"})]})]}),b.notes&&n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Observaes"}),n.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg mt-1",children:b.notes}),b.lastNoteAt&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["ltima atualizao: ",new Date(b.lastNoteAt).toLocaleString("pt-BR")]})]})]})]}),(()=>{var nt,Nt,xt;const me=((nt=b.orderDetails)==null?void 0:nt.items)||((xt=(Nt=b.order)==null?void 0:Nt.items)==null?void 0:xt.filter(Ne=>Ne.producerId===b.producerId||Ne.producerId==="internal"&&b.producerId==="internal"))||[];return me&&me.length>0&&n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Itens do Pedido para Produo (",me.length,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:me.map((Ne,le)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-lg text-gray-900",children:Ne.productName||"Produto"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Quantidade: ",n.jsx("strong",{children:parseFloat(Ne.quantity)||1})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:["Item #",le+1]})})]}),(Ne.productWidth||Ne.productHeight||Ne.productDepth)&&n.jsxs("div",{className:"mb-3 p-3 bg-white rounded border",children:[n.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Dimenses Especificadas:"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[Ne.productWidth&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Largura:"}),n.jsxs("span",{className:"font-medium ml-1",children:[Ne.productWidth," cm"]})]}),Ne.productHeight&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Altura:"}),n.jsxs("span",{className:"font-medium ml-1",children:[Ne.productHeight," cm"]})]}),Ne.productDepth&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Profundidade:"}),n.jsxs("span",{className:"font-medium ml-1",children:[Ne.productDepth," cm"]})]})]})]}),Ne.hasItemCustomization&&n.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[n.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Personalizao do Item:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),n.jsx("span",{className:"ml-2 text-sm",children:Ne.itemCustomizationDescription||"Personalizao especfica"})]}),Ne.additionalCustomizationNotes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Observaes:"}),n.jsx("p",{className:"ml-2 text-sm text-gray-600 mt-1",children:Ne.additionalCustomizationNotes})]}),Ne.customizationPhoto&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Imagem de Referncia:"}),n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:Ne.customizationPhoto,alt:"Personalizao",className:"w-24 h-24 object-cover rounded border cursor-pointer hover:opacity-75",onClick:()=>window.open(Ne.customizationPhoto,"_blank")})})]})]})]}),Ne.hasGeneralCustomization&&n.jsxs("div",{className:"mb-3 p-3 bg-green-50 border border-green-200 rounded",children:[n.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"Personalizao Geral:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Nome:"}),n.jsx("span",{className:"ml-2 text-sm",children:Ne.generalCustomizationName||"Personalizao geral"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Aplicar em todas as ",parseFloat(Ne.quantity)||1," unidades"]})]})]}),Ne.hasItemDiscount&&n.jsxs("div",{className:"mb-3 p-3 bg-orange-50 border border-orange-200 rounded",children:[n.jsx("h5",{className:"font-medium text-orange-800 mb-1",children:"Desconto Aplicado:"}),n.jsx("div",{className:"text-sm text-gray-600",children:Ne.itemDiscountType==="percentage"?`${Ne.itemDiscountPercentage}% de desconto`:"Desconto fixo aplicado"})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Para produzir:"}),n.jsxs("span",{className:"font-bold text-gray-900 ml-2",children:[parseFloat(Ne.quantity)||1," unidade(s)"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Produtor:"}),n.jsx("span",{className:"font-medium text-blue-600 ml-2",children:Ne.producerId==="internal"?"Produo Interna":"Voc"})]})]})})]},le))})})]})})(),((W=b.order)==null?void 0:W.description)&&n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Descrio do Pedido"})}),n.jsx(Re,{children:n.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-700 leading-relaxed",children:b.order.description})})})]}),b.photos&&b.photos.length>0&&n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Fotos de Referncia"})}),n.jsx(Re,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:b.photos.map((me,nt)=>n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsx("img",{src:me,alt:`Referncia ${nt+1}`,className:"w-full h-32 object-cover cursor-pointer hover:opacity-80",onClick:()=>window.open(me,"_blank")})},nt))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Status Timeline"})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-3",children:[{status:"pending",label:"Aguardando",completed:!0},{status:"accepted",label:"Aceito",completed:["accepted","production","ready","shipped","delivered","completed"].includes(b.status)},{status:"production",label:"Em Produo",completed:["production","ready","shipped","delivered","completed"].includes(b.status)},{status:"ready",label:"Pronto (Produo)",completed:["ready","shipped","delivered","completed"].includes(b.status)},{status:"shipped",label:"Despachado (Logstica)",completed:["shipped","delivered","completed"].includes(b.status)},{status:"delivered",label:"Entregue (Logstica)",completed:["delivered","completed"].includes(b.status)},{status:"completed",label:"Finalizado (Logstica)",completed:b.status==="completed"}].map((me,nt)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${me.completed?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{className:`text-sm ${me.completed?"text-green-700 font-medium":"text-gray-500"}`,children:me.label})]},me.status))})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Controle de Status"})}),n.jsxs(Re,{className:"space-y-3",children:[b.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(Z,{className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>E("accepted"),disabled:C.isPending,children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),C.isPending?"Aceitando...":"Aceitar Ordem"]}),n.jsxs(Z,{variant:"destructive",className:"w-full",onClick:()=>E("rejected"),disabled:C.isPending,children:[n.jsx(Ll,{className:"h-4 w-4 mr-2"}),C.isPending?"Rejeitando...":"Rejeitar"]})]}),b.status==="accepted"&&n.jsxs(Z,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>E("production"),disabled:C.isPending,children:[n.jsx(Un,{className:"h-4 w-4 mr-2"}),C.isPending?"Iniciando...":"Iniciar Produo"]}),b.status==="production"&&n.jsx(n.Fragment,{children:!b.producerValue||parseFloat(b.producerValue)<=0?n.jsxs("div",{className:"w-full p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ll,{className:"h-5 w-5 text-yellow-600"}),n.jsx("p",{className:"font-medium text-yellow-800",children:"Valor Obrigatrio"})]}),n.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"Voc precisa definir o valor que cobrar por este pedido antes de marc-lo como pronto."}),n.jsx(Z,{variant:"outline",className:"w-full border-yellow-300 text-yellow-700 hover:bg-yellow-50",onClick:O,children:"Definir Valor do Pedido"})]}):n.jsxs(Z,{className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>E("ready"),disabled:C.isPending,children:[n.jsx(gr,{className:"h-4 w-4 mr-2"}),C.isPending?"Finalizando...":"Marcar Pronto"]})}),["ready","shipped","delivered","completed"].includes(b.status)&&n.jsxs("div",{className:"w-full text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(Bn,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),n.jsxs("p",{className:"text-green-800 font-medium",children:[b.status==="ready"&&"Produto Pronto - Em Expedio",b.status==="shipped"&&"Produto Despachado",b.status==="delivered"&&"Produto Entregue",b.status==="completed"&&"Ordem Finalizada"]}),n.jsxs("p",{className:"text-green-600 text-sm",children:[b.status==="ready"&&"A logstica est processando o envio",["shipped","delivered","completed"].includes(b.status)&&"Processo concludo pela logstica"]})]}),n.jsxs("div",{className:"border-t pt-3 space-y-2",children:[n.jsxs(Z,{variant:"outline",className:"w-full",onClick:()=>{c(!0),p(b.deliveryDeadline?new Date(b.deliveryDeadline).toISOString().split("T")[0]:"")},children:[n.jsx(ps,{className:"h-4 w-4 mr-2"}),"Alterar Prazo"]}),n.jsxs(Z,{variant:"outline",className:"w-full",onClick:()=>{o(!0),x(b.status)},children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Adicionar Observao"]})]})]})]})]})]}),n.jsx(rr,{open:i,onOpenChange:o,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:m==="completed"?"Finalizar Ordem":m==="rejected"?"Rejeitar Ordem":"Adicionar Observao"}),n.jsx(lr,{children:m==="completed"?"Adicione observaes finais sobre a concluso":m==="rejected"?"Explique o motivo da rejeio":"Adicione observaes sobre o andamento"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"notes",children:"Observaes"}),n.jsx(Jn,{id:"notes",placeholder:"Descreva o andamento, observaes tcnicas, etc.",value:h,onChange:me=>f(me.target.value),rows:4})]}),m==="shipped"&&n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"tracking-code",children:"Cdigo de Rastreamento"}),n.jsx(ie,{id:"tracking-code",placeholder:"Ex: BR123456789...",value:L,onChange:me=>N(me.target.value)})]}),(m==="completed"||m==="rejected"||m==="shipped")&&n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"delivery-date",children:"Data de Entrega (Opcional)"}),n.jsx(ie,{id:"delivery-date",type:"date",value:A,onChange:me=>p(me.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx(Z,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),n.jsx(Z,{onClick:I,disabled:C.isPending,className:m==="rejected"?"bg-red-600 hover:bg-red-700":"",children:C.isPending?"Salvando...":m==="completed"?"Finalizar":m==="rejected"?"Rejeitar":"Salvar"})]})]})}),n.jsx(rr,{open:l,onOpenChange:c,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Alterar Prazo de Entrega"}),n.jsx(lr,{children:"Defina um novo prazo para a entrega deste pedido"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"new-deadline",children:"Nova Data de Entrega"}),n.jsx(ie,{id:"new-deadline",type:"date",value:A,onChange:me=>p(me.target.value)})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"deadline-notes",children:"Motivo da Alterao (Opcional)"}),n.jsx(Jn,{id:"deadline-notes",placeholder:"Explique o motivo da alterao do prazo...",value:h,onChange:me=>f(me.target.value),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx(Z,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),n.jsx(Z,{onClick:M,disabled:C.isPending||!A,children:C.isPending?"Salvando...":"Alterar Prazo"})]})]})}),n.jsx(rr,{open:d,onOpenChange:u,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Definir Valor do Pedido"}),n.jsx(lr,{children:"Defina quanto voc cobrar por este pedido de produo"})]}),n.jsxs("div",{className:"space-y-4",children:[b&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Resumo do Pedido:"}),n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:"Produto:"})," ",((de=(re=(U=b.orderDetails)==null?void 0:U.items)==null?void 0:re[0])==null?void 0:de.productName)||((Me=(Ae=(ae=b.order)==null?void 0:ae.items)==null?void 0:Ae[0])==null?void 0:Me.productName)||"Produto N/A"]}),n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:"Quantidade:"})," ",((Ee=(Oe=(H=b.orderDetails)==null?void 0:H.items)==null?void 0:Oe[0])==null?void 0:Ee.quantity)||((se=(st=(ee=b.order)==null?void 0:ee.items)==null?void 0:st[0])==null?void 0:se.quantity)||"1"," unidade(s)"]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producer-value",children:"Seu Valor de Servio (R$)"}),n.jsx(ie,{id:"producer-value",type:"number",step:"0.01",placeholder:"Ex: 850.00",value:g,onChange:me=>v(me.target.value)})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producer-notes",children:"Observaes (Opcional)"}),n.jsx(Jn,{id:"producer-notes",placeholder:"Descreva o que est includo no valor, materiais, prazo, etc.",value:y,onChange:me=>j(me.target.value),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx(Z,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),n.jsx(Z,{onClick:k,disabled:!g||parseFloat(g)<=0||F.isPending,className:"bg-green-600 hover:bg-green-700",children:F.isPending?"Salvando...":"Definir Valor"})]})]})})]}):n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Ordem de produo no encontrada"}),n.jsx(Z,{onClick:()=>r("/producer/production-dashboard"),children:"Voltar para Ordens"})]})}function $bt(){var S,z;const[e,t]=B.useState(null),[r,a]=B.useState(!1),[s,i]=B.useState(!1),[o,l]=B.useState(!1),[c,d]=B.useState("all"),[u,h]=B.useState("all"),[f,A]=B.useState(""),[p,m]=B.useState(""),[x,g]=B.useState(""),{toast:v}=en(),[,y]=Hf(),b=JSON.parse(localStorage.getItem("user")||"{}").id,{data:w,isLoading:C}=pt({queryKey:["/api/production-orders/producer",b]}),{data:F}=pt({queryKey:["/api/producer",b,"stats"]}),E=jt({mutationFn:async({id:Q,status:W,notes:U})=>{const re=await fetch(`/api/production-orders/${Q}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:W,notes:U})});if(!re.ok)throw new Error("Erro ao atualizar status");return re.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/production-orders/producer",b]}),a(!1),A(""),t(null),v({title:"Sucesso!",description:"Status atualizado com sucesso"})}}),L=jt({mutationFn:async({id:Q,value:W,notes:U})=>{const re=await fetch(`/api/production-orders/${Q}/value`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:W,notes:U})});if(!re.ok){const de=await re.text();throw new Error(de||"Erro ao definir valor")}return re.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/production-orders/producer",b]}),i(!1),l(!1),m(""),g(""),t(null),v({title:"Sucesso!",description:"Valor definido com sucesso"})},onError:Q=>{v({title:"Erro",description:Q.message||"Erro ao definir valor",variant:"destructive"})}}),N=(Q,W)=>{if(W==="ready"&&(!Q.producerValue||parseFloat(Q.producerValue||"0")<=0)){v({title:"Valor no definido",description:"Voc deve definir o valor do servio antes de marcar como pronto.",variant:"destructive"});return}E.mutate({id:Q.id,status:W})},I=Q=>{t(Q),Q.producerValue?m(parseFloat(Q.producerValue).toFixed(2)):m(""),g(Q.producerNotes||""),Q.producerValue&&parseFloat(Q.producerValue)>0,i(!0)},M=()=>{if(!e){v({title:"Erro",description:"Nenhuma ordem selecionada",variant:"destructive"});return}if(!p||p.trim()===""){v({title:"Erro",description:"Por favor, insira um valor",variant:"destructive"});return}const Q=parseFloat(p.replace(",","."));if(isNaN(Q)||Q<=0){v({title:"Erro",description:"O valor deve ser um nmero vlido maior que zero",variant:"destructive"});return}console.log("Salvando valor:",{orderId:e.id,value:Q.toFixed(2),notes:x.trim()||null}),l(!0)},O=()=>{if(!e)return;const Q=parseFloat(p.replace(",","."));if(isNaN(Q)||Q<=0){v({title:"Erro",description:"Valor invlido",variant:"destructive"});return}L.mutate({id:e.id,value:Q.toFixed(2),notes:x.trim()||void 0})},k=Q=>{const U={pending:{label:"Aguardando",className:"bg-yellow-100 text-yellow-800"},accepted:{label:"Aceito",className:"bg-blue-100 text-blue-800"},production:{label:"Em Produo",className:"bg-purple-100 text-purple-800"},ready:{label:"Pronto - Em Expedio",className:"bg-green-100 text-green-800"},shipped:{label:"Despachado",className:"bg-cyan-100 text-cyan-800"},delivered:{label:"Entregue",className:"bg-emerald-100 text-emerald-800"},completed:{label:"Finalizado",className:"bg-slate-100 text-slate-800"},rejected:{label:"Rejeitado",className:"bg-red-100 text-red-800"}}[Q]||{label:Q,className:"bg-gray-100 text-gray-800"};return n.jsx(Yt,{className:U.className,children:U.label})},P=Q=>{switch(Q.status){case"pending":return n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>N(Q,"accepted"),disabled:E.isPending,children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),E.isPending?"Aceitando...":"Aceitar"]}),n.jsxs(Z,{size:"sm",variant:"destructive",onClick:()=>N(Q,"rejected"),disabled:E.isPending,children:[n.jsx(Ll,{className:"h-4 w-4 mr-1"}),E.isPending?"Rejeitando...":"Rejeitar"]})]});case"accepted":return n.jsxs(Z,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>N(Q,"production"),disabled:E.isPending,children:[n.jsx(Un,{className:"h-4 w-4 mr-1"}),E.isPending?"Iniciando...":"Iniciar Produo"]});case"production":return n.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>N(Q,"ready"),disabled:E.isPending||!Q.producerValue||parseFloat(Q.producerValue||"0")<=0,title:!Q.producerValue||parseFloat(Q.producerValue||"0")<=0?"Voc deve definir o valor do servio antes de marcar como pronto":"",children:[n.jsx(gr,{className:"h-4 w-4 mr-1"}),E.isPending?"Finalizando...":"Marcar Pronto"]});case"ready":return n.jsxs("div",{className:"text-sm text-green-700 font-medium bg-green-50 px-3 py-2 rounded-lg",children:[n.jsx(Bn,{className:"h-4 w-4 mr-1 inline"}),"Produto Pronto - Enviado para Expedio"]});default:return null}},R=(w||[]).filter(Q=>{if(c!=="all"&&Q.status!==c)return!1;if(u!=="all"&&Q.deadline){const W=new Date(Q.deadline),U=new Date,re=Math.ceil((W.getTime()-U.getTime())/(1e3*3600*24));if(u==="urgent"&&re>3||u==="week"&&re>7||u==="month"&&re>30)return!1}return!0}),V=R.filter(Q=>Q.status==="pending"||Q.status==="accepted").sort((Q,W)=>new Date(Q.createdAt||0).getTime()-new Date(W.createdAt||0).getTime()),D=R.filter(Q=>Q.status==="production").sort((Q,W)=>new Date(Q.createdAt||0).getTime()-new Date(W.createdAt||0).getTime()),Y=R.filter(Q=>["ready","shipped","delivered","completed"].includes(Q.status)).sort((Q,W)=>new Date(W.createdAt||0).getTime()-new Date(Q.createdAt||0).getTime()),ne=(Q,W)=>{var U,re,de,ae,Ae,Me,H,Oe;return n.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-md transition-all duration-200 bg-white",children:[n.jsx("div",{className:"p-3 md:p-5 bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 cursor-pointer transition-all duration-200 border-b border-gray-100",onClick:()=>{const Ee=document.getElementById(`order-${Q.id}`);Ee&&(Ee.style.display=Ee.style.display==="none"?"block":"none")},children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(gr,{className:"h-4 w-4 md:h-5 md:w-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:(W==null?void 0:W.orderNumber)||`#${Q.id.slice(-6)}`}),k(Q.status)]}),n.jsx("span",{className:"text-xs md:text-sm text-gray-600 truncate block",children:((U=W==null?void 0:W.clientDetails)==null?void 0:U.name)||Q.clientName||((re=Q.order)==null?void 0:re.clientName)||"Cliente N/A"})]})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[Q.producerValue?n.jsxs("div",{className:"text-left sm:text-right",children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-green-600",children:"Valor definido"}),n.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"Aguardando produo"})]}):n.jsxs("div",{className:"text-left sm:text-right",children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-orange-600",children:"Valor no definido"}),n.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"Defina o valor"})]}),n.jsx("div",{className:"h-6 w-6 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-gray-600",children:""})})]})]})}),n.jsxs("div",{id:`order-${Q.id}`,style:{display:"none"},className:"p-4 md:p-6 bg-white border-t",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 mb-4",children:n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Pedido: ",(W==null?void 0:W.orderNumber)||((de=Q.order)==null?void 0:de.orderNumber)||"N/A"]}),n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>y(`/producer/order/${Q.id}`),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes Completos"]})]})}),n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Produto Principal"}),n.jsx("p",{className:"text-blue-800",children:(W==null?void 0:W.product)||((ae=Q.order)==null?void 0:ae.product)||"Produto no especificado"}),(W==null?void 0:W.description)&&n.jsx("p",{className:"text-sm text-blue-600 mt-1",children:W.description})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Cliente"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:((Ae=W==null?void 0:W.clientDetails)==null?void 0:Ae.name)||Q.clientName||((Me=Q.order)==null?void 0:Me.clientName)||"N/A"}),((H=W==null?void 0:W.clientDetails)==null?void 0:H.phone)&&n.jsx("p",{className:"text-xs text-gray-500",children:W.clientDetails.phone})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Prazo"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ps,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"font-medium",children:Q.deadline?new Date(Q.deadline).toLocaleDateString("pt-BR"):"No definido"})]})]})]}),(W==null?void 0:W.items)&&W.items.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Seus Itens para Produzir"}),n.jsx("div",{className:"mt-2 space-y-2",children:W.items.map((Ee,ee)=>n.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium",children:Ee.productName}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantidade: ",Ee.quantity]}),Ee.itemCustomizationDescription&&n.jsxs("p",{className:"text-sm text-blue-600",children:["Personalizao: ",Ee.itemCustomizationDescription]})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Item #",ee+1]})]})},ee))})]}),(W==null?void 0:W.photos)&&W.photos.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Fotos de Referncia"}),n.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-2",children:W.photos.map((Ee,ee)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:Ee,alt:`Foto ${ee+1}`,className:"w-full h-20 object-cover rounded border hover:opacity-75 transition-opacity cursor-pointer",onClick:()=>window.open(Ee,"_blank")}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs opacity-0 group-hover:opacity-100",children:"Clique para ampliar"})})]},ee))})]}),Q.notes&&n.jsxs("div",{className:"mb-4",children:[n.jsx(fe,{className:"text-sm font-medium text-gray-500",children:"Observaes"}),n.jsxs("div",{className:"mt-1 p-3 bg-gray-50 border rounded",children:[n.jsx("p",{className:"text-sm",children:Q.notes}),Q.lastNoteAt&&n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["ltima atualizao: ",new Date(Q.lastNoteAt).toLocaleString("pt-BR")]})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:n.jsxs("span",{children:["Produto: ",((Oe=Q.order)==null?void 0:Oe.product)||"N/A"]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>I(Q),className:"flex items-center gap-1",disabled:Q.producerValue&&parseFloat(Q.producerValue)>0,children:[n.jsx(Mr,{className:"h-4 w-4"}),Q.producerValue?"Valor Definido":"Definir Valor"]}),P(Q)]})]})]})]},Q.id)};return C?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(Q=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},Q))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-4 md:p-8",children:[n.jsxs("div",{className:"mb-6 md:mb-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Painel de Produo"}),n.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Gerencie suas ordens de produo e entregas"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[n.jsx(Le,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-blue-700",children:"Ordens Ativas"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold text-blue-900 mt-1 md:mt-2",children:(F==null?void 0:F.activeOrders)||R.filter(Q=>!["completed","rejected"].includes(Q.status)).length}),n.jsx("p",{className:"text-xs text-blue-600 mt-1 hidden md:block",children:"Total em andamento"})]}),n.jsx("div",{className:"h-8 w-8 md:h-12 md:w-12 bg-blue-600 rounded-lg md:rounded-xl flex items-center justify-center",children:n.jsx(gr,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})})]})})}),n.jsx(Le,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-yellow-700",children:"Aguardando"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold text-yellow-900 mt-1 md:mt-2",children:R.filter(Q=>Q.status==="pending").length}),n.jsx("p",{className:"text-xs text-yellow-600 mt-1 hidden md:block",children:"Pendentes de aceite"})]}),n.jsx("div",{className:"h-8 w-8 md:h-12 md:w-12 bg-yellow-600 rounded-lg md:rounded-xl flex items-center justify-center",children:n.jsx(Un,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})})]})})}),n.jsx(Le,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-purple-700",children:"Em Produo"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold text-purple-900 mt-1 md:mt-2",children:R.filter(Q=>["accepted","production"].includes(Q.status)).length}),n.jsx("p",{className:"text-xs text-purple-600 mt-1 hidden md:block",children:"Sendo produzidas"})]}),n.jsx("div",{className:"h-8 w-8 md:h-12 md:w-12 bg-purple-600 rounded-lg md:rounded-xl flex items-center justify-center",children:n.jsx(oi,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})})]})})}),n.jsx(Le,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-3 md:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs md:text-sm font-medium text-green-700",children:"Prontos"}),n.jsx("p",{className:"text-xl md:text-3xl font-bold text-green-900 mt-1 md:mt-2",children:R.filter(Q=>["ready","shipped","delivered","completed"].includes(Q.status)).length}),n.jsx("p",{className:"text-xs text-green-600 mt-1 hidden md:block",children:"Finalizados"})]}),n.jsx("div",{className:"h-8 w-8 md:h-12 md:w-12 bg-green-600 rounded-lg md:rounded-xl flex items-center justify-center",children:n.jsx(Bn,{className:"h-4 w-4 md:h-6 md:w-6 text-white"})})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[n.jsxs($t,{value:c,onValueChange:d,children:[n.jsx(Mt,{className:"w-full sm:w-48",children:n.jsx(Ht,{placeholder:"Filtrar por status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"pending",children:"Aguardando"}),n.jsx(ge,{value:"accepted",children:"Aceito"}),n.jsx(ge,{value:"production",children:"Em Produo"}),n.jsx(ge,{value:"ready",children:"Pronto"})]})]}),n.jsxs($t,{value:u,onValueChange:h,children:[n.jsx(Mt,{className:"w-full sm:w-48",children:n.jsx(Ht,{placeholder:"Filtrar por prazo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Prazos"}),n.jsx(ge,{value:"urgent",children:"Urgente (3 dias)"}),n.jsx(ge,{value:"week",children:"Esta Semana"}),n.jsx(ge,{value:"month",children:"Este Ms"})]})]})]}),C?n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{children:"Carregando ordens..."})}):R.length===0?n.jsx(Le,{className:"shadow-lg border-0",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhuma ordem encontrada"}),n.jsx("p",{className:"text-gray-500",children:"No h ordens de produo que correspondam aos filtros selecionados."})]})})}):n.jsxs("div",{className:"space-y-6",children:[V.length>0&&n.jsxs(Le,{className:"shadow-lg border-0 border-l-4 border-l-yellow-500",children:[n.jsx(Tt,{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border-b",children:n.jsxs(Ot,{className:"text-lg font-semibold text-yellow-800 flex items-center gap-2",children:[n.jsx(Un,{className:"h-5 w-5 text-yellow-600"}),"Novos Pedidos - Aguardando Incio",n.jsx(Yt,{className:"ml-2 bg-yellow-600",children:V.length})]})}),n.jsx(Re,{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:V.map(Q=>{let W=null;try{W=Q.orderDetails?JSON.parse(Q.orderDetails):null}catch{}return ne(Q,W)})})})]}),D.length>0&&n.jsxs(Le,{className:"shadow-lg border-0 border-l-4 border-l-blue-500",children:[n.jsx(Tt,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-b",children:n.jsxs(Ot,{className:"text-lg font-semibold text-blue-800 flex items-center gap-2",children:[n.jsx(oi,{className:"h-5 w-5 text-blue-600"}),"Em Produo",n.jsx(Yt,{className:"ml-2 bg-blue-600",children:D.length})]})}),n.jsx(Re,{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:D.map(Q=>{let W=null;try{W=Q.orderDetails?JSON.parse(Q.orderDetails):null}catch{}return ne(Q,W)})})})]}),Y.length>0&&n.jsxs(Le,{className:"shadow-lg border-0 border-l-4 border-l-green-500",children:[n.jsx(Tt,{className:"bg-gradient-to-r from-green-50 to-green-100 border-b",children:n.jsxs(Ot,{className:"text-lg font-semibold text-green-800 flex items-center gap-2",children:[n.jsx(Bn,{className:"h-5 w-5 text-green-600"}),"Prontos / Finalizados",n.jsx(Yt,{className:"ml-2 bg-green-600",children:Y.length})]})}),n.jsx(Re,{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:Y.map(Q=>{let W=null;try{W=Q.orderDetails?JSON.parse(Q.orderDetails):null}catch{}return ne(Q,W)})})})]})]}),n.jsx(rr,{open:s,onOpenChange:i,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Definir Valor do Servio"}),n.jsx(lr,{children:"Defina o valor que voc cobrar por este servio"})]}),n.jsxs("div",{className:"space-y-4",children:[e&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Informaes do Pedido"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Produto:"}),n.jsx("p",{className:"font-medium",children:((S=e.order)==null?void 0:S.product)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Cliente:"}),n.jsx("p",{className:"font-medium",children:e.clientName||"N/A"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-600",children:"Prazo:"}),n.jsx("p",{className:"font-medium",children:e.deadline?new Date(e.deadline).toLocaleDateString("pt-BR"):"No definido"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producer-value",children:"Seu Valor de Servio (R$)"}),n.jsx(ie,{id:"producer-value",type:"number",step:"0.01",placeholder:"Ex: 850.00",value:p,onChange:Q=>m(Q.target.value)})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producer-notes",children:"Observaes (Opcional)"}),n.jsx(Jn,{id:"producer-notes",placeholder:"Descreva o que est includo no valor, materiais, prazo, etc.",value:x,onChange:Q=>g(Q.target.value),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx(Z,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{onClick:M,disabled:!p||parseFloat(p)<=0,className:"bg-green-600 hover:bg-green-700",children:"Definir Valor"})]})]})}),n.jsx(rr,{open:o,onOpenChange:l,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Confirmar Valor do Servio"}),n.jsx(lr,{children:"Verifique se o valor est correto antes de confirmar"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-600",children:"Produto"}),n.jsx("p",{className:"font-medium",children:((z=e==null?void 0:e.order)==null?void 0:z.product)||(e==null?void 0:e.product)})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-600",children:"Cliente"}),n.jsx("p",{className:"font-medium",children:(e==null?void 0:e.clientName)||"N/A"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-600",children:"Prazo"}),n.jsx("p",{className:"font-medium",children:e!=null&&e.deadline?new Date(e.deadline).toLocaleDateString("pt-BR"):"No definido"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-600",children:"Seu Valor"}),n.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["R$ ",parseFloat(p||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),x&&n.jsxs("div",{className:"mt-3",children:[n.jsx(fe,{className:"text-sm text-gray-600",children:"Suas Observaes"}),n.jsx("p",{className:"text-gray-800 bg-white p-2 rounded mt-1",children:x})]})]}),n.jsx("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-200",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"Ateno:"})," Aps confirmar, este valor ficar registrado no sistema e ser usado para controle financeiro."]})})]}),n.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[n.jsx(Z,{variant:"outline",onClick:()=>{l(!1),i(!0)},children:"Voltar"}),n.jsx(Z,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:O,disabled:L.isPending,children:L.isPending?"Confirmando...":"Confirmar Valor"})]})]})})]})}const Hbt=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido"),phone:Ge.string().min(10,"Telefone invlido"),specialty:Ge.string().min(2,"Especialidade  obrigatria"),address:Ge.string().min(5,"Endereo  obrigatrio")}),zbt=Ge.object({currentPassword:Ge.string().min(6,"Senha atual  obrigatria"),newPassword:Ge.string().min(6,"Nova senha deve ter pelo menos 6 caracteres"),confirmPassword:Ge.string().min(6,"Confirmao de senha  obrigatria")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Senhas no coincidem",path:["confirmPassword"]}),Vbt=Ge.object({email:Ge.string().email("Email invlido")});function Kbt(){const[e,t]=B.useState(!1),[r,a]=B.useState(!1),{toast:s}=en(),i="producer-1",{data:o,isLoading:l}=pt({queryKey:["/api/producers",i],queryFn:async()=>{const g=await fetch(`/api/producers/${i}`);if(!g.ok)throw new Error("Failed to fetch producer");return g.json()}}),c=Pa({resolver:ka(Hbt),defaultValues:{name:"",email:"",phone:"",specialty:"",address:""}}),d=Pa({resolver:ka(zbt),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),u=Pa({resolver:ka(Vbt),defaultValues:{email:""}});Se.useEffect(()=>{o&&c.reset({name:o.name||"",email:o.email||"",phone:o.phone||"",specialty:o.specialty||"",address:o.address||""})},[o,c]);const h=jt({mutationFn:async g=>{const v=await fetch(`/api/producers/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok)throw new Error("Erro ao atualizar perfil");return v.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/producers",i]}),s({title:"Sucesso!",description:"Perfil atualizado com sucesso"})},onError:()=>{s({title:"Erro",description:"Erro ao atualizar perfil",variant:"destructive"})}}),f=jt({mutationFn:async g=>{const v=await fetch(`/api/producers/${i}/change-password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok)throw new Error("Erro ao alterar senha");return v.json()},onSuccess:()=>{t(!1),d.reset(),s({title:"Sucesso!",description:"Senha alterada com sucesso"})},onError:()=>{s({title:"Erro",description:"Erro ao alterar senha. Verifique a senha atual.",variant:"destructive"})}}),A=jt({mutationFn:async g=>{const v=await fetch("/api/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok)throw new Error("Erro ao enviar email de recuperao");return v.json()},onSuccess:()=>{a(!1),u.reset(),s({title:"Sucesso!",description:"Email de recuperao enviado"})},onError:()=>{s({title:"Erro",description:"Erro ao enviar email de recuperao",variant:"destructive"})}}),p=g=>{h.mutate(g)},m=g=>{f.mutate(g)},x=g=>{A.mutate(g)};return l?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuraes do Perfil"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie suas informaes pessoais e configuraes de conta"})]}),n.jsxs(Le,{className:"mb-8",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-5 w-5"}),"Informaes Pessoais"]})}),n.jsx(Re,{children:n.jsx(ya,{...c,children:n.jsxs("form",{onSubmit:c.handleSubmit(p),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(tt,{control:c.control,name:"name",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Empresa"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Seu nome ou empresa",...g})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"email",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"seu@email.com",...g,disabled:!0})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-500",children:"O email no pode ser alterado"})]})}),n.jsx(tt,{control:c.control,name:"phone",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...g})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:c.control,name:"specialty",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Especialidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Mveis sob medida",...g})}),n.jsx(rt,{})]})})]}),n.jsx(tt,{control:c.control,name:"address",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(Jn,{placeholder:"Endereo completo",...g})}),n.jsx(rt,{})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(Z,{type:"submit",className:"gradient-bg text-white",disabled:h.isPending,children:[n.jsx(Lg,{className:"h-4 w-4 mr-2"}),h.isPending?"Salvando...":"Salvar Alteraes"]})})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(ph,{className:"h-5 w-5"}),"Segurana"]})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Alterar Senha"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Atualize sua senha para manter sua conta segura"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{variant:"outline",children:[n.jsx(WA,{className:"h-4 w-4 mr-2"}),"Alterar"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Alterar Senha"}),n.jsx(lr,{children:"Digite sua senha atual e a nova senha"})]}),n.jsx(ya,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[n.jsx(tt,{control:d.control,name:"currentPassword",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha Atual"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"",...g})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:d.control,name:"newPassword",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nova Senha"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"",...g})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:d.control,name:"confirmPassword",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Confirmar Nova Senha"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"",...g})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:f.isPending,children:f.isPending?"Alterando...":"Alterar Senha"})]})]})})]})]})]}),n.jsx(as,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Esqueci Minha Senha"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Envie um email para recuperar sua senha"})]}),n.jsxs(rr,{open:r,onOpenChange:a,children:[n.jsx(qn,{asChild:!0,children:n.jsx(Z,{variant:"outline",children:"Recuperar Senha"})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Recuperar Senha"}),n.jsx(lr,{children:"Digite seu email para receber as instrues de recuperao de senha"})]}),n.jsx(ya,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(x),className:"space-y-4",children:[n.jsx(tt,{control:u.control,name:"email",render:({field:g})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"seu@email.com",...g})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"gradient-bg text-white",disabled:A.isPending,children:A.isPending?"Enviando...":"Enviar Email"})]})]})})]})]})]})]})})]})]})}function qbt(){var g,v,y,j;const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState(null),l=JSON.parse(localStorage.getItem("user")||"{}").id,{data:c=[],isLoading:d}=pt({queryKey:["/api/finance/producer-payments/producer",l],enabled:!!l});console.log("Producer Receivables - Producer ID:",l),console.log("Producer Receivables - Payments Data:",c),Se.useEffect(()=>{ct.invalidateQueries({queryKey:["/api/finance/producer-payments/producer",l]})},[l]);const u=b=>{const w={pending:{label:"Pendente",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},approved:{label:"Aprovado",variant:"outline",color:"bg-blue-100 text-blue-800"},paid:{label:"Pago ",variant:"default",color:"bg-green-100 text-green-800"},rejected:{label:"Rejeitado",variant:"destructive",color:"bg-red-100 text-red-800"}},C=w[b]||w.pending;return n.jsx(Yt,{className:C.color,children:C.label})},h=c.filter(b=>{var F,E,L,N;const w=r==="all"||b.status===r,C=e===""||((E=(F=b.order)==null?void 0:F.orderNumber)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))||((N=(L=b.productionOrder)==null?void 0:L.product)==null?void 0:N.toLowerCase().includes(e.toLowerCase()));return w&&C}),f=c.filter(b=>["pending","approved","draft"].includes(b.status)).reduce((b,w)=>{const C=parseFloat(w.amount||"0");return console.log(`Payment ${w.id}: status=${w.status}, amount=${C}`),b+C},0),A=c.filter(b=>b.status==="paid").reduce((b,w)=>{const C=parseFloat(w.amount||"0");return console.log(`Paid payment ${w.id}: amount=${C}`),b+C},0),p=c.filter(b=>["pending","draft"].includes(b.status)).length,m=c.filter(b=>b.status==="approved").length,x=f+A;return console.log("Producer Receivables Summary:",{totalPayments:(c==null?void 0:c.length)||0,totalPending:f,totalReceived:A,totalSum:x,pendingCount:p,approvedCount:m}),d?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(b=>n.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},b))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contas a Receber"}),n.jsx("p",{className:"text-gray-600",children:"Controle dos seus pagamentos de servios de produo"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"A Receber"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",f.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"J Recebido"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",A.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Bn,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:p})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprovados"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:m})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(gr,{className:"h-6 w-6 text-purple-600"})})]})})}),n.jsx(Le,{className:"card-hover bg-gradient-to-br from-blue-50 to-indigo-100 border-blue-200",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total Geral"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["R$ ",x.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"A receber + Recebido"})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por pedido ou produto...",value:e,onChange:b=>t(b.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-[150px]",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"approved",children:"Aprovado"}),n.jsx(ge,{value:"paid",children:"Pago"}),n.jsx(ge,{value:"rejected",children:"Rejeitado"})]})]})})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Meus Pagamentos (",h.length,")"]})}),n.jsx(Re,{children:h.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Mr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhum pagamento encontrado"}),n.jsx("p",{className:"text-gray-500",children:"No h pagamentos que correspondam aos filtros selecionados."})]}):n.jsx("div",{className:"space-y-4",children:h.map(b=>{var w,C,F;return n.jsxs("div",{className:"border rounded-lg p-6 hover:shadow-sm transition-shadow",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Pedido: ",((w=b.order)==null?void 0:w.orderNumber)||"N/A"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Produto: ",((C=b.order)==null?void 0:C.product)||((F=b.productionOrder)==null?void 0:F.product)||"N/A"]}),b.order&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Cliente: ",b.order.clientName||"N/A"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-bold text-green-600 mb-1",children:["R$ ",parseFloat(b.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),u(b.status)]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ps,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"text-sm",children:new Date(b.createdAt).toLocaleDateString("pt-BR")})]})]}),b.approvedAt&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Aprovado em"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Bn,{className:"h-4 w-4 text-blue-400"}),n.jsx("p",{className:"text-sm",children:new Date(b.approvedAt).toLocaleDateString("pt-BR")})]})]}),b.paidAt&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pago em"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Mr,{className:"h-4 w-4 text-green-400"}),n.jsx("p",{className:"text-sm",children:new Date(b.paidAt).toLocaleDateString("pt-BR")})]})]})]}),b.paymentMethod&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Mtodo de Pagamento"}),n.jsx("p",{className:"text-sm mt-1 capitalize",children:b.paymentMethod})]}),b.notes&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Observaes"}),n.jsx("div",{className:"mt-1 p-3 bg-gray-50 border rounded",children:n.jsx("p",{className:"text-sm",children:b.notes})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>i(b),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Detalhes"]})})]},b.id)})})})]}),n.jsx(rr,{open:!!s,onOpenChange:()=>i(null),children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Pedido"}),n.jsx(lr,{children:"Informaes completas sobre o pedido e pagamentos"})]}),s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes do Pedido"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Pedido"}),n.jsx("p",{className:"text-lg font-bold",children:((g=s.order)==null?void 0:g.orderNumber)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Produto"}),n.jsx("p",{className:"font-medium",children:((v=s.productionOrder)==null?void 0:v.product)||((y=s.order)==null?void 0:y.product)||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Descrio"}),n.jsx("p",{className:"text-gray-700",children:((j=s.order)==null?void 0:j.description)||"Sem descrio"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status do Pagamento"}),n.jsx("div",{className:"mt-1",children:u(s.status)})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Valores e Datas"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Meu Servio"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",parseFloat(s.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ps,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"text-sm",children:new Date(s.createdAt).toLocaleDateString("pt-BR")})]})]}),s.approvedAt&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Aprovado em"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Bn,{className:"h-4 w-4 text-blue-400"}),n.jsx("p",{className:"text-sm",children:new Date(s.approvedAt).toLocaleDateString("pt-BR")})]})]}),s.paidAt&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Pago em"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Mr,{className:"h-4 w-4 text-green-400"}),n.jsx("p",{className:"text-sm",children:new Date(s.paidAt).toLocaleDateString("pt-BR")})]})]})]})]})]}),s.order&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes do Cliente"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-500",children:"Nome"}),n.jsx("p",{className:"font-medium",children:s.order.clientName||"N/A"})]})]}),s.order.clientPhone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ll,{className:"h-4 w-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-500",children:"Telefone"}),n.jsx("p",{className:"font-medium",children:s.order.clientPhone})]})]}),s.order.clientEmail&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rd,{className:"h-4 w-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-500",children:"E-mail"}),n.jsx("p",{className:"font-medium",children:s.order.clientEmail})]})]})]})]}),s.paymentMethod&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes de Pagamento"}),n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm text-gray-600",children:"Mtodo de Pagamento"}),n.jsx("p",{className:"font-medium text-blue-800 capitalize",children:s.paymentMethod})]})})]}),s.notes&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Observaes"}),n.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:n.jsx("p",{className:"text-gray-800",children:s.notes})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Progresso do Pagamento"}),n.jsx("div",{className:"space-y-3",children:[{status:"pending",label:"Pendente",completed:!0},{status:"approved",label:"Aprovado",completed:s.status==="approved"||s.status==="paid"},{status:"paid",label:"Pago",completed:s.status==="paid"}].map((b,w)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${b.completed?"bg-green-500":"bg-gray-300"}`}),n.jsx("span",{className:`text-sm ${b.completed?"text-green-700 font-medium":"text-gray-500"}`,children:b.label})]},b.status))})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(Z,{variant:"outline",onClick:()=>i(null),children:"Fechar"})})]})]})})]})}function Wbt(){const e=JSON.parse(localStorage.getItem("user")||"{}"),t=e.id;console.log("Partner Commission Management - User:",e),console.log("Partner Commission Management - Partner ID:",t);const{data:r,isLoading:a}=pt({queryKey:["/api/commissions/partner",t],queryFn:async()=>{if(!t)return[];const l=await fetch(`/api/commissions/partner/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!l.ok)throw new Error("Failed to fetch partner commissions");return l.json()},enabled:!!t});pt({queryKey:["/api/commissions"],select:l=>(l==null?void 0:l.filter(c=>c.type==="partner"))||[]});const s=(r==null?void 0:r.reduce((l,c)=>l+parseFloat(c.amount||"0"),0))||0,i=(r==null?void 0:r.filter(l=>["pending","confirmed"].includes(l.status)).reduce((l,c)=>l+parseFloat(c.amount||"0"),0))||0,o=(r==null?void 0:r.filter(l=>l.status==="paid").reduce((l,c)=>l+parseFloat(c.amount||"0"),0))||0;return a?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((l,c)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},c))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(td,{className:"h-8 w-8 gradient-text mr-3"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Minhas Comisses"}),n.jsx("p",{className:"text-gray-600",children:"Visualize suas comisses de scio"}),n.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:["Scio: ",e.name]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Minhas Comisses Totais"}),n.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(r==null?void 0:r.length)||0," pedidos"]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"A Receber"}),n.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pendentes/Confirmadas"})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(no,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"J Recebido"}),n.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",o.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comisses pagas"})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Li,{className:"h-6 w-6 text-green-600"})})]})})})]}),n.jsxs(mu,{defaultValue:"my-commissions",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-2",children:[n.jsx(Vn,{value:"my-commissions",children:"Minhas Comisses"}),n.jsx(Vn,{value:"commission-info",children:"Informaes do Sistema"})]}),n.jsx(Kn,{value:"my-commissions",className:"space-y-6",children:n.jsxs(Le,{children:[n.jsxs(Tt,{children:[n.jsx(Ot,{children:"Histrico das Minhas Comisses"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Todas as comisses geradas para voc como scio"})]}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor do Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minha %"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minha Comisso"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r&&r.length>0?r.map(l=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ps,{className:"h-4 w-4 text-gray-400 mr-2"}),new Date(l.createdAt).toLocaleDateString("pt-BR")]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",l.orderNumber]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(l.orderValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs(Yt,{variant:"outline",children:[l.percentage,"%"]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-emerald-600",children:["R$ ",parseFloat(l.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Yt,{className:`${l.status==="paid"?"bg-green-100 text-green-800":l.status==="confirmed"?"bg-blue-100 text-blue-800":l.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:l.status==="paid"?"Pago":l.status==="confirmed"?"Confirmado":l.status==="pending"?"Pendente":l.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.orderId&&n.jsx(ai,{href:`/admin/orders/${l.orderId}`,children:n.jsxs("div",{className:"flex items-center text-blue-600 hover:text-blue-900 cursor-pointer",children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Pedido"]})})})]},l.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-6 py-8 whitespace-nowrap text-sm text-gray-500 text-center",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Mr,{className:"h-12 w-12 text-gray-300 mb-3"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mb-1",children:"Nenhuma comisso encontrada"}),n.jsx("p",{className:"text-gray-500",children:"Suas comisses aparecero aqui conforme os pedidos so criados"})]})})})})]})})})]})}),n.jsx(Kn,{value:"commission-info",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(no,{className:"h-5 w-5 mr-2 text-blue-600"}),"Como Funcionam as Comisses"]})}),n.jsxs(Re,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Sistema de Comisses dos Scios"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:" Taxa total dos scios: 15% do valor do pedido"}),n.jsx("li",{children:" Dividida igualmente entre 3 scios: 5% cada"}),n.jsx("li",{children:" Pago imediatamente quando o pedido  criado"}),n.jsx("li",{children:' Status inicial: "Confirmado"'})]})]}),n.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Em caso de Cancelamento"}),n.jsx("p",{className:"text-sm text-yellow-800",children:"Se um pedido for cancelado, o valor da comisso ser descontado dos prximos pedidos automaticamente."})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center",children:[n.jsx(Li,{className:"h-5 w-5 mr-2 text-green-600"}),"Resumo do Sistema"]})}),n.jsxs(Re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:"15%"}),n.jsx("p",{className:"text-sm text-green-800",children:"Taxa Total Scios"})]}),n.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"5%"}),n.jsx("p",{className:"text-sm text-blue-800",children:"Sua Taxa Individual"})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Exemplo de Clculo"}),n.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Pedido de R$ 1.000,00:"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("li",{children:" Total scios: R$ 150,00 (15%)"}),n.jsx("li",{children:" Sua parte: R$ 50,00 (5%)"})]})]})]})]})]})})]})]})}function Gbt(){const[e,t]=B.useState("all"),{data:r}=pt({queryKey:["/api/branches"],queryFn:async()=>{const o=await fetch("/api/branches");if(!o.ok)throw new Error("Failed to fetch branches");return o.json()}}),{data:a,isLoading:s}=pt({queryKey:["/api/finance/overview",e],queryFn:async()=>{const o=e&&e!=="all"?`/api/finance/overview?branchId=${e}`:"/api/finance/overview",l=await fetch(o);if(!l.ok)throw new Error("Failed to fetch overview");return l.json()}}),i=[{title:"Contas a Receber",description:"Controle de valores a receber de clientes",icon:Mr,href:"/finance/receivables",color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Contas a Pagar",description:"Controle de valores a pagar para fornecedores",icon:Sm,href:"/finance/payables",color:"text-red-600",bgColor:"bg-red-100"},{title:"Pagamentos de Comisso",description:"Gesto de pagamentos para vendedores e scios",icon:ca,href:"/finance/commission-payouts",color:"text-green-600",bgColor:"bg-green-100"},{title:"Pagamentos aos Produtores",description:"Gesto e conciliao de pagamentos aos produtores",icon:En,href:"/admin/producer-payments",color:"text-teal-600",bgColor:"bg-teal-100"},{title:"Conciliao Bancria",description:"Upload de arquivos OFX e conciliao",icon:td,href:"/finance/reconciliation",color:"text-indigo-600",bgColor:"bg-indigo-100"},{title:"Histrico de Pagamentos",description:"Visualizao de todos os pagamentos do sistema",icon:lo,href:"/finance/payments",color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Estornos",description:"Gesto de estornos de pedidos cancelados",icon:oi,href:"/finance/estornos",color:"text-orange-600",bgColor:"bg-orange-100"}];return s?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((o,l)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},l))})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Viso Financeira"}),n.jsx("p",{className:"text-gray-600",children:"Controle financeiro completo do sistema"})]}),n.jsx("div",{className:"flex flex-col items-end gap-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(si,{className:"h-5 w-5 text-gray-500"}),n.jsxs($t,{value:e,onValueChange:t,children:[n.jsx(Mt,{className:"w-[250px]",children:n.jsx(Ht,{placeholder:"Filtrar por filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as Filiais"}),r==null?void 0:r.map(o=>n.jsxs(ge,{value:o.id,children:[o.name," - ",o.city,o.isHeadquarters&&" (Matriz)"]},o.id))]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contas a Receber"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.receivables)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Li,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contas a Pagar"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.payables)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Sm,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Saldo em Conta"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.balance)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Comisses Pendentes"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",((a==null?void 0:a.pendingCommissions)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:i.map(o=>{const l=o.icon;return n.jsx(ai,{href:o.href,children:n.jsxs(Le,{className:"card-hover cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg h-full",children:[n.jsxs(Tt,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-lg flex items-center justify-center`,children:n.jsx(l,{className:`h-6 w-6 ${o.color}`})}),n.jsx(tye,{className:"h-5 w-5 text-gray-400"})]}),n.jsx(Ot,{className:"text-lg font-bold text-gray-900 mt-4",children:o.title})]}),n.jsx(Re,{children:n.jsx("p",{className:"text-gray-600 text-sm",children:o.description})})]})},o.href)})}),n.jsxs(Le,{className:"mt-8",children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Resumo do Ms"})}),n.jsx(Re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Receita Total"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",((a==null?void 0:a.monthlyRevenue)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Custos de Produo"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",((a==null?void 0:a.payables)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Comisses Pendentes"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",((a==null?void 0:a.pendingCommissions)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Despesas do Ms"}),n.jsxs("span",{className:"font-semibold",children:["R$ ",((a==null?void 0:a.monthlyExpenses)||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Lucro Lquido"}),n.jsxs("span",{className:"gradient-text",children:["R$ ",(((a==null?void 0:a.monthlyRevenue)||0)-((a==null?void 0:a.payables)||0)-((a==null?void 0:a.monthlyExpenses)||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]})})]})]})}function Xbt(){const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState("all"),[o,l]=B.useState(!1),[c,d]=B.useState(!1),[u,h]=B.useState(!1),[f,A]=B.useState(null),[p,m]=B.useState({amount:"",method:"",transactionId:"",notes:""}),[x,g]=B.useState({clientName:"",description:"",amount:"",dueDate:"",notes:""}),{toast:v}=en(),{data:y=[],isLoading:j}=pt({queryKey:["/api/finance/receivables"],queryFn:async()=>{const R=await fetch("/api/finance/receivables",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!R.ok)throw new Error("Erro ao carregar contas a receber");return R.json()}}),{data:b=[]}=pt({queryKey:["/api/branches"],queryFn:async()=>{const R=await fetch("/api/branches",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!R.ok)throw new Error("Erro ao carregar filiais");return R.json()}}),w=y.map(R=>({id:R.id,orderNumber:R.orderNumber||`#${R.orderId}`,clientName:R.clientName||"Cliente no identificado",dueDate:R.dueDate?new Date(R.dueDate):new Date,amount:R.amount||"0.00",paidAmount:R.receivedAmount||"0.00",minimumPayment:R.minimumPayment||"0.00",status:R.status||"pending",createdAt:R.createdAt?new Date(R.createdAt):new Date,orderDate:R.createdAt?new Date(R.createdAt):new Date,lastPaymentDate:R.lastPaymentDate?new Date(R.lastPaymentDate):null,shippingCost:R.shippingCost||"0.00",items:R.items||[],branchId:R.branchId||void 0})),C=jt({mutationFn:async R=>{if(!y.find(Y=>Y.id===R.receivableId))throw new Error("Conta a receber no encontrada");const D=await fetch(`/api/receivables/${R.receivableId}/payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:R.amount,method:R.method||"manual",transactionId:R.transactionId||`MANUAL-${Date.now()}`,notes:R.notes||""})});if(!D.ok){let Y="Erro ao registrar pagamento";try{Y=(await D.json()).error||Y}catch{Y=`Erro ${D.status}: ${D.statusText}`}throw new Error(Y)}return D.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/finance/receivables"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),l(!1),A(null),m({amount:"",method:"",transactionId:"",notes:""}),v({title:"Sucesso!",description:"Pagamento registrado com sucesso"}),setTimeout(()=>{ct.refetchQueries({queryKey:["/api/finance/receivables"]})},100)},onError:R=>{v({title:"Erro",description:R.message||"No foi possvel registrar o pagamento",variant:"destructive"})}}),F=jt({mutationFn:async R=>{const V=await fetch("/api/finance/receivables/manual",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({clientName:R.clientName,description:R.description,amount:parseFloat(R.amount).toFixed(2),dueDate:R.dueDate,notes:R.notes})});if(!V.ok)throw new Error("Erro ao criar conta a receber");return V.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/finance/receivables"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/dashboard/stats"]}),d(!1),g({clientName:"",description:"",amount:"",dueDate:"",notes:""}),v({title:"Sucesso!",description:"Conta a receber criada com sucesso"})},onError:R=>{v({title:"Erro",description:R.message||"No foi possvel criar a conta a receber",variant:"destructive"})}}),E=R=>{const V={pending:{label:"Pendente",variant:"secondary"},partial:{label:"Parcial",variant:"outline"},paid:{label:"Pago",variant:"default"},overdue:{label:"Vencido",variant:"destructive"},cancelled:{label:"Cancelado",variant:"secondary"}},D=V[R]||V.pending;return n.jsx(Yt,{variant:D.variant,className:"capitalize",children:D.label})},L=w.filter(R=>{var ne,S;const V=r==="all"||R.status===r,D=e===""||((ne=R.orderNumber)==null?void 0:ne.toLowerCase().includes(e.toLowerCase()))||((S=R.clientName)==null?void 0:S.toLowerCase().includes(e.toLowerCase())),Y=s==="all"||R.branchId===s||s==="matriz"&&(!R.branchId||R.branchId==="matriz");return V&&D&&Y}),N=()=>{f&&p.amount&&C.mutate({receivableId:f.id,amount:parseFloat(p.amount).toFixed(2),method:p.method,transactionId:p.transactionId,notes:p.notes})},I=()=>{x.clientName&&x.description&&x.amount&&x.dueDate&&F.mutate(x)},M=w.reduce((R,V)=>{const D=parseFloat(V.amount),Y=parseFloat(V.paidAmount||V.receivedAmount||"0");return R+Math.max(0,D-Y)},0),O=w.reduce((R,V)=>R+parseFloat(V.paidAmount||V.receivedAmount||"0"),0),k=w.filter(R=>R.status==="pending"||R.status==="partial").length,P=w.filter(R=>R.status==="partial").length;return w.filter(R=>R.status==="overdue").length,w.filter(R=>R.status==="pending").length,n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pedidos a Receber"}),n.jsx("p",{className:"text-gray-600",children:"Controle de pedidos a receber de clientes"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"panel-card",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"panel-stat-label",children:"Saldo a Receber"}),n.jsxs("p",{className:"panel-stat-value",children:["R$ ",M.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(Mr,{className:"h-6 w-6 text-blue-600"})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"panel-card",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"panel-stat-label",children:"J Recebido"}),n.jsxs("p",{className:"panel-stat-value",children:["R$ ",O.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx(Bn,{className:"h-6 w-6 text-green-600"})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"panel-card",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"panel-stat-label",children:"Aguardando Entrada"}),n.jsx("p",{className:"panel-stat-value text-yellow-600",children:k})]}),n.jsx(Un,{className:"h-6 w-6 text-yellow-600"})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"panel-card",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"panel-stat-label",children:"Entrada Recebida"}),n.jsx("p",{className:"panel-stat-value text-green-600",children:P})]}),n.jsx(Li,{className:"h-6 w-6 text-green-600"})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por pedido ou cliente...",value:e,onChange:R=>t(R.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-[150px]",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"partial",children:"Parcial"}),n.jsx(ge,{value:"paid",children:"Pago"}),n.jsx(ge,{value:"overdue",children:"Vencido"}),n.jsx(ge,{value:"cancelled",children:"Cancelado"})]})]}),n.jsxs($t,{value:s,onValueChange:i,children:[n.jsx(Mt,{className:"w-[150px]",children:n.jsx(Ht,{placeholder:"Filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas Filiais"}),n.jsx(ge,{value:"matriz",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-yellow-600"}),"Matriz"]})}),b.map(R=>n.jsx(ge,{value:R.id,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-blue-600"}),R.name," - ",R.city]})},R.id))]})]})]})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ot,{className:"panel-section-title",children:["Pedidos a Receber (",L.length,")"]}),n.jsxs(rr,{open:c,onOpenChange:d,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white panel-button",size:"sm",children:[n.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Nova Conta a Receber"]})}),n.jsxs(Jt,{className:"max-w-lg",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Nova Conta a Receber"}),n.jsx(lr,{children:"Crie uma nova conta a receber manualmente"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"client-name",children:"Conta a Receber *"}),n.jsx(ie,{id:"client-name",placeholder:"Nome da conta a receber",value:x.clientName,onChange:R=>g(V=>({...V,clientName:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"description",children:"Descrio *"}),n.jsx(ie,{id:"description",placeholder:"Descrio da conta a receber",value:x.description,onChange:R=>g(V=>({...V,description:R.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"amount",children:"Valor (R$) *"}),n.jsx(ie,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"0,00",value:x.amount,onChange:R=>g(V=>({...V,amount:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"due-date",children:"Data de Vencimento *"}),n.jsx(ie,{id:"due-date",type:"date",value:x.dueDate,onChange:R=>g(V=>({...V,dueDate:R.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"notes",children:"Observaes"}),n.jsx(Jn,{id:"notes",placeholder:"Observaes adicionais",value:x.notes,onChange:R=>g(V=>({...V,notes:R.target.value})),rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:I,disabled:!x.clientName||!x.description||!x.amount||!x.dueDate||F.isPending,children:F.isPending?"Criando...":"Criar Conta a Receber"})]})]})]})]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full panel-table",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"panel-table th",children:"Vencimento"}),n.jsx("th",{className:"panel-table th",children:"Pedido"}),n.jsx("th",{className:"panel-table th",children:"Cliente"}),n.jsxs("th",{className:"panel-table th",children:["Valor Total",n.jsx("div",{className:"text-xs font-normal text-gray-500",children:"(Valor original do pedido)"})]}),n.jsx("th",{className:"panel-table th",children:"Entrada+Frete"}),n.jsx("th",{className:"panel-table th",children:"Recebido"}),n.jsx("th",{className:"panel-table th",children:"Saldo"}),n.jsx("th",{className:"panel-table th",children:"Status"}),n.jsx("th",{className:"panel-table th",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(R=>{const V=parseFloat(R.minimumPayment||0),Y=parseFloat(R.paidAmount||0)>=V;return n.jsxs("tr",{className:!Y&&V>0?"bg-red-50":"",children:[n.jsx("td",{className:"panel-table td",children:new Date(R.dueDate).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"panel-table td font-medium",children:R.orderNumber}),n.jsx("td",{className:"panel-table td max-w-[120px] truncate",children:R.clientName}),n.jsxs("td",{className:"panel-table td font-semibold text-blue-600",children:["R$ ",parseFloat(R.amount).toLocaleString("pt-BR",{minimumFractionDigits:2}),n.jsx("div",{className:"text-xs text-gray-500",children:"Valor total do pedido"})]}),n.jsxs("td",{className:"panel-table td font-semibold",children:[n.jsxs("span",{className:Y?"text-green-600":"text-red-600",children:["R$ ",V.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),V>0?n.jsx("div",{className:"text-xs text-gray-500",children:Y?" Entrada paga":" Entrada obrigatria"}):n.jsx("div",{className:"text-xs text-gray-500",children:"Sem entrada definida"})]}),n.jsxs("td",{className:"panel-table td font-semibold text-green-600",children:["R$ ",parseFloat(R.paidAmount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"panel-table td font-semibold text-blue-600",children:["R$ ",Math.max(0,parseFloat(R.amount)-parseFloat(R.receivedAmount||R.paidAmount||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"panel-table td",children:E(R.status)}),n.jsx("td",{className:"panel-table td space-x-1",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs(Z,{variant:"ghost",size:"sm",className:"h-7 px-2 panel-button",onClick:()=>{A(R),h(!0)},children:[n.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Ver"]}),R.status!=="paid"&&n.jsxs(Z,{variant:"ghost",size:"sm",className:`h-7 px-2 panel-button ${!Y&&V>0?"bg-red-100 text-red-800 hover:bg-red-200":""}`,onClick:()=>{A(R);const ne=parseFloat(R.receivedAmount||R.paidAmount||"0"),S=Math.max(0,parseFloat(R.amount)-ne),z=!Y&&V>0?V.toString():S.toString();m({...p,amount:z}),l(!0)},children:[n.jsx(lo,{className:"h-3 w-3 mr-1"}),!Y&&V>0?"Entrada":"Receber"]})]})})]},R.id)})})]})})})]}),n.jsx(rr,{open:u,onOpenChange:h,children:n.jsxs(Jt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Pedido"}),n.jsx(lr,{children:f==null?void 0:f.orderNumber})]}),f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nmero do Pedido"}),n.jsx("p",{className:"font-semibold text-gray-900",children:f.orderNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cliente"}),n.jsx("p",{className:"font-semibold text-gray-900",children:f.clientName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Data de Entrada do Pedido"}),n.jsx("p",{className:"font-semibold text-gray-900",children:new Date(f.orderDate).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Data de Vencimento"}),n.jsx("p",{className:"font-semibold text-gray-900",children:new Date(f.dueDate).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),n.jsx("div",{children:E(f.status)})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Produtos Comprados"}),f.items&&f.items.length>0?n.jsx("div",{className:"space-y-2 mb-6 max-h-48 overflow-y-auto border rounded p-3 bg-gray-50",children:f.items.map((R,V)=>n.jsxs("div",{className:"flex justify-between text-sm py-2 border-b last:border-b-0",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:R.productName}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qtd: ",R.quantity]})]}),n.jsxs("p",{className:"text-sm text-gray-700",children:["R$ ",(parseFloat(R.totalPrice||R.unitPrice||0)*R.quantity).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},V))}):n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Nenhum produto encontrado"})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Valores"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsx("span",{className:"text-gray-700",children:"Valor Total do Pedido"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",parseFloat(f.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),parseFloat(f.shippingCost||0)>0&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-amber-50 rounded",children:[n.jsx("span",{className:"text-gray-700",children:"Frete"}),n.jsxs("span",{className:"font-semibold text-amber-600",children:["R$ ",parseFloat(f.shippingCost).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsx("span",{className:"text-gray-700",children:"Entrada + Frete Mnimo"}),n.jsxs("span",{className:"font-semibold text-orange-600",children:["R$ ",parseFloat(f.minimumPayment||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[n.jsx("span",{className:"text-gray-700",children:"J Recebido"}),n.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",parseFloat(f.paidAmount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border-2 border-blue-200",children:[n.jsx("span",{className:"text-gray-700 font-semibold",children:"Saldo Restante"}),n.jsxs("span",{className:"font-bold text-blue-600 text-lg",children:["R$ ",Math.max(0,parseFloat(f.amount)-parseFloat(f.paidAmount||0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>h(!1),children:"Fechar"}),f.status!=="paid"&&n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>{h(!1),A(f);const R=parseFloat(f.minimumPayment||0),V=parseFloat(f.paidAmount||0),D=V>=R,Y=Math.max(0,parseFloat(f.amount)-V),ne=!D&&R>0?R.toString():Y.toString();m({...p,amount:ne}),l(!0)},children:[n.jsx(lo,{className:"h-4 w-4 mr-2"}),"Registrar Pagamento"]})]})]})]})}),n.jsx(rr,{open:o,onOpenChange:l,children:n.jsxs(Jt,{className:"max-w-md",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Receber Pagamento"}),n.jsxs(lr,{children:["Registre o recebimento para ",f==null?void 0:f.orderNumber]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-amount",children:"Valor Recebido"}),n.jsx(ie,{id:"payment-amount",type:"number",step:"0.01",placeholder:"0,00",value:p.amount,onChange:R=>m(V=>({...V,amount:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-method",children:"Mtodo"}),n.jsxs($t,{value:p.method,onValueChange:R=>m(V=>({...V,method:R})),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pix",children:"PIX"}),n.jsx(ge,{value:"credit_card",children:"Carto"}),n.jsx(ge,{value:"bank_transfer",children:"TED/DOC"}),n.jsx(ge,{value:"boleto",children:"Boleto"}),n.jsx(ge,{value:"cash",children:"Dinheiro"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"transaction-id",children:"ID da Transao"}),n.jsx(ie,{id:"transaction-id",placeholder:"ID ou referncia do pagamento",value:p.transactionId,onChange:R=>m(V=>({...V,transactionId:R.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-notes",children:"Observaes"}),n.jsx(ie,{id:"payment-notes",placeholder:"Observaes sobre o pagamento",value:p.notes,onChange:R=>m(V=>({...V,notes:R.target.value}))})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:N,disabled:!p.amount||C.isPending,children:C.isPending?"Salvando...":"Confirmar Recebimento"})]})]})]})})]})}function Ybt(){var Fe,ze,je,De,Ke,At,He,Te,dr;const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState("all"),[o,l]=B.useState("all"),[c,d]=B.useState(),[u,h]=B.useState(!1),[f,A]=B.useState(!1),[p,m]=B.useState(!1),[x,g]=B.useState(null),[v,y]=B.useState(!1),[j,b]=B.useState(!1);B.useRef(null);const[w,C]=B.useState({amount:"",method:"",transactionId:"",notes:""}),[F,E]=B.useState({type:"",description:"",beneficiary:"",amount:"",dueDate:"",category:"",status:"pending",notes:"",attachmentUrl:"",attachmentUrl2:""}),[L,N]=B.useState(!1),[I,M]=B.useState(""),[O,k]=B.useState([]),[P,R]=B.useState({amount:"",notes:"",method:""}),{toast:V}=en(),{data:D,isLoading:Y}=pt({queryKey:["/api/finance/overview"]});pt({queryKey:["/api/finance/producer-payments/pending"]});const{data:ne=[]}=pt({queryKey:["/api/finance/producer-payments"]}),{data:S=[]}=pt({queryKey:["/api/finance/expenses"]}),{data:z=[]}=pt({queryKey:["/api/commissions"]});pt({queryKey:["/api/orders"]});const Q=jt({mutationFn:async({payableId:Pe,payableType:X})=>{if(X==="producer"){const We=await fetch(`/api/finance/producer-payments/${Pe}/pay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:"manual",notes:"Pagamento processado via painel financeiro",transactionId:`PAY-PRODUCER-${Date.now()}`})});if(!We.ok)throw new Error("Erro ao processar pagamento do produtor");return We.json()}else{const We=await fetch(`/api/finance/payables/manual/${Pe}/pay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:"manual",notes:"Pagamento processado via painel financeiro",transactionId:`PAY-${Date.now()}`})});if(!We.ok)throw new Error("Erro ao processar pagamento");return We.json()}},onSuccess:(Pe,X)=>{h(!1),g(null),C({amount:"",method:"",transactionId:"",notes:""}),ct.invalidateQueries({queryKey:["/api/finance/payables/manual"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments/pending"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments/producer"]}),ct.invalidateQueries({queryKey:["/api/production-orders"]}),ct.invalidateQueries({queryKey:["/api/commissions"]}),ct.invalidateQueries({queryKey:["/api/finance/expenses"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),V({title:"Sucesso!",description:X.payableType==="producer"?"Pagamento do produtor processado com sucesso":"Pagamento processado com sucesso"})},onError:Pe=>{V({title:"Erro",description:Pe.message||"No foi possvel processar o pagamento",variant:"destructive"})}}),W=jt({mutationFn:async Pe=>{const X=await fetch(`/api/orders/${Pe.orderId}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({refundAmount:Pe.amount,refundNotes:Pe.notes,refundMethod:Pe.method})});if(!X.ok)throw new Error("Erro ao definir valor de estorno");return X.json()},onSuccess:()=>{y(!1),R({amount:"",notes:"",method:""}),V({title:"Sucesso!",description:"Valor de estorno definido com sucesso"}),ct.invalidateQueries({queryKey:["/api/orders"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]})},onError:Pe=>{V({title:"Erro",description:Pe.message||"No foi possvel definir valor de estorno",variant:"destructive"})}}),U=jt({mutationFn:async Pe=>{const X=await fetch("/api/finance/payables/manual",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Pe)});if(!X.ok){const We=await X.json();throw new Error(We.error||"Erro ao criar conta a pagar")}return X.json()},onSuccess:()=>{A(!1),E({type:"",description:"",beneficiary:"",amount:"",dueDate:"",category:"",status:"pending",notes:"",attachmentUrl:"",attachmentUrl2:""}),V({title:"Sucesso!",description:"Conta a pagar criada com sucesso"}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/finance/payables/manual"]})},onError:Pe=>{V({title:"Erro",description:Pe.message||"No foi possvel criar a conta a pagar",variant:"destructive"})}}),re=async(Pe,X="attachmentUrl")=>{var Ct;const We=(Ct=Pe.target.files)==null?void 0:Ct[0];if(!We)return;b(!0);const wt=new FormData;wt.append("file",We),wt.append("folder","payables");try{const Qt=await fetch("/api/upload",{method:"POST",body:wt});if(!Qt.ok)throw new Error("Falha no upload");const pe=await Qt.json();E(dt=>({...dt,[X]:pe.url})),V({title:"Sucesso",description:"Nota anexada com sucesso"})}catch{V({title:"Erro",description:"Erro ao fazer upload da nota",variant:"destructive"})}finally{b(!1)}},de=()=>{I.trim()&&(k(Pe=>[...Pe,I.trim()]),E(Pe=>({...Pe,category:I.trim()})),M(""),N(!1))},ae=["Fornecedores","Servios","Produo","Despesas Operacionais","Outros",...O],Ae=()=>{F.description&&F.beneficiary&&F.amount&&F.dueDate&&U.mutate({beneficiary:F.beneficiary,description:F.description,amount:parseFloat(F.amount).toFixed(2),dueDate:F.dueDate,category:F.category||"Outros",notes:F.notes,attachmentUrl:F.attachmentUrl,attachmentUrl2:F.attachmentUrl2})},{data:Me=[]}=pt({queryKey:["/api/finance/payables/manual"]}),{data:H=[]}=pt({queryKey:["/api/branches"]}),Oe=[...ne.filter(Pe=>["pending","approved","paid"].includes(Pe.status)).map(Pe=>({id:`producer-${Pe.id}`,type:"producer",dueDate:Pe.deadline||Pe.createdAt,description:`Pagamento Produtor - ${Pe.product||"Produo"}`,amount:Pe.amount,status:Pe.status,beneficiary:Pe.producerName,orderNumber:Pe.orderNumber,productionOrderId:Pe.productionOrderId,category:"Produo",branchId:Pe.branchId||null,actualId:Pe.id,paidAt:Pe.paidAt})),...S.filter(Pe=>Pe.status==="approved").map(Pe=>({id:`expense-${Pe.id}`,type:"expense",dueDate:Pe.date,description:Pe.description,amount:Pe.amount,status:Pe.reimbursedAt?"paid":"approved",beneficiary:Pe.vendorName||"Despesa Geral",category:Pe.category,orderNumber:Pe.orderNumber||"-",branchId:Pe.branchId||null,paidAt:Pe.reimbursedAt})),...z.filter(Pe=>["confirmed","paid"].includes(Pe.status)||Pe.paidAt).map(Pe=>({id:`commission-${Pe.id}`,type:"commission",dueDate:Pe.createdAt,description:`Comisso - Pedido ${Pe.orderNumber}`,amount:Pe.amount,status:Pe.paidAt?"paid":"confirmed",beneficiary:Pe.vendorName||Pe.partnerName,category:Pe.type==="vendor"?"Comisso Vendedor":"Comisso Parceiro",orderNumber:Pe.orderNumber,branchId:Pe.branchId||null,paidAt:Pe.paidAt})),...Me.filter(Pe=>Pe.category==="Estorno").map(Pe=>({id:`refund-${Pe.id}`,type:"refund",dueDate:Pe.dueDate,description:Pe.description,amount:Pe.amount,status:Pe.status==="refunded"?"paid":Pe.status,beneficiary:Pe.beneficiary,category:"Estorno",orderNumber:Pe.orderId?"ESTORNO":"MANUAL",branchId:Pe.branchId||null,paidAt:Pe.paidAt,actualId:Pe.id})),...Me.filter(Pe=>Pe.category!=="Estorno").map(Pe=>({id:`manual-${Pe.id}`,type:"manual",dueDate:Pe.dueDate,description:Pe.description,amount:Pe.amount,status:Pe.status,beneficiary:Pe.beneficiary,category:Pe.category,orderNumber:"MANUAL",branchId:Pe.branchId||null,paidAt:Pe.paidAt,attachmentUrl:Pe.attachmentUrl,attachmentUrl2:Pe.attachmentUrl2}))],Ee=(Pe,X)=>{const We={pending:{label:"Pendente",variant:"secondary"},approved:{label:"Aprovado",variant:"outline"},confirmed:{label:"Confirmado",variant:"outline"},pending_definition:{label:"Aguardando Valor",variant:"destructive"},defined:{label:"Valor Definido",variant:"secondary"},paid:{label:"Pago",variant:"default"},refunded:{label:"Pago",variant:"default"}},wt=We[Pe]||We.pending;return n.jsx(Yt,{variant:wt.variant,className:"capitalize",children:wt.label})},ee=Pe=>{const X={producer:n.jsx(En,{className:"h-4 w-4"}),expense:n.jsx(tb,{className:"h-4 w-4"}),commission:n.jsx(ca,{className:"h-4 w-4"}),refund:n.jsx(oi,{className:"h-4 w-4"}),manual:n.jsx(lo,{className:"h-4 w-4"})};return X[Pe]||X.expense},st=Oe.filter(Pe=>{var pe,dt,Rt;const X=r==="all"||Pe.status===r,We=s==="all"||Pe.type===s;let wt=!0;if(c!=null&&c.from&&(c!=null&&c.to)){const Dt=new Date(Pe.dueDate||Pe.createdAt),ot=new Date(c.from),Ft=new Date(c.to);ot.setHours(0,0,0,0),Ft.setHours(23,59,59,999),wt=Dt>=ot&&Dt<=Ft}const Ct=e===""||((pe=Pe.description)==null?void 0:pe.toLowerCase().includes(e.toLowerCase()))||((dt=Pe.beneficiary)==null?void 0:dt.toLowerCase().includes(e.toLowerCase()))||((Rt=Pe.orderNumber)==null?void 0:Rt.toLowerCase().includes(e.toLowerCase())),Qt=o==="all"||Pe.branchId===o||o==="matriz"&&(!Pe.branchId||Pe.branchId==="matriz");return X&&We&&Ct&&Qt&&wt}),se=jt({mutationFn:async Pe=>{const X=await fetch(`/api/finance/payables/manual/${Pe.payableId}/pay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({paymentMethod:Pe.method,transactionId:Pe.transactionId,notes:Pe.notes})});if(!X.ok){const We=await X.json();throw new Error(We.error||"Erro ao registrar pagamento")}return X.json()},onSuccess:()=>{h(!1),C({amount:"",method:"",transactionId:"",notes:""}),V({title:"Sucesso!",description:"Pagamento registrado com sucesso"}),ct.invalidateQueries({queryKey:["/api/finance/payables/manual"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments/pending"]}),ct.invalidateQueries({queryKey:["/api/finance/producer-payments/producer"]}),ct.invalidateQueries({queryKey:["/api/production-orders"]}),ct.invalidateQueries({queryKey:["/api/commissions"]}),ct.invalidateQueries({queryKey:["/api/finance/expenses"]}),ct.invalidateQueries({queryKey:["/api/orders"]})},onError:Pe=>{V({title:"Erro",description:Pe.message||"No foi possvel registrar o pagamento",variant:"destructive"})}}),me=()=>{if(x&&w.amount&&w.method){if(x.type==="manual"){const Pe=x.id.startsWith("manual-")?x.id.replace("manual-",""):x.id;se.mutate({payableId:Pe,method:w.method,transactionId:w.transactionId,notes:w.notes})}else if(x.type==="producer"){const Pe=x.actualId||x.id.replace("producer-","");Q.mutate({payableId:Pe,payableType:"producer"})}else if(x.type==="refund"){const Pe=x.id.replace("refund-","");nt.mutate({id:Pe,data:{paymentMethod:w.method,notes:w.notes,transactionId:w.transactionId}})}}},nt=jt({mutationFn:async({id:Pe,data:X})=>{const We=await fetch(`/api/finance/estornos/${Pe}/process`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});if(!We.ok)throw new Error("Erro ao processar estorno");return We.json()},onSuccess:()=>{h(!1),g(null),C({paymentMethod:"",notes:"",transactionId:"",method:"",amount:""}),ct.invalidateQueries({queryKey:["/api/finance/estornos"]}),ct.invalidateQueries({queryKey:["/api/finance/payables/manual"]}),ct.invalidateQueries({queryKey:["/api/finance/overview"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),V({title:"Estorno processado",description:"O estorno foi processado com sucesso."})},onError:Pe=>{V({title:"Erro",description:Pe.message||"Erro ao processar estorno.",variant:"destructive"})}}),Nt=()=>{x&&P.amount&&P.notes&&W.mutate({orderId:x.originalOrder.id,amount:parseFloat(P.amount).toFixed(2),notes:P.notes,method:P.method})},xt=(D==null?void 0:D.payablesBreakdown)||{producers:0,expenses:0,commissions:0,refunds:0,manual:0},Ne={producers:Number(xt.producers)||0,expenses:Number(xt.expenses)||0,commissions:Number(xt.commissions)||0,refunds:Number(xt.refunds)||0,manual:Number(xt.manual)||0},le=Ne.producers+Ne.expenses+Ne.commissions+Ne.refunds+Ne.manual;return Y?n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((Pe,X)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},X))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contas a Pagar"}),n.jsx("p",{className:"text-gray-600",children:"Controle de valores a pagar: produtores, despesas, comisses e estornos"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total a Pagar"}),n.jsxs("p",{className:"text-xl font-bold gradient-text",children:["R$ ",le.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Sm,{className:"h-5 w-5 text-red-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Produtores"}),n.jsxs("p",{className:"text-xl font-bold gradient-text",children:["R$ ",Ne.producers.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(En,{className:"h-5 w-5 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Despesas"}),n.jsxs("p",{className:"text-xl font-bold gradient-text",children:["R$ ",Ne.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(tb,{className:"h-5 w-5 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Comisses + Manuais"}),n.jsxs("p",{className:"text-xl font-bold gradient-text",children:["R$ ",(Ne.commissions+Ne.manual).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(ca,{className:"h-5 w-5 text-orange-600"})})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 w-full",children:[n.jsx(fe,{className:"text-xs font-medium mb-1 block",children:"Buscar"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por descrio, beneficirio ou pedido...",value:e,onChange:Pe=>t(Pe.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"w-full md:w-auto",children:[n.jsx(fe,{className:"text-xs font-medium mb-1 block",children:"Perodo"}),n.jsx(uQ,{date:c,setDate:Pe=>d(Pe)})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-end",children:[n.jsxs("div",{className:"flex-1 min-w-[140px]",children:[n.jsx(fe,{className:"text-xs font-medium mb-1 block",children:"Status"}),n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"approved",children:"Aprovado"}),n.jsx(ge,{value:"confirmed",children:"Confirmado"}),n.jsx(ge,{value:"pending_definition",children:"Aguardando Valor"}),n.jsx(ge,{value:"defined",children:"Valor Definido"}),n.jsx(ge,{value:"paid",children:"Pago"})]})]})]}),n.jsxs("div",{className:"flex-1 min-w-[140px]",children:[n.jsx(fe,{className:"text-xs font-medium mb-1 block",children:"Tipo"}),n.jsxs($t,{value:s,onValueChange:i,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Tipos"}),n.jsx(ge,{value:"producer",children:"Produtores"}),n.jsx(ge,{value:"expense",children:"Despesas"}),n.jsx(ge,{value:"commission",children:"Comisses"}),n.jsx(ge,{value:"refund",children:"Estornos"}),n.jsx(ge,{value:"manual",children:"Manuais"})]})]})]}),n.jsxs("div",{className:"flex-1 min-w-[140px]",children:[n.jsx(fe,{className:"text-xs font-medium mb-1 block",children:"Filial"}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{placeholder:"Filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas Filiais"}),n.jsx(ge,{value:"matriz",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-yellow-600"}),"Matriz"]})}),H.map(Pe=>n.jsx(ge,{value:Pe.id,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(si,{className:"h-4 w-4 mr-2 text-blue-600"}),Pe.name," - ",Pe.city]})},Pe.id))]})]})]}),n.jsxs(Z,{className:"gradient-bg text-white",onClick:()=>A(!0),children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Nova Conta a Pagar"]})]})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Contas a Pagar (",st.length,")"]})}),n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Descrio"}),n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Beneficirio"}),n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Valor"}),n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:st.map(Pe=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-2 py-2 text-xs text-gray-900",children:new Date(Pe.dueDate).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),n.jsx("td",{className:"px-2 py-2 text-xs text-gray-900",children:n.jsxs("div",{className:"flex items-center",children:[ee(Pe.type),n.jsx("span",{className:"ml-1 hidden sm:inline",children:Pe.category||Pe.type})]})}),n.jsx("td",{className:"px-2 py-2 text-xs text-gray-900",children:n.jsx("div",{className:"max-w-[150px] truncate",title:Pe.description,children:Pe.description})}),n.jsx("td",{className:"px-2 py-2 text-xs text-gray-900",children:n.jsx("div",{className:"max-w-[120px] truncate",title:Pe.beneficiary,children:Pe.beneficiary})}),n.jsxs("td",{className:"px-2 py-2 text-xs text-gray-900 font-semibold",children:["R$ ",parseFloat(Pe.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-2 py-2",children:Ee(Pe.status,Pe.type)}),n.jsx("td",{className:"px-2 py-2 text-xs",children:n.jsxs("div",{className:"flex space-x-1",children:[Pe.type==="producer"&&(Pe.status==="approved"||Pe.status==="pending")&&n.jsxs(Z,{onClick:()=>{g({...Pe,actualId:Pe.actualId,payableType:"producer"}),C({amount:Pe.amount,method:"",transactionId:"",notes:""}),h(!0)},size:"sm",className:"gradient-bg text-white h-7 px-2",children:[n.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Pagar"]}),Pe.type==="expense"&&Pe.status==="approved"&&n.jsxs(Z,{onClick:()=>{g(Pe),C({amount:Pe.amount,method:"",transactionId:"",notes:""}),h(!0)},size:"sm",className:"gradient-bg text-white h-7 px-2",children:[n.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Pagar"]}),Pe.type==="commission"&&Pe.status==="confirmed"&&n.jsxs(Z,{onClick:()=>{g(Pe),C({amount:Pe.amount,method:"",transactionId:"",notes:""}),h(!0)},size:"sm",className:"gradient-bg text-white h-7 px-2",children:[n.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Pagar"]}),Pe.type==="manual"&&Pe.status==="pending"&&n.jsxs(Z,{onClick:()=>{g({...Pe,payableType:"manual"}),C({amount:Pe.amount,method:"",transactionId:"",notes:""}),h(!0)},size:"sm",className:"gradient-bg text-white h-7 px-2",children:[n.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Pagar"]}),n.jsxs(Z,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:()=>{g(Pe),m(!0)},children:[n.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Ver"]}),Pe.type==="refund"&&Pe.status==="pending_definition"&&n.jsxs(Z,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>{g(Pe),R(X=>({...X,amount:Pe.amount})),y(!0)},children:[n.jsx(Mr,{className:"h-3 w-3"}),"Definir"]}),Pe.type==="refund"&&Pe.status==="defined"&&n.jsxs(Z,{onClick:()=>{g(Pe),C({amount:Pe.amount,method:"",transactionId:"",notes:""}),h(!0)},size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-7 px-2",children:[n.jsx(Mr,{className:"h-3 w-3 mr-1"}),"Pagar"]})]})})]},Pe.id))})]})})})]}),n.jsx(rr,{open:u,onOpenChange:h,children:n.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:(x==null?void 0:x.type)==="refund"?"Processar Estorno":"Registrar Pagamento Manual"}),n.jsx(lr,{children:(x==null?void 0:x.type)==="producer"?`Registrando pagamento de R$ ${parseFloat(x.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})} para ${x.beneficiary||"Produtor"}`:(x==null?void 0:x.type)==="refund"?`Registrando estorno de R$ ${parseFloat(x.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})} para ${x.beneficiary}`:`Registrando pagamento de ${(x==null?void 0:x.type)||"item"}`})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded border border-blue-200",children:[n.jsxs("h4",{className:"font-medium text-blue-900 mb-2",children:["Informaes ",(x==null?void 0:x.type)==="refund"?"do Estorno":"do Servio"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsxs("strong",{children:[(x==null?void 0:x.type)==="refund"?"Cliente":"Produtor",":"]})," ",x==null?void 0:x.beneficiary]}),n.jsxs("div",{children:[n.jsxs("strong",{children:[(x==null?void 0:x.type)==="refund"?"Motivo":"Produto",":"]})," ",((ze=(Fe=x==null?void 0:x.description)==null?void 0:Fe.replace("Pagamento Produtor - ",""))==null?void 0:ze.replace("Estorno - ",""))||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Pedido:"})," ",(x==null?void 0:x.orderNumber)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Categoria:"})," ",x==null?void 0:x.category]})]})]}),n.jsxs("div",{className:"p-4 bg-green-50 rounded border border-green-200",children:[n.jsxs("h4",{className:"font-medium text-green-900 mb-2",children:["Valor do ",(x==null?void 0:x.type)==="refund"?"Estorno":"Pagamento"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-700",children:["R$ ",parseFloat((x==null?void 0:x.amount)||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("div",{className:"text-sm text-green-600",children:["Valor ",(x==null?void 0:x.type)==="refund"?"a ser devolvido":"acordado"]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-amount",children:"Valor"}),n.jsx(ie,{id:"payment-amount",type:"text",value:(x==null?void 0:x.type)==="producer"?`R$ ${parseFloat(x.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})}`:w.amount.startsWith("R$")?w.amount:`R$ ${parseFloat(w.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})}`,onChange:Pe=>C(X=>({...X,amount:Pe.target.value.replace("R$ ","").replace(".","").replace(",",".")})),placeholder:"0,00",disabled:(x==null?void 0:x.type)==="producer"||(x==null?void 0:x.type)==="refund",className:(x==null?void 0:x.type)==="producer"||(x==null?void 0:x.type)==="refund"?"bg-gray-100":""}),((x==null?void 0:x.type)==="producer"||(x==null?void 0:x.type)==="refund")&&n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Valor definido ",(x==null?void 0:x.type)==="refund"?"no cancelamento":"na ordem de produo"]})]}),n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"payment-method",children:["Mtodo de ",(x==null?void 0:x.type)==="refund"?"Estorno":"Pagamento"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs($t,{value:w.method,onValueChange:Pe=>C(X=>({...X,method:Pe})),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o mtodo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pix",children:"PIX"}),n.jsx(ge,{value:"transfer",children:"Transferncia Bancria"}),n.jsx(ge,{value:"cash",children:"Dinheiro"}),n.jsx(ge,{value:"check",children:"Cheque"}),n.jsx(ge,{value:"credit_card",children:"Carto de Crdito"}),n.jsx(ge,{value:"manual",children:"Manual/Outros"})]})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"transaction-id",children:"ID da Transao/Comprovante"}),n.jsx(ie,{id:"transaction-id",placeholder:"Nmero do comprovante, ID da transao ou referncia do pagamento",value:w.transactionId,onChange:Pe=>C(X=>({...X,transactionId:Pe.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"payment-notes",children:"Observaes"}),n.jsx(Jn,{id:"payment-notes",placeholder:"Adicione observaes relevantes...",value:w.notes,onChange:Pe=>C(X=>({...X,notes:Pe.target.value})),rows:3})]}),n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ll,{className:"h-5 w-5 text-yellow-500 mt-0.5 mr-2"}),n.jsxs("div",{className:"text-sm text-yellow-700",children:[n.jsx("strong",{children:"Confirmao:"})," Certifique-se de que a operao foi efetivamente realizada antes de registrar. Esta ao marcar o item como concludo no sistema."]})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(Z,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(Z,{className:"bg-green-600 hover:bg-green-700 text-white px-6",onClick:me,disabled:!w.method||Q.isPending||se.isPending||nt.isPending,children:Q.isPending||se.isPending||nt.isPending?"Processando...":"Confirmar"})]})]})]})}),n.jsx(rr,{open:v,onOpenChange:y,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Definir Valor de Estorno"}),n.jsxs(lr,{children:["Defina o valor a ser restitudo para ",x==null?void 0:x.beneficiary]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded border border-blue-200",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Informaes do Pedido"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Pedido:"})," ",(x==null?void 0:x.orderNumber)||"N/A"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Cliente:"})," ",x==null?void 0:x.beneficiary]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Produto:"})," ",((je=x==null?void 0:x.description)==null?void 0:je.replace("Estorno - ",""))||"N/A"]})]})]}),n.jsxs("div",{className:"p-4 bg-yellow-50 rounded border border-yellow-200",children:[n.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Valores"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Valor Total:"})," R$ ",(De=x==null?void 0:x.originalOrder)!=null&&De.totalValue?parseFloat(x.originalOrder.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Valor Pago:"})," R$ ",(Ke=x==null?void 0:x.originalOrder)!=null&&Ke.paidValue?parseFloat(x.originalOrder.paidValue).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",n.jsx(Yt,{variant:"secondary",children:(At=x==null?void 0:x.originalOrder)==null?void 0:At.status})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"refund-amount",children:["Valor a ser Restitudo ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ie,{id:"refund-amount",type:"number",step:"0.01",placeholder:"0,00",value:P.amount,onChange:Pe=>R(X=>({...X,amount:Pe.target.value})),className:"text-lg font-medium"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Mximo: R$ ",(He=x==null?void 0:x.originalOrder)!=null&&He.paidValue?parseFloat(x.originalOrder.paidValue).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"refund-method",children:"Mtodo de Estorno"}),n.jsxs($t,{value:P.method||"",onValueChange:Pe=>R(X=>({...X,method:Pe})),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o mtodo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pix",children:"PIX"}),n.jsx(ge,{value:"bank_transfer",children:"Transferncia Bancria"}),n.jsx(ge,{value:"credit_reversal",children:"Estorno no Carto"}),n.jsx(ge,{value:"cash",children:"Dinheiro"}),n.jsx(ge,{value:"credit",children:"Crdito para Compra"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"refund-notes",children:["Motivo/Observaes ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Jn,{id:"refund-notes",placeholder:"Descreva detalhadamente o motivo do estorno, incluindo justificativa e informaes relevantes...",value:P.notes,onChange:Pe=>R(X=>({...X,notes:Pe.target.value})),rows:4,className:"min-h-[100px]"})]}),(x==null?void 0:x.originalOrder)&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-medium mb-3",children:"Histrico de Pagamentos"}),n.jsx("div",{className:"bg-gray-50 rounded p-3",children:n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Data do Pedido:"}),n.jsx("span",{children:x.originalOrder.createdAt?new Date(x.originalOrder.createdAt).toLocaleDateString("pt-BR"):"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Data de Cancelamento:"}),n.jsx("span",{children:x.originalOrder.updatedAt?new Date(x.originalOrder.updatedAt).toLocaleDateString("pt-BR"):"N/A"})]}),n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Valor Elegvel para Estorno:"}),n.jsxs("span",{className:"text-green-600",children:["R$ ",(Te=x==null?void 0:x.originalOrder)!=null&&Te.paidValue?parseFloat(x.originalOrder.paidValue).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]})]})]})})]}),n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ll,{className:"h-5 w-5 text-red-500 mt-0.5 mr-2"}),n.jsxs("div",{className:"text-sm text-red-700",children:[n.jsx("strong",{children:"Ateno:"})," O valor de estorno ser adicionado s contas a pagar e dever ser processado pelo departamento financeiro. Certifique-se de que todas as informaes esto corretas antes de confirmar."]})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(Z,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white px-6",onClick:Nt,disabled:!P.amount||!P.notes||W.isPending,children:W.isPending?"Salvando...":"Definir Valor de Estorno"})]})]})]})}),n.jsx(rr,{open:p,onOpenChange:m,children:n.jsxs(Jt,{className:"max-w-2xl",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Detalhes da Conta a Pagar"})}),x&&n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Beneficirio"}),n.jsx("p",{className:"text-sm font-medium",children:x.beneficiary})]}),n.jsxs("div",{className:"space-y-1 text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Valor"}),n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["R$ ",parseFloat(x.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Vencimento"}),n.jsx("p",{className:"text-sm font-medium",children:new Date(x.dueDate).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{className:"space-y-1 text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Status"}),n.jsx("div",{className:"flex justify-end",children:Ee(x.status)})]}),n.jsxs("div",{className:"space-y-1 col-span-2",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Descrio"}),n.jsx("p",{className:"text-sm",children:x.description})]}),n.jsxs("div",{className:"space-y-1 col-span-2",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Categoria"}),n.jsx(Yt,{variant:"outline",children:x.category})]})]}),x.attachmentUrl&&n.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-2 rounded border",children:n.jsx(Pn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anexo 1"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para visualizar ou baixar"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs("a",{href:`/objects/${x.attachmentUrl}`,target:"_blank",rel:"noreferrer",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Ver"]})}),n.jsx(Z,{size:"sm",className:"gradient-bg text-white",asChild:!0,children:n.jsxs("a",{href:`/objects/${x.attachmentUrl}`,download:!0,children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Baixar"]})})]})]})}),x.attachmentUrl2&&n.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 mt-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-2 rounded border",children:n.jsx(Pn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anexo 2"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para visualizar ou baixar"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",asChild:!0,children:n.jsxs("a",{href:`/objects/${x.attachmentUrl2}`,target:"_blank",rel:"noreferrer",children:[n.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Ver"]})}),n.jsx(Z,{size:"sm",className:"gradient-bg text-white",asChild:!0,children:n.jsxs("a",{href:`/objects/${x.attachmentUrl2}`,download:!0,children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Baixar"]})})]})]})}),x.notes&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Observaes"}),n.jsxs("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded border italic",children:['"',x.notes,'"']})]}),x.paidAt&&n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center gap-3 border border-green-100",children:[n.jsx("div",{className:"bg-green-500 rounded-full p-1",children:n.jsx(S6,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-bold text-green-800",children:["Pago em ",new Date(x.paidAt).toLocaleDateString("pt-BR")]}),n.jsxs("p",{className:"text-xs text-green-700",children:["Mtodo: ",(dr=x.paymentMethod)==null?void 0:dr.toUpperCase()]})]})]})})]}),n.jsxs(Am,{children:[n.jsx(Z,{variant:"outline",onClick:()=>m(!1),children:"Fechar"}),(x==null?void 0:x.status)==="pending"&&n.jsx(Z,{className:"gradient-bg text-white",onClick:()=>{m(!1),C({amount:x.amount,method:"",transactionId:"",notes:""}),h(!0)},children:"Pagar Agora"})]})]})}),n.jsx(rr,{open:f,onOpenChange:A,children:n.jsxs(Jt,{className:"max-w-2xl",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Criar Nova Conta a Pagar"}),n.jsx(lr,{children:"Preencha os campos abaixo para adicionar uma nova conta a pagar manualmente."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2 col-span-2 sm:col-span-1",children:[n.jsx(fe,{htmlFor:"category",children:"Categoria"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs($t,{value:F.category,onValueChange:Pe=>{Pe==="new"?N(!0):E(X=>({...X,category:Pe}))},children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a categoria"})}),n.jsxs(Ut,{children:[ae.map(Pe=>n.jsx(ge,{value:Pe,children:Pe},Pe)),n.jsx(ge,{value:"new",className:"text-blue-600 font-medium",children:"+ Nova Categoria"})]})]})})]}),n.jsxs("div",{className:"space-y-2 col-span-2 sm:col-span-1",children:[n.jsx(fe,{htmlFor:"beneficiary",children:"Beneficirio / Fornecedor"}),n.jsx(ie,{id:"beneficiary",placeholder:"Ex: Companhia de Energia",value:F.beneficiary,onChange:Pe=>E(X=>({...X,beneficiary:Pe.target.value}))})]}),n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(fe,{htmlFor:"description",children:"Descrio"}),n.jsx(ie,{id:"description",placeholder:"Ex: Conta de luz - Vencimento Dezembro",value:F.description,onChange:Pe=>E(X=>({...X,description:Pe.target.value}))})]}),n.jsxs("div",{className:"space-y-2 col-span-2 sm:col-span-1",children:[n.jsx(fe,{htmlFor:"amount",children:"Valor (R$)"}),n.jsx(ie,{id:"amount",type:"number",placeholder:"0.00",value:F.amount,onChange:Pe=>E(X=>({...X,amount:Pe.target.value}))})]}),n.jsxs("div",{className:"space-y-2 col-span-2 sm:col-span-1",children:[n.jsx(fe,{htmlFor:"dueDate",children:"Data de Vencimento"}),n.jsx(ie,{id:"dueDate",type:"date",value:F.dueDate,onChange:Pe=>E(X=>({...X,dueDate:Pe.target.value}))})]}),n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(fe,{children:"Anexos (Nota Fiscal/Boleto)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Z,{variant:"outline",className:"w-full h-24 border-dashed border-2 flex flex-col gap-2",onClick:()=>{const Pe=document.createElement("input");Pe.type="file",Pe.accept="image/*,.pdf",Pe.onchange=X=>re(X,"attachmentUrl"),Pe.click()},disabled:j,children:F.attachmentUrl?n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"h-8 w-8 text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Anexo 1 OK"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pf,{className:"h-8 w-8 text-gray-400"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Anexar 1"})]})}),n.jsx(Z,{variant:"outline",className:"w-full h-24 border-dashed border-2 flex flex-col gap-2",onClick:()=>{const Pe=document.createElement("input");Pe.type="file",Pe.accept="image/*,.pdf",Pe.onchange=X=>re(X,"attachmentUrl2"),Pe.click()},disabled:j,children:F.attachmentUrl2?n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"h-8 w-8 text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Anexo 2 OK"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pf,{className:"h-8 w-8 text-gray-400"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Anexar 2"})]})})]})]}),n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(fe,{htmlFor:"notes",children:"Observaes"}),n.jsx(Jn,{id:"notes",placeholder:"Informaes adicionais...",value:F.notes,onChange:Pe=>E(X=>({...X,notes:Pe.target.value}))})]})]}),n.jsxs(Am,{children:[n.jsx(Z,{variant:"outline",onClick:()=>A(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:Ae,disabled:U.isPending,children:U.isPending?"Criando...":"Criar Conta a Pagar"})]})]})}),n.jsx(rr,{open:L,onOpenChange:N,children:n.jsxs(Jt,{className:"sm:max-w-md",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Nova Categoria"})}),n.jsxs("div",{className:"py-4",children:[n.jsx(fe,{htmlFor:"new-category",children:"Nome da Categoria"}),n.jsx(ie,{id:"new-category",value:I,onChange:Pe=>M(Pe.target.value),placeholder:"Digite o nome da categoria"})]}),n.jsxs(Am,{children:[n.jsx(Z,{variant:"outline",onClick:()=>N(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:de,children:"Adicionar"})]})]})})]})}function Jbt(){const{toast:e}=en(),[t,r]=B.useState(""),[a,s]=B.useState("all"),[i,o]=B.useState("all"),[l,c]=B.useState(1),d=25,{data:u=[],isLoading:h}=pt({queryKey:["/api/finance/payments"],queryFn:async()=>{const w=await fetch("/api/finance/payments");if(!w.ok)throw new Error("Failed to fetch payments");return w.json()}}),f=()=>{try{const w=m.map(N=>({Data:new Date(N.paidAt||N.createdAt).toLocaleDateString("pt-BR"),Pedido:N.orderNumber,Cliente:N.clientName,Valor:`R$ ${parseFloat(N.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,Mtodo:A(N.method),Status:p(N.status),"ID Transao":N.transactionId||"","Valor do Pedido":`R$ ${parseFloat(N.orderValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})}`})),C=el.json_to_sheet(w),F=el.book_new();el.book_append_sheet(F,C,"Pagamentos");const E=[{wch:12},{wch:15},{wch:25},{wch:15},{wch:15},{wch:12},{wch:20},{wch:15}];C["!cols"]=E;const L=`historico-pagamentos-${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.xlsx`;zB(F,L),e({title:"Exportao concluda",description:`Relatrio exportado como ${L}`})}catch(w){console.error("Error exporting to Excel:",w),e({title:"Erro na exportao",description:"No foi possvel exportar o relatrio",variant:"destructive"})}},A=w=>({pix:"PIX",credit_card:"Carto de Crdito",bank_transfer:"Transferncia",boleto:"Boleto",manual:"Manual",cash:"Dinheiro"})[w]||w.toUpperCase(),p=w=>({confirmed:"Confirmado",pending:"Pendente",failed:"Falhado",cancelled:"Cancelado"})[w]||w,m=u.filter(w=>{var L,N,I;const C=!t||(((L=w.clientName)==null?void 0:L.toLowerCase())||"").includes(t.toLowerCase())||(((N=w.orderNumber)==null?void 0:N.toLowerCase())||"").includes(t.toLowerCase())||(((I=w.transactionId)==null?void 0:I.toLowerCase())||"").includes(t.toLowerCase()),F=a==="all"||w.status===a,E=i==="all"||w.method===i;return C&&F&&E}),x=Math.ceil(m.length/d),g=(l-1)*d,v=m.slice(g,g+d),y=u.filter(w=>w.status==="confirmed").reduce((w,C)=>w+parseFloat(C.amount),0),j=u.filter(w=>w.status==="pending").reduce((w,C)=>w+parseFloat(C.amount),0),b=u.filter(w=>{const C=new Date(w.paidAt||w.createdAt),F=new Date;return C.getMonth()===F.getMonth()&&C.getFullYear()===F.getFullYear()&&w.status==="confirmed"}).reduce((w,C)=>w+parseFloat(C.amount),0);return h?n.jsx("div",{className:"container mx-auto p-4",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((w,C)=>n.jsx("div",{className:"h-24 bg-gray-200 rounded"},C))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Histrico de Pagamentos"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Visualizao de todos os pagamentos do sistema"})]}),n.jsxs(Z,{onClick:f,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar Relatrio"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Le,{children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Li,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Receita Total"}),n.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["R$ ",y.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ps,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Receita do Ms"}),n.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["R$ ",b.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(lo,{className:"h-8 w-8 text-orange-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pendentes"}),n.jsxs("p",{className:"text-lg font-semibold text-orange-600",children:["R$ ",j.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})})}),n.jsx(Le,{children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rye,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Pagamentos"}),n.jsx("p",{className:"text-lg font-semibold text-purple-600",children:m.length})]})]})})})]}),n.jsx(Le,{children:n.jsx(Re,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar por cliente, pedido ou transao...",value:t,onChange:w=>r(w.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs($t,{value:a,onValueChange:s,children:[n.jsxs(Mt,{className:"w-[150px]",children:[n.jsx(Fy,{className:"h-4 w-4 mr-2"}),n.jsx(Ht,{placeholder:"Status"})]}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"confirmed",children:"Confirmado"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"failed",children:"Falhado"})]})]}),n.jsxs($t,{value:i,onValueChange:o,children:[n.jsx(Mt,{className:"w-[150px]",children:n.jsx(Ht,{placeholder:"Mtodo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Mtodos"}),n.jsx(ge,{value:"pix",children:"PIX"}),n.jsx(ge,{value:"credit_card",children:"Carto de Crdito"}),n.jsx(ge,{value:"bank_transfer",children:"Transferncia"}),n.jsx(ge,{value:"boleto",children:"Boleto"}),n.jsx(ge,{value:"manual",children:"Manual"})]})]})]})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Pagamentos Recentes"}),n.jsxs("span",{className:"text-sm font-normal text-gray-500",children:[m.length," pagamento",m.length!==1?"s":""]})]})}),n.jsxs(Re,{className:"p-0",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(T0,{children:[n.jsx(I0,{children:n.jsxs(nl,{className:"bg-gray-50",children:[n.jsx(bn,{className:"w-[100px]",children:"Data"}),n.jsx(bn,{className:"w-[120px]",children:"Pedido"}),n.jsx(bn,{className:"w-[200px]",children:"Cliente"}),n.jsx(bn,{className:"w-[100px]",children:"Valor"}),n.jsx(bn,{className:"w-[120px]",children:"Mtodo"}),n.jsx(bn,{className:"w-[100px]",children:"Status"}),n.jsx(bn,{className:"w-[150px]",children:"ID Transao"})]})}),n.jsx(O0,{children:v.length===0?n.jsx(nl,{children:n.jsxs(fn,{colSpan:7,className:"text-center py-8",children:[n.jsx(Mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum pagamento encontrado"})]})}):v.map(w=>n.jsxs(nl,{className:"hover:bg-gray-50",children:[n.jsx(fn,{className:"text-xs",children:new Date(w.paidAt||w.createdAt).toLocaleDateString("pt-BR")}),n.jsx(fn,{className:"font-mono text-xs",children:w.orderNumber}),n.jsx(fn,{className:"text-sm",children:w.clientName||"Cliente no identificado"}),n.jsxs(fn,{className:"font-semibold text-sm",children:["R$ ",parseFloat(w.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(fn,{children:n.jsx(Yt,{variant:"outline",className:"text-xs",children:A(w.method)})}),n.jsx(fn,{children:n.jsx(Yt,{variant:w.status==="confirmed"?"default":w.status==="pending"?"secondary":"destructive",className:"text-xs",children:p(w.status)})}),n.jsx(fn,{className:"font-mono text-xs text-gray-600",children:w.transactionId||"-"})]},w.id))})]})}),x>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",g+1," a ",Math.min(g+d,m.length)," de ",m.length," pagamentos"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>c(Math.max(1,l-1)),disabled:l===1,children:"Anterior"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[Array.from({length:Math.min(5,x)},(w,C)=>{const F=l<=3?C+1:l-2+C;return F<=x?n.jsx(Z,{variant:l===F?"default":"outline",size:"sm",onClick:()=>c(F),className:"w-8 h-8 p-0",children:F},F):null}),x>5&&l<x-2&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>c(x),className:"w-8 h-8 p-0",children:x})]})]}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>c(Math.min(x,l+1)),disabled:l===x,children:"Prxima"})]})]})]})]})]})}function Zbt(){var N,I,M,O,k;const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState(!1),[o,l]=B.useState(null),[c,d]=B.useState({date:new Date().toISOString().split("T")[0],name:"",amount:"",category:"",description:""}),{toast:u}=en(),{data:h,isLoading:f}=pt({queryKey:["/api/finance/expenses"]}),A=jt({mutationFn:async P=>{const R=await fetch("/api/finance/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:P.name,amount:parseFloat(P.amount).toFixed(2),category:P.category,date:P.date,description:P.description||"",status:"recorded"})});if(!R.ok)throw new Error("Erro ao criar despesa");return R.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/finance/expenses"]}),i(!1),d({date:new Date().toISOString().split("T")[0],name:"",amount:"",category:"",description:""}),l(null),u({title:"Sucesso!",description:"Nota de despesa criada com sucesso"})},onError:()=>{u({title:"Erro",description:"No foi possvel criar a nota de despesa",variant:"destructive"})}}),p=P=>{const R={operational:n.jsx(Mr,{className:"h-4 w-4"}),marketing:n.jsx(Sm,{className:"h-4 w-4"}),travel:n.jsx(ps,{className:"h-4 w-4"}),equipment:n.jsx(tb,{className:"h-4 w-4"}),material:n.jsx(tb,{className:"h-4 w-4"}),transport:n.jsx(ps,{className:"h-4 w-4"}),other:n.jsx(Pn,{className:"h-4 w-4"})};return R[P]||R.other},m=P=>({operational:"Operacional",marketing:"Marketing",travel:"Viagem",equipment:"Equipamento",material:"Material",transport:"Transporte",other:"Outros"})[P]||P,x=(N=h||[])==null?void 0:N.filter(P=>{var D,Y;const R=r==="all"||P.status===r,V=e===""||((D=P.description)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))||((Y=P.name)==null?void 0:Y.toLowerCase().includes(e.toLowerCase()));return R&&V}),g=()=>{c.name&&c.amount&&c.category&&A.mutate({...c,amount:parseFloat(c.amount).toFixed(2),date:new Date(c.date)})},[v,y]=B.useState(!1),[j,b]=B.useState(null),w=P=>{b(P),y(!0)},C=((I=h||[])==null?void 0:I.reduce((P,R)=>P+parseFloat(R.amount||"0"),0))||0,F=((M=h||[])==null?void 0:M.filter(P=>P.status==="approved").length)||0,E=((O=h||[])==null?void 0:O.filter(P=>P.status==="pending").length)||0,L=((k=h||[])==null?void 0:k.filter(P=>{if(!P.createdAt&&!P.date)return!1;const R=new Date(P.createdAt||P.date),V=new Date;return R.getMonth()===V.getMonth()&&R.getFullYear()===V.getFullYear()}).reduce((P,R)=>P+parseFloat(R.amount||"0"),0))||0;return f?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((P,R)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},R))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notas de Despesas"}),n.jsx("p",{className:"text-gray-600",children:"Controle de gastos e despesas da empresa"})]}),n.jsxs(rr,{open:s,onOpenChange:i,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Nova Despesa"]})}),n.jsxs(Jt,{className:"max-w-2xl",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Nova Nota de Despesa"}),n.jsx(lr,{children:"Registre uma nova despesa para controle interno"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"expense-date",children:["Data ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ie,{id:"expense-date",type:"date",value:c.date,onChange:P=>d(R=>({...R,date:P.target.value}))})]}),n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"expense-amount",children:["Valor ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ie,{id:"expense-amount",type:"number",step:"0.01",placeholder:"0,00",value:c.amount,onChange:P=>d(R=>({...R,amount:P.target.value}))})]})]}),n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"expense-category",children:["Categoria ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs($t,{value:c.category,onValueChange:P=>d(R=>({...R,category:P})),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione a categoria"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"operational",children:"Operacional"}),n.jsx(ge,{value:"marketing",children:"Marketing"}),n.jsx(ge,{value:"travel",children:"Viagem"}),n.jsx(ge,{value:"equipment",children:"Equipamento"}),n.jsx(ge,{value:"material",children:"Material"}),n.jsx(ge,{value:"transport",children:"Transporte"}),n.jsx(ge,{value:"other",children:"Outros"})]})]})]}),n.jsxs("div",{children:[n.jsxs(fe,{htmlFor:"expense-name",children:["Nome da Despesa ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ie,{id:"expense-name",placeholder:"Nome da despesa...",value:c.name,onChange:P=>d(R=>({...R,name:P.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"expense-description",children:"Descrio (Opcional)"}),n.jsx(Jn,{id:"expense-description",placeholder:"Descrio adicional...",value:c.description,onChange:P=>d(R=>({...R,description:P.target.value})),rows:3})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"expense-attachment",children:"Comprovante (Opcional)"}),n.jsx(ie,{id:"expense-attachment",type:"file",onChange:P=>l(P.target.files?P.target.files[0]:null),accept:"image/*,.pdf"})]}),n.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Informaes Importantes"}),n.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[n.jsx("li",{children:" Esta nota  apenas para controle interno e no afeta clculos do sistema."}),n.jsx("li",{children:" Anexe o comprovante de despesa quando disponvel."})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(Z,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white px-6",onClick:g,disabled:!c.category||!c.name||!c.amount||A.isPending,children:A.isPending?"Salvando...":"Salvar Despesa"})]})]})]})]}),n.jsx(rr,{open:v,onOpenChange:y,children:n.jsxs(Jt,{className:"max-w-2xl",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes da Despesa"}),n.jsx(lr,{children:"Informaes completas da nota de despesa"})]}),j&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Data"}),n.jsx("p",{className:"text-sm font-semibold",children:j.date?new Date(j.date).toLocaleDateString("pt-BR"):j.createdAt?new Date(j.createdAt).toLocaleDateString("pt-BR"):"Data no informada"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Valor"}),n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["R$ ",parseFloat(j.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Categoria"}),n.jsxs("div",{className:"flex items-center mt-1",children:[p(j.category),n.jsx("span",{className:"ml-2 font-medium",children:m(j.category)})]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(Yt,{variant:j.status==="approved"?"default":"secondary",children:j.status==="approved"?"Aprovada":j.status==="recorded"?"Registrada":j.status==="pending"?"Pendente":j.status})})]})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Nome da Despesa"}),n.jsx("p",{className:"mt-1 font-semibold",children:j.name||j.description||"No informado"})]}),j.description&&j.name&&n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Descrio Adicional"}),n.jsx("p",{className:"mt-1 text-sm text-gray-700",children:j.description.replace(j.name,"").replace(" - ","").trim()||"Nenhuma descrio adicional"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-sm font-medium text-gray-600",children:"Comprovante"}),j.attachmentUrl?n.jsxs("div",{className:"mt-2 p-4 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pn,{className:"h-5 w-5 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Anexo disponvel"})]}),n.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>window.open(j.attachmentUrl,"_blank"),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Anexo"]})]}),j.attachmentUrl.match(/\.(jpg|jpeg|png|gif|webp)$/i)&&n.jsx("div",{className:"mt-3",children:n.jsx("img",{src:j.attachmentUrl,alt:"Comprovante da despesa",className:"max-w-full h-auto max-h-64 object-contain rounded border"})})]}):n.jsx("div",{className:"mt-2 p-4 border border-gray-200 rounded-lg bg-gray-50",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(mh,{className:"h-5 w-5 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Nenhum comprovante anexado"})]})})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs font-medium text-gray-500",children:"Criado em"}),n.jsx("p",{children:j.createdAt?new Date(j.createdAt).toLocaleString("pt-BR"):"No informado"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs font-medium text-gray-500",children:"Criado por"}),n.jsx("p",{children:j.createdBy||"Sistema"})]})]}),j.approvedBy&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 mt-2",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs font-medium text-gray-500",children:"Aprovado em"}),n.jsx("p",{children:j.approvedAt?new Date(j.approvedAt).toLocaleString("pt-BR"):"No informado"})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-xs font-medium text-gray-500",children:"Aprovado por"}),n.jsx("p",{children:j.approvedBy})]})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsx(Z,{variant:"outline",onClick:()=>y(!1),children:"Fechar"})})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Despesas"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",C.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Sm,{className:"h-6 w-6 text-red-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Este Ms"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",L.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(ps,{className:"h-6 w-6 text-orange-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprovadas"}),n.jsx("p",{className:"text-2xl font-bold gradient-text",children:F})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(tb,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold gradient-text",children:E})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Pn,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por nome ou descrio...",value:e,onChange:P=>t(P.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-[150px]",children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"approved",children:"Aprovada"})]})]})})]})})}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{children:["Despesas (",(x==null?void 0:x.length)||0,")"]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome da Despesa"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[x==null?void 0:x.map(P=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.date?new Date(P.date).toLocaleDateString("pt-BR"):P.createdAt?new Date(P.createdAt).toLocaleDateString("pt-BR"):"Data no informada"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center",children:[p(P.category),n.jsx("span",{className:"ml-2",children:m(P.category)})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:P.name||P.description}),P.description&&P.name&&n.jsx("div",{className:"text-gray-500 text-xs",children:P.description})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:["R$ ",parseFloat(P.amount||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>w(P),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver"]}),P.attachmentUrl&&n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>window.open(P.attachmentUrl,"_blank"),children:[n.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Anexo"]})]})})]},P.id)),(!x||x.length===0)&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"Nenhuma despesa encontrada"})})]})]})})})]})]})}function ejt(){const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState("all"),[o,l]=B.useState("all"),[c,d]=B.useState(null),[u,h]=B.useState(!1),[f,A]=B.useState(!1),[p,m]=B.useState(!1),[x,g]=B.useState(null),[v,y]=B.useState(new Set),[j,b]=B.useState(!1),[w,C]=B.useState(""),[F,E]=B.useState(""),[L,N]=B.useState("all"),{toast:I}=en(),{data:M,isLoading:O}=pt({queryKey:["/api/commissions"]}),{data:k}=pt({queryKey:["/api/vendors"]}),{data:P=[]}=pt({queryKey:["/api/branches"]}),{data:R}=pt({queryKey:["/api/partners"]}),V=jt({mutationFn:async se=>{const me=await fetch(`/api/commissions/${se}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paid"})});if(!me.ok)throw new Error("Erro ao marcar como pago");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),h(!1),I({title:"Sucesso!",description:"Comisso marcada como paga"})},onError:()=>{I({title:"Erro",description:"No foi possvel marcar como pago",variant:"destructive"})}});jt({mutationFn:async se=>{const me=await fetch(`/api/commissions/${se}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"cancelled"})});if(!me.ok)throw new Error("Erro ao cancelar comisso");return me.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),A(!1),I({title:"Sucesso!",description:"Comisso cancelada com sucesso"})},onError:se=>{I({title:"Erro",description:se.message,variant:"destructive"})}});const D=jt({mutationFn:async se=>{const me=se.map(xt=>fetch(`/api/commissions/${xt}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"paid"})})),nt=await Promise.all(me),Nt=[];for(let xt=0;xt<nt.length;xt++)nt[xt].ok||Nt.push(se[xt]);if(Nt.length>0)throw new Error(`Falha ao processar ${Nt.length} pagamento(s)`);return{success:!0,processed:se.length}},onSuccess:se=>{ct.invalidateQueries({queryKey:["/api/commissions"]}),b(!1),y(new Set),I({title:"Sucesso!",description:`${se.processed} comisses marcadas como pagas`})},onError:se=>{I({title:"Erro",description:se.message,variant:"destructive"})}}),Y=se=>{const me={pending:{label:"Pendente",className:"bg-yellow-100 text-yellow-800"},confirmed:{label:"Confirmada",className:"bg-blue-100 text-blue-800"},paid:{label:"Paga",className:"bg-green-100 text-green-800"},cancelled:{label:"Cancelada",className:"bg-red-100 text-red-800"}},nt=me[se]||me.pending;return n.jsx(Yt,{className:`capitalize ${nt.className}`,children:nt.label})},ne=se=>se==="vendor"?n.jsx(yye,{className:"h-4 w-4"}):n.jsx(ca,{className:"h-4 w-4"}),S=se=>{if(se.vendorName)return se.vendorName;if(se.partnerName)return se.partnerName;if(se.type==="vendor"){const me=k==null?void 0:k.find(nt=>nt.id===se.vendorId);return(me==null?void 0:me.name)||"Vendedor no encontrado"}if(se.type==="partner"){const me=R==null?void 0:R.find(nt=>nt.id===se.partnerId);return(me==null?void 0:me.name)||"Scio no encontrado"}return"Usurio no identificado"},z=M==null?void 0:M.filter(se=>{var ze;const me=r==="all"||se.status===r,nt=s==="all"||se.type===s,Nt=S(se),xt=e===""||Nt.toLowerCase().includes(e.toLowerCase())||((ze=se.orderNumber)==null?void 0:ze.toLowerCase().includes(e.toLowerCase())),Ne=o==="all"||se.branchId===o||o==="matriz"&&(!se.branchId||se.branchId==="matriz"),le=L==="all"||se.vendorId===L||se.partnerId===L;let Fe=!0;if(w&&se.createdAt&&(Fe=Fe&&new Date(se.createdAt)>=new Date(w)),F&&se.createdAt){const je=new Date(F);je.setHours(23,59,59,999),Fe=Fe&&new Date(se.createdAt)<=je}return me&&nt&&xt&&Ne&&le&&Fe}),Q=M?Array.from(new Set(M.map(se=>{const me=se.vendorId||se.partnerId,nt=S(se);return JSON.stringify({id:me,name:nt})}))).map(se=>JSON.parse(se)):[],W=se=>{d(se),h(!0)},U=se=>{g(se),m(!0)},re=()=>{c&&V.mutate(c.id)},de=(se,me)=>{const nt=new Set(v);me?nt.add(se):nt.delete(se),y(nt)},ae=(se,me)=>{if(me){const nt=se.filter(Nt=>["pending","confirmed"].includes(Nt.status)).map(Nt=>Nt.id);y(new Set(nt))}else y(new Set)},Ae=()=>{v.size>0&&b(!0)},Me=()=>{const se=Array.from(v);D.mutate(se)},H=(M==null?void 0:M.filter(se=>se.type==="vendor"))||[],Oe=(M==null?void 0:M.filter(se=>se.type==="partner"))||[],Ee=(M==null?void 0:M.reduce((se,me)=>se+parseFloat(me.amount),0))||0,ee=(M==null?void 0:M.filter(se=>se.status==="paid").reduce((se,me)=>se+parseFloat(me.amount),0))||0,st=(M==null?void 0:M.filter(se=>["pending","confirmed"].includes(se.status)).reduce((se,me)=>se+parseFloat(me.amount),0))||0;return O?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((se,me)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},me))}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pagamento de Comisses"}),n.jsx("p",{className:"text-gray-600",children:"Controle de todas as comisses do sistema"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Comisses"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",Ee.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"J Pagas"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",ee.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Li,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"A Pagar"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:["R$ ",st.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(ps,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendedores/Scios"}),n.jsxs("p",{className:"text-2xl font-bold gradient-text",children:[H.length," / ",Oe.length]})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(ca,{className:"h-6 w-6 text-purple-600"})})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por nome ou nmero do pedido...",value:e,onChange:se=>t(se.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{placeholder:"Status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Status"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"confirmed",children:"Confirmada"}),n.jsx(ge,{value:"paid",children:"Paga"}),n.jsx(ge,{value:"cancelled",children:"Cancelada"})]})]}),n.jsxs($t,{value:s,onValueChange:i,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{placeholder:"Tipo"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Tipos"}),n.jsx(ge,{value:"vendor",children:"Vendedor"}),n.jsx(ge,{value:"partner",children:"Scio"})]})]}),n.jsxs($t,{value:L,onValueChange:N,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{placeholder:"Usurio"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos Usurios"}),Q.map(se=>n.jsx(ge,{value:se.id,children:se.name},se.id))]})]}),n.jsxs($t,{value:o,onValueChange:l,children:[n.jsx(Mt,{className:"w-full",children:n.jsx(Ht,{placeholder:"Filial"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas Filiais"}),n.jsx(ge,{value:"matriz",children:"Matriz"}),P.map(se=>n.jsxs(ge,{value:se.id,children:[se.name," - ",se.city]},se.id))]})]})]})]}),n.jsx("div",{className:"flex flex-col md:flex-row items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[n.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:"Perodo:"}),n.jsx(ie,{type:"date",value:w,onChange:se=>C(se.target.value),className:"w-full md:w-[150px]"}),n.jsx("span",{className:"text-sm text-gray-500",children:"at"}),n.jsx(ie,{type:"date",value:F,onChange:se=>E(se.target.value),className:"w-full md:w-[150px]"}),(w||F||L!=="all")&&n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{C(""),E(""),N("all")},className:"text-gray-500",children:"Limpar"})]})})]}),v.size>0&&n.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(By,{className:"h-5 w-5 text-blue-600"}),n.jsxs("span",{className:"text-blue-700 font-medium",children:[v.size," comisso(es) selecionada(s)"]})]}),n.jsxs(Z,{onClick:Ae,className:"gradient-bg text-white",disabled:D.isPending,children:[n.jsx(lo,{className:"h-4 w-4 mr-2"}),D.isPending?"Processando...":"Pagar Selecionadas"]})]})]})}),n.jsxs(mu,{defaultValue:"all",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-3",children:[n.jsxs(Vn,{value:"all",children:["Todas (",(z==null?void 0:z.length)||0,")"]}),n.jsxs(Vn,{value:"vendor",children:["Vendedores (",H.length,")"]}),n.jsxs(Vn,{value:"partner",children:["Scios (",Oe.length,")"]})]}),n.jsx(Kn,{value:"all",children:n.jsx(AT,{commissions:z,getUserName:S,getStatusBadge:Y,getTypeIcon:ne,onMarkAsPaid:W,onViewCommission:U,selectedCommissions:v,onSelectCommission:de,onSelectAll:ae})}),n.jsx(Kn,{value:"vendor",children:n.jsx(AT,{commissions:z==null?void 0:z.filter(se=>se.type==="vendor"),getUserName:S,getStatusBadge:Y,getTypeIcon:ne,onMarkAsPaid:W,onViewCommission:U,selectedCommissions:v,onSelectCommission:de,onSelectAll:ae})}),n.jsx(Kn,{value:"partner",children:n.jsx(AT,{commissions:z==null?void 0:z.filter(se=>se.type==="partner"),getUserName:S,getStatusBadge:Y,getTypeIcon:ne,onMarkAsPaid:W,onViewCommission:U,selectedCommissions:v,onSelectCommission:de,onSelectAll:ae})})]}),n.jsx(rr,{open:u,onOpenChange:h,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Confirmar Pagamento"}),n.jsx(lr,{children:"Tem certeza que deseja marcar esta comisso como paga?"})]}),c&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Tipo:"})," ",c.type==="vendor"?"Vendedor":"Scio"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nome:"})," ",S(c)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Valor:"})," R$ ",parseFloat(c.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Pedido:"})," ",c.orderNumber||"N/A"]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:re,disabled:V.isPending,children:V.isPending?"Processando...":"Confirmar Pagamento"})]})]})]})}),n.jsx(rr,{open:j,onOpenChange:b,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Confirmar Pagamento em Lote"}),n.jsxs(lr,{children:["Tem certeza que deseja marcar ",v.size," comisses como pagas?"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"text-yellow-600 mt-1",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-800 font-medium",children:"Ateno"}),n.jsxs("p",{className:"text-yellow-700 text-sm",children:["Esta ao marcar ",v.size," comisses como pagas e no poder ser desfeita."]})]})]})}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Total de comisses:"})," ",v.size]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Valor total:"})," R$ ",(M==null?void 0:M.filter(se=>v.has(se.id)).reduce((se,me)=>se+parseFloat(me.amount),0).toLocaleString("pt-BR",{minimumFractionDigits:2}))||"0,00"]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:Me,disabled:D.isPending,children:D.isPending?"Processando...":"Confirmar Pagamentos"})]})]})]})}),n.jsx(rr,{open:p,onOpenChange:m,children:n.jsxs(Jt,{className:"max-w-lg",children:[n.jsx(Zt,{children:n.jsx(er,{children:"Detalhes da Comisso"})}),x&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Tipo"}),n.jsx("p",{className:"font-medium",children:x.type==="vendor"?"Vendedor":"Scio"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Nome"}),n.jsx("p",{className:"font-medium",children:S(x)})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pedido"}),n.jsx("p",{className:"font-medium",children:x.orderNumber||"N/A"})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Percentual"}),n.jsxs("p",{className:"font-medium",children:[x.percentage,"%"]})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Valor do Pedido"}),n.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(x.orderValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Valor Comisso"}),n.jsxs("p",{className:"font-bold text-green-700",children:["R$ ",parseFloat(x.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("div",{className:"mt-1",children:Y(x.status)})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Criada em"}),n.jsx("p",{className:"font-medium",children:x.createdAt?new Date(x.createdAt).toLocaleDateString("pt-BR"):"-"})]}),x.paidAt&&n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Paga em"}),n.jsx("p",{className:"font-medium",children:new Date(x.paidAt).toLocaleDateString("pt-BR")})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Z,{variant:"outline",onClick:()=>m(!1),children:"Fechar"})})]})]})})]})}function AT({commissions:e,getUserName:t,getStatusBadge:r,getTypeIcon:a,onMarkAsPaid:s,onViewCommission:i,selectedCommissions:o,onSelectCommission:l,onSelectAll:c}){const d=(e==null?void 0:e.filter(h=>["pending","confirmed"].includes(h.status)))||[],u=d.length>0&&d.every(h=>o.has(h.id));return n.jsx(Le,{children:n.jsx(Re,{children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uu,{checked:u,onCheckedChange:h=>c(d,!!h),disabled:d.length===0}),n.jsx("span",{children:"Selecionar"})]})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e==null?void 0:e.map(h=>{var A;const f=["pending","confirmed"].includes(h.status);return n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsx(uu,{checked:o.has(h.id),onCheckedChange:p=>l(h.id,!!p),disabled:!f})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center",children:[a(h.type),n.jsx("span",{className:"ml-2 capitalize",children:h.type==="vendor"?"Vendedor":"Scio"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:t(h)}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:h.orderNumber||((A=h.orderId)==null?void 0:A.slice(-6))||"N/A"}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 font-semibold",children:["R$ ",parseFloat(h.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r(h.status)}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:h.createdAt?new Date(h.createdAt).toLocaleDateString("pt-BR"):"-"}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>i(h),children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver"]}),["pending","confirmed"].includes(h.status)&&n.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>s(h),className:"text-green-600 hover:text-green-700",children:[n.jsx(lo,{className:"h-4 w-4 mr-1"}),"Pagar"]})]})})]},h.id)})})]}),(!e||e.length===0)&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma comisso encontrada"})]})})})}function tjt(){const[e,t]=B.useState(!1),[r,a]=B.useState(null),[s,i]=B.useState(!1),[o,l]=B.useState(null),[c,d]=B.useState([]),[u,h]=B.useState(!1),[f,A]=B.useState({description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0]}),{toast:p}=en(),{data:m,isLoading:x}=pt({queryKey:["/api/finance/reconciliation"]}),{data:g}=pt({queryKey:["/api/finance/bank-transactions"]}),{data:v}=pt({queryKey:["/api/finance/expenses"]}),{data:y}=pt({queryKey:["/api/finance/pending-orders"]}),j=jt({mutationFn:async D=>{const Y=new FormData;Y.append("file",D);const ne=await fetch("/api/finance/ofx-import",{method:"POST",body:Y});if(!ne.ok)throw new Error("Erro ao importar arquivo OFX");return ne.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/finance/reconciliation"]}),ct.invalidateQueries({queryKey:["/api/finance/bank-transactions"]}),t(!1),a(null),p({title:"Sucesso!",description:"Arquivo OFX importado com sucesso"})},onError:()=>{p({title:"Erro",description:"No foi possvel importar o arquivo OFX",variant:"destructive"})}}),b=jt({mutationFn:async D=>{const Y=await fetch("/api/finance/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...D,amount:parseFloat(D.amount).toFixed(2),date:new Date(D.date),status:"recorded",createdBy:"current-user"})});if(!Y.ok)throw new Error("Erro ao criar lanamento de gasto");return Y.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/finance/expenses"]}),i(!1),A({description:"",amount:"",category:"",date:new Date().toISOString().split("T")[0]}),p({title:"Sucesso!",description:"Lanamento de gasto criado com sucesso"})},onError:()=>{p({title:"Erro",description:"No foi possvel criar o lanamento de gasto",variant:"destructive"})}}),w=jt({mutationFn:async({transactionId:D,orderId:Y,amount:ne})=>{const S=await fetch("/api/finance/associate-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionId:D,orderId:Y,amount:parseFloat(ne).toFixed(2)})});if(!S.ok){const z=await S.json();throw new Error(z.error||"Erro ao associar pagamento")}return S.json()},onSuccess:D=>{ct.invalidateQueries({queryKey:["/api/finance/bank-transactions"]}),ct.invalidateQueries({queryKey:["/api/finance/pending-orders"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),ct.invalidateQueries({queryKey:["/api/finance/reconciliation"]}),ct.invalidateQueries({queryKey:["/api/payments"]}),h(!1),l(null),d([]),p({title:"Sucesso!",description:`Pagamento de R$ ${parseFloat(D.payment.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})} confirmado para o pedido ${o==null?void 0:o.orderNumber}`})},onError:D=>{p({title:"Erro",description:D.message||"No foi possvel associar o pagamento",variant:"destructive"})}}),C=jt({mutationFn:async({transactions:D,orderId:Y,totalAmount:ne})=>{if(!D||!Array.isArray(D)||D.length===0)throw new Error("Nenhuma transao selecionada");if(!Y)throw new Error("ID do pedido no informado");const S={transactions:D.map((U,re)=>{if(!U||!U.id)throw new Error(`Transao ${re+1} no tem ID vlido`);if(!U.amount&&U.amount!==0)throw new Error(`Transao ${re+1} no tem valor vlido`);const de=parseFloat(U.amount.toString());if(isNaN(de))throw new Error(`Transao ${re+1} tem valor invlido: ${U.amount}`);return{transactionId:U.id,amount:de}}),orderId:Y,totalAmount:parseFloat(ne.toString())},z=await fetch("/api/finance/associate-multiple-payments",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(S)}),Q=await z.text();let W;try{W=JSON.parse(Q)}catch{throw new Error(`Resposta invlida do servidor: ${Q.substring(0,100)}...`)}if(!z.ok){const U=(W==null?void 0:W.error)||(W==null?void 0:W.message)||`Erro HTTP ${z.status}`;throw new Error(U)}if(!W.success)throw new Error(W.error||"Falha na operao");return W},onSuccess:D=>{ct.invalidateQueries({queryKey:["/api/finance/bank-transactions"]}),ct.invalidateQueries({queryKey:["/api/finance/pending-orders"]}),ct.invalidateQueries({queryKey:["/api/orders"]}),ct.invalidateQueries({queryKey:["/api/finance/reconciliation"]}),ct.invalidateQueries({queryKey:["/api/payments"]}),h(!1),l(null),d([]);let Y=`${D.paymentsCreated} pagamentos totalizando R$ ${parseFloat(D.totalAmount).toLocaleString("pt-BR",{minimumFractionDigits:2})} confirmados para o pedido ${o==null?void 0:o.orderNumber}`;D.errors&&D.errors.length>0&&(Y+=`

Avisos: ${D.errors.join("; ")}`),p({title:"Conciliao Realizada!",description:Y})},onError:D=>{p({title:"Erro na Conciliao",description:D.message||"No foi possvel associar os pagamentos. Verifique os dados e tente novamente.",variant:"destructive"})}}),F=D=>{var ne;const Y=(ne=D.target.files)==null?void 0:ne[0];Y&&(Y.name.endsWith(".ofx")||Y.name.endsWith(".OFX"))?a(Y):p({title:"Arquivo invlido",description:"Por favor, selecione um arquivo OFX vlido",variant:"destructive"})},E=()=>{r&&j.mutate(r)},L=()=>{f.description&&f.amount&&f.category&&b.mutate(f)},N=D=>{l(D),d([]),h(!0)},I=()=>{if(!o||c.length===0){p({title:"Erro de Validao",description:"Selecione um pedido e pelo menos uma transao para confirmar o pagamento",variant:"destructive"});return}const D=c.filter(S=>!S||!S.id||!S.amount||isNaN(parseFloat(S.amount)));if(D.length>0){p({title:"Erro de Validao",description:`${D.length} transao(es) com dados invlidos. Verifique as transaes selecionadas.`,variant:"destructive"});return}const Y=c.reduce((S,z)=>{const Q=parseFloat(z.amount);return S+(isNaN(Q)?0:Q)},0);if(Y<=0){p({title:"Erro de Validao",description:"O valor total das transaes deve ser maior que zero",variant:"destructive"});return}const ne=parseFloat(o.totalValue)-parseFloat(o.paidValue||"0");Y>ne+ne*.05&&p({title:"Ateno",description:`O valor total das transaes (R$ ${Y.toLocaleString("pt-BR",{minimumFractionDigits:2})})  maior que o saldo devedor (R$ ${ne.toLocaleString("pt-BR",{minimumFractionDigits:2})}). Deseja continuar?`,variant:"destructive"}),C.mutate({transactions:c,orderId:o.id,totalAmount:Y.toFixed(2)})},M=D=>{if(!g)return[];const Y=.05;return g.filter(ne=>{const S=parseFloat(ne.amount),z=ne.status==="unmatched"||!ne.status,Q=S>0||ne.type==="credit",W=Math.abs(Math.abs(S)-D)<=D*Y;return console.log(`Transaction ${ne.id}: amount=${S}, type=${ne.type}, isCredit=${Q}, isCompatible=${W}, isUnmatched=${z}`),z&&Q&&W})},O=()=>g?g.filter(D=>{const Y=parseFloat(D.amount),ne=D.status==="unmatched"||!D.status,S=Y>0||D.type==="credit";return ne&&S}):[],k=D=>D.filter(Y=>!c.find(ne=>ne.id===Y.id)),P=D=>{const Y=k(D);d(ne=>[...ne,...Y])};if(x)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((D,Y)=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},Y))})]})});const R=(g==null?void 0:g.filter(D=>D.status==="unmatched"))||[],V=(g==null?void 0:g.filter(D=>D.status==="matched"))||[];return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conciliao Bancria"}),n.jsx("p",{className:"text-gray-600",children:"Importao de extratos OFX e associao de pagamentos aos pedidos"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"gradient-bg text-white",children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar OFX"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Importar Arquivo OFX"}),n.jsx(lr,{children:"Selecione o arquivo OFX do seu banco para importar as transaes"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"ofx-file",children:"Arquivo OFX"}),n.jsx(ie,{id:"ofx-file",type:"file",accept:".ofx,.OFX",onChange:F})]}),r&&n.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[n.jsx(Pn,{className:"h-5 w-5 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:r.name})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:E,disabled:!r||j.isPending,children:j.isPending?"Importando...":"Importar"})]})]})]})]}),n.jsxs(rr,{open:s,onOpenChange:i,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{variant:"outline",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Lanar Gasto"]})}),n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Lanamento de Gasto"}),n.jsx(lr,{children:"Registre um gasto avulso ou despesa no relacionada a pedidos"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"expense-date",children:"Data"}),n.jsx(ie,{id:"expense-date",type:"date",value:f.date,onChange:D=>A(Y=>({...Y,date:D.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"expense-description",children:"Descrio"}),n.jsx(ie,{id:"expense-description",placeholder:"Descreva o gasto...",value:f.description,onChange:D=>A(Y=>({...Y,description:D.target.value}))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"expense-amount",children:"Valor (R$)"}),n.jsx(ie,{id:"expense-amount",type:"number",step:"0.01",placeholder:"0,00",value:f.amount,onChange:D=>A(Y=>({...Y,amount:D.target.value}))})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"expense-category",children:"Categoria"}),n.jsxs("select",{id:"expense-category",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:f.category,onChange:D=>A(Y=>({...Y,category:D.target.value})),children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"operational",children:"Operacional"}),n.jsx("option",{value:"marketing",children:"Marketing"}),n.jsx("option",{value:"travel",children:"Viagem"}),n.jsx("option",{value:"equipment",children:"Equipamento"}),n.jsx("option",{value:"supplies",children:"Material"}),n.jsx("option",{value:"services",children:"Servios"}),n.jsx("option",{value:"other",children:"Outros"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:L,disabled:!f.description||!f.amount||!f.category||b.isPending,children:b.isPending?"Salvando...":"Salvar Gasto"})]})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Transaes Conciliadas"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:V.length})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Bn,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:R.length})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(mh,{className:"h-6 w-6 text-yellow-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos c/ Saldo"}),n.jsx("p",{className:"text-3xl font-bold gradient-text",children:(y==null?void 0:y.length)||0})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(Le,{className:"card-hover",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Gastos do Ms"}),n.jsxs("p",{className:"text-3xl font-bold gradient-text",children:["R$ ",((v==null?void 0:v.filter(D=>{const Y=new Date(D.date).getMonth(),ne=new Date().getMonth();return Y===ne}).reduce((D,Y)=>D+parseFloat(Y.amount),0))||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Pn,{className:"h-6 w-6 text-red-600"})})]})})})]}),n.jsxs(Le,{className:"mb-8",children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),"Conciliao de Pagamentos dos Pedidos"]})}),n.jsx(Re,{children:n.jsxs(mu,{defaultValue:"awaiting-down-payment",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-2",children:[n.jsxs(Vn,{value:"awaiting-down-payment",className:"flex items-center gap-2",children:[n.jsx(Un,{className:"h-4 w-4"}),"Aguardando Entrada (",(y==null?void 0:y.filter(D=>parseFloat(D.paidValue||"0")===0).length)||0,")"]}),n.jsxs(Vn,{value:"awaiting-final-payment",className:"flex items-center gap-2",children:[n.jsx(lo,{className:"h-4 w-4"}),"Aguardando Finalizao (",(y==null?void 0:y.filter(D=>parseFloat(D.paidValue||"0")>0).length)||0,")"]})]}),n.jsx(Kn,{value:"awaiting-down-payment",className:"mt-6",children:n.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[(y==null?void 0:y.filter(D=>parseFloat(D.paidValue||"0")===0).map(D=>{const Y=parseFloat(D.totalValue)-parseFloat(D.paidValue||"0");let ne=0,S=Y;D.budgetInfo&&D.budgetInfo.downPayment&&(ne=parseFloat(D.budgetInfo.downPayment),S=ne);const z=M(S);return n.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200 hover:border-orange-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:D.orderNumber}),n.jsx("p",{className:"text-sm text-gray-600",children:D.clientName}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Criado em: ",new Date(D.createdAt).toLocaleDateString("pt-BR")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["R$ ",Y.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Total: R$ ",parseFloat(D.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),ne>0&&n.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Entrada esperada: R$ ",ne.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),ne===0&&n.jsx("p",{className:"text-xs text-orange-600",children:"Aguardando entrada"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-600",children:ne>0?n.jsxs("span",{className:"text-blue-600",children:["Entrada oramento: R$ ",ne.toLocaleString("pt-BR",{minimumFractionDigits:2})," (",Math.round(ne/parseFloat(D.totalValue)*100),"%)"]}):n.jsx("span",{className:"text-orange-600",children:"Aguardando definio de entrada"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[z.length>0&&n.jsxs(Yt,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:[z.length," transao",z.length!==1?"es":""," compatvel",z.length!==1?"is":"",ne>0&&n.jsxs("span",{className:"ml-1",children:["(R$ ",S.toLocaleString("pt-BR",{minimumFractionDigits:2}),")"]})]}),O().length>0&&z.length===0&&n.jsxs(Yt,{variant:"outline",className:"text-xs bg-yellow-50 text-yellow-800 border-yellow-200",children:[O().length," transao",O().length!==1?"es":""," disponvel",O().length!==1?"is":""]}),n.jsxs(Z,{size:"sm",onClick:()=>N(D),className:"gradient-bg text-white hover:opacity-90",disabled:!g||g.filter(Q=>(Q.status==="unmatched"||!Q.status)&&parseFloat(Q.amount)>0).length===0,children:[n.jsx(eb,{className:"h-3 w-3 mr-1"}),"Confirmar Entrada"]})]})]})]},D.id)}))||[],(!(y!=null&&y.filter(D=>parseFloat(D.paidValue||"0")===0))||y.filter(D=>parseFloat(D.paidValue||"0")===0).length===0)&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Un,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Nenhum pedido aguardando entrada"}),n.jsx("p",{className:"text-xs",children:"Todos os pedidos j receberam o pagamento inicial"})]})]})}),n.jsx(Kn,{value:"awaiting-final-payment",className:"mt-6",children:n.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[(y==null?void 0:y.filter(D=>parseFloat(D.paidValue||"0")>0).map(D=>{const Y=parseFloat(D.totalValue)-parseFloat(D.paidValue||"0"),ne=M(Y);return n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 hover:border-blue-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:D.orderNumber}),n.jsx("p",{className:"text-sm text-gray-600",children:D.clientName}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Criado em: ",new Date(D.createdAt).toLocaleDateString("pt-BR")]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["R$ ",Y.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Total: R$ ",parseFloat(D.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("p",{className:"text-xs text-green-600",children:["Pago: R$ ",parseFloat(D.paidValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("span",{className:"text-green-600",children:[Math.round(parseFloat(D.paidValue)/parseFloat(D.totalValue)*100),"% pago"]}),n.jsxs("span",{className:"text-blue-600 ml-2",children:["Aguardando R$ ",Y.toLocaleString("pt-BR",{minimumFractionDigits:2})," para finalizao"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[ne.length>0&&n.jsxs(Yt,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:[ne.length," transao",ne.length!==1?"es":""," compatvel",ne.length!==1?"is":""]}),O().length>0&&ne.length===0&&n.jsxs(Yt,{variant:"outline",className:"text-xs bg-yellow-50 text-yellow-800 border-yellow-200",children:[O().length," transao",O().length!==1?"es":""," disponvel",O().length!==1?"is":""]}),n.jsxs(Z,{size:"sm",onClick:()=>N(D),className:"gradient-bg text-white hover:opacity-90",disabled:!g||g.filter(S=>(S.status==="unmatched"||!S.status)&&parseFloat(S.amount)>0).length===0,children:[n.jsx(eb,{className:"h-3 w-3 mr-1"}),"Confirmar Pagamento Final"]})]})]})]},D.id)}))||[],(!(y!=null&&y.filter(D=>parseFloat(D.paidValue||"0")>0))||y.filter(D=>parseFloat(D.paidValue||"0")>0).length===0)&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(lo,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Nenhum pedido aguardando pagamento final"}),n.jsx("p",{className:"text-xs",children:"Todos os pedidos esto aguardando entrada ou j foram finalizados"})]})]})})]})})]}),n.jsx(rr,{open:u,onOpenChange:h,children:n.jsxs(Jt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsxs(er,{className:"flex items-center gap-2",children:[n.jsx(eb,{className:"h-5 w-5"}),"Confirmar Pagamento do Pedido"]}),n.jsx(lr,{children:"Selecione a transao bancria que corresponde ao pagamento deste pedido. O sistema criar automaticamente o registro de pagamento."})]}),o&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:" Pedido Selecionado"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Nmero:"})," ",o.orderNumber]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Cliente:"})," ",o.clientName]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Valor Total:"}),n.jsxs("span",{className:"font-bold",children:[" R$ ",parseFloat(o.totalValue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"J Pago:"}),n.jsxs("span",{className:"font-bold",children:[" R$ ",parseFloat(o.paidValue||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),o.budgetInfo&&o.budgetInfo.downPayment>0&&parseFloat(o.paidValue||"0")===0&&n.jsxs("div",{className:"col-span-2 p-2 bg-green-50 rounded border border-green-200",children:[n.jsx("span",{className:"text-green-700 font-medium",children:" Entrada Esperada (Oramento):"}),n.jsxs("span",{className:"font-bold text-green-800",children:[" R$ ",o.budgetInfo.downPayment.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Entrada registrada no oramento original - procure transaes com este valor"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Saldo Devedor:"}),n.jsxs("span",{className:"font-bold text-red-600",children:[" R$ ",(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),c.length>0&&n.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsxs("h4",{className:"font-semibold text-green-900 mb-2",children:[" ",c.length," Transao",c.length!==1?"es":""," Selecionada",c.length!==1?"s":""]}),n.jsxs("div",{className:"space-y-3",children:[c.map((D,Y)=>n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm p-3 bg-white rounded border",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-green-700 font-medium",children:["#",Y+1," Data:"]})," ",(()=>{if(!D.date)return"Data no disponvel";try{const ne=new Date(D.date);return isNaN(ne.getTime())?"Data invlida":ne.toLocaleDateString("pt-BR")}catch{return"Data invlida"}})()]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-green-700 font-medium",children:"Valor:"}),n.jsxs("span",{className:"font-bold",children:[" R$ ",parseFloat(D.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-green-700 font-medium",children:"Descrio:"})," ",D.description]})]},D.id)),o&&n.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded border border-blue-200",children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Resumo dos Pagamentos:"}),n.jsxs("div",{className:"text-sm mt-2 grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Total das transaes: "}),n.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",c.reduce((D,Y)=>D+parseFloat(Y.amount),0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Saldo devedor: "}),n.jsxs("span",{className:"font-medium",children:["R$ ",(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-600",children:"Saldo aps pagamentos: "}),n.jsxs("span",{className:`font-medium ${parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")-c.reduce((D,Y)=>D+parseFloat(Y.amount),0)<=0?"text-green-600":"text-orange-600"}`,children:["R$ ",Math.max(0,parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")-c.reduce((D,Y)=>D+parseFloat(Y.amount),0)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]})]}),n.jsx("div",{children:o.budgetInfo&&o.budgetInfo.downPayment>0&&parseFloat(o.paidValue||"0")===0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-green-100 text-green-600 rounded-full text-xs font-bold",children:M(o.budgetInfo.downPayment).length})," Transaes Compatveis com Entrada (R$ ",o.budgetInfo.downPayment.toLocaleString("pt-BR",{minimumFractionDigits:2}),")"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>P(M(o.budgetInfo.downPayment)),disabled:k(M(o.budgetInfo.downPayment)).length===0,className:"text-xs",children:"Selecionar Todas"})})]}),n.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-2 bg-green-50",children:[M(o.budgetInfo.downPayment).map(D=>n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${c.find(Y=>Y.id===D.id)?"border-green-500 bg-green-100 shadow-md":"border-green-200 hover:bg-white hover:shadow-sm"}`,onClick:()=>{const Y=c.find(ne=>ne.id===D.id);d(Y?ne=>ne.filter(S=>S.id!==D.id):ne=>[...ne,D])},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:!!c.find(Y=>Y.id===D.id),onChange:()=>{},className:"h-4 w-4 text-green-600 rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(()=>{if(!D.date)return"Data no disponvel";try{const Y=new Date(D.date);return isNaN(Y.getTime())?"Data invlida":Y.toLocaleDateString("pt-BR")}catch{return"Data invlida"}})()}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[250px]",children:D.description}),n.jsx("div",{className:"text-xs text-green-600 font-medium mt-1",children:" Corresponde  entrada esperada"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",parseFloat(D.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),D.bankRef&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",D.bankRef]})]})]})},D.id)),M(o.budgetInfo.downPayment).length===0&&n.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nenhuma transao com valor da entrada encontrada"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-blue-100 text-blue-600 rounded-full text-xs font-bold",children:M(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).length}),"Transaes Compatveis (valor similar ao saldo devedor)"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>P(M(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0"))),disabled:k(M(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0"))).length===0,className:"text-xs",children:"Selecionar Todas"})})]}),n.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-2 bg-gray-50",children:[M(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).map(D=>n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${c.find(Y=>Y.id===D.id)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:bg-white hover:shadow-sm"}`,onClick:()=>{const Y=c.find(ne=>ne.id===D.id);d(Y?ne=>ne.filter(S=>S.id!==D.id):ne=>[...ne,D])},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:!!c.find(Y=>Y.id===D.id),onChange:()=>{},className:"h-4 w-4 text-blue-600 rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(()=>{if(!D.date)return"Data no disponvel";try{const Y=new Date(D.date);return isNaN(Y.getTime())?"Data invlida":Y.toLocaleDateString("pt-BR")}catch{return"Data invlida"}})()}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[250px]",children:D.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",parseFloat(D.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),D.bankRef&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",D.bankRef]})]})]})},D.id)),M(parseFloat(o.totalValue)-parseFloat(o.paidValue||"0")).length===0&&n.jsx("p",{className:"text-center text-gray-500 py-4",children:"Nenhuma transao compatvel encontrada"})]})]})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-100 text-gray-600 rounded-full text-xs font-bold",children:O().length}),"Todas as Transaes No Conciliadas"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>P(O()),disabled:k(O()).length===0,className:"text-xs",children:"Selecionar Todas"})})]}),n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-2 bg-gray-50",children:O().map(D=>n.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${c.find(Y=>Y.id===D.id)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:bg-white hover:shadow-sm"}`,onClick:()=>{const Y=c.find(ne=>ne.id===D.id);d(Y?ne=>ne.filter(S=>S.id!==D.id):ne=>[...ne,D])},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:!!c.find(Y=>Y.id===D.id),onChange:()=>{},className:"h-4 w-4 text-blue-600 rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(()=>{if(!D.date)return"Data no disponvel";try{const Y=new Date(D.date);return isNaN(Y.getTime())?"Data invlida":Y.toLocaleDateString("pt-BR")}catch{return"Data invlida"}})()}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[250px]",children:D.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",parseFloat(D.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),D.bankRef&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",D.bankRef]})]})]})},D.id))})]}),n.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[n.jsx("div",{className:"flex space-x-2",children:c.length>0&&n.jsxs(Z,{variant:"outline",onClick:()=>d([]),className:"text-orange-600 hover:text-orange-700",children:["Limpar Seleo (",c.length,")"]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),n.jsx(Z,{className:"gradient-bg text-white",onClick:I,disabled:c.length===0||w.isPending||C.isPending,children:w.isPending||C.isPending?"Confirmando...":`Confirmar ${c.length>1?`${c.length} Pagamentos`:"Pagamento"}`})]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs(Ot,{className:"flex items-center justify-between",children:["Histrico de Importaes OFX",n.jsxs(Yt,{variant:"secondary",className:"text-sm",children:[(g==null?void 0:g.length)||0," transaes"]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g&&g.length>0?n.jsxs(n.Fragment,{children:[R.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-sm font-semibold text-orange-700 mb-3 flex items-center",children:[n.jsx(mh,{className:"h-4 w-4 mr-2"}),"Pendentes de Conciliao (",R.length,")"]}),n.jsx("div",{className:"space-y-2",children:R.slice(0,10).map(D=>n.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(()=>{if(!D.date)return"Data no disponvel";try{const Y=new Date(D.date);return isNaN(Y.getTime())?"Data invlida":Y.toLocaleDateString("pt-BR")}catch{return"Data invlida"}})()}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[200px]",children:D.description}),D.bankRef&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Ref: ",D.bankRef]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",Math.abs(parseFloat(D.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:"No Conciliado"})]})]})},D.id))})]}),V.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-green-700 mb-3 flex items-center",children:[n.jsx(Bn,{className:"h-4 w-4 mr-2"}),"J Conciliadas (",V.length,")"]}),n.jsx("div",{className:"space-y-2",children:V.slice(0,5).map(D=>n.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(()=>{if(!D.date)return"Data no disponvel";try{const Y=new Date(D.date);return isNaN(Y.getTime())?"Data invlida":Y.toLocaleDateString("pt-BR")}catch{return"Data invlida"}})()}),n.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[200px]",children:D.description}),D.notes&&n.jsx("p",{className:"text-xs text-gray-600 mt-1 italic",children:D.notes})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",Math.abs(parseFloat(D.amount)).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx(Yt,{className:"bg-green-100 text-green-800 text-xs mt-1",children:"Conciliado"})]})]})},D.id))})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Pn,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhuma transao OFX importada"}),n.jsx("p",{className:"text-gray-500 mb-4",children:'Clique no boto "Importar OFX" para carregar transaes bancrias'})]})})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsx(Ot,{children:"Gastos Recentes"})}),n.jsx(Re,{children:n.jsx("div",{className:"space-y-4",children:(v==null?void 0:v.slice(0,5).map(D=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:D.description}),n.jsxs("p",{className:"text-sm text-gray-600",children:[(()=>{if(!D.date)return"Data no disponvel";try{const Y=new Date(D.date);return isNaN(Y.getTime())?"Data invlida":Y.toLocaleDateString("pt-BR")}catch{return"Erro ao processar data"}})(),"  ",D.category]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-red-600",children:["R$ ",parseFloat(D.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("span",{className:`status-badge ${D.status==="approved"?"status-confirmed":"status-pending"}`,children:D.status==="approved"?"Aprovado":"Pendente"})]})]},D.id)))||[]})})]})]})]})}function rjt(){const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState(!1),[o,l]=B.useState(null),[c,d]=B.useState({paymentMethod:"pix",notes:"",transactionId:""}),{toast:u}=en(),{data:h=[],isLoading:f,refetch:A}=pt({queryKey:["/api/finance/estornos"]}),p=jt({mutationFn:async({id:E,data:L})=>{const N=await fetch(`/api/finance/estornos/${E}/process`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!N.ok)throw new Error("Erro ao processar estorno");return N.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/finance/estornos"]}),ct.invalidateQueries({queryKey:["/api/finance/payables/manual"]}),i(!1),l(null),d({paymentMethod:"pix",notes:"",transactionId:""}),u({title:"Estorno processado",description:"O estorno foi processado com sucesso."})},onError:()=>{u({title:"Erro",description:"Erro ao processar estorno.",variant:"destructive"})}}),m=h.filter(E=>{var I,M,O,k;const L=((I=E.beneficiary)==null?void 0:I.toLowerCase().includes(e.toLowerCase()))||((M=E.clientName)==null?void 0:M.toLowerCase().includes(e.toLowerCase()))||((O=E.orderNumber)==null?void 0:O.toLowerCase().includes(e.toLowerCase()))||((k=E.description)==null?void 0:k.toLowerCase().includes(e.toLowerCase())),N=r==="all"||E.status===r;return L&&N}),x=h.filter(E=>E.status==="pending"),g=h.filter(E=>E.status==="refunded"||E.status==="paid"),v=x.reduce((E,L)=>E+parseFloat(L.amount||"0"),0),y=g.reduce((E,L)=>E+parseFloat(L.amount||"0"),0),j=E=>{switch(E){case"pending":return n.jsxs(Yt,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:[n.jsx(Un,{className:"h-3 w-3 mr-1"})," Pendente"]});case"refunded":case"paid":return n.jsxs(Yt,{variant:"outline",className:"bg-green-100 text-green-800",children:[n.jsx(S6,{className:"h-3 w-3 mr-1"})," Estornado"]});case"cancelled":return n.jsxs(Yt,{variant:"outline",className:"bg-red-100 text-red-800",children:[n.jsx(ej,{className:"h-3 w-3 mr-1"})," Cancelado"]});default:return n.jsx(Yt,{variant:"secondary",children:E})}},b=E=>{const L=typeof E=="string"?parseFloat(E):E;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(L||0)},w=E=>E?new Date(E).toLocaleDateString("pt-BR"):"-",C=E=>{l(E),d({paymentMethod:"pix",notes:"",transactionId:""}),i(!0)},F=()=>{o&&p.mutate({id:o.id,data:c})};return f?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Estornos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie os estornos de pedidos cancelados"})]}),n.jsxs(Z,{variant:"outline",onClick:()=>A(),children:[n.jsx(oi,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Le,{children:[n.jsx(Tt,{className:"pb-2",children:n.jsx(Ot,{className:"text-sm font-medium text-gray-500",children:"Estornos Pendentes"})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:x.length}),n.jsx("div",{className:"text-lg font-semibold text-yellow-600",children:b(v)})]})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{className:"pb-2",children:n.jsx(Ot,{className:"text-sm font-medium text-gray-500",children:"Estornos Processados"})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.length}),n.jsx("div",{className:"text-lg font-semibold text-green-600",children:b(y)})]})})]}),n.jsxs(Le,{children:[n.jsx(Tt,{className:"pb-2",children:n.jsx(Ot,{className:"text-sm font-medium text-gray-500",children:"Total de Estornos"})}),n.jsx(Re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.length}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:b(v+y)})]})})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs(Ot,{className:"flex items-center gap-2",children:[n.jsx(oi,{className:"h-5 w-5"}),"Lista de Estornos"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por cliente, pedido...",value:e,onChange:E=>t(E.target.value),className:"pl-10 w-full sm:w-64"})]}),n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-full sm:w-40",children:n.jsx(Ht,{placeholder:"Status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos"}),n.jsx(ge,{value:"pending",children:"Pendentes"}),n.jsx(ge,{value:"refunded",children:"Estornados"})]})]})]})]})}),n.jsx(Re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Pedido"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Descrio"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valor"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:m.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum estorno encontrado"})}):m.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"font-medium",children:E.clientName||E.beneficiary})]})}),n.jsx("td",{className:"px-4 py-3",children:E.orderNumber?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jn,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-blue-600 font-mono text-sm",children:E.orderNumber})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm text-gray-600",children:E.description})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"font-semibold text-green-600",children:b(E.amount)})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ps,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm",children:w(E.createdAt)})]})}),n.jsx("td",{className:"px-4 py-3",children:j(E.status)}),n.jsx("td",{className:"px-4 py-3",children:E.status==="pending"?n.jsxs(Z,{size:"sm",onClick:()=>C(E),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(S6,{className:"h-4 w-4 mr-1"}),"Estornar"]}):n.jsx("span",{className:"text-sm text-gray-500",children:E.paidAt?`Processado em ${w(E.paidAt)}`:"Processado"})})]},E.id))})]})})})]}),n.jsx(rr,{open:s,onOpenChange:i,children:n.jsxs(Jt,{children:[n.jsx(Zt,{children:n.jsx(er,{children:"Processar Estorno"})}),o&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{className:"text-gray-500 text-sm",children:"Cliente"}),n.jsx("p",{className:"font-medium",children:o.clientName||o.beneficiary})]}),n.jsxs("div",{children:[n.jsx(fe,{className:"text-gray-500 text-sm",children:"Valor do Estorno"}),n.jsx("p",{className:"font-bold text-green-600 text-lg",children:b(o.amount)})]}),o.orderNumber&&n.jsxs("div",{children:[n.jsx(fe,{className:"text-gray-500 text-sm",children:"Pedido"}),n.jsx("p",{className:"font-mono text-blue-600",children:o.orderNumber})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(fe,{children:"Mtodo de Pagamento"}),n.jsxs($t,{value:c.paymentMethod,onValueChange:E=>d({...c,paymentMethod:E}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"pix",children:"PIX"}),n.jsx(ge,{value:"transfer",children:"Transferncia Bancria"}),n.jsx(ge,{value:"cash",children:"Dinheiro"}),n.jsx(ge,{value:"credit_card",children:"Carto de Crdito"})]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"ID da Transao (opcional)"}),n.jsx(ie,{placeholder:"Ex: PIX123456789",value:c.transactionId,onChange:E=>d({...c,transactionId:E.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{children:"Observaes"}),n.jsx(Jn,{placeholder:"Observaes sobre o estorno...",value:c.notes,onChange:E=>d({...c,notes:E.target.value}),rows:3})]})]})]}),n.jsxs(Am,{children:[n.jsx(Z,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsx(Z,{onClick:F,disabled:p.isPending,className:"bg-green-600 hover:bg-green-700",children:p.isPending?"Processando...":"Confirmar Estorno"})]})]})})]})}function njt({orderId:e,producerId:t,label:r,uniqueKey:a}){const{toast:s}=en(),[i,o]=B.useState(!1),{mutate:l}=jt({mutationFn:async()=>{console.log(`Sending order ${e} to producer ${t} (${r})`);const c=await fetch(`/api/orders/${e}/send-to-production`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({producerId:t})});if(!c.ok){const d=await c.json();throw new Error(d.error||"Erro ao enviar para produo")}return c.json()},onMutate:()=>{o(!0)},onSuccess:c=>{o(!1),s({title:"Sucesso!",description:c.message||`Ordem de produo criada para ${r}`}),ct.invalidateQueries({queryKey:["/api/logistics/paid-orders"]}),ct.invalidateQueries({queryKey:["/api/logistics/production-orders"]})},onError:c=>{o(!1),console.error(`Error sending to producer ${t}:`,c),s({title:"Erro",description:c.message||"Erro ao enviar para produo",variant:"destructive"})}});return n.jsx(Z,{size:"sm",variant:"outline",className:"h-6 px-2 text-xs",onClick:c=>{c.preventDefault(),c.stopPropagation(),i||l()},disabled:i,title:`Enviar APENAS para ${r}`,"data-testid":`button-send-producer-${a}`,children:i?"Enviando...":` ${r}`})}function mT(){var Nt,xt,Ne,le,Fe,ze,je,De,Ke,At,He,Te,dr,Pe,X,We,wt,Ct,Qt;const e=window.location.pathname,[t,r]=B.useState(""),[a,s]=B.useState("all"),[i,o]=B.useState(!1),[l,c]=B.useState(null),[d,u]=B.useState(!1),[h,f]=B.useState(),[A,p]=B.useState([]),[m,x]=B.useState("all"),[g,v]=B.useState("priority"),[y,j]=B.useState(!1),[b,w]=B.useState(!1),[C,F]=B.useState(""),[E,L]=B.useState(""),{toast:N}=en(),{data:I,isLoading:M}=pt({queryKey:["/api/logistics/paid-orders"],queryFn:async()=>{const pe=await fetch("/api/logistics/paid-orders");if(!pe.ok)throw new Error("Failed to fetch paid orders");return pe.json()}}),{data:O,isLoading:k}=pt({queryKey:["/api/logistics/production-orders"],queryFn:async()=>{const pe=await fetch("/api/production-orders");if(!pe.ok)throw new Error("Failed to fetch production orders");return pe.json()}}),P=jt({mutationFn:async({productionOrderId:pe,orderId:dt})=>{const Rt=await fetch(`/api/production-orders/${pe}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"delivered",notes:"Entrega confirmada pela logstica"})});if(!Rt.ok){const ot=await Rt.json().catch(()=>({}));throw new Error(ot.error||"Erro ao atualizar ordem de produo")}const Dt=await fetch(`/api/orders/${dt}/confirm-delivery`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!Dt.ok)throw new Error("Erro ao confirmar entrega");return Dt.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/logistics/production-orders"]}),ct.invalidateQueries({queryKey:["/api/production-orders"]}),N({title:"Sucesso!",description:"Entrega confirmada para o cliente"})},onError:pe=>{N({title:"Erro",description:pe.message||"Erro ao confirmar entrega",variant:"destructive"})}}),R=jt({mutationFn:async({orderId:pe})=>{console.log(`Sending order ${pe} to ALL producers`);const dt=await fetch(`/api/orders/${pe}/send-to-production`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({})});if(!dt.ok){const Rt=await dt.json();throw new Error(Rt.error||"Erro ao enviar para produo")}return dt.json()},onSuccess:pe=>{N({title:"Sucesso!",description:pe.message||"Pedido enviado para produo"}),ct.invalidateQueries({queryKey:["/api/logistics/paid-orders"]})},onError:pe=>{console.error("Error sending to production:",pe),N({title:"Erro",description:pe.message||"Erro ao enviar para produo",variant:"destructive"})}}),V=jt({mutationFn:async({productionOrderId:pe,orderId:dt,notes:Rt,trackingCode:Dt})=>{const ot=await fetch("/api/logistics/dispatch-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productionOrderId:pe,orderId:dt,notes:Rt,trackingCode:Dt})});if(!ot.ok)throw new Error("Erro ao despachar pedido");return ot.json()},onSuccess:()=>{ct.invalidateQueries({queryKey:["/api/logistics/production-orders"]}),N({title:"Sucesso!",description:"Pedido despachado para o cliente"})}}),D=()=>{l&&R.mutate({orderId:l.id})},Y=pe=>{var Dt;let dt=null,Rt=pe.clientName||"Cliente";if(pe.orderId)dt=pe,Rt=pe.clientName||((Dt=pe.order)==null?void 0:Dt.clientName)||"Cliente";else{if(!(O==null?void 0:O.find(Ft=>Ft.orderId===pe.id))){N({title:"Erro",description:"Ordem de produo no encontrada para este pedido",variant:"destructive"});return}dt=pe}c(dt),F(`Produto despachado para ${Rt}`),L(""),w(!0)},ne=pe=>{const dt=pe.id,Rt=pe.orderId;if(!dt||!Rt){N({title:"Erro",description:"IDs do pedido no encontrados",variant:"destructive"});return}P.mutate({productionOrderId:dt,orderId:Rt})},S=()=>{if(!l)return;let pe=null,dt=null;if(l.orderId?(pe=l,dt=l.orderId):(pe=O==null?void 0:O.find(Rt=>Rt.orderId===l.id),dt=l.id),!pe){N({title:"Erro",description:"Ordem de produo no encontrada",variant:"destructive"});return}V.mutate({productionOrderId:pe.id,orderId:dt,notes:C,trackingCode:E}),w(!1),F(""),L(""),c(null)},z=pe=>{const dt={paid:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",confirmed:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",production:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",pending:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",accepted:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",ready:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium animate-pulse",shipped:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded-full text-xs font-medium",delivered:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",cancelled:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium"},Rt={paid:"Pago - Aguardando Produo",confirmed:"Confirmado - Pago",pending:"Pendente",accepted:"Aceito",cancelled:"Cancelado",production:"Em Produo",ready:" PRONTO PARA EXPEDIO",shipped:"Despachado para Cliente",delivered:"Entregue ao Cliente"};return n.jsx("span",{className:dt[pe]||"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:Rt[pe]||pe})},Q=pe=>{const dt={overdue:"bg-red-100 text-red-800 border-red-300",urgent:"bg-orange-100 text-orange-800 border-orange-300",warning:"bg-yellow-100 text-yellow-800 border-yellow-300",normal:"bg-gray-100 text-gray-700 border-gray-300"},Rt={overdue:n.jsx(Ll,{className:"h-3 w-3"}),urgent:n.jsx(L$,{className:"h-3 w-3"}),warning:n.jsx(Un,{className:"h-3 w-3"}),normal:n.jsx(Bn,{className:"h-3 w-3"})};return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${dt[pe.level]}`,children:[Rt[pe.level],pe.label]})},W=(pe,dt)=>{const Rt=[],Dt=new Set;return dt==null||dt.forEach(ot=>{ot.status!=="pending"&&Dt.add(`${ot.orderId}-${ot.producerId}`)}),pe==null||pe.forEach(ot=>{if(ot.items&&Array.isArray(ot.items)){const Ft=new Map;ot.items.forEach(xr=>{xr.producerId&&xr.producerId!=="internal"&&(Ft.has(xr.producerId)||Ft.set(xr.producerId,{producerId:xr.producerId,producerName:xr.producerName||`Produtor ${xr.producerId.slice(-6)}`,items:[]}),Ft.get(xr.producerId).items.push(xr))});const Er=Array.from(Ft.values()).filter(xr=>{const on=`${ot.id}-${xr.producerId}`;return!Dt.has(on)});Er.length>0&&Er.forEach((xr,on)=>{const zt=xr.items.reduce((ar,is)=>ar+parseFloat(is.totalPrice||"0"),0);Rt.push({...ot,uniqueKey:`${ot.id}-${xr.producerId}`,isGrouped:Er.length>1,groupIndex:on,groupTotal:Er.length,currentProducerId:xr.producerId,currentProducerName:xr.producerName,producerItems:xr.items,producerValue:zt.toFixed(2),product:xr.items.map(ar=>ar.productName).join(", ")})})}}),Rt},U=pe=>{const dt=pe.deadline||pe.deliveryDeadline||pe.deliveryDate;if(!dt)return{level:"normal",daysRemaining:null,label:"Sem prazo"};const Rt=new Date(dt),Dt=new Date;Dt.setHours(0,0,0,0),Rt.setHours(0,0,0,0);const ot=Math.ceil((Rt.getTime()-Dt.getTime())/(1e3*60*60*24));return ot<0?{level:"overdue",daysRemaining:ot,label:`Atrasado ${Math.abs(ot)} dias`}:ot<=1?{level:"urgent",daysRemaining:ot,label:ot===0?"Vence hoje":"Vence amanh"}:ot<=3?{level:"warning",daysRemaining:ot,label:`${ot} dias restantes`}:{level:"normal",daysRemaining:ot,label:`${ot} dias restantes`}},re=W(I||[],O||[]),de=B.useMemo(()=>re==null?void 0:re.filter(pe=>{var Er,xr,on;const dt=t===""||pe.orderNumber.toLowerCase().includes(t.toLowerCase())||((Er=pe.clientName)==null?void 0:Er.toLowerCase().includes(t.toLowerCase()))||((xr=pe.product)==null?void 0:xr.toLowerCase().includes(t.toLowerCase()))||((on=pe.currentProducerName)==null?void 0:on.toLowerCase().includes(t.toLowerCase()));let Rt=!0;if(h!=null&&h.from||h!=null&&h.to){const zt=new Date(pe.lastPaymentDate||pe.createdAt);h.from&&zt<h.from&&(Rt=!1),h.to&&zt>h.to&&(Rt=!1)}const Dt=A.length===0||A.includes(pe.status);let ot=!0;a!=="all"&&(a==="overdue"?ot=U(pe).level==="overdue":ot=pe.status===a);let Ft=!0;return m!=="all"&&(Ft=U(pe).level===m),dt&&Rt&&Dt&&ot&&Ft}).sort((pe,dt)=>{if(g==="priority"){const Rt={overdue:0,urgent:1,warning:2,normal:3},Dt=U(pe),ot=U(dt);return Rt[Dt.level]-Rt[ot.level]}else if(g==="date"){const Rt=new Date(pe.lastPaymentDate||pe.createdAt);return new Date(dt.lastPaymentDate||dt.createdAt).getTime()-Rt.getTime()}return 0}),[re,t,h,A,m,g]),Ae=(pe=>{const dt=[],Rt=new Map;return pe==null||pe.forEach(Dt=>{const ot=Dt.orderId;Rt.has(ot)||Rt.set(ot,[]),Rt.get(ot).push(Dt)}),Rt.forEach((Dt,ot)=>{const Ft=Dt.length>1;Dt.forEach((Er,xr)=>{dt.push({...Er,uniqueKey:`${Er.id}`,isGrouped:Ft,groupIndex:xr,groupTotal:Dt.length,originalOrderId:ot})})}),dt})(O||[]),Me=B.useMemo(()=>Ae==null?void 0:Ae.filter(pe=>{var Er,xr,on;const dt=t===""||pe.orderNumber.toLowerCase().includes(t.toLowerCase())||((Er=pe.clientName)==null?void 0:Er.toLowerCase().includes(t.toLowerCase()))||((xr=pe.product)==null?void 0:xr.toLowerCase().includes(t.toLowerCase()))||((on=pe.producerName)==null?void 0:on.toLowerCase().includes(t.toLowerCase()));let Rt=!0;if(h!=null&&h.from||h!=null&&h.to){const zt=new Date(pe.createdAt);h.from&&zt<h.from&&(Rt=!1),h.to&&zt>h.to&&(Rt=!1)}const Dt=A.length===0||A.includes(pe.status);let ot=!0;a!=="all"&&(a==="overdue"?ot=U(pe).level==="overdue":ot=pe.status===a);let Ft=!0;return m!=="all"&&(Ft=U(pe).level===m),dt&&Rt&&(Dt||ot)&&Ft}).sort((pe,dt)=>{if(g==="priority"){const Rt={overdue:0,urgent:1,warning:2,normal:3},Dt=U(pe),ot=U(dt);return Rt[Dt.level]-Rt[ot.level]}else if(g==="date"){const Rt=new Date(pe.createdAt);return new Date(dt.createdAt).getTime()-Rt.getTime()}return 0}),[Ae,t,h,A,a,m,g]);if(M||k)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(pe=>n.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},pe))})]})});const H=(re==null?void 0:re.filter(pe=>pe.currentProducerId).length)||0,Oe=(I==null?void 0:I.length)||0,Ee=((Nt=Ae==null?void 0:Ae.filter(pe=>pe.status==="production"))==null?void 0:Nt.length)||0,ee=((xt=Ae==null?void 0:Ae.filter(pe=>pe.status==="ready"))==null?void 0:xt.length)||0,se=e.includes("/logistics/paid-orders")?"paid-orders":e.includes("/logistics/production-tracking")?"production-tracking":e.includes("/logistics/shipments")?"shipments":e.includes("/logistics/paid-orders")?"paid-orders":e.includes("/logistics/production-tracking")?"production-tracking":e.includes("/logistics/shipments")?"shipments":"dashboard",nt=(()=>{switch(se){case"paid-orders":return{title:"Pedidos - Aguardando Produo",description:"Pedidos que receberam pagamento e esto prontos para serem enviados  produo"};case"production-tracking":return{title:"Acompanhamento de Produo",description:"Monitore o status dos pedidos que esto sendo produzidos"};case"shipments":return{title:"Despachos e Expedio",description:"Gerencie os pedidos prontos para despacho e expedio"};default:return{title:"Painel de Logstica",description:"Gerencie pedidos pagos, envios para produo e despachos"}}})();return n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:nt.title}),n.jsx("p",{className:"text-gray-600",children:nt.description})]}),(se==="dashboard"||se==="paid-orders"||se==="production-tracking"||se==="shipments")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[se==="dashboard"||se==="paid-orders"?n.jsx(Le,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-700",children:"Aguardando Produo"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-900",children:Oe}),n.jsx("p",{className:"text-xs text-green-600",children:"Pedidos nicos"})]}),n.jsxs("div",{className:"text-center border-l border-green-300 pl-2",children:[n.jsx("p",{className:"text-xl font-bold text-green-700",children:H}),n.jsx("p",{className:"text-xs text-green-600",children:"Linhas produo"})]})]}),n.jsx("div",{className:"h-12 w-12 bg-green-600 rounded-xl flex items-center justify-center",children:n.jsx(Mr,{className:"h-6 w-6 text-white"})})]})})}):null,se==="dashboard"||se==="production-tracking"?n.jsx(Le,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Em Produo"}),n.jsx("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:Ee}),n.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Sendo produzidos"})]}),n.jsx("div",{className:"h-12 w-12 bg-purple-600 rounded-xl flex items-center justify-center",children:n.jsx(En,{className:"h-6 w-6 text-white"})})]})})}):null,se==="dashboard"||se==="shipments"||se==="production-tracking"?n.jsx(Le,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Prontos para Expedio"}),n.jsx("p",{className:"text-3xl font-bold text-orange-900 mt-2",children:ee}),n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Produo finalizada - pronto para despachar"})]}),n.jsx("div",{className:"h-12 w-12 bg-orange-600 rounded-xl flex items-center justify-center",children:n.jsx(io,{className:"h-6 w-6 text-white"})})]})})}):null,(se==="dashboard"||se==="paid-orders"||se==="production-tracking"||se==="shipments")&&n.jsx(Le,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 hover:shadow-lg transition-shadow",children:n.jsx(Re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Total em Acompanhamento"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:((I==null?void 0:I.length)||0)+(Array.from(new Set(O==null?void 0:O.map(pe=>pe.orderId))).length||0)}),n.jsx("p",{className:"text-xs text-blue-600",children:"Pedidos nicos"})]}),n.jsxs("div",{className:"text-center border-l border-blue-300 pl-2",children:[n.jsx("p",{className:"text-xl font-bold text-blue-700",children:H+((O==null?void 0:O.length)||0)}),n.jsx("p",{className:"text-xs text-blue-600",children:"Total linhas"})]})]}),n.jsx("div",{className:"h-12 w-12 bg-blue-600 rounded-xl flex items-center justify-center",children:n.jsx(jn,{className:"h-6 w-6 text-white"})})]})})})]}),n.jsx(Le,{className:"mb-6",children:n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ie,{placeholder:"Buscar por nmero, cliente, produto ou produtor...",value:t,onChange:pe=>r(pe.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Z,{variant:d?"default":"outline",onClick:()=>u(!d),className:"whitespace-nowrap",children:[n.jsx(Fy,{className:"h-4 w-4 mr-2"}),"Filtros Avanados"]}),(h||A.length>0||m!=="all")&&n.jsxs(Z,{variant:"outline",onClick:()=>{f(void 0),p([]),x("all"),v("priority")},className:"text-red-600 hover:text-red-700",children:[n.jsx(fd,{className:"h-4 w-4 mr-1"}),"Limpar"]})]})]}),d&&n.jsxs("div",{className:"border-t pt-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Perodo"}),n.jsx(uQ,{date:h,onDateChange:f,className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Prioridade"}),n.jsxs($t,{value:m,onValueChange:x,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todas as prioridades"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todas as prioridades"}),n.jsx(ge,{value:"overdue",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-4 w-4 text-red-600"}),"Atrasados"]})}),n.jsx(ge,{value:"urgent",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(L$,{className:"h-4 w-4 text-orange-600"}),"Urgente ( 1 dia)"]})}),n.jsx(ge,{value:"warning",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Un,{className:"h-4 w-4 text-yellow-600"}),"Ateno (2-3 dias)"]})}),n.jsx(ge,{value:"normal",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bn,{className:"h-4 w-4 text-gray-600"}),"Normal (",">","3 dias)"]})})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Ordenar por"}),n.jsxs($t,{value:g,onValueChange:v,children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"priority",children:"Prioridade"}),n.jsx(ge,{value:"date",children:"Data"}),n.jsx(ge,{value:"status",children:"Status"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Status Rpido"}),n.jsxs($t,{value:a,onValueChange:s,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Filtrar por status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"overdue",children:"Atrasados"}),n.jsx(ge,{value:"pending",children:"Pendente"}),n.jsx(ge,{value:"accepted",children:"Aceito"}),n.jsx(ge,{value:"production",children:"Em Produo"}),n.jsx(ge,{value:"ready",children:"Pronto para Despacho"}),n.jsx(ge,{value:"shipped",children:"Despachado"}),n.jsx(ge,{value:"delivered",children:"Entregue"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fe,{className:"text-sm font-medium",children:"Status Detalhado (mltipla seleo)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"paid",label:"Pago",color:"bg-green-100 text-green-700"},{value:"confirmed",label:"Confirmado",color:"bg-blue-100 text-blue-700"},{value:"production",label:"Em Produo",color:"bg-purple-100 text-purple-700"},{value:"pending",label:"Pendente",color:"bg-yellow-100 text-yellow-700"},{value:"accepted",label:"Aceito",color:"bg-blue-100 text-blue-700"},{value:"ready",label:"Pronto",color:"bg-orange-100 text-orange-700"},{value:"shipped",label:"Despachado",color:"bg-cyan-100 text-cyan-700"},{value:"delivered",label:"Entregue",color:"bg-green-100 text-green-700"}].map(pe=>{const dt=A.includes(pe.value);return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uu,{id:`status-${pe.value}`,checked:dt,onCheckedChange:Rt=>{p(Rt?[...A,pe.value]:A.filter(Dt=>Dt!==pe.value))}}),n.jsx(fe,{htmlFor:`status-${pe.value}`,className:`px-2 py-1 rounded-full text-xs font-medium cursor-pointer ${dt?pe.color:"text-gray-600"}`,children:pe.label})]},pe.value)})})]}),(h||A.length>0||m!=="all")&&n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Filtros ativos:"}),h&&n.jsxs(Yt,{variant:"secondary",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),(Ne=h.from)==null?void 0:Ne.toLocaleDateString("pt-BR")," - ",(le=h.to)==null?void 0:le.toLocaleDateString("pt-BR")]}),A.length>0&&n.jsxs(Yt,{variant:"secondary",children:["Status: ",A.length," selecionados"]}),m!=="all"&&n.jsxs(Yt,{variant:"secondary",children:["Prioridade: ",m]})]})})]})]})}),(se==="dashboard"||se==="paid-orders")&&n.jsxs(Le,{className:"mb-6",children:[n.jsxs(Tt,{className:"bg-green-50",children:[n.jsxs(Ot,{className:"text-green-800 flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5"}),"Pedidos Pagos - Aguardando Produo (",H,")"]}),n.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Pedidos que receberam pagamento e esto prontos para serem enviados  produo"})]}),n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prioridade"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo Entrega"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Pagamento"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:de==null?void 0:de.map(pe=>{const dt=pe.isGrouped&&pe.groupIndex===0,Rt=pe.isGrouped&&pe.groupIndex===pe.groupTotal-1,Dt=pe.isGrouped&&pe.groupIndex>0&&pe.groupIndex<pe.groupTotal-1;let ot="hover:bg-gray-50";return dt?ot+=" border-t-4 border-blue-500 bg-blue-50":Dt?ot+=" border-l-4 border-blue-300 bg-blue-25":Rt&&(ot+=" border-l-4 border-blue-300 bg-blue-25 border-b-2 border-blue-200"),pe.producerItems&&Array.from(new Map(pe.producerItems.map(Ft=>[Ft.producerId,{id:Ft.producerId,name:Ft.producerName}])).values()),n.jsxs("tr",{className:ot,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[pe.isGrouped&&n.jsxs("div",{className:"mr-2 text-xs text-blue-600 font-mono bg-blue-100 px-1 rounded",children:[pe.groupIndex+1,"/",pe.groupTotal]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:pe.orderNumber}),n.jsxs("div",{className:"text-sm text-gray-500",children:["#",pe.id.slice(-6)]}),pe.isGrouped&&pe.groupIndex===0&&n.jsx("div",{className:"text-xs text-blue-600 font-medium mt-1",children:" Pedido Multi-Produtor"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:pe.clientName})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:pe.product}),pe.currentProducerName&&n.jsxs("div",{className:"text-xs text-purple-600 font-medium mt-1",children:[" ",pe.currentProducerName]}),pe.producerItems&&pe.producerItems.length>1&&n.jsxs("div",{className:"text-xs text-gray-500",children:[pe.producerItems.length," itens deste produtor"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[Q(U(pe)),(pe.deadline||pe.deliveryDeadline)&&n.jsxs("div",{className:"text-xs text-gray-600",children:["Prazo: ",new Date(pe.deadline||pe.deliveryDeadline).toLocaleDateString("pt-BR")]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:pe.deliveryType==="pickup"?"Retirada":"Entrega"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:pe.lastPaymentDate||pe.paidAt||pe.createdAt?new Date(pe.lastPaymentDate||pe.paidAt||pe.createdAt).toLocaleDateString("pt-BR"):"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2 flex-wrap gap-1",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:Ft=>{Ft.preventDefault(),Ft.stopPropagation();const Er={...pe,items:pe.currentProducerId?pe.producerItems:pe.items,viewingProducer:pe.currentProducerId,viewingProducerName:pe.currentProducerName};c(Er),j(!0)},children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver ",pe.currentProducerName?"Produtor":"Pedido"]}),pe.currentProducerId?n.jsx(njt,{orderId:pe.id,producerId:pe.currentProducerId,label:pe.currentProducerName,uniqueKey:`${pe.uniqueKey}-${pe.currentProducerId}`},`send-${pe.uniqueKey}-${pe.currentProducerId}`):n.jsx("span",{className:"text-xs text-gray-500 italic",children:"Sem produtores externos"})]})})]},pe.uniqueKey)})})]})})})]}),(se==="dashboard"||se==="production-tracking")&&n.jsxs(Le,{children:[n.jsx(Tt,{className:"bg-purple-50",children:n.jsxs(Ot,{className:"text-purple-800 flex items-center gap-2",children:[n.jsx(En,{className:"h-5 w-5"}),"Pedidos em Produo - Acompanhamento (",(O==null?void 0:O.length)||0,")"]})}),n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produtor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prioridade"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prazo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Me==null?void 0:Me.map(pe=>{const dt=pe.isGrouped&&pe.groupIndex===0,Rt=pe.isGrouped&&pe.groupIndex===pe.groupTotal-1,Dt=pe.isGrouped&&pe.groupIndex>0&&pe.groupIndex<pe.groupTotal-1;let ot="hover:bg-gray-50";return dt?ot+=" border-t-4 border-purple-500 bg-purple-50":Dt?ot+=" border-l-4 border-purple-300 bg-purple-25":Rt&&(ot+=" border-l-4 border-purple-300 bg-purple-25 border-b-2 border-purple-200"),n.jsxs("tr",{className:ot,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[pe.isGrouped&&n.jsxs("div",{className:"mr-2 text-xs text-purple-600 font-mono bg-purple-100 px-1 rounded",children:[pe.groupIndex+1,"/",pe.groupTotal]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:pe.orderNumber}),n.jsxs("div",{className:"text-sm text-gray-500",children:["#",pe.id.slice(-6)]}),pe.isGrouped&&pe.groupIndex===0&&n.jsx("div",{className:"text-xs text-purple-600 font-medium mt-1",children:" Produo Multi-Produtor"})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:pe.clientName})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-purple-700",children:pe.producerName||"N/A"}),pe.isGrouped&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Grupo de ",pe.groupTotal," produtores"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z(pe.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"space-y-1",children:[Q(U(pe)),(pe.deadline||pe.deliveryDeadline)&&n.jsxs("div",{className:"text-xs text-gray-600",children:["Prazo: ",new Date(pe.deadline||pe.deliveryDeadline).toLocaleDateString("pt-BR")]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:pe.deadline||pe.deliveryDeadline?new Date(pe.deadline||pe.deliveryDeadline).toLocaleDateString("pt-BR"):"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:Ft=>{var xr,on,zt;Ft.preventDefault(),Ft.stopPropagation();const Er={...pe,viewingProducer:pe.producerId,viewingProducerName:pe.producerName,shippingAddress:pe.shippingAddress||pe.clientAddress||((xr=pe.order)==null?void 0:xr.shippingAddress)||((on=pe.order)==null?void 0:on.clientAddress),deliveryType:pe.deliveryType||((zt=pe.order)==null?void 0:zt.deliveryType)||"delivery"};c(Er),j(!0)},children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Produtor"]},`view-btn-${pe.uniqueKey}`),pe.status==="ready"&&n.jsxs(Z,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:Ft=>{if(Ft.preventDefault(),Ft.stopPropagation(),V.isPending){console.log("Dispatch mutation j em andamento, ignorando clique");return}console.log(`Despachando ordem de produo ${pe.id} do produtor ${pe.producerName}`),Y(pe)},disabled:V.isPending,title:`Despachar produo de ${pe.producerName} para o cliente`,children:[n.jsx(io,{className:"h-4 w-4 mr-1"}),V.isPending?"Despachando...":"Despachar"]},`dispatch-btn-${pe.uniqueKey}`)]})})]},pe.uniqueKey)})})]})})})]}),(se==="dashboard"||se==="shipments")&&n.jsxs(Le,{children:[n.jsx(Tt,{className:"bg-cyan-50",children:n.jsxs(Ot,{className:"text-cyan-800 flex items-center gap-2",children:[n.jsx(io,{className:"h-5 w-5"}),"Pedidos Despachados (",(O==null?void 0:O.filter(pe=>pe.status==="shipped").length)||0,")"]})}),n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo Rastreio"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Despacho"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((Ae==null?void 0:Ae.filter(dt=>dt.status==="shipped"))||[]).map(dt=>{const Rt=dt.isGrouped&&dt.groupIndex===0,Dt=dt.isGrouped&&dt.groupIndex===dt.groupTotal-1,ot=dt.isGrouped&&dt.groupIndex>0&&dt.groupIndex<dt.groupTotal-1;let Ft="hover:bg-gray-50";return Rt?Ft+=" border-t-4 border-cyan-500 bg-cyan-50":ot?Ft+=" border-l-4 border-cyan-300 bg-cyan-25":Dt&&(Ft+=" border-l-4 border-cyan-300 bg-cyan-25 border-b-2 border-cyan-200"),n.jsxs("tr",{className:Ft,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[dt.isGrouped&&n.jsxs("div",{className:"mr-2 text-xs text-cyan-600 font-mono bg-cyan-100 px-1 rounded",children:[dt.groupIndex+1,"/",dt.groupTotal]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:dt.orderNumber}),n.jsxs("div",{className:"text-sm text-gray-500",children:["#",dt.id.slice(-6)]}),dt.isGrouped&&dt.groupIndex===0&&n.jsx("div",{className:"text-xs text-cyan-600 font-medium mt-1",children:" Despacho Multi-Produtor"})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:dt.clientName}),dt.producerName&&n.jsxs("div",{className:"text-xs text-cyan-600 font-medium",children:[" ",dt.producerName]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:dt.trackingCode||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:dt.shippedAt?new Date(dt.shippedAt).toLocaleDateString("pt-BR"):"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Z,{variant:"outline",size:"sm",onClick:Er=>{var on,zt,ar;Er.preventDefault(),Er.stopPropagation();const xr={...dt,viewingProducer:dt.producerId,viewingProducerName:dt.producerName,shippingAddress:dt.shippingAddress||dt.clientAddress||((on=dt.order)==null?void 0:on.shippingAddress)||((zt=dt.order)==null?void 0:zt.clientAddress),deliveryType:dt.deliveryType||((ar=dt.order)==null?void 0:ar.deliveryType)||"delivery"};c(xr),j(!0)},children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Despacho"]},`view-shipped-btn-${dt.uniqueKey}`),n.jsxs(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:Er=>{if(Er.preventDefault(),Er.stopPropagation(),P.isPending){console.log("Confirm delivery mutation j em andamento, ignorando clique");return}console.log(`Confirmando entrega para ordem ${dt.id} do produtor ${dt.producerName}`),ne(dt)},disabled:P.isPending,title:"Confirmar que o cliente recebeu o pedido",children:[n.jsx(Bn,{className:"h-4 w-4 mr-1"}),P.isPending?"Confirmando...":"Confirmar Entrega"]},`confirm-delivery-btn-${dt.uniqueKey}`)]})})]},dt.uniqueKey)})})]})})})]}),(se==="dashboard"||se==="shipments")&&n.jsxs(Le,{children:[n.jsx(Tt,{className:"bg-green-50",children:n.jsxs(Ot,{className:"text-green-800 flex items-center gap-2",children:[n.jsx(Bn,{className:"h-5 w-5"}),"Pedidos Entregues (",(O==null?void 0:O.filter(pe=>pe.status==="delivered").length)||0,")"]})}),n.jsx(Re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo Rastreio"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data Entrega"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((Ae==null?void 0:Ae.filter(dt=>dt.status==="delivered"))||[]).map(dt=>{const Rt=dt.isGrouped&&dt.groupIndex===0,Dt=dt.isGrouped&&dt.groupIndex===dt.groupTotal-1,ot=dt.isGrouped&&dt.groupIndex>0&&dt.groupIndex<dt.groupTotal-1;let Ft="hover:bg-gray-50";return Rt?Ft+=" border-t-4 border-green-500 bg-green-50":ot?Ft+=" border-l-4 border-green-300 bg-green-25":Dt&&(Ft+=" border-l-4 border-green-300 bg-green-25 border-b-2 border-green-200"),n.jsxs("tr",{className:Ft,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[dt.isGrouped&&n.jsxs("div",{className:"mr-2 text-xs text-green-600 font-mono bg-green-100 px-1 rounded",children:[dt.groupIndex+1,"/",dt.groupTotal]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:dt.orderNumber}),n.jsxs("div",{className:"text-sm text-gray-500",children:["#",dt.id.slice(-6)]}),dt.isGrouped&&dt.groupIndex===0&&n.jsx("div",{className:"text-xs text-green-600 font-medium mt-1",children:" Entrega Multi-Produtor"})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:dt.clientName}),dt.producerName&&n.jsxs("div",{className:"text-xs text-green-600 font-medium",children:[" ",dt.producerName]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:dt.trackingCode||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:dt.deliveredAt?new Date(dt.deliveredAt).toLocaleDateString("pt-BR"):"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("div",{className:"flex space-x-2",children:n.jsxs(Z,{variant:"outline",size:"sm",onClick:Er=>{var on,zt,ar;Er.preventDefault(),Er.stopPropagation();const xr={...dt,viewingProducer:dt.producerId,viewingProducerName:dt.producerName,shippingAddress:dt.shippingAddress||dt.clientAddress||((on=dt.order)==null?void 0:on.shippingAddress)||((zt=dt.order)==null?void 0:zt.clientAddress),deliveryType:dt.deliveryType||((ar=dt.order)==null?void 0:ar.deliveryType)||"delivery"};c(xr),j(!0)},children:[n.jsx(Ur,{className:"h-4 w-4 mr-1"}),"Ver Entrega"]},`view-delivered-btn-${dt.uniqueKey}`)})})]},dt.uniqueKey)})})]})})})]}),n.jsx(rr,{open:i,onOpenChange:o,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Confirmar Envio para Produo"}),n.jsx(lr,{children:"Este pedido ser enviado automaticamente para todos os produtores responsveis pelos itens do pedido."})]}),l&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Informaes do Pedido"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Pedido:"}),n.jsx("p",{className:"font-medium",children:l.orderNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Cliente:"}),n.jsx("p",{className:"font-medium",children:l.clientName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Valor:"}),n.jsx("p",{className:"font-medium text-green-600",children:"Confidencial"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700",children:"Produto:"}),n.jsx("p",{className:"font-medium",children:l.product})]})]})]}),n.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("strong",{children:" Processamento Automtico:"})," O sistema criar ordens de produo separadas para cada produtor envolvido nos itens deste pedido."]})})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",onClick:()=>{o(!1),c(null)},className:"flex-1",children:"Cancelar"}),n.jsx(Z,{onClick:D,disabled:R.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:R.isPending?"Processando...":"Confirmar Envio"})]})]})}),n.jsx(rr,{open:y,onOpenChange:j,children:n.jsxs(Jt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:l!=null&&l.viewingProducer?`Detalhes do Pedido - ${l.viewingProducerName}`:"Detalhes do Pedido"}),n.jsx(lr,{children:l!=null&&l.viewingProducer?`Informaes especficas para o produtor ${l.viewingProducerName}`:"Informaes completas do pedido e itens para produo"})]}),l&&n.jsxs("div",{className:"space-y-6",children:[l.viewingProducer&&n.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(gr,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"Visualizao Especfica do Produtor"}),n.jsxs("p",{className:"text-sm text-purple-600",children:["Mostrando apenas os itens e informaes relevantes para ",n.jsx("strong",{children:l.viewingProducerName})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informaes do Pedido"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Nmero do Pedido"}),n.jsx("p",{className:"text-lg font-bold",children:l.orderNumber||((Fe=l.order)==null?void 0:Fe.orderNumber)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Cliente"}),n.jsx("p",{children:l.clientName||((ze=l.order)==null?void 0:ze.clientName)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Contato"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[(l.contactPhone||((je=l.order)==null?void 0:je.contactPhone))&&n.jsxs("span",{children:["Tel: ",l.contactPhone||((De=l.order)==null?void 0:De.contactPhone),n.jsx("br",{})]}),(l.contactEmail||((Ke=l.order)==null?void 0:Ke.contactEmail))&&n.jsxs("span",{children:["Email: ",l.contactEmail||((At=l.order)==null?void 0:At.contactEmail)]})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:(l.deliveryType||((He=l.order)==null?void 0:He.deliveryType))==="pickup"?"Endereo do Cliente":"Endereo de Entrega"}),n.jsx("p",{className:"text-gray-700 bg-gray-50 p-2 rounded",children:l.shippingAddress||l.clientAddress||((Te=l.order)==null?void 0:Te.shippingAddress)||((dr=l.order)==null?void 0:dr.clientAddress)||"Endereo no informado"})]}),(l.deadline||((Pe=l.order)==null?void 0:Pe.deadline))&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Prazo"}),n.jsx("p",{children:new Date(l.deadline||((X=l.order)==null?void 0:X.deadline)).toLocaleDateString("pt-BR")})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status e Valores"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status Atual"}),n.jsx("div",{className:"mt-1",children:z(l.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Tipo de Entrega"}),n.jsx("p",{className:"font-medium",children:(l.deliveryType||((We=l.order)==null?void 0:We.deliveryType))==="pickup"?"Retirada no Local":"Entrega em Casa"})]}),n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[n.jsx("label",{className:"text-sm font-medium text-blue-700",children:"Valor do Frete"}),n.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["R$ ",parseFloat(((wt=l.order)==null?void 0:wt.shippingCost)||l.shippingCost||"0").toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Contato do Cliente"}),n.jsx("p",{className:"font-medium",children:l.contactPhone||((Ct=l.order)==null?void 0:Ct.contactPhone)||"No informado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Criao"}),n.jsx("p",{children:new Date(l.createdAt||((Qt=l.order)==null?void 0:Qt.createdAt)).toLocaleDateString("pt-BR")})]})]})]})]}),(()=>{var Dt;let pe=l.items||((Dt=l.order)==null?void 0:Dt.items)||[];l.viewingProducer&&(pe=pe.filter(ot=>ot.producerId===l.viewingProducer));const dt=[],Rt=new Set;return pe.forEach(ot=>{const Ft=`${ot.productId}-${ot.producerId}-${ot.quantity}-${ot.totalPrice}-${ot.hasItemCustomization}-${ot.selectedCustomizationId}-${ot.hasGeneralCustomization}-${ot.generalCustomizationName}`;Rt.has(Ft)||(Rt.add(Ft),dt.push(ot))}),pe=dt,pe&&pe.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:l.viewingProducer?n.jsxs(n.Fragment,{children:[n.jsx(gr,{className:"h-5 w-5 text-purple-600"}),"Itens para ",l.viewingProducerName," (",pe.length,")"]}):n.jsxs(n.Fragment,{children:[n.jsx(gr,{className:"h-5 w-5 text-gray-600"}),"Itens para Produo (",pe.length,")"]})}),n.jsx("div",{className:"space-y-3",children:pe.map((ot,Ft)=>{var ar;const Er=ot.producerId&&ot.producerId!=="internal",xr=l.viewingProducer&&ot.producerId===l.viewingProducer;let on="border-gray-200",zt="bg-gray-50";return xr?(on="border-purple-300",zt="bg-purple-50"):Er&&(on="border-orange-200",zt="bg-orange-50"),n.jsx("div",{className:`p-4 rounded-lg border ${zt} ${on}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(gr,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:ot.productName}),xr&&n.jsx(Yt,{className:"bg-purple-100 text-purple-800 border-purple-300",children:" Produtor Atual"}),Er&&!xr&&n.jsx(Yt,{variant:"outline",className:"text-orange-700 border-orange-300",children:"Produo Externa"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Quantidade:"}),n.jsx("p",{className:"font-medium",children:Math.round(parseFloat(ot.quantity||0))})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Especificaes:"}),n.jsx("p",{className:"font-medium",children:ot.productWidth&&ot.productHeight&&ot.productDepth?`${ot.productWidth}${ot.productHeight}${ot.productDepth}cm`:"No informado"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-500",children:"Produtor:"}),n.jsxs("p",{className:`font-medium ${xr?"text-purple-700":Er?"text-orange-700":"text-gray-700"}`,children:[Er?ot.producerName||`Produtor ${(ar=ot.producerId)==null?void 0:ar.slice(-6)}`:"Produo Interna",xr&&" (ATUAL)"]})]}),ot.hasItemCustomization&&n.jsxs("div",{className:"col-span-2 bg-blue-50 p-2 rounded",children:[n.jsx("span",{className:"text-blue-700 font-medium",children:"Personalizao do Item:"}),n.jsx("p",{className:"text-blue-600",children:ot.itemCustomizationDescription||"Personalizao especial"}),ot.additionalCustomizationNotes&&n.jsxs("p",{className:"text-sm text-blue-500 mt-1",children:["Obs: ",ot.additionalCustomizationNotes]}),ot.customizationPhoto&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:ot.customizationPhoto,alt:"Personalizao",className:"w-16 h-16 object-cover rounded border"})})]}),ot.hasGeneralCustomization&&n.jsxs("div",{className:"col-span-2 bg-green-50 p-2 rounded",children:[n.jsx("span",{className:"text-green-700 font-medium",children:"Personalizao Geral:"}),n.jsx("p",{className:"text-green-600",children:ot.generalCustomizationName||"Personalizao geral"})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Valor: Confidencial"})})]})},`${ot.id||Ft}-${ot.productName||"item"}`)})})]})})(),(()=>{var dt,Rt;const pe=l.budgetPhotos||l.photos||((dt=l.order)==null?void 0:dt.budgetPhotos)||((Rt=l.order)==null?void 0:Rt.photos)||[];return pe&&pe.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Fotos de Referncia (",pe.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:pe.map((Dt,ot)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:Dt,alt:`Referncia ${ot+1}`,className:"w-full h-24 object-cover rounded border hover:opacity-75 transition-opacity cursor-pointer",onClick:()=>window.open(Dt,"_blank")}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs opacity-0 group-hover:opacity-100",children:"Ampliar"})})]},`photo-${ot}-${Dt.slice(-10)}`))})]})})()]})]})}),n.jsx(rr,{open:b,onOpenChange:w,children:n.jsxs(Jt,{children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Despachar Pedido"}),n.jsx(lr,{children:"Finalize o despacho do pedido para o cliente"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"dispatch-notes",children:"Observaes do Despacho"}),n.jsx(Jn,{id:"dispatch-notes",value:C,onChange:pe=>F(pe.target.value),placeholder:"Observaes sobre o despacho...",rows:3})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"tracking-code",children:"Cdigo de Rastreamento (Opcional)"}),n.jsx(ie,{id:"tracking-code",value:E,onChange:pe=>L(pe.target.value),placeholder:"Ex: BR123456789..."})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Z,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Cancelar"}),n.jsx(Z,{onClick:S,disabled:V.isPending||!C.trim(),className:"flex-1 bg-orange-600 hover:bg-orange-700",children:V.isPending?"Despachando...":"Confirmar Despacho"})]})]})})]})}function ajt(){var v;const[e,t]=B.useState(""),[r,a]=B.useState("all"),[s,i]=B.useState(!1),[o,l]=B.useState(null),[c,d]=B.useState(null),{toast:u}=en(),{data:h=[],isLoading:f}=pt({queryKey:["/api/logistics/dropshipping-items"],queryFn:async()=>{const j=await fetch("/api/logistics/dropshipping-items");if(!j.ok)throw new Error("Failed to fetch dropshipping items");return j.json()}}),A=async(y,j)=>{if(!c){d(y);try{const b=await fetch(`/api/budget-items/${y}/purchase-status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({purchaseStatus:j})});if(!b.ok){const C=await b.json();throw new Error(C.error||"Erro ao atualizar status")}const w=await b.json();u({title:"Sucesso!",description:w.message}),ct.invalidateQueries({queryKey:["/api/logistics/dropshipping-items"]})}catch(b){u({title:"Erro",description:b.message,variant:"destructive"})}finally{d(null)}}},p=B.useMemo(()=>h?h.filter(y=>{var j,b,w,C;if(r!=="all"&&r!=="delayed"&&y.purchaseStatus!==r||r==="delayed"&&(!y.deliveryDeadline||new Date(y.deliveryDeadline)>=new Date||y.purchaseStatus==="in_store"))return!1;if(e){const F=e.toLowerCase();if(!(((j=y.orderNumber)==null?void 0:j.toLowerCase().includes(F))||((b=y.clientName)==null?void 0:b.toLowerCase().includes(F))||((w=y.productName)==null?void 0:w.toLowerCase().includes(F))||((C=y.producerName)==null?void 0:C.toLowerCase().includes(F))))return!1}return!0}):[],[h,e,r]),m=y=>{switch(y){case"to_buy":return n.jsxs(Yt,{className:"bg-red-100 text-red-800 border-red-300 text-base px-3 py-1",children:[n.jsx(jn,{className:"h-4 w-4 mr-1.5"})," Para comprar"]});case"purchased":return n.jsxs(Yt,{className:"bg-yellow-100 text-yellow-800 border-yellow-300 text-base px-3 py-1",children:[n.jsx(gr,{className:"h-4 w-4 mr-1.5"})," Comprado"]});case"in_store":return n.jsxs(Yt,{className:"bg-green-100 text-green-800 border-green-200 text-base px-3 py-1",children:[n.jsx(Z4,{className:"h-4 w-4 mr-1.5"})," Na loja"]});default:return n.jsxs(Yt,{className:"bg-red-100 text-red-800 border-red-300 text-base px-3 py-1",children:[n.jsx(jn,{className:"h-4 w-4 mr-1.5"})," Para comprar"]})}},x=y=>{if(!y.deliveryDeadline)return null;const j=new Date(y.deliveryDeadline),b=new Date,w=Math.ceil((j.getTime()-b.getTime())/(1e3*60*60*24));return w<0?{text:`Atrasado ${Math.abs(w)} dias`,color:"text-red-600 bg-red-50",icon:Ll}:w<=3?{text:`Prazo: ${w} dias`,color:"text-orange-600 bg-orange-50",icon:Un}:{text:`Prazo: ${j.toLocaleDateString("pt-BR")}`,color:"text-gray-600 bg-gray-50",icon:Un}},g=B.useMemo(()=>{const y=new Map;return p.forEach(j=>{const b=y.get(j.orderId)||[];b.push(j),y.set(j.orderId,b)}),y},[p]);return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Logstica Dropshipping"}),n.jsx("p",{className:"text-gray-500 mt-2",children:"Gerenciamento de compra e recebimento de produtos"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white border rounded-lg px-3 py-2 shadow-sm w-full sm:w-auto",children:[n.jsx(Fy,{className:"h-4 w-4 text-gray-400 shrink-0"}),n.jsxs($t,{value:r,onValueChange:a,children:[n.jsx(Mt,{className:"w-full sm:w-[220px] border-none focus:ring-0 shadow-none",children:n.jsx(Ht,{placeholder:"Status"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os Status"}),n.jsx(ge,{value:"delayed",children:"Atrasados"}),n.jsx(ge,{value:"to_buy",children:"Status: Aguardando Compra"}),n.jsx(ge,{value:"purchased",children:"Status: J Comprado"}),n.jsx(ge,{value:"in_store",children:"Status: Na Loja"})]})]})]}),n.jsxs("div",{className:"relative w-full sm:w-[300px]",children:[n.jsx(Ia,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar pedido, cliente...",value:e,onChange:y=>t(y.target.value),className:"pl-10"})]})]})]}),n.jsxs(Le,{children:[n.jsx(Tt,{className:"border-b bg-gray-50/30",children:n.jsxs(Ot,{className:"text-lg flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-gray-400"}),"Produtos Encontrados (",p.length,")"]})}),n.jsx(Re,{className:"p-0",children:f?n.jsxs("div",{className:"p-12 text-center text-gray-500",children:[n.jsx(Un,{className:"h-8 w-8 animate-spin mx-auto mb-3 opacity-20"}),"Carregando produtos..."]}):p.length===0?n.jsxs("div",{className:"p-12 text-center text-gray-500",children:[n.jsx(Ia,{className:"h-8 w-8 mx-auto mb-3 opacity-20"}),"Nenhum produto encontrado para o filtro selecionado"]}):n.jsx("div",{className:"divide-y",children:Array.from(g.entries()).map(([y,j])=>{const b=j[0],w=j.every(C=>C.purchaseStatus==="in_store");return n.jsxs("div",{className:"group",children:[n.jsxs("div",{className:`px-6 py-4 flex flex-col sm:flex-row sm:items-center justify-between gap-4 ${w?"bg-green-50/50":"bg-gray-50/50"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"bg-white p-2 rounded border shadow-sm flex items-center gap-3",children:[n.jsx("span",{className:"font-bold text-lg text-gray-900",children:b.orderNumber}),b.productCode&&n.jsx(Yt,{variant:"outline",className:"font-mono text-[10px] py-0 px-1.5 text-purple-600 border-purple-200 bg-purple-50",children:b.productCode})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[n.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),b.clientName]}),b.clientPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(ll,{className:"h-3 w-3"}),b.clientPhone]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Yt,{variant:"outline",className:"bg-white text-gray-600",children:[j.length," ",j.length>1?"itens":"item"]}),w&&n.jsxs(Yt,{className:"bg-green-600 text-white",children:[n.jsx(Bn,{className:"h-3 w-3 mr-1"})," Pronto para Produo"]})]})]}),n.jsx("div",{className:"divide-y bg-white",children:j.map(C=>{var E;const F=x(C);return n.jsxs("div",{className:"px-6 py-5 flex flex-col lg:flex-row lg:items-center justify-between gap-6 hover:bg-gray-50/50 transition-colors",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-2 bg-purple-50 rounded border border-purple-100 shrink-0",children:n.jsx(gr,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate max-w-[400px]",children:C.productName}),C.productCode&&n.jsx(Yt,{variant:"outline",className:"font-mono text-[10px] py-0 px-1.5 text-purple-600 border-purple-200 bg-purple-50",children:C.productCode})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-gray-500",children:[n.jsxs("span",{className:"bg-gray-100 px-2 rounded font-medium text-gray-700",children:["Qtd: ",Math.round(parseFloat(((E=C.quantity)==null?void 0:E.toString())||"0"))]}),n.jsxs("span",{className:"text-purple-600 font-medium",children:["Produtor: ",C.producerName]}),(C.productWidth||C.productHeight)&&n.jsxs("span",{className:"flex items-center gap-1.5 text-xs",children:[n.jsx(pye,{className:"h-3.5 w-3.5"}),C.productWidth&&`L:${C.productWidth}cm`,C.productHeight&&` A:${C.productHeight}cm`,C.productDepth&&` P:${C.productDepth}cm`]})]}),C.hasCustomization&&C.customizationDescription&&n.jsxs("div",{className:"mt-2 text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-md inline-block border border-blue-100",children:[n.jsx("strong",{children:"Personalizao:"})," ",C.customizationDescription]}),C.notes&&n.jsxs("p",{className:"text-xs text-amber-600 mt-1 italic",children:["Obs: ",C.notes]})]})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 shrink-0",children:[F&&n.jsxs("div",{className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full border ${F.color}`,children:[n.jsx(F.icon,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-medium",children:F.text})]}),n.jsx("div",{className:"w-[140px] flex justify-center",children:m(C.purchaseStatus)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0 hover:bg-gray-100",onClick:()=>{l(C),i(!0)},title:"Ver Detalhes",children:n.jsx(Ur,{className:"h-4.5 w-4.5 text-gray-500"})}),C.purchaseStatus==="pending"&&n.jsx(Z,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-[13px] h-9 px-4",onClick:()=>A(C.itemId,"to_buy"),disabled:c===C.itemId,children:c===C.itemId?"...":n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"h-3.5 w-3.5 mr-1.5"})," Para comprar"]})}),C.purchaseStatus==="to_buy"&&n.jsx(Z,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-[13px] h-9 px-4",onClick:()=>A(C.itemId,"purchased"),disabled:c===C.itemId,children:c===C.itemId?"...":n.jsxs(n.Fragment,{children:[n.jsx(gr,{className:"h-3.5 w-3.5 mr-1.5"})," Comprado"]})}),C.purchaseStatus==="purchased"&&n.jsx(Z,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-xs h-9 px-4",onClick:()=>A(C.itemId,"in_store"),disabled:c===C.itemId,children:c===C.itemId?"...":n.jsxs(n.Fragment,{children:[n.jsx(Z4,{className:"h-3.5 w-3.5 mr-2"})," Na loja"]})}),C.purchaseStatus==="in_store"&&n.jsxs(Yt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 h-9 px-4",children:[n.jsx(Bn,{className:"h-3.5 w-3.5 mr-2"})," Na loja"]})]})]})]},C.itemId)})})]},y)})})})]}),n.jsx(rr,{open:s,onOpenChange:i,children:n.jsxs(Jt,{className:"max-w-lg",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Detalhes do Produto"}),n.jsxs(lr,{children:[o==null?void 0:o.orderNumber," - ",o==null?void 0:o.productName]})]}),o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pedido"}),n.jsx("p",{className:"font-medium",children:o.orderNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Cliente"}),n.jsx("p",{className:"font-medium",children:o.clientName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Produto"}),n.jsxs("p",{className:"font-medium",children:[o.productName,o.productCode&&n.jsx("span",{className:"ml-2 text-xs font-mono text-purple-600 bg-purple-50 px-1 rounded border border-purple-100",children:o.productCode})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Quantidade"}),n.jsx("p",{className:"font-medium",children:Math.round(parseFloat(((v=o.quantity)==null?void 0:v.toString())||"0"))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Produtor"}),n.jsx("p",{className:"font-medium text-purple-600",children:o.producerName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Status Atual"}),m(o.purchaseStatus)]})]}),(o.productWidth||o.productHeight||o.productDepth)&&n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1 font-medium",children:"Dimenses"}),n.jsxs("div",{className:"flex gap-4 text-sm",children:[o.productWidth&&n.jsxs("span",{children:[n.jsx("strong",{children:"L:"})," ",o.productWidth,"cm"]}),o.productHeight&&n.jsxs("span",{children:[n.jsx("strong",{children:"A:"})," ",o.productHeight,"cm"]}),o.productDepth&&n.jsxs("span",{children:[n.jsx("strong",{children:"P:"})," ",o.productDepth,"cm"]})]})]}),o.hasCustomization&&o.customizationDescription&&n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100 text-sm",children:[n.jsx("p",{className:"text-blue-700 font-semibold mb-1",children:"Personalizao"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.customizationDescription})]}),o.notes&&n.jsxs("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-100 text-sm",children:[n.jsx("p",{className:"text-amber-700 font-semibold mb-1",children:"Observaes"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.notes})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t mt-4",children:[o.purchaseStatus==="pending"&&n.jsx(Z,{className:"bg-red-600 hover:bg-red-700 flex-1 h-10",onClick:()=>{A(o.itemId,"to_buy"),i(!1)},disabled:c===o.itemId,children:c===o.itemId?"...":n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"h-4 w-4 mr-2"}),' Marcar "Para comprar"']})}),o.purchaseStatus==="to_buy"&&n.jsx(Z,{className:"bg-yellow-600 hover:bg-yellow-700 flex-1 h-10",onClick:()=>{A(o.itemId,"purchased"),i(!1)},disabled:c===o.itemId,children:c===o.itemId?"...":n.jsxs(n.Fragment,{children:[n.jsx(gr,{className:"h-4 w-4 mr-2"}),' Marcar "Comprado"']})}),o.purchaseStatus==="purchased"&&n.jsx(Z,{className:"bg-green-600 hover:bg-green-700 flex-1 h-10",onClick:()=>{A(o.itemId,"in_store"),i(!1)},disabled:c===o.itemId,children:c===o.itemId?"...":n.jsxs(n.Fragment,{children:[n.jsx(Z4,{className:"h-4 w-4 mr-2"}),' Marcar "Na loja"']})})]})]})]})})]})}function sjt(){var Me;const{toast:e}=en(),[t,r]=B.useState(""),[a,s]=B.useState(""),[i,o]=B.useState("all");B.useEffect(()=>{const H=setTimeout(()=>{s(t),u(1)},500);return()=>clearTimeout(H)},[t]);const[l,c]=B.useState("all"),[d,u]=B.useState(1),[h,f]=B.useState(20),[A,p]=B.useState(!1),[m,x]=B.useState(!1),[g,v]=B.useState(null),[y,j]=B.useState(null),[b,w]=B.useState(0),[C,F]=B.useState(""),E=B.useRef(null),[L,N]=B.useState({name:"",description:"",category:"",basePrice:"",unit:"un",isActive:!0,weight:"",height:"",width:"",depth:"",imageLink:"",mainColor:"",secondaryColor:"",producerId:"internal",type:"internal"}),I=pt({queryKey:["/api/logistics/products",{page:d,limit:h,search:a||void 0,category:i!=="all"?i:void 0,producer:l!=="all"?l:void 0}],queryFn:async({queryKey:H})=>{const[,Oe]=H,Ee=new URLSearchParams;Oe.page&&Ee.append("page",Oe.page.toString()),Oe.limit&&Ee.append("limit",Oe.limit.toString()),Oe.search&&Ee.append("search",Oe.search),Oe.category&&Ee.append("category",Oe.category),Oe.producer&&Ee.append("producer",Oe.producer);const ee=await fetch(`/api/logistics/products?${Ee}`);if(!ee.ok)throw new Error("Failed to fetch products");return await ee.json()}}),M=pt({queryKey:["/api/producers"],queryFn:async()=>{const H=await fetch("/api/producers");if(!H.ok)throw new Error("Failed to fetch producers");return H.json()}}),O=jt({mutationFn:async H=>{const Oe=await fetch("/api/logistics/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!Oe.ok)throw new Error("Erro ao criar produto");return Oe.json()},onSuccess:()=>{e({title:"Sucesso",description:"Produto criado com sucesso!"}),ct.invalidateQueries({queryKey:["/api/logistics/products"]}),V(),p(!1)}}),k=jt({mutationFn:async({id:H,data:Oe})=>{const Ee=await fetch(`/api/logistics/products/${H}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe)});if(!Ee.ok)throw new Error("Erro ao atualizar produto");return Ee.json()},onSuccess:()=>{e({title:"Sucesso",description:"Produto atualizado com sucesso!"}),ct.invalidateQueries({queryKey:["/api/logistics/products"]}),V(),v(null),p(!1)}}),P=jt({mutationFn:async H=>{const Oe=await fetch(`/api/logistics/products/${H}`,{method:"DELETE"});if(!Oe.ok)throw new Error("Erro ao deletar produto");return Oe.json()},onSuccess:()=>{e({title:"Sucesso",description:"Produto deletado com sucesso!"}),ct.invalidateQueries({queryKey:["/api/logistics/products"]})}}),R=jt({mutationFn:async({file:H,producerId:Oe})=>{if(H.size>50*1024*1024)throw new Error("Arquivo muito grande. O limite  de 50MB.");const Ee=new FormData;Ee.append("file",H),Ee.append("producerId",Oe);const ee=await fetch("/api/logistics/products/import",{method:"POST",body:Ee}),st=await ee.json();if(!ee.ok)throw new Error(st.error||"Erro ao importar produtos");return st},onSuccess:H=>{const Oe=H.errors&&H.errors.length>0;e({title:Oe?"Importao Concluda com Avisos":"Importao Concluda",description:Oe?`${H.imported} de ${H.total} produtos importados. ${H.errors.length} produtos tiveram problemas.`:`${H.imported} produtos importados com sucesso para o produtor!`}),ct.invalidateQueries({queryKey:["/api/logistics/products"]}),x(!1),j(null),w(0),F(""),Oe&&console.log("Import errors:",H.errors)},onError:H=>{w(0),e({title:"Erro na Importao",description:H.message,variant:"destructive"})}}),V=()=>{N({name:"",description:"",category:"",basePrice:"",unit:"un",isActive:!0,weight:"",height:"",width:"",depth:"",imageLink:"",mainColor:"",secondaryColor:"",producerId:"internal",type:"internal"})},D=H=>{v(H),N({...H,producerId:H.producerId||"internal",type:H.type||(H.producerId==="internal"?"internal":"external")}),p(!0)},Y=H=>{confirm("Tem certeza que deseja deletar este produto?")&&P.mutate(H)},ne=H=>{H.preventDefault();const Oe={...L,producerId:L.producerId||"internal",type:L.producerId==="internal"||!L.producerId?"internal":"external"};g?k.mutate({id:g.id,data:Oe}):O.mutate(Oe)},S=()=>{y&&C&&(w(25),R.mutate({file:y,producerId:C}))},z=H=>{var Ee;const Oe=(Ee=H.target.files)==null?void 0:Ee[0];if(Oe){if(!Oe.type.includes("json")&&!Oe.name.toLowerCase().endsWith(".json")){e({title:"Arquivo Invlido",description:"Por favor, selecione um arquivo JSON (.json).",variant:"destructive"});return}if(Oe.size>50*1024*1024){e({title:"Arquivo Muito Grande",description:"O arquivo deve ter no mximo 50MB.",variant:"destructive"});return}if(Oe.size===0){e({title:"Arquivo Vazio",description:"O arquivo JSON no pode estar vazio.",variant:"destructive"});return}j(Oe),w(10)}},Q=I.data,W=(Q==null?void 0:Q.products)||[],U=(Q==null?void 0:Q.total)||0,re=(Q==null?void 0:Q.totalPages)||1,de=M.data||[],ae=W.map(H=>H.category).filter(H=>typeof H=="string"&&H!==""),Ae=["all",...Array.from(new Set(ae))];return I.isLoading?n.jsx("div",{className:"container mx-auto p-6",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Produtos"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie produtos internos e de produtores terceirizados"})]})}),n.jsxs(Le,{className:"shadow-xl border-0",children:[n.jsx(Tt,{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-t-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(Ot,{className:"text-xl font-semibold",children:"Catlogo de Produtos - Logstica"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(rr,{open:m,onOpenChange:x,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{variant:"secondary",className:"bg-white/10 text-white hover:bg-white/20 border-white/20",children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar JSON"]})}),n.jsxs(Jt,{className:"max-w-md",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Importar Produtos para Produtor"}),n.jsx(lr,{children:"Faa upload de um arquivo JSON e associe ao produtor"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producer-select",children:"Produtor Responsvel"}),n.jsxs($t,{value:C,onValueChange:F,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o produtor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"internal",children:"Produtos Internos da Empresa"}),de==null?void 0:de.map(H=>n.jsxs(ge,{value:H.id,children:[H.name," - ",H.specialty]},H.id))]})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"file",children:"Arquivo JSON"}),n.jsx("input",{ref:E,type:"file",accept:".json,application/json",onChange:z,className:"w-full mt-1 p-2 border rounded-md"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Selecione um arquivo JSON com a estrutura de produtos"})]}),y&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm text-green-600",children:["Arquivo selecionado: ",y.name]}),b>0&&n.jsx(f8,{value:b,className:"w-full"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Z,{variant:"outline",onClick:()=>{x(!1),j(null),w(0),F("")},children:"Cancelar"}),n.jsx(Z,{onClick:S,disabled:!y||!C||R.isPending,children:R.isPending?"Importando...":"Importar"})]})]})]})]}),n.jsxs(rr,{open:A,onOpenChange:H=>{p(H),H||(v(null),V())},children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"bg-white text-orange-600 hover:bg-orange-50",onClick:()=>{V(),N(H=>({...H,producerId:"internal",type:"internal"})),v(null)},children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Produto Interno"]})}),n.jsxs(Jt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:g?"Editar Produto":"Novo Produto Interno"}),n.jsx(lr,{children:g?"Edite as informaes do produto":"Cadastre um novo produto interno da empresa"})]}),n.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[n.jsxs(mu,{defaultValue:"basic",className:"w-full",children:[n.jsxs(vd,{className:"grid w-full grid-cols-3",children:[n.jsx(Vn,{value:"basic",children:"Informaes Bsicas"}),n.jsx(Vn,{value:"details",children:"Detalhes"}),n.jsx(Vn,{value:"appearance",children:"Aparncia"})]}),n.jsxs(Kn,{value:"basic",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"name",children:"Nome do Produto"}),n.jsx(ie,{id:"name",value:L.name,onChange:H=>N({...L,name:H.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"category",children:"Categoria"}),n.jsx(ie,{id:"category",value:L.category,onChange:H=>N({...L,category:H.target.value})})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"description",children:"Descrio"}),n.jsx(Jn,{id:"description",value:L.description,onChange:H=>N({...L,description:H.target.value}),rows:3})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"basePrice",children:"Preo (R$)"}),n.jsx(ie,{id:"basePrice",type:"number",step:"0.01",value:L.basePrice,onChange:H=>N({...L,basePrice:H.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"unit",children:"Unidade"}),n.jsxs($t,{value:L.unit,onValueChange:H=>N({...L,unit:H}),children:[n.jsx(Mt,{children:n.jsx(Ht,{})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"un",children:"Unidade"}),n.jsx(ge,{value:"m",children:"Metro"}),n.jsx(ge,{value:"m2",children:"Metro"}),n.jsx(ge,{value:"m3",children:"Metro"}),n.jsx(ge,{value:"kg",children:"Quilograma"}),n.jsx(ge,{value:"l",children:"Litro"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[n.jsx(tl,{checked:L.isActive,onCheckedChange:H=>N({...L,isActive:H})}),n.jsx(fe,{children:"Produto Ativo"})]})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"producerId",children:"Produtor Responsvel"}),n.jsxs($t,{value:L.producerId,onValueChange:H=>N({...L,producerId:H,type:H==="internal"?"internal":"external"}),children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Selecione o produtor"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"internal",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(gr,{className:"h-4 w-4 text-blue-500 mr-2"}),"Produtos Internos da Empresa"]})}),de==null?void 0:de.map(H=>n.jsx(ge,{value:H.id,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 text-purple-500 mr-2"}),H.name," - ",H.specialty]})},H.id))]})]})]}),n.jsxs("div",{className:`p-3 rounded-lg border ${L.producerId==="internal"?"bg-blue-50":"bg-purple-50"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[L.producerId==="internal"?n.jsx(gr,{className:"h-4 w-4 text-blue-600"}):n.jsx(En,{className:"h-4 w-4 text-purple-600"}),n.jsx(fe,{className:`font-medium ${L.producerId==="internal"?"text-blue-700":"text-purple-700"}`,children:"Tipo de Produto"})]}),n.jsx("p",{className:`text-sm ${L.producerId==="internal"?"text-blue-600":"text-purple-600"}`,children:L.producerId==="internal"?"Este produto ser cadastrado como PRODUTO INTERNO da empresa":`Este produto ser associado ao produtor ${((Me=de==null?void 0:de.find(H=>H.id===L.producerId))==null?void 0:Me.name)||"selecionado"}`})]})]}),n.jsxs(Kn,{value:"details",className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"weight",children:"Peso (kg)"}),n.jsx(ie,{id:"weight",type:"number",step:"0.01",value:L.weight,onChange:H=>N({...L,weight:H.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"height",children:"Altura (cm)"}),n.jsx(ie,{id:"height",type:"number",step:"0.1",value:L.height,onChange:H=>N({...L,height:H.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"width",children:"Largura (cm)"}),n.jsx(ie,{id:"width",type:"number",step:"0.1",value:L.width,onChange:H=>N({...L,width:H.target.value})})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"depth",children:"Profundidade (cm)"}),n.jsx(ie,{id:"depth",type:"number",step:"0.1",value:L.depth,onChange:H=>N({...L,depth:H.target.value})})]})]})]}),n.jsxs(Kn,{value:"appearance",className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"imageLink",children:"Link da Imagem"}),n.jsx(ie,{id:"imageLink",type:"url",value:L.imageLink,onChange:H=>N({...L,imageLink:H.target.value}),placeholder:"https://exemplo.com/imagem.jpg"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"mainColor",children:"Cor Principal"}),n.jsx(ie,{id:"mainColor",value:L.mainColor,onChange:H=>N({...L,mainColor:H.target.value}),placeholder:"Ex: Branco, Marrom, etc."})]}),n.jsxs("div",{children:[n.jsx(fe,{htmlFor:"secondaryColor",children:"Cor Secundria"}),n.jsx(ie,{id:"secondaryColor",value:L.secondaryColor,onChange:H=>N({...L,secondaryColor:H.target.value}),placeholder:"Ex: Preto, Dourado, etc."})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),n.jsxs(Z,{type:"submit",disabled:O.isPending||k.isPending,className:"bg-gradient-to-r from-orange-600 to-red-600 text-white",children:[g?"Atualizar":"Criar"," Produto"]})]})]})]})]})]})]})}),n.jsxs(Re,{className:"p-6",children:[n.jsxs("div",{className:"flex gap-4 mb-6",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ia,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx(ie,{placeholder:"Buscar produtos...",value:t,onChange:H=>r(H.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"min-w-48",children:n.jsxs($t,{value:i,onValueChange:o,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todas as categorias"})}),n.jsx(Ut,{children:Ae.map(H=>n.jsx(ge,{value:H,children:H==="all"?"Todas as categorias":H},H))})]})}),n.jsx("div",{className:"min-w-48",children:n.jsxs($t,{value:l,onValueChange:c,children:[n.jsx(Mt,{children:n.jsx(Ht,{placeholder:"Todos os produtores"})}),n.jsxs(Ut,{children:[n.jsx(ge,{value:"all",children:"Todos os produtores"}),n.jsx(ge,{value:"internal",children:"Produtos Internos"}),de==null?void 0:de.map(H=>n.jsx(ge,{value:H.id,children:H.name},H.id))]})]})})]}),W.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum produto encontrado"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Comece adicionando produtos internos ou importando de produtores."}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsxs(Z,{onClick:()=>p(!0),children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Produto Interno"]}),n.jsxs(Z,{variant:"outline",onClick:()=>x(!0),children:[n.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Importar JSON"]})]})]}):n.jsxs(T0,{children:[n.jsx(I0,{children:n.jsxs(nl,{children:[n.jsx(bn,{children:"Imagem"}),n.jsx(bn,{children:"Cdigo"}),n.jsx(bn,{children:"Produto"}),n.jsx(bn,{children:"Categoria"}),n.jsx(bn,{children:"Tipo/Produtor"}),n.jsx(bn,{children:"Preo"}),n.jsx(bn,{children:"Status"}),n.jsx(bn,{className:"text-right",children:"Aes"})]})}),n.jsx(O0,{children:W.map(H=>n.jsxs(nl,{children:[n.jsx(fn,{children:H.imageLink?n.jsx("img",{src:H.imageLink,alt:H.name,className:"w-12 h-12 object-cover rounded",onError:Oe=>{Oe.currentTarget.style.display="none"}}):n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center",children:n.jsx(gr,{className:"h-6 w-6 text-gray-400"})})}),n.jsx(fn,{children:n.jsx(Yt,{variant:"outline",className:"font-mono bg-purple-50 text-purple-700 border-purple-200",children:H.code||"S/C"})}),n.jsx(fn,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:H.name}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:H.description})]})}),n.jsx(fn,{children:n.jsx(Yt,{variant:"outline",children:H.category||"Sem categoria"})}),n.jsx(fn,{children:H.producerId==="internal"?n.jsxs("div",{className:"flex items-center",children:[n.jsx(gr,{className:"h-4 w-4 text-blue-500 mr-1"}),n.jsx(Yt,{className:"bg-blue-100 text-blue-800",children:"Interno"})]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{className:"h-4 w-4 text-purple-500 mr-1"}),n.jsx(Yt,{variant:"secondary",children:H.producerName})]})}),n.jsxs(fn,{children:[n.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(H.basePrice||"0").toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["por ",H.unit]})]}),n.jsx(fn,{children:n.jsx(Yt,{variant:H.isActive?"default":"secondary",children:H.isActive?"Ativo":"Inativo"})}),n.jsx(fn,{className:"text-right",children:n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>D(H),children:n.jsx(Mn,{className:"h-4 w-4"})}),n.jsx(Z,{size:"sm",variant:"outline",onClick:()=>Y(H.id),children:n.jsx(Bs,{className:"h-4 w-4"})})]})})]},H.id))})]}),re>1&&n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",(d-1)*h+1," a ",Math.min(d*h,U)," de ",U," produtos"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>u(Math.max(1,d-1)),disabled:d===1,children:"Anterior"}),n.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(5,re)},(H,Oe)=>{const Ee=Oe+1;return n.jsx(Z,{variant:d===Ee?"default":"outline",size:"sm",onClick:()=>u(Ee),className:"w-8 h-8 p-0",children:Ee},Ee)}),re>5&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),n.jsx(Z,{variant:d===re?"default":"outline",size:"sm",onClick:()=>u(re),className:"w-8 h-8 p-0",children:re})]})]}),n.jsx(Z,{variant:"outline",size:"sm",onClick:()=>u(Math.min(re,d+1)),disabled:d===re,children:"Prxima"})]})]})]})]})]})}const ijt=Ge.object({name:Ge.string().min(2,"Nome deve ter pelo menos 2 caracteres"),email:Ge.string().email("Email invlido"),phone:Ge.string().min(10,"Telefone invlido"),specialty:Ge.string().min(2,"Especialidade  obrigatria"),address:Ge.string().min(5,"Endereo  obrigatrio"),password:Ge.string().min(6,"Senha deve ter pelo menos 6 caracteres")});function ojt(){var j,b;const[e,t]=B.useState(!1),[r,a]=B.useState(""),[s,i]=B.useState(null),[o,l]=B.useState(!1),[c,d]=B.useState(!1),{toast:u}=en(),h=()=>{const w=Date.now().toString().slice(-8),C=Math.random().toString(36).substring(2,8).toUpperCase();return`PRO${w}${C}`};B.useEffect(()=>{e&&a(h())},[e]);const{data:f,isLoading:A}=pt({queryKey:["/api/producers"],queryFn:async()=>{const w=await fetch("/api/producers");if(!w.ok)throw new Error("Failed to fetch producers");return w.json()}}),{data:p}=pt({queryKey:["/api/logistics/producer-stats"],queryFn:async()=>{const w=await fetch("/api/logistics/producer-stats");if(!w.ok)throw new Error("Failed to fetch producer stats");return w.json()}}),{data:m}=pt({queryKey:["/api/products/producer",s],queryFn:async()=>{if(!s)return[];const w=await fetch(`/api/products/producer/${s}`);if(!w.ok)throw new Error("Failed to fetch producer products");return w.json()},enabled:!!s&&o}),{data:x}=pt({queryKey:["/api/production-orders/producer",s],queryFn:async()=>{if(!s)return[];const w=await fetch(`/api/production-orders/producer/${s}`);if(!w.ok)throw new Error("Failed to fetch producer orders");return w.json()},enabled:!!s&&c}),g=Pa({resolver:ka(ijt),defaultValues:{name:"",email:"",phone:"",specialty:"",address:"",password:""}}),v=jt({mutationFn:async w=>{const C={...w,username:r,userCode:r};console.log("Creating producer with data:",C);const F=await fetch("/api/producers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!F.ok){const E=await F.json();throw console.error("Error creating producer:",E),new Error(E.error||"Erro ao criar produtor")}return F.json()},onSuccess:w=>{ct.invalidateQueries({queryKey:["/api/producers"]}),ct.invalidateQueries({queryKey:["/api/logistics/producer-stats"]}),t(!1),g.reset(),u({title:" Produtor Cadastrado com Sucesso!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",r]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Senha:"})," ",w.password]}),n.jsx("p",{className:"text-xs opacity-75",children:"O produtor pode usar essas credenciais para fazer login"})]}),duration:1e4}),console.log("Producer created successfully:",w)},onError:w=>{console.error("Producer creation failed:",w),u({title:"Erro",description:w.message||"Erro ao criar produtor",variant:"destructive"})}}),y=w=>{v.mutate(w)};return A?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),n.jsx("div",{className:"h-64 bg-gray-200 rounded-xl"})]})}):n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Produtores Terceirizados"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie sua rede de produtores e associe produtos"})]}),n.jsxs(rr,{open:e,onOpenChange:t,children:[n.jsx(qn,{asChild:!0,children:n.jsxs(Z,{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Novo Produtor"]})}),n.jsxs(Jt,{className:"sm:max-w-[425px]",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Cadastrar Novo Produtor"}),n.jsx(lr,{children:"Adicione um novo produtor  sua rede de terceirizados"})]}),n.jsx(ya,{...g,children:n.jsxs("form",{onSubmit:g.handleSubmit(y),className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Je,{className:"text-blue-700",children:"Cdigo de Login do Produtor"}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx(Yn,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-mono font-bold text-blue-800 bg-white px-2 py-1 rounded border",children:r})]}),n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[n.jsx("strong",{children:"Username para login:"})," ",r]})]}),n.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>a(h()),className:"border-blue-300 text-blue-600 hover:bg-blue-100",title:"Gerar novo cdigo",children:n.jsx(oi,{className:"h-4 w-4"})})]})}),n.jsx(tt,{control:g.control,name:"name",render:({field:w})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Nome/Empresa *"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Marcenaria Santos",...w})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:g.control,name:"password",render:({field:w})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Senha de Acesso *"}),n.jsx(et,{children:n.jsx(ie,{type:"password",placeholder:"Digite uma senha",...w})}),n.jsx(rt,{}),n.jsx("p",{className:"text-xs text-gray-600",children:"Senha que o produtor usar para acessar o sistema"})]})}),n.jsx(tt,{control:g.control,name:"email",render:({field:w})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Email"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"contato@marcenariasantos.com",...w})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:g.control,name:"phone",render:({field:w})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Telefone"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"(11) 99999-9999",...w})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:g.control,name:"specialty",render:({field:w})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Especialidade"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Mveis sob medida",...w})}),n.jsx(rt,{})]})}),n.jsx(tt,{control:g.control,name:"address",render:({field:w})=>n.jsxs(Ze,{children:[n.jsx(Je,{children:"Endereo"}),n.jsx(et,{children:n.jsx(ie,{placeholder:"Rua Industrial, 456",...w})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),n.jsx(Z,{type:"submit",className:"bg-gradient-to-r from-orange-600 to-red-600 text-white",disabled:v.isPending,children:v.isPending?"Criando...":"Criar Produtor"})]})]})})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f==null?void 0:f.map(w=>{const C=p==null?void 0:p.find(F=>F.producerId===w.id);return n.jsx(Le,{className:"hover:shadow-lg transition-shadow",children:n.jsxs(Re,{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-600 to-red-600 rounded-lg flex items-center justify-center mr-3",children:n.jsx(En,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),n.jsx("p",{className:"text-sm text-gray-600",children:w.specialty})]})]})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ll,{className:"h-4 w-4 mr-2"}),w.phone]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Cm,{className:"h-4 w-4 mr-2"}),w.address]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(C==null?void 0:C.totalProducts)||0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Produtos"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.activeOrders||0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ativas"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.completedOrders||0}),n.jsx("p",{className:"text-xs text-gray-500",children:"Concludas"})]})]}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mt-4 border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Cdigo de Login"}),n.jsx("p",{className:"font-mono font-bold text-gray-900",children:w.username})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Z,{variant:"outline",size:"sm",title:"Ver produtos do produtor",onClick:()=>{i(w.id),l(!0)},children:n.jsx(ZS,{className:"h-4 w-4"})}),n.jsx(Z,{variant:"outline",size:"sm",title:"Ver pedidos em produo",onClick:()=>{i(w.id),d(!0)},children:n.jsx(io,{className:"h-4 w-4"})})]})]})}),C&&C.totalProducts>0&&n.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Catlogo:"}),n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(ZS,{className:"h-4 w-4 mr-1"}),n.jsxs("span",{className:"font-medium",children:[C.activeProducts," ativos de ",C.totalProducts]})]})]})]})},w.id)})}),(f==null?void 0:f.length)===0&&n.jsx(Le,{children:n.jsxs(Re,{className:"p-12 text-center",children:[n.jsx(En,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Nenhum produtor cadastrado"}),n.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Cadastre produtores terceirizados para poder importar seus catlogos de produtos"}),n.jsx(Z,{onClick:()=>t(!0),className:"bg-gradient-to-r from-orange-600 to-red-600 text-white",children:"Cadastrar Primeiro Produtor"})]})}),n.jsx(rr,{open:o,onOpenChange:w=>{l(w),w||i(null)},children:n.jsxs(Jt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Produtos do Produtor"}),n.jsx(lr,{children:s&&((j=f==null?void 0:f.find(w=>w.id===s))==null?void 0:j.name)})]}),n.jsx("div",{className:"space-y-4",children:m&&m.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(w=>n.jsx(Le,{className:"hover:shadow-md transition-shadow",children:n.jsxs(Re,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description})]}),n.jsx(gr,{className:"h-6 w-6 text-gray-400 flex-shrink-0 ml-2"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Preo:"}),n.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",parseFloat(w.price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Categoria:"}),n.jsx("p",{className:"font-medium",children:w.category||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Dimenses:"}),n.jsx("p",{className:"font-medium text-xs",children:w.width&&w.height&&w.depth?`${w.width}${w.height}${w.depth}cm`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Status:"}),n.jsx("p",{className:`font-medium text-xs ${w.isActive?"text-green-600":"text-red-600"}`,children:w.isActive?"Ativo":"Inativo"})]})]})]})},w.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado para este produtor"})]})})]})}),n.jsx(rr,{open:c,onOpenChange:w=>{d(w),w||i(null)},children:n.jsxs(Jt,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(Zt,{children:[n.jsx(er,{children:"Pedidos em Produo"}),n.jsx(lr,{children:s&&((b=f==null?void 0:f.find(w=>w.id===s))==null?void 0:b.name)})]}),n.jsx("div",{className:"space-y-4",children:x&&x.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pedido"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prazo"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.orderNumber}),n.jsxs("div",{className:"text-xs text-gray-500",children:["#",w.id.slice(-6)]})]}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:w.clientName}),n.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:w.product}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w.status==="ready"?"bg-green-100 text-green-800":w.status==="production"?"bg-blue-100 text-blue-800":w.status==="accepted"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:w.status==="ready"?"Pronto":w.status==="production"?"Em Produo":w.status==="accepted"?"Aceito":w.status})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:w.deadline?new Date(w.deadline).toLocaleDateString("pt-BR"):"N/A"}),n.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",parseFloat(w.producerValue||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},w.id))})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(io,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum pedido encontrado para este produtor"})]})})]})})]})}const ljt=B.lazy(()=>Jw(()=>import("./fix-commissions-DhDRiyFY.js"),[]));function cjt(){const[e,t]=B.useState(null),[r,a]=B.useState(!0);Hf(),B.useEffect(()=>{s()},[]);const s=async()=>{try{const i=localStorage.getItem("token");if(console.log("Checking auth with token:",(i==null?void 0:i.substring(0,20))+"..."),!i){console.log("No token found"),a(!1);return}const o=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${i}`}});if(console.log("Auth response status:",o.status),o.ok){const l=await o.json();console.log("Auth verification successful:",l.user.username,l.user.role),t(l.user)}else console.log("Auth verification failed"),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(i){console.error("Auth verification error:",i),localStorage.removeItem("token"),localStorage.removeItem("user")}finally{a(!1)}};return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):n.jsx(Wge,{client:ct,children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(B.Suspense,{fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}),children:n.jsxs(g$,{children:[n.jsx(hr,{path:"/login",component:s9}),n.jsx(hr,{path:"/clientes",component:I2e}),n.jsx(hr,{path:"/admin/tv-dashboard",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(wY,{})})}),n.jsx(hr,{path:"/dashtv",component:()=>n.jsx($r,{requiredRoles:["dashtv","admin"],children:n.jsx(wY,{})})}),n.jsx($r,{children:n.jsx(D2e,{children:n.jsxs(g$,{children:[n.jsx(hr,{path:"/",component:O2e}),n.jsx(hr,{path:"/admin",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(w9,{})})}),n.jsx(hr,{path:"/admin/dashboard",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(w9,{})})}),n.jsx(hr,{path:"/admin/orders",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(b9,{})})}),n.jsx(hr,{path:"/admin/budgets",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(qz,{})})}),n.jsx(hr,{path:"/admin/budget-approvals",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(jbt,{})})}),n.jsx(hr,{path:"/admin/clients",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(Wz,{})})}),n.jsx(hr,{path:"/admin/vendors",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(Gz,{})})}),n.jsx(hr,{path:"/admin/branches",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(kY,{})})}),n.jsx(hr,{path:"/admin/partners",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(rV,{})})}),n.jsx(hr,{path:"/admin/producers",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(Xz,{})})}),n.jsx(hr,{path:"/admin/logistics",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(Yz,{})})}),n.jsx(hr,{path:"/admin/products",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(eV,{})})}),n.jsx(hr,{path:"/admin/settings",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(tV,{})})}),n.jsx(hr,{path:"/admin/pricing",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(nke,{})})}),n.jsx(hr,{path:"/admin/commission-management",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(oke,{})})}),n.jsx(hr,{path:"/admin/commission-settings",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(cke,{})})}),n.jsx(hr,{path:"/admin/fix-commissions",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(ljt,{})})}),n.jsx(hr,{path:"/admin/users",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(Bke,{})})}),n.jsx(hr,{path:"/admin/reports",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(vX,{})})}),n.jsx(hr,{path:"/admin/producer-payments",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(ybt,{})})}),n.jsx(hr,{path:"/admin/finance",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(wbt,{})})}),n.jsx(hr,{path:"/admin/customizations",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(PY,{})})}),n.jsx(hr,{path:"/admin/logs",component:()=>n.jsx($r,{requiredRoles:["admin"],children:n.jsx(TY,{})})}),n.jsx(hr,{path:"/vendor/dashboard",component:M2e}),n.jsx(hr,{path:"/vendor/orders",component:Nbt}),n.jsx(hr,{path:"/vendor/budgets",component:Cbt}),n.jsx(hr,{path:"/vendor/clients",component:_bt}),n.jsx(hr,{path:"/vendor/products",component:Ebt}),n.jsx(hr,{path:"/vendor/commissions",component:Bbt}),n.jsx(hr,{path:"/vendor/quote-requests",component:kbt}),n.jsx(hr,{path:"/vendor/logs",component:B.lazy(()=>Jw(()=>import("./logs-DOcHQa8E.js"),[]))}),n.jsx(hr,{path:"/client/dashboard",component:U2e}),n.jsx(hr,{path:"/client/products",component:Dbt}),n.jsx(hr,{path:"/client/budgets",component:Obt}),n.jsx(hr,{path:"/client/orders",component:Ibt}),n.jsx(hr,{path:"/client/order/:orderId/timeline",component:Rbt}),n.jsx(hr,{path:"/client/profile",component:Mbt}),n.jsx(hr,{path:"/producer/dashboard",component:Q2e}),n.jsx(hr,{path:"/producer/orders",component:Ubt}),n.jsx(hr,{path:"/producer/order/:id",component:Qbt}),n.jsx(hr,{path:"/producer/production-dashboard",component:$bt}),n.jsx(hr,{path:"/producer/profile-settings",component:Kbt}),n.jsx(hr,{path:"/producer/receivables",component:qbt}),n.jsx(hr,{path:"/partner/dashboard",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx($2e,{})})}),n.jsx(hr,{path:"/partner/commission-management",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(Wbt,{})})}),n.jsx(hr,{path:"/partner/orders",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(b9,{})})}),n.jsx(hr,{path:"/partner/budgets",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(qz,{})})}),n.jsx(hr,{path:"/partner/clients",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(Wz,{})})}),n.jsx(hr,{path:"/partner/vendors",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(Gz,{})})}),n.jsx(hr,{path:"/partner/producers",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(Xz,{})})}),n.jsx(hr,{path:"/partner/products",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(eV,{})})}),n.jsx(hr,{path:"/partner/branches",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(kY,{})})}),n.jsx(hr,{path:"/partner/partners",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(rV,{})})}),n.jsx(hr,{path:"/partner/logistics",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(Yz,{})})}),n.jsx(hr,{path:"/partner/customizations",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(PY,{})})}),n.jsx(hr,{path:"/partner/settings",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(tV,{})})}),n.jsx(hr,{path:"/partner/reports",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(vX,{})})}),n.jsx(hr,{path:"/partner/logs",component:()=>n.jsx($r,{requiredRoles:["admin","partner"],children:n.jsx(TY,{})})}),n.jsx(hr,{path:"/finance",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(Gbt,{})})}),n.jsx(hr,{path:"/finance/receivables",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(Xbt,{})})}),n.jsx(hr,{path:"/finance/payables",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(Ybt,{})})}),n.jsx(hr,{path:"/finance/expenses",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(Zbt,{})})}),n.jsx(hr,{path:"/finance/payments",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(Jbt,{})})}),n.jsx(hr,{path:"/finance/commission-payouts",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(ejt,{})})}),n.jsx(hr,{path:"/finance/reconciliation",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(tjt,{})})}),n.jsx(hr,{path:"/finance/estornos",component:()=>n.jsx($r,{requiredRoles:["admin","finance","partner"],children:n.jsx(rjt,{})})}),n.jsx(hr,{path:"/logistics/dashboard",component:()=>n.jsx($r,{requiredRoles:["admin","logistics"],children:n.jsx(mT,{})})}),n.jsx(hr,{path:"/logistics/paid-orders",component:()=>n.jsx($r,{requiredRoles:["admin","logistics"],children:n.jsx(ajt,{})})}),n.jsx(hr,{path:"/logistics/production-tracking",component:()=>n.jsx($r,{requiredRoles:["admin","logistics"],children:n.jsx(mT,{})})}),n.jsx(hr,{path:"/logistics/shipments",component:()=>n.jsx($r,{requiredRoles:["admin","logistics"],children:n.jsx(mT,{})})}),n.jsx(hr,{path:"/logistics/products",component:()=>n.jsx($r,{requiredRoles:["admin","logistics"],children:n.jsx(sjt,{})})}),n.jsx(hr,{path:"/logistics/producers",component:()=>n.jsx($r,{requiredRoles:["admin","logistics"],children:n.jsx(ojt,{})})}),n.jsx(hr,{component:L2e})]})})}),n.jsx(hr,{path:"/:rest*",component:s9})]})}),n.jsx(n1e,{})]})})}nee(document.getElementById("root")).render(n.jsx(cjt,{}));export{Rp as A,Z as B,Le as C,ie as I,fe as L,oi as R,Ia as S,Ll as T,Yn as U,va as _,eB as a,jt as b,mr as c,Tt as d,Ot as e,Re as f,Bn as g,pt as h,ps as i,n as j,$t as k,Mt as l,Ht as m,Ut as n,ge as o,Yt as p,_6 as q,B as r,mh as s,ej as t,en as u,JN as v,ua as w};
